var requirejs,require,define;(function(ba){function G(a){return"[object Function]"===K.call(a)}function H(a){return"[object Array]"===K.call(a)}function v(a,b){if(a){var c;for(c=0;c<a.length&&(!a[c]||!b(a[c],c,a));c+=1);}}function T(a,b){if(a){var c;for(c=a.length-1;-1<c&&(!a[c]||!b(a[c],c,a));c-=1);}}function t(a,b){return fa.call(a,b)}function m(a,b){return t(a,b)&&a[b]}function B(a,b){for(var c in a)if(t(a,c)&&b(a[c],c))break}function U(a,b,c,d){b&&B(b,function(b,e){if(c||!t(a,e))d&&"object"===typeof b&&b&&!H(b)&&!G(b)&&!(b instanceof RegExp)?(a[e]||(a[e]={}),U(a[e],b,c,d)):a[e]=b});return a}function u(a,b){return function(){return b.apply(a,arguments)}}function ca(a){throw a}function da(a){if(!a)return a;var b=ba;v(a.split("."),function(a){b=b[a]});return b}function C(a,b,c,d){b=Error(b+"\nhttp://requirejs.org/docs/errors.html#"+a);b.requireType=a;b.requireModules=d;c&&(b.originalError=c);return b}function ga(a){function b(a,b,c){var d,e,f,g,h,i,j,k,b=b&&b.split("/"),l=D.map,n=l&&l["*"];if(a){a=a.split("/");e=a.length-1;D.nodeIdCompat&&Q.test(a[e])&&(a[e]=a[e].replace(Q,""));"."===a[0].charAt(0)&&b&&(e=b.slice(0,b.length-1),a=e.concat(a));e=a;for(f=0;f<e.length;f++)if(g=e[f],"."===g)e.splice(f,1),f-=1;else if(".."===g&&!(0===f||1==f&&".."===e[2]||".."===e[f-1])&&0<f)e.splice(f-1,2),f-=2;a=a.join("/")}if(c&&l&&(b||n)){e=a.split("/");f=e.length;a:for(;0<f;f-=1){h=e.slice(0,f).join("/");if(b)for(g=b.length;0<g;g-=1)if(c=m(l,b.slice(0,g).join("/")))if(c=m(c,h)){d=c;i=f;break a}!j&&(n&&m(n,h))&&(j=m(n,h),k=f)}!d&&j&&(d=j,i=k);d&&(e.splice(0,i,d),a=e.join("/"))}return(d=m(D.pkgs,a))?d:a}function c(a){z&&v(document.getElementsByTagName("script"),function(b){if(b.getAttribute("data-requiremodule")===a&&b.getAttribute("data-requirecontext")===x.contextName)return b.parentNode.removeChild(b),!0})}function d(a){var b=m(D.paths,a);if(b&&H(b)&&1<b.length)return b.shift(),x.require.undef(a),x.makeRequire(null,{skipMap:!0})([a]),!0}function e(a){var b,c=a?a.indexOf("!"):-1;-1<c&&(b=a.substring(0,c),a=a.substring(c+1,a.length));return[b,a]}function f(a,c,d,f){var g,h,i=null,j=c?c.name:null,k=a,l=!0,n="";a||(l=!1,a="_@r"+(P+=1));a=e(a);i=a[0];a=a[1];i&&(i=b(i,j,f),h=m(K,i));a&&(i?n=h&&h.normalize?h.normalize(a,function(a){return b(a,j,f)}):-1===a.indexOf("!")?b(a,j,f):a:(n=b(a,j,f),a=e(n),i=a[0],n=a[1],d=!0,g=x.nameToUrl(n)));d=i&&!h&&!d?"_unnormalized"+(S+=1):"";return{prefix:i,name:n,parentMap:c,unnormalized:!!d,url:g,originalName:k,isDefine:l,id:(i?i+"!"+n:n)+d}}function h(a){var b=a.id,c=m(E,b);c||(c=E[b]=new x.Module(a));return c}function i(a,b,c){var d=a.id,e=m(E,d);if(t(K,d)&&(!e||e.defineEmitComplete))"defined"===b&&c(K[d]);else if(e=h(a),e.error&&"error"===b)c(e.error);else e.on(b,c)}function j(a,b){var c=a.requireModules,d=!1;if(b)b(a);else if(v(c,function(b){if(b=m(E,b))b.error=a,b.events.error&&(d=!0,b.emit("error",a))}),!d)g.onError(a)}function k(){R.length&&(ha.apply(J,[J.length,0].concat(R)),R=[])}function l(a){delete E[a];delete F[a]}function n(a,b,c){var d=a.map.id;a.error?a.emit("error",a.error):(b[d]=!0,v(a.depMaps,function(d,e){var f=d.id,g=m(E,f);g&&(!a.depMatched[e]&&!c[f])&&(m(b,f)?(a.defineDep(e,K[f]),a.check()):n(g,b,c))}),c[d]=!0)}function o(){var a,b,e=(a=1e3*D.waitSeconds)&&x.startTime+a<(new Date).getTime(),f=[],g=[],h=!1,i=!0;if(!s){s=!0;B(F,function(a){var j=a.map,k=j.id;if(a.enabled&&(j.isDefine||g.push(a),!a.error))if(!a.inited&&e)d(k)?h=b=!0:(f.push(k),c(k));else if(!a.inited&&(a.fetched&&j.isDefine)&&(h=!0,!j.prefix))return i=!1});if(e&&f.length)return a=C("timeout","Load timeout for modules: "+f,null,f),a.contextName=x.contextName,j(a);i&&v(g,function(a){n(a,{},{})});if((!e||b)&&h)if((z||ea)&&!A)A=setTimeout(function(){A=0;o()},50);s=!1}}function p(a){t(K,a[0])||h(f(a[0],null,!0)).init(a[1],a[2])}function q(a){var a=a.currentTarget||a.srcElement,b=x.onScriptLoad;a.detachEvent&&!Y?a.detachEvent("onreadystatechange",b):a.removeEventListener("load",b,!1);b=x.onScriptError;(!a.detachEvent||Y)&&a.removeEventListener("error",b,!1);return{node:a,id:a&&a.getAttribute("data-requiremodule")}}function r(){var a;for(k();J.length;){a=J.shift();if(null===a[0])return j(C("mismatch","Mismatched anonymous define() module: "+a[a.length-1]));p(a)}}var s,w,x,y,A,D={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},E={},F={},I={},J=[],K={},L={},O={},P=1,S=1;y={require:function(a){return a.require?a.require:a.require=x.makeRequire(a.map)},exports:function(a){a.usingExports=!0;if(a.map.isDefine)return a.exports?K[a.map.id]=a.exports:a.exports=K[a.map.id]={}},module:function(a){return a.module?a.module:a.module={id:a.map.id,uri:a.map.url,config:function(){return m(D.config,a.map.id)||{}},exports:a.exports||(a.exports={})}}};w=function(a){this.events=m(I,a.id)||{};this.map=a;this.shim=m(D.shim,a.id);this.depExports=[];this.depMaps=[];this.depMatched=[];this.pluginMaps={};this.depCount=0};w.prototype={init:function(a,b,c,d){d=d||{};if(!this.inited){this.factory=b;if(c)this.on("error",c);else this.events.error&&(c=u(this,function(a){this.emit("error",a)}));this.depMaps=a&&a.slice(0);this.errback=c;this.inited=!0;this.ignore=d.ignore;d.enabled||this.enabled?this.enable():this.check()}},defineDep:function(a,b){this.depMatched[a]||(this.depMatched[a]=!0,this.depCount-=1,this.depExports[a]=b)},fetch:function(){if(!this.fetched){this.fetched=!0;x.startTime=(new Date).getTime();var a=this.map;if(this.shim)x.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],u(this,function(){return a.prefix?this.callPlugin():this.load()}));else return a.prefix?this.callPlugin():this.load()}},load:function(){var a=this.map.url;L[a]||(L[a]=!0,x.load(this.map.id,a))},check:function(){if(this.enabled&&!this.enabling){var a,b,c=this.map.id;b=this.depExports;var d=this.exports,e=this.factory;if(this.inited)if(this.error)this.emit("error",this.error);else{if(!this.defining){this.defining=!0;if(1>this.depCount&&!this.defined){if(G(e)){if(this.events.error&&this.map.isDefine||g.onError!==ca)try{d=x.execCb(c,e,b,d)}catch(f){a=f}else d=x.execCb(c,e,b,d);this.map.isDefine&&void 0===d&&((b=this.module)?d=b.exports:this.usingExports&&(d=this.exports));if(a)return a.requireMap=this.map,a.requireModules=this.map.isDefine?[this.map.id]:null,a.requireType=this.map.isDefine?"define":"require",j(this.error=a)}else d=e;this.exports=d;if(this.map.isDefine&&!this.ignore&&(K[c]=d,g.onResourceLoad))g.onResourceLoad(x,this.map,this.depMaps);l(c);this.defined=!0}this.defining=!1;this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var a=this.map,c=a.id,d=f(a.prefix);this.depMaps.push(d);i(d,"defined",u(this,function(d){var e,k;k=m(O,this.map.id);var n=this.map.name,o=this.map.parentMap?this.map.parentMap.name:null,p=x.makeRequire(a.parentMap,{enableBuildCallback:!0});if(this.map.unnormalized){if(d.normalize&&(n=d.normalize(n,function(a){return b(a,o,!0)})||""),d=f(a.prefix+"!"+n,this.map.parentMap),i(d,"defined",u(this,function(a){this.init([],function(){return a},null,{enabled:!0,ignore:!0})})),k=m(E,d.id)){this.depMaps.push(d);if(this.events.error)k.on("error",u(this,function(a){this.emit("error",a)}));k.enable()}}else k?(this.map.url=x.nameToUrl(k),this.load()):(e=u(this,function(a){this.init([],function(){return a},null,{enabled:!0})}),e.error=u(this,function(a){this.inited=!0;this.error=a;a.requireModules=[c];B(E,function(a){0===a.map.id.indexOf(c+"_unnormalized")&&l(a.map.id)});j(a)}),e.fromText=u(this,function(b,d){var i=a.name,k=f(i),l=M;d&&(b=d);l&&(M=!1);h(k);t(D.config,c)&&(D.config[i]=D.config[c]);try{g.exec(b)}catch(m){return j(C("fromtexteval","fromText eval for "+c+" failed: "+m,m,[c]))}l&&(M=!0);this.depMaps.push(k);x.completeLoad(i);p([i],e)}),d.load(a.name,p,e,D))}));x.enable(d,this);this.pluginMaps[d.id]=d},enable:function(){F[this.map.id]=this;this.enabling=this.enabled=!0;v(this.depMaps,u(this,function(a,b){var c,d;if("string"===typeof a){a=f(a,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap);this.depMaps[b]=a;if(c=m(y,a.id)){this.depExports[b]=c(this);return}this.depCount+=1;i(a,"defined",u(this,function(a){this.defineDep(b,a);this.check()}));this.errback?i(a,"error",u(this,this.errback)):this.events.error&&i(a,"error",u(this,function(a){this.emit("error",a)}))}c=a.id;d=E[c];!t(y,c)&&(d&&!d.enabled)&&x.enable(a,this)}));B(this.pluginMaps,u(this,function(a){var b=m(E,a.id);b&&!b.enabled&&x.enable(a,this)}));this.enabling=!1;this.check()},on:function(a,b){var c=this.events[a];c||(c=this.events[a]=[]);c.push(b)},emit:function(a,b){v(this.events[a],function(a){a(b)});"error"===a&&delete this.events[a]}};x={config:D,contextName:a,registry:E,defined:K,urlFetched:L,defQueue:J,Module:w,makeModuleMap:f,nextTick:g.nextTick,onError:j,configure:function(a){a.baseUrl&&"/"!==a.baseUrl.charAt(a.baseUrl.length-1)&&(a.baseUrl+="/");var b=D.shim,c={paths:!0,bundles:!0,config:!0,map:!0};B(a,function(a,b){c[b]?(D[b]||(D[b]={}),U(D[b],a,!0,!0)):D[b]=a});a.bundles&&B(a.bundles,function(a,b){v(a,function(a){a!==b&&(O[a]=b)})});a.shim&&(B(a.shim,function(a,c){H(a)&&(a={deps:a});if((a.exports||a.init)&&!a.exportsFn)a.exportsFn=x.makeShimExports(a);b[c]=a}),D.shim=b);a.packages&&v(a.packages,function(a){var b,a="string"===typeof a?{name:a}:a;b=a.name;a.location&&(D.paths[b]=a.location);D.pkgs[b]=a.name+"/"+(a.main||"main").replace(ia,"").replace(Q,"")});B(E,function(a,b){!a.inited&&!a.map.unnormalized&&(a.map=f(b))});if(a.deps||a.callback)x.require(a.deps||[],a.callback)},makeShimExports:function(a){return function(){var b;a.init&&(b=a.init.apply(ba,arguments));return b||a.exports&&da(a.exports)}},makeRequire:function(d,e){function i(b,c,k){var l,m;e.enableBuildCallback&&(c&&G(c))&&(c.__requireJsBuild=!0);if("string"===typeof b){if(G(c))return j(C("requireargs","Invalid require call"),k);if(d&&t(y,b))return y[b](E[d.id]);if(g.get)return g.get(x,b,d,i);l=f(b,d,!1,!0);l=l.id;return!t(K,l)?j(C("notloaded",'Module name "'+l+'" has not been loaded yet for context: '+a+(d?"":". Use require([])"))):K[l]}r();x.nextTick(function(){r();m=h(f(null,d));m.skipMap=e.skipMap;m.init(b,c,k,{enabled:!0});o()});return i}e=e||{};U(i,{isBrowser:z,toUrl:function(a){var c,e=a.lastIndexOf("."),f=a.split("/")[0];if(-1!==e&&(!("."===f||".."===f)||1<e))c=a.substring(e,a.length),a=a.substring(0,e);return x.nameToUrl(b(a,d&&d.id,!0),c,!0)},defined:function(a){return t(K,f(a,d,!1,!0).id)},specified:function(a){a=f(a,d,!1,!0).id;return t(K,a)||t(E,a)}});d||(i.undef=function(a){k();var b=f(a,d,!0),e=m(E,a);c(a);delete K[a];delete L[b.url];delete I[a];T(J,function(b,c){b[0]===a&&J.splice(c,1)});e&&(e.events.defined&&(I[a]=e.events),l(a))});return i},enable:function(a){m(E,a.id)&&h(a).enable()},completeLoad:function(a){var b,c,e=m(D.shim,a)||{},f=e.exports;for(k();J.length;){c=J.shift();if(null===c[0]){c[0]=a;if(b)break;b=!0}else c[0]===a&&(b=!0);p(c)}c=m(E,a);if(!b&&!t(K,a)&&c&&!c.inited){if(D.enforceDefine&&(!f||!da(f)))return d(a)?void 0:j(C("nodefine","No define call for "+a,null,[a]));p([a,e.deps||[],e.exportsFn])}o()},nameToUrl:function(a,b,c){var d,e,f;(d=m(D.pkgs,a))&&(a=d);if(d=m(O,a))return x.nameToUrl(d,b,c);if(g.jsExtRegExp.test(a))d=a+(b||"");else{d=D.paths;a=a.split("/");for(e=a.length;0<e;e-=1)if(f=a.slice(0,e).join("/"),f=m(d,f)){H(f)&&(f=f[0]);a.splice(0,e,f);break}d=a.join("/");d+=b||(/^data\:|\?/.test(d)||c?"":".js");d=("/"===d.charAt(0)||d.match(/^[\w\+\.\-]+:/)?"":D.baseUrl)+d}return D.urlArgs?d+((-1===d.indexOf("?")?"?":"&")+D.urlArgs):d},load:function(a,b){g.load(x,a,b)},execCb:function(a,b,c,d){return b.apply(d,c)},onScriptLoad:function(a){if("load"===a.type||ja.test((a.currentTarget||a.srcElement).readyState))N=null,a=q(a),x.completeLoad(a.id)},onScriptError:function(a){var b=q(a);if(!d(b.id))return j(C("scripterror","Script error for: "+b.id,a,[b.id]))}};x.require=x.makeRequire();return x}var g,x,y,D,I,E,N,J,s,O,ka=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,la=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,Q=/\.js$/,ia=/^\.\//;x=Object.prototype;var K=x.toString,fa=x.hasOwnProperty,ha=Array.prototype.splice,z=!!("undefined"!==typeof window&&"undefined"!==typeof navigator&&window.document),ea=!z&&"undefined"!==typeof importScripts,ja=z&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,Y="undefined"!==typeof opera&&"[object Opera]"===opera.toString(),F={},q={},R=[],M=!1;if("undefined"===typeof define){if("undefined"!==typeof requirejs){if(G(requirejs))return;q=requirejs;requirejs=void 0}"undefined"!==typeof require&&!G(require)&&(q=require,require=void 0);g=requirejs=function(a,b,c,d){var e,f="_";!H(a)&&"string"!==typeof a&&(e=a,H(b)?(a=b,b=c,c=d):a=[]);e&&e.context&&(f=e.context);(d=m(F,f))||(d=F[f]=g.s.newContext(f));e&&d.configure(e);return d.require(a,b,c)};g.config=function(a){return g(a)};g.nextTick="undefined"!==typeof setTimeout?function(a){setTimeout(a,4)}:function(a){a()};require||(require=g);g.version="2.1.16";g.jsExtRegExp=/^\/|:|\?|\.js$/;g.isBrowser=z;x=g.s={contexts:F,newContext:ga};g({});v(["toUrl","undef","defined","specified"],function(a){g[a]=function(){var b=F._;return b.require[a].apply(b,arguments)}});if(z&&(y=x.head=document.getElementsByTagName("head")[0],D=document.getElementsByTagName("base")[0]))y=x.head=D.parentNode;g.onError=ca;g.createNode=function(a){var b=a.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");b.type=a.scriptType||"text/javascript";b.charset="utf-8";b.async=!0;return b};g.load=function(a,b,c){var d=a&&a.config||{};if(z)return d=g.createNode(d,b,c),d.setAttribute("data-requirecontext",a.contextName),d.setAttribute("data-requiremodule",b),d.attachEvent&&!(d.attachEvent.toString&&0>d.attachEvent.toString().indexOf("[native code"))&&!Y?(M=!0,d.attachEvent("onreadystatechange",a.onScriptLoad)):(d.addEventListener("load",a.onScriptLoad,!1),d.addEventListener("error",a.onScriptError,!1)),d.src=c,J=d,D?y.insertBefore(d,D):y.appendChild(d),J=null,d;if(ea)try{importScripts(c),a.completeLoad(b)}catch(e){a.onError(C("importscripts","importScripts failed for "+b+" at "+c,e,[b]))}};z&&!q.skipDataMain&&T(document.getElementsByTagName("script"),function(a){y||(y=a.parentNode);if(I=a.getAttribute("data-main"))return s=I,q.baseUrl||(E=s.split("/"),s=E.pop(),O=E.length?E.join("/")+"/":"./",q.baseUrl=O),s=s.replace(Q,""),g.jsExtRegExp.test(s)&&(s=I),q.deps=q.deps?q.deps.concat(s):[s],!0});define=function(a,b,c){var d,e;"string"!==typeof a&&(c=b,b=a,a=null);H(b)||(c=b,b=null);!b&&G(c)&&(b=[],c.length&&(c.toString().replace(ka,"").replace(la,function(a,c){b.push(c)}),b=(1===c.length?["require"]:["require","exports","module"]).concat(b)));if(M){if(!(d=J))N&&"interactive"===N.readyState||T(document.getElementsByTagName("script"),function(a){if("interactive"===a.readyState)return N=a}),d=N;d&&(a||(a=d.getAttribute("data-requiremodule")),e=F[d.getAttribute("data-requirecontext")])}(e?e.defQueue:R).push([a,b,c])};define.amd={jQuery:!0};g.exec=function(b){return eval(b)};g(q)}})(this);define("requireLib",function(){});(function(a,b){if(typeof module==="object"&&typeof module.exports==="object"){module.exports=a.document?b(a,true):function(a){if(!a.document){throw new Error("jQuery requires a window with a document")}return b(a)}}else{b(a)}})(typeof window!=="undefined"?window:this,function(a,b){var c=[];var d=c.slice;var e=c.concat;var f=c.push;var g=c.indexOf;var h={};var i=h.toString;var j=h.hasOwnProperty;var k={};var l="1.11.2",m=function(a,b){return new m.fn.init(a,b)},n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,o=/^-ms-/,p=/-([\da-z])/gi,q=function(a,b){return b.toUpperCase()};m.fn=m.prototype={jquery:l,constructor:m,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return a!=null?a<0?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=m.merge(this.constructor(),a);b.prevObject=this;b.context=this.context;return b},each:function(a,b){return m.each(this,a,b)},map:function(a){return this.pushStack(m.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(a<0?b:0);return this.pushStack(c>=0&&c<b?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice};m.extend=m.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=false;if(typeof g==="boolean"){j=g;g=arguments[h]||{};h++}if(typeof g!=="object"&&!m.isFunction(g)){g={}}if(h===i){g=this;h--}for(;h<i;h++){if((e=arguments[h])!=null){for(d in e){a=g[d];c=e[d];if(g===c){continue}if(j&&c&&(m.isPlainObject(c)||(b=m.isArray(c)))){if(b){b=false;f=a&&m.isArray(a)?a:[]}else{f=a&&m.isPlainObject(a)?a:{}}g[d]=m.extend(j,f,c)}else if(c!==undefined){g[d]=c}}}}return g};m.extend({expando:"jQuery"+(l+Math.random()).replace(/\D/g,""),isReady:true,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return m.type(a)==="function"},isArray:Array.isArray||function(a){return m.type(a)==="array"},isWindow:function(a){return a!=null&&a==a.window},isNumeric:function(a){return!m.isArray(a)&&a-parseFloat(a)+1>=0},isEmptyObject:function(a){var b;for(b in a){return false}return true},isPlainObject:function(a){var b;if(!a||m.type(a)!=="object"||a.nodeType||m.isWindow(a)){return false}try{if(a.constructor&&!j.call(a,"constructor")&&!j.call(a.constructor.prototype,"isPrototypeOf")){return false}}catch(c){return false}if(k.ownLast){for(b in a){return j.call(a,b)}}for(b in a){}return b===undefined||j.call(a,b)},type:function(a){if(a==null){return a+""}return typeof a==="object"||typeof a==="function"?h[i.call(a)]||"object":typeof a},globalEval:function(b){if(b&&m.trim(b)){(a.execScript||function(b){a["eval"].call(a,b)})(b)}},camelCase:function(a){return a.replace(o,"ms-").replace(p,q)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=r(a);if(c){if(g){for(;e<f;e++){d=b.apply(a[e],c);if(d===false){break}}}else{for(e in a){d=b.apply(a[e],c);if(d===false){break}}}}else{if(g){for(;e<f;e++){d=b.call(a[e],e,a[e]);if(d===false){break}}}else{for(e in a){d=b.call(a[e],e,a[e]);if(d===false){break}}}}return a},trim:function(a){return a==null?"":(a+"").replace(n,"")},makeArray:function(a,b){var c=b||[];if(a!=null){if(r(Object(a))){m.merge(c,typeof a==="string"?[a]:a)}else{f.call(c,a)}}return c},inArray:function(a,b,c){var d;if(b){if(g){return g.call(b,a,c)}d=b.length;c=c?c<0?Math.max(0,d+c):c:0;for(;c<d;c++){if(c in b&&b[c]===a){return c}}}return-1},merge:function(a,b){var c=+b.length,d=0,e=a.length;while(d<c){a[e++]=b[d++]}if(c!==c){while(b[d]!==undefined){a[e++]=b[d++]}}a.length=e;return a},grep:function(a,b,c){var d,e=[],f=0,g=a.length,h=!c;for(;f<g;f++){d=!b(a[f],f);if(d!==h){e.push(a[f])}}return e},map:function(a,b,c){var d,f=0,g=a.length,h=r(a),i=[];if(h){for(;f<g;f++){d=b(a[f],f,c);if(d!=null){i.push(d)}}}else{for(f in a){d=b(a[f],f,c);if(d!=null){i.push(d)}}}return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;if(typeof b==="string"){f=a[b];b=a;a=f}if(!m.isFunction(a)){return undefined}c=d.call(arguments,2);e=function(){return a.apply(b||this,c.concat(d.call(arguments)))};e.guid=a.guid=a.guid||m.guid++;return e},now:function(){return+new Date},support:k});m.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function r(a){var b=a.length,c=m.type(a);if(c==="function"||m.isWindow(a)){return false}if(a.nodeType===1&&b){return true}return c==="array"||b===0||typeof b==="number"&&b>0&&b-1 in a}var s=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ha(),z=ha(),A=ha(),B=function(a,b){if(a===b){l=true}return 0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){var c=0,d=a.length;for(;c<d;c++){if(a[c]===b){return c}}return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N=M.replace("w","w#"),O="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+L+"*\\]",P=":("+M+")(?:\\(("+"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|"+"((?:\\\\.|[^\\\\()[\\]]|"+O+")*)|"+".*"+")\\)|)",Q=new RegExp(L+"+","g"),R=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),S=new RegExp("^"+L+"*,"+L+"*"),T=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),U=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),V=new RegExp(P),W=new RegExp("^"+N+"$"),X={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M.replace("w","w*")+")"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+P),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,aa=/[+~]/,ba=/'|\\/g,ca=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),da=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:d<0?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,d&1023|56320)},ea=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes);E[v.childNodes.length].nodeType}catch(fa){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]){}a.length=c-1}}}function ga(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n){m(b)}b=b||n;d=d||[];k=b.nodeType;if(typeof a!=="string"||!a||k!==1&&k!==9&&k!==11){return d}if(!e&&p){if(k!==11&&(f=_.exec(a))){if(j=f[1]){if(k===9){h=b.getElementById(j);if(h&&h.parentNode){if(h.id===j){d.push(h);return d}}else{return d}}else{if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j){d.push(h);return d}}}else if(f[2]){H.apply(d,b.getElementsByTagName(a));return d}else if((j=f[3])&&c.getElementsByClassName){H.apply(d,b.getElementsByClassName(j));return d}}if(c.qsa&&(!q||!q.test(a))){s=r=u;w=b;x=k!==1&&a;if(k===1&&b.nodeName.toLowerCase()!=="object"){o=g(a);if(r=b.getAttribute("id")){s=r.replace(ba,"\\$&")}else{b.setAttribute("id",s)}s="[id='"+s+"'] ";l=o.length;while(l--){o[l]=s+ra(o[l])}w=aa.test(a)&&pa(b.parentNode)||b;x=o.join(",")}if(x){try{H.apply(d,w.querySelectorAll(x));return d}catch(y){}finally{if(!r){b.removeAttribute("id")}}}}}return i(a.replace(R,"$1"),b,d,e)}function ha(){var a=[];function b(c,e){if(a.push(c+" ")>d.cacheLength){delete b[a.shift()]}return b[c+" "]=e}return b}function ia(a){a[u]=true;return a}function ja(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return false}finally{if(b.parentNode){b.parentNode.removeChild(b)}b=null}}function ka(a,b){var c=a.split("|"),e=a.length;while(e--){d.attrHandle[c[e]]=b}}function la(a,b){var c=b&&a,d=c&&a.nodeType===1&&b.nodeType===1&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d){return d}if(c){while(c=c.nextSibling){if(c===b){return-1}}}return a?1:-1}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return c==="input"&&b.type===a}}function na(a){return function(b){var c=b.nodeName.toLowerCase();return(c==="input"||c==="button")&&b.type===a}}function oa(a){return ia(function(b){b=+b;return ia(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--){if(c[e=f[g]]){c[e]=!(d[e]=c[e])}}})})}function pa(a){return a&&typeof a.getElementsByTagName!=="undefined"&&a}c=ga.support={};f=ga.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?b.nodeName!=="HTML":false};m=ga.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;if(g===n||g.nodeType!==9||!g.documentElement){return n}n=g;o=g.documentElement;e=g.defaultView;if(e&&e!==e.top){if(e.addEventListener){e.addEventListener("unload",ea,false)}else if(e.attachEvent){e.attachEvent("onunload",ea)}}p=!f(g);c.attributes=ja(function(a){a.className="i";return!a.getAttribute("className")});c.getElementsByTagName=ja(function(a){a.appendChild(g.createComment(""));return!a.getElementsByTagName("*").length});c.getElementsByClassName=$.test(g.getElementsByClassName);c.getById=ja(function(a){o.appendChild(a).id=u;return!g.getElementsByName||!g.getElementsByName(u).length});if(c.getById){d.find["ID"]=function(a,b){if(typeof b.getElementById!=="undefined"&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}};d.filter["ID"]=function(a){var b=a.replace(ca,da);return function(a){return a.getAttribute("id")===b}}}else{delete d.find["ID"];d.filter["ID"]=function(a){var b=a.replace(ca,da);return function(a){var c=typeof a.getAttributeNode!=="undefined"&&a.getAttributeNode("id");return c&&c.value===b}}}d.find["TAG"]=c.getElementsByTagName?function(a,b){if(typeof b.getElementsByTagName!=="undefined"){return b.getElementsByTagName(a)}else if(c.qsa){return b.querySelectorAll(a)}}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if(a==="*"){while(c=f[e++]){if(c.nodeType===1){d.push(c)}}return d}return f};d.find["CLASS"]=c.getElementsByClassName&&function(a,b){if(p){return b.getElementsByClassName(a)}};r=[];q=[];if(c.qsa=$.test(g.querySelectorAll)){ja(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a>"+"<select id='"+u+"-\f]' msallowcapture=''>"+"<option selected=''></option></select>";if(a.querySelectorAll("[msallowcapture^='']").length){q.push("[*^$]="+L+"*(?:''|\"\")")}if(!a.querySelectorAll("[selected]").length){q.push("\\["+L+"*(?:value|"+K+")")}if(!a.querySelectorAll("[id~="+u+"-]").length){q.push("~=")}if(!a.querySelectorAll(":checked").length){q.push(":checked")}if(!a.querySelectorAll("a#"+u+"+*").length){q.push(".#.+[+~]")}});ja(function(a){var b=g.createElement("input");b.setAttribute("type","hidden");a.appendChild(b).setAttribute("name","D");if(a.querySelectorAll("[name=d]").length){q.push("name"+L+"*[*^$|!~]?=")}if(!a.querySelectorAll(":enabled").length){q.push(":enabled",":disabled")}a.querySelectorAll("*,:x");q.push(",.*:")})}if(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector)){ja(function(a){c.disconnectedMatch=s.call(a,"div");s.call(a,"[s!='']:x");r.push("!=",P)})}q=q.length&&new RegExp(q.join("|"));r=r.length&&new RegExp(r.join("|"));b=$.test(o.compareDocumentPosition);t=b||$.test(o.contains)?function(a,b){var c=a.nodeType===9?a.documentElement:a,d=b&&b.parentNode;return a===d||!!(d&&d.nodeType===1&&(c.contains?c.contains(d):a.compareDocumentPosition&&a.compareDocumentPosition(d)&16))}:function(a,b){if(b){while(b=b.parentNode){if(b===a){return true}}}return false};B=b?function(a,b){if(a===b){l=true;return 0}var d=!a.compareDocumentPosition-!b.compareDocumentPosition;if(d){return d}d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1;if(d&1||!c.sortDetached&&b.compareDocumentPosition(a)===d){if(a===g||a.ownerDocument===v&&t(v,a)){return-1}if(b===g||b.ownerDocument===v&&t(v,b)){return 1}return k?J(k,a)-J(k,b):0}return d&4?-1:1}:function(a,b){if(a===b){l=true;return 0}var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f){return a===g?-1:b===g?1:e?-1:f?1:k?J(k,a)-J(k,b):0}else if(e===f){return la(a,b)}c=a;while(c=c.parentNode){h.unshift(c)}c=b;while(c=c.parentNode){i.unshift(c)}while(h[d]===i[d]){d++}return d?la(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0};return g};ga.matches=function(a,b){return ga(a,null,null,b)};ga.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n){m(a)}b=b.replace(U,"='$1']");if(c.matchesSelector&&p&&(!r||!r.test(b))&&(!q||!q.test(b))){try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&a.document.nodeType!==11){return d}}catch(e){}}return ga(b,n,null,[a]).length>0};ga.contains=function(a,b){if((a.ownerDocument||a)!==n){m(a)}return t(a,b)};ga.attr=function(a,b){if((a.ownerDocument||a)!==n){m(a)}var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):undefined;return f!==undefined?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null};ga.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)};ga.uniqueSort=function(a){var b,d=[],e=0,f=0;l=!c.detectDuplicates;k=!c.sortStable&&a.slice(0);a.sort(B);if(l){while(b=a[f++]){if(b===a[f]){e=d.push(f)}}while(e--){a.splice(d[e],1)}}k=null;return a};e=ga.getText=function(a){var b,c="",d=0,f=a.nodeType;if(!f){while(b=a[d++]){c+=e(b)}}else if(f===1||f===9||f===11){if(typeof a.textContent==="string"){return a.textContent}else{for(a=a.firstChild;a;a=a.nextSibling){c+=e(a)}}}else if(f===3||f===4){return a.nodeValue}return c};d=ga.selectors={cacheLength:50,createPseudo:ia,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=a[1].replace(ca,da);a[3]=(a[3]||a[4]||a[5]||"").replace(ca,da);if(a[2]==="~="){a[3]=" "+a[3]+" "}return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();if(a[1].slice(0,3)==="nth"){if(!a[3]){ga.error(a[0])}a[4]=+(a[4]?a[5]+(a[6]||1):2*(a[3]==="even"||a[3]==="odd"));a[5]=+(a[7]+a[8]||a[3]==="odd")}else if(a[3]){ga.error(a[0])}return a},PSEUDO:function(a){var b,c=!a[6]&&a[2];if(X["CHILD"].test(a[0])){return null}if(a[3]){a[2]=a[4]||a[5]||""}else if(c&&V.test(c)&&(b=g(c,true))&&(b=c.indexOf(")",c.length-b)-c.length)){a[0]=a[0].slice(0,b);a[2]=c.slice(0,b)}return a.slice(0,3)}},filter:{TAG:function(a){var b=a.replace(ca,da).toLowerCase();return a==="*"?function(){return true}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test(typeof a.className==="string"&&a.className||typeof a.getAttribute!=="undefined"&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=ga.attr(d,a);if(e==null){return b==="!="}if(!b){return true}e+="";return b==="="?e===c:b==="!="?e!==c:b==="^="?c&&e.indexOf(c)===0:b==="*="?c&&e.indexOf(c)>-1:b==="$="?c&&e.slice(-c.length)===c:b==="~="?(" "+e.replace(Q," ")+" ").indexOf(c)>-1:b==="|="?e===c||e.slice(0,c.length+1)===c+"-":false}},CHILD:function(a,b,c,d,e){var f=a.slice(0,3)!=="nth",g=a.slice(-4)!=="last",h=b==="of-type";return d===1&&e===0?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p]){if(h?l.nodeName.toLowerCase()===r:l.nodeType===1){return false}}o=p=a==="only"&&!o&&"nextSibling"}return true}o=[g?q.firstChild:q.lastChild];if(g&&s){k=q[u]||(q[u]={});j=k[a]||[];n=j[0]===w&&j[1];m=j[0]===w&&j[2];l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop()){if(l.nodeType===1&&++m&&l===b){k[a]=[w,n,m];break}}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w){m=j[1]}else{while(l=++n&&l&&l[p]||(m=n=0)||o.pop()){if((h?l.nodeName.toLowerCase()===r:l.nodeType===1)&&++m){if(s){(l[u]||(l[u]={}))[a]=[w,m]}if(l===b){break}}}}m-=e;return m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||ga.error("unsupported pseudo: "+a);if(e[u]){return e(b)}if(e.length>1){c=[a,a,"",b];return d.setFilters.hasOwnProperty(a.toLowerCase())?ia(function(a,c){var d,f=e(a,b),g=f.length;while(g--){d=J(a,f[g]);a[d]=!(c[d]=f[g])}}):function(a){return e(a,0,c)}}return e}},pseudos:{not:ia(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?ia(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--){if(f=g[h]){a[h]=!(b[h]=f)}}}):function(a,e,f){b[0]=a;d(b,null,f,c);b[0]=null;return!c.pop()}}),has:ia(function(a){return function(b){return ga(a,b).length>0}}),contains:ia(function(a){
a=a.replace(ca,da);return function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ia(function(a){if(!W.test(a||"")){ga.error("unsupported lang: "+a)}a=a.replace(ca,da).toLowerCase();return function(b){var c;do{if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang")){c=c.toLowerCase();return c===a||c.indexOf(a+"-")===0}}while((b=b.parentNode)&&b.nodeType===1);return false}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===false},disabled:function(a){return a.disabled===true},checked:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&!!a.checked||b==="option"&&!!a.selected},selected:function(a){if(a.parentNode){a.parentNode.selectedIndex}return a.selected===true},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling){if(a.nodeType<6){return false}}return true},parent:function(a){return!d.pseudos["empty"](a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&a.type==="button"||b==="button"},text:function(a){var b;return a.nodeName.toLowerCase()==="input"&&a.type==="text"&&((b=a.getAttribute("type"))==null||b.toLowerCase()==="text")},first:oa(function(){return[0]}),last:oa(function(a,b){return[b-1]}),eq:oa(function(a,b,c){return[c<0?c+b:c]}),even:oa(function(a,b){var c=0;for(;c<b;c+=2){a.push(c)}return a}),odd:oa(function(a,b){var c=1;for(;c<b;c+=2){a.push(c)}return a}),lt:oa(function(a,b,c){var d=c<0?c+b:c;for(;--d>=0;){a.push(d)}return a}),gt:oa(function(a,b,c){var d=c<0?c+b:c;for(;++d<b;){a.push(d)}return a})}};d.pseudos["nth"]=d.pseudos["eq"];for(b in{radio:true,checkbox:true,file:true,password:true,image:true}){d.pseudos[b]=ma(b)}for(b in{submit:true,reset:true}){d.pseudos[b]=na(b)}function qa(){}qa.prototype=d.filters=d.pseudos;d.setFilters=new qa;g=ga.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k){return b?0:k.slice(0)}h=a;i=[];j=d.preFilter;while(h){if(!c||(e=S.exec(h))){if(e){h=h.slice(e[0].length)||h}i.push(f=[])}c=false;if(e=T.exec(h)){c=e.shift();f.push({value:c,type:e[0].replace(R," ")});h=h.slice(c.length)}for(g in d.filter){if((e=X[g].exec(h))&&(!j[g]||(e=j[g](e)))){c=e.shift();f.push({value:c,type:g,matches:e});h=h.slice(c.length)}}if(!c){break}}return b?h.length:h?ga.error(a):z(a,i).slice(0)};function ra(a){var b=0,c=a.length,d="";for(;b<c;b++){d+=a[b].value}return d}function sa(a,b,c){var d=b.dir,e=c&&d==="parentNode",f=x++;return b.first?function(b,c,f){while(b=b[d]){if(b.nodeType===1||e){return a(b,c,f)}}}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d]){if(b.nodeType===1||e){if(a(b,c,g)){return true}}}}else{while(b=b[d]){if(b.nodeType===1||e){i=b[u]||(b[u]={});if((h=i[d])&&h[0]===w&&h[1]===f){return j[2]=h[2]}else{i[d]=j;if(j[2]=a(b,c,g)){return true}}}}}}}function ta(a){return a.length>1?function(b,c,d){var e=a.length;while(e--){if(!a[e](b,c,d)){return false}}return true}:a[0]}function ua(a,b,c){var d=0,e=b.length;for(;d<e;d++){ga(a,b[d],c)}return c}function va(a,b,c,d,e){var f,g=[],h=0,i=a.length,j=b!=null;for(;h<i;h++){if(f=a[h]){if(!c||c(f,d,e)){g.push(f);if(j){b.push(h)}}}}return g}function wa(a,b,c,d,e,f){if(d&&!d[u]){d=wa(d)}if(e&&!e[u]){e=wa(e,f)}return ia(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ua(b||"*",h.nodeType?[h]:h,[]),q=a&&(f||!b)?va(p,m,a,h,i):p,r=c?e||(f?a:o||d)?[]:g:q;if(c){c(q,r,h,i)}if(d){j=va(r,n);d(j,[],h,i);k=j.length;while(k--){if(l=j[k]){r[n[k]]=!(q[n[k]]=l)}}}if(f){if(e||a){if(e){j=[];k=r.length;while(k--){if(l=r[k]){j.push(q[k]=l)}}e(null,r=[],j,i)}k=r.length;while(k--){if((l=r[k])&&(j=e?J(f,l):m[k])>-1){f[j]=!(g[j]=l)}}}}else{r=va(r===g?r.splice(o,r.length):r);if(e){e(null,g,r,i)}else{H.apply(g,r)}}})}function xa(a){var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=sa(function(a){return a===b},h,true),l=sa(function(a){return J(b,a)>-1},h,true),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));b=null;return e}];for(;i<f;i++){if(c=d.relative[a[i].type]){m=[sa(ta(m),c)]}else{c=d.filter[a[i].type].apply(null,a[i].matches);if(c[u]){e=++i;for(;e<f;e++){if(d.relative[a[e].type]){break}}return wa(i>1&&ta(m),i>1&&ra(a.slice(0,i-1).concat({value:a[i-2].type===" "?"*":""})).replace(R,"$1"),c,i<e&&xa(a.slice(i,e)),e<f&&xa(a=a.slice(e)),e<f&&ra(a))}m.push(c)}}return ta(m)}function ya(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find["TAG"]("*",k),v=w+=t==null?1:Math.random()||.1,x=u.length;if(k){j=g!==n&&g}for(;q!==x&&(l=u[q])!=null;q++){if(e&&l){m=0;while(o=a[m++]){if(o(l,g,h)){i.push(l);break}}if(k){w=v}}if(c){if(l=!o&&l){p--}if(f){r.push(l)}}}p+=q;if(c&&q!==p){m=0;while(o=b[m++]){o(r,s,g,h)}if(f){if(p>0){while(q--){if(!(r[q]||s[q])){s[q]=F.call(i)}}}s=va(s)}H.apply(i,s);if(k&&!f&&s.length>0&&p+b.length>1){ga.uniqueSort(i)}}if(k){w=v;j=t}return r};return c?ia(f):f}h=ga.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){if(!b){b=g(a)}c=b.length;while(c--){f=xa(b[c]);if(f[u]){d.push(f)}else{e.push(f)}}f=A(a,ya(e,d));f.selector=a}return f};i=ga.select=function(a,b,e,f){var i,j,k,l,m,n=typeof a==="function"&&a,o=!f&&g(a=n.selector||a);e=e||[];if(o.length===1){j=o[0]=o[0].slice(0);if(j.length>2&&(k=j[0]).type==="ID"&&c.getById&&b.nodeType===9&&p&&d.relative[j[1].type]){b=(d.find["ID"](k.matches[0].replace(ca,da),b)||[])[0];if(!b){return e}else if(n){b=b.parentNode}a=a.slice(j.shift().value.length)}i=X["needsContext"].test(a)?0:j.length;while(i--){k=j[i];if(d.relative[l=k.type]){break}if(m=d.find[l]){if(f=m(k.matches[0].replace(ca,da),aa.test(j[0].type)&&pa(b.parentNode)||b)){j.splice(i,1);a=f.length&&ra(j);if(!a){H.apply(e,f);return e}break}}}}(n||h(a,o))(f,b,!p,e,aa.test(a)&&pa(b.parentNode)||b);return e};c.sortStable=u.split("").sort(B).join("")===u;c.detectDuplicates=!!l;m();c.sortDetached=ja(function(a){return a.compareDocumentPosition(n.createElement("div"))&1});if(!ja(function(a){a.innerHTML="<a href='#'></a>";return a.firstChild.getAttribute("href")==="#"})){ka("type|href|height|width",function(a,b,c){if(!c){return a.getAttribute(b,b.toLowerCase()==="type"?1:2)}})}if(!c.attributes||!ja(function(a){a.innerHTML="<input/>";a.firstChild.setAttribute("value","");return a.firstChild.getAttribute("value")===""})){ka("value",function(a,b,c){if(!c&&a.nodeName.toLowerCase()==="input"){return a.defaultValue}})}if(!ja(function(a){return a.getAttribute("disabled")==null})){ka(K,function(a,b,c){var d;if(!c){return a[b]===true?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}})}return ga}(a);m.find=s;m.expr=s.selectors;m.expr[":"]=m.expr.pseudos;m.unique=s.uniqueSort;m.text=s.getText;m.isXMLDoc=s.isXML;m.contains=s.contains;var t=m.expr.match.needsContext;var u=/^<(\w+)\s*\/?>(?:<\/\1>|)$/;var v=/^.[^:#\[\.,]*$/;function w(a,b,c){if(m.isFunction(b)){return m.grep(a,function(a,d){return!!b.call(a,d,a)!==c})}if(b.nodeType){return m.grep(a,function(a){return a===b!==c})}if(typeof b==="string"){if(v.test(b)){return m.filter(b,a,c)}b=m.filter(b,a)}return m.grep(a,function(a){return m.inArray(a,b)>=0!==c})}m.filter=function(a,b,c){var d=b[0];if(c){a=":not("+a+")"}return b.length===1&&d.nodeType===1?m.find.matchesSelector(d,a)?[d]:[]:m.find.matches(a,m.grep(b,function(a){return a.nodeType===1}))};m.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if(typeof a!=="string"){return this.pushStack(m(a).filter(function(){for(b=0;b<e;b++){if(m.contains(d[b],this)){return true}}}))}for(b=0;b<e;b++){m.find(a,d[b],c)}c=this.pushStack(e>1?m.unique(c):c);c.selector=this.selector?this.selector+" "+a:a;return c},filter:function(a){return this.pushStack(w(this,a||[],false))},not:function(a){return this.pushStack(w(this,a||[],true))},is:function(a){return!!w(this,typeof a==="string"&&t.test(a)?m(a):a||[],false).length}});var x,y=a.document,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=m.fn.init=function(a,b){var c,d;if(!a){return this}if(typeof a==="string"){if(a.charAt(0)==="<"&&a.charAt(a.length-1)===">"&&a.length>=3){c=[null,a,null]}else{c=z.exec(a)}if(c&&(c[1]||!b)){if(c[1]){b=b instanceof m?b[0]:b;m.merge(this,m.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:y,true));if(u.test(c[1])&&m.isPlainObject(b)){for(c in b){if(m.isFunction(this[c])){this[c](b[c])}else{this.attr(c,b[c])}}}return this}else{d=y.getElementById(c[2]);if(d&&d.parentNode){if(d.id!==c[2]){return x.find(a)}this.length=1;this[0]=d}this.context=y;this.selector=a;return this}}else if(!b||b.jquery){return(b||x).find(a)}else{return this.constructor(b).find(a)}}else if(a.nodeType){this.context=this[0]=a;this.length=1;return this}else if(m.isFunction(a)){return typeof x.ready!=="undefined"?x.ready(a):a(m)}if(a.selector!==undefined){this.selector=a.selector;this.context=a.context}return m.makeArray(a,this)};A.prototype=m.fn;x=m(y);var B=/^(?:parents|prev(?:Until|All))/,C={children:true,contents:true,next:true,prev:true};m.extend({dir:function(a,b,c){var d=[],e=a[b];while(e&&e.nodeType!==9&&(c===undefined||e.nodeType!==1||!m(e).is(c))){if(e.nodeType===1){d.push(e)}e=e[b]}return d},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling){if(a.nodeType===1&&a!==b){c.push(a)}}return c}});m.fn.extend({has:function(a){var b,c=m(a,this),d=c.length;return this.filter(function(){for(b=0;b<d;b++){if(m.contains(this,c[b])){return true}}})},closest:function(a,b){var c,d=0,e=this.length,f=[],g=t.test(a)||typeof a!=="string"?m(a,b||this.context):0;for(;d<e;d++){for(c=this[d];c&&c!==b;c=c.parentNode){if(c.nodeType<11&&(g?g.index(c)>-1:c.nodeType===1&&m.find.matchesSelector(c,a))){f.push(c);break}}}return this.pushStack(f.length>1?m.unique(f):f)},index:function(a){if(!a){return this[0]&&this[0].parentNode?this.first().prevAll().length:-1}if(typeof a==="string"){return m.inArray(this[0],m(a))}return m.inArray(a.jquery?a[0]:a,this)},add:function(a,b){return this.pushStack(m.unique(m.merge(this.get(),m(a,b))))},addBack:function(a){return this.add(a==null?this.prevObject:this.prevObject.filter(a))}});function D(a,b){do{a=a[b]}while(a&&a.nodeType!==1);return a}m.each({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return m.dir(a,"parentNode")},parentsUntil:function(a,b,c){return m.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return m.dir(a,"nextSibling")},prevAll:function(a){return m.dir(a,"previousSibling")},nextUntil:function(a,b,c){return m.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return m.dir(a,"previousSibling",c)},siblings:function(a){return m.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return m.sibling(a.firstChild)},contents:function(a){return m.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:m.merge([],a.childNodes)}},function(a,b){m.fn[a]=function(c,d){var e=m.map(this,b,c);if(a.slice(-5)!=="Until"){d=c}if(d&&typeof d==="string"){e=m.filter(d,e)}if(this.length>1){if(!C[a]){e=m.unique(e)}if(B.test(a)){e=e.reverse()}}return this.pushStack(e)}});var E=/\S+/g;var F={};function G(a){var b=F[a]={};m.each(a.match(E)||[],function(a,c){b[c]=true});return b}m.Callbacks=function(a){a=typeof a==="string"?F[a]||G(a):m.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){c=a.memory&&l;d=true;f=g||0;g=0;e=h.length;b=true;for(;h&&f<e;f++){if(h[f].apply(l[0],l[1])===false&&a.stopOnFalse){c=false;break}}b=false;if(h){if(i){if(i.length){j(i.shift())}}else if(c){h=[]}else{k.disable()}}},k={add:function(){if(h){var d=h.length;(function f(b){m.each(b,function(b,c){var d=m.type(c);if(d==="function"){if(!a.unique||!k.has(c)){h.push(c)}}else if(c&&c.length&&d!=="string"){f(c)}})})(arguments);if(b){e=h.length}else if(c){g=d;j(c)}}return this},remove:function(){if(h){m.each(arguments,function(a,c){var d;while((d=m.inArray(c,h,d))>-1){h.splice(d,1);if(b){if(d<=e){e--}if(d<=f){f--}}}})}return this},has:function(a){return a?m.inArray(a,h)>-1:!!(h&&h.length)},empty:function(){h=[];e=0;return this},disable:function(){h=i=c=undefined;return this},disabled:function(){return!h},lock:function(){i=undefined;if(!c){k.disable()}return this},locked:function(){return!i},fireWith:function(a,c){if(h&&(!d||i)){c=c||[];c=[a,c.slice?c.slice():c];if(b){i.push(c)}else{j(c)}}return this},fire:function(){k.fireWith(this,arguments);return this},fired:function(){return!!d}};return k};m.extend({Deferred:function(a){var b=[["resolve","done",m.Callbacks("once memory"),"resolved"],["reject","fail",m.Callbacks("once memory"),"rejected"],["notify","progress",m.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){e.done(arguments).fail(arguments);return this},then:function(){var a=arguments;return m.Deferred(function(c){m.each(b,function(b,f){var g=m.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);if(a&&m.isFunction(a.promise)){a.promise().done(c.resolve).fail(c.reject).progress(c.notify)}else{c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)}})});a=null}).promise()},promise:function(a){return a!=null?m.extend(a,d):d}},e={};d.pipe=d.then;m.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add;if(h){g.add(function(){c=h},b[a^1][2].disable,b[2][2].lock)}e[f[0]]=function(){e[f[0]+"With"](this===e?d:this,arguments);return this};e[f[0]+"With"]=g.fireWith});d.promise(e);if(a){a.call(e,e)}return e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=e!==1||a&&m.isFunction(a.promise)?e:0,g=f===1?a:m.Deferred(),h=function(a,b,c){return function(e){b[a]=this;c[a]=arguments.length>1?d.call(arguments):e;if(c===i){g.notifyWith(b,c)}else if(!--f){g.resolveWith(b,c)}}},i,j,k;if(e>1){i=new Array(e);j=new Array(e);k=new Array(e);for(;b<e;b++){if(c[b]&&m.isFunction(c[b].promise)){c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i))}else{--f}}}if(!f){g.resolveWith(k,c)}return g.promise()}});var H;m.fn.ready=function(a){m.ready.promise().done(a);return this};m.extend({isReady:false,readyWait:1,holdReady:function(a){if(a){m.readyWait++}else{m.ready(true)}},ready:function(a){if(a===true?--m.readyWait:m.isReady){return}if(!y.body){return setTimeout(m.ready)}m.isReady=true;if(a!==true&&--m.readyWait>0){return}H.resolveWith(y,[m]);if(m.fn.triggerHandler){m(y).triggerHandler("ready");m(y).off("ready")}}});function I(){if(y.addEventListener){y.removeEventListener("DOMContentLoaded",J,false);a.removeEventListener("load",J,false)}else{y.detachEvent("onreadystatechange",J);a.detachEvent("onload",J)}}function J(){if(y.addEventListener||event.type==="load"||y.readyState==="complete"){I();m.ready()}}m.ready.promise=function(b){if(!H){H=m.Deferred();if(y.readyState==="complete"){setTimeout(m.ready)}else if(y.addEventListener){y.addEventListener("DOMContentLoaded",J,false);a.addEventListener("load",J,false)}else{y.attachEvent("onreadystatechange",J);a.attachEvent("onload",J);var c=false;try{c=a.frameElement==null&&y.documentElement}catch(d){}if(c&&c.doScroll){(function e(){if(!m.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}I();m.ready()}})()}}}return H.promise(b)};var K=typeof undefined;var L;for(L in m(k)){break}k.ownLast=L!=="0";k.inlineBlockNeedsLayout=false;m(function(){var a,b,c,d;c=y.getElementsByTagName("body")[0];if(!c||!c.style){return}b=y.createElement("div");d=y.createElement("div");d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px";c.appendChild(d).appendChild(b);if(typeof b.style.zoom!==K){b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1";k.inlineBlockNeedsLayout=a=b.offsetWidth===3;if(a){c.style.zoom=1}}c.removeChild(d)});(function(){var a=y.createElement("div");if(k.deleteExpando==null){k.deleteExpando=true;try{delete a.test}catch(b){k.deleteExpando=false}}a=null})();m.acceptData=function(a){var b=m.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return c!==1&&c!==9?false:!b||b!==true&&a.getAttribute("classid")===b};var M=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,N=/([A-Z])/g;function O(a,b,c){if(c===undefined&&a.nodeType===1){var d="data-"+b.replace(N,"-$1").toLowerCase();c=a.getAttribute(d);if(typeof c==="string"){try{c=c==="true"?true:c==="false"?false:c==="null"?null:+c+""===c?+c:M.test(c)?m.parseJSON(c):c}catch(e){}m.data(a,b,c)}else{c=undefined}}return c}function P(a){var b;for(b in a){if(b==="data"&&m.isEmptyObject(a[b])){continue}if(b!=="toJSON"){return false}}return true}function Q(a,b,d,e){if(!m.acceptData(a)){return}var f,g,h=m.expando,i=a.nodeType,j=i?m.cache:a,k=i?a[h]:a[h]&&h;if((!k||!j[k]||!e&&!j[k].data)&&d===undefined&&typeof b==="string"){return}if(!k){if(i){k=a[h]=c.pop()||m.guid++}else{k=h}}if(!j[k]){j[k]=i?{}:{toJSON:m.noop}}if(typeof b==="object"||typeof b==="function"){if(e){j[k]=m.extend(j[k],b)}else{j[k].data=m.extend(j[k].data,b)}}g=j[k];if(!e){if(!g.data){g.data={}}g=g.data}if(d!==undefined){g[m.camelCase(b)]=d}if(typeof b==="string"){f=g[b];if(f==null){f=g[m.camelCase(b)]}}else{f=g}return f}function R(a,b,c){if(!m.acceptData(a)){return}var d,e,f=a.nodeType,g=f?m.cache:a,h=f?a[m.expando]:m.expando;if(!g[h]){return}if(b){d=c?g[h]:g[h].data;if(d){if(!m.isArray(b)){if(b in d){b=[b]}else{b=m.camelCase(b);if(b in d){b=[b]}else{b=b.split(" ")}}}else{b=b.concat(m.map(b,m.camelCase))}e=b.length;while(e--){delete d[b[e]]}if(c?!P(d):!m.isEmptyObject(d)){return}}}if(!c){delete g[h].data;if(!P(g[h])){return}}if(f){m.cleanData([a],true)}else if(k.deleteExpando||g!=g.window){delete g[h]}else{g[h]=null}}m.extend({cache:{},noData:{"applet ":true,"embed ":true,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){a=a.nodeType?m.cache[a[m.expando]]:a[m.expando];return!!a&&!P(a)},data:function(a,b,c){return Q(a,b,c)},removeData:function(a,b){return R(a,b)},_data:function(a,b,c){return Q(a,b,c,true)},_removeData:function(a,b){return R(a,b,true)}});m.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(a===undefined){if(this.length){e=m.data(f);if(f.nodeType===1&&!m._data(f,"parsedAttrs")){c=g.length;while(c--){if(g[c]){d=g[c].name;if(d.indexOf("data-")===0){d=m.camelCase(d.slice(5));O(f,d,e[d])}}}m._data(f,"parsedAttrs",true)}}return e}if(typeof a==="object"){return this.each(function(){m.data(this,a)})}return arguments.length>1?this.each(function(){m.data(this,a,b)}):f?O(f,a,m.data(f,a)):undefined},removeData:function(a){return this.each(function(){m.removeData(this,a)})}});m.extend({queue:function(a,b,c){var d;if(a){b=(b||"fx")+"queue";d=m._data(a,b);if(c){if(!d||m.isArray(c)){d=m._data(a,b,m.makeArray(c))}else{d.push(c)}}return d||[]}},dequeue:function(a,b){b=b||"fx";var c=m.queue(a,b),d=c.length,e=c.shift(),f=m._queueHooks(a,b),g=function(){m.dequeue(a,b)};if(e==="inprogress"){e=c.shift();d--}if(e){if(b==="fx"){c.unshift("inprogress")}delete f.stop;e.call(a,g,f)}if(!d&&f){f.empty.fire()}},_queueHooks:function(a,b){var c=b+"queueHooks";return m._data(a,c)||m._data(a,c,{empty:m.Callbacks("once memory").add(function(){m._removeData(a,b+"queue");m._removeData(a,c)})})}});m.fn.extend({queue:function(a,b){var c=2;if(typeof a!=="string"){b=a;a="fx";c--}if(arguments.length<c){return m.queue(this[0],a)}return b===undefined?this:this.each(function(){var c=m.queue(this,a,b);m._queueHooks(this,a);if(a==="fx"&&c[0]!=="inprogress"){m.dequeue(this,a)}})},dequeue:function(a){return this.each(function(){m.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=m.Deferred(),f=this,g=this.length,h=function(){if(!--d){e.resolveWith(f,[f])}};if(typeof a!=="string"){b=a;a=undefined}a=a||"fx";while(g--){c=m._data(f[g],a+"queueHooks");if(c&&c.empty){d++;c.empty.add(h)}}h();return e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source;var T=["Top","Right","Bottom","Left"];var U=function(a,b){a=b||a;return m.css(a,"display")==="none"||!m.contains(a.ownerDocument,a)};var V=m.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=c==null;if(m.type(c)==="object"){e=true;for(h in c){m.access(a,b,h,c[h],true,f,g)}}else if(d!==undefined){e=true;if(!m.isFunction(d)){g=true}if(j){if(g){b.call(a,d);b=null}else{j=b;b=function(a,b,c){return j.call(m(a),c)}}}if(b){for(;h<i;h++){b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)))}}}return e?a:j?b.call(a):i?b(a[0],c):f};var W=/^(?:checkbox|radio)$/i;(function(){var a=y.createElement("input"),b=y.createElement("div"),c=y.createDocumentFragment();b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";k.leadingWhitespace=b.firstChild.nodeType===3;k.tbody=!b.getElementsByTagName("tbody").length;k.htmlSerialize=!!b.getElementsByTagName("link").length;k.html5Clone=y.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>";a.type="checkbox";a.checked=true;c.appendChild(a);k.appendChecked=a.checked;b.innerHTML="<textarea>x</textarea>";k.noCloneChecked=!!b.cloneNode(true).lastChild.defaultValue;c.appendChild(b);b.innerHTML="<input type='radio' checked='checked' name='t'/>";k.checkClone=b.cloneNode(true).cloneNode(true).lastChild.checked;k.noCloneEvent=true;if(b.attachEvent){b.attachEvent("onclick",function(){k.noCloneEvent=false});b.cloneNode(true).click()}if(k.deleteExpando==null){k.deleteExpando=true;try{delete b.test}catch(d){k.deleteExpando=false}}})();(function(){var b,c,d=y.createElement("div");for(b in{submit:true,change:true,focusin:true}){c="on"+b;if(!(k[b+"Bubbles"]=c in a)){d.setAttribute(c,"t");k[b+"Bubbles"]=d.attributes[c].expando===false}}d=null})();var X=/^(?:input|select|textarea)$/i,Y=/^key/,Z=/^(?:mouse|pointer|contextmenu)|click/,$=/^(?:focusinfocus|focusoutblur)$/,_=/^([^.]*)(?:\.(.+)|)$/;function aa(){return true}function ba(){return false}function ca(){try{return y.activeElement}catch(a){}}m.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m._data(a);if(!r){return}if(c.handler){i=c;c=i.handler;e=i.selector}if(!c.guid){c.guid=m.guid++}if(!(g=r.events)){g=r.events={}}if(!(k=r.handle)){k=r.handle=function(a){return typeof m!==K&&(!a||m.event.triggered!==a.type)?m.event.dispatch.apply(k.elem,arguments):undefined};k.elem=a}b=(b||"").match(E)||[""];h=b.length;while(h--){f=_.exec(b[h])||[];o=q=f[1];p=(f[2]||"").split(".").sort();if(!o){continue}j=m.event.special[o]||{};o=(e?j.delegateType:j.bindType)||o;j=m.event.special[o]||{};l=m.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&m.expr.match.needsContext.test(e),namespace:p.join(".")},i);if(!(n=g[o])){n=g[o]=[];n.delegateCount=0;if(!j.setup||j.setup.call(a,d,p,k)===false){if(a.addEventListener){a.addEventListener(o,k,false)}else if(a.attachEvent){a.attachEvent("on"+o,k)}}}if(j.add){j.add.call(a,l);if(!l.handler.guid){l.handler.guid=c.guid}}if(e){n.splice(n.delegateCount++,0,l)}else{n.push(l)}m.event.global[o]=true}a=null},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m.hasData(a)&&m._data(a);if(!r||!(k=r.events)){return}b=(b||"").match(E)||[""];j=b.length;while(j--){h=_.exec(b[j])||[];o=q=h[1];p=(h[2]||"").split(".").sort();if(!o){for(o in k){m.event.remove(a,o+b[j],c,d,true)}continue}l=m.event.special[o]||{};o=(d?l.delegateType:l.bindType)||o;n=k[o]||[];h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)");i=f=n.length;while(f--){g=n[f];if((e||q===g.origType)&&(!c||c.guid===g.guid)&&(!h||h.test(g.namespace))&&(!d||d===g.selector||d==="**"&&g.selector)){n.splice(f,1);if(g.selector){n.delegateCount--}if(l.remove){l.remove.call(a,g)}}}if(i&&!n.length){if(!l.teardown||l.teardown.call(a,p,r.handle)===false){m.removeEvent(a,o,r.handle)}delete k[o]}}if(m.isEmptyObject(k)){delete r.handle;m._removeData(a,"events")}},trigger:function(b,c,d,e){var f,g,h,i,k,l,n,o=[d||y],p=j.call(b,"type")?b.type:b,q=j.call(b,"namespace")?b.namespace.split("."):[];h=l=d=d||y;if(d.nodeType===3||d.nodeType===8){return}if($.test(p+m.event.triggered)){return}if(p.indexOf(".")>=0){q=p.split(".");p=q.shift();q.sort()}g=p.indexOf(":")<0&&"on"+p;b=b[m.expando]?b:new m.Event(p,typeof b==="object"&&b);b.isTrigger=e?2:3;b.namespace=q.join(".");b.namespace_re=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;b.result=undefined;if(!b.target){b.target=d}c=c==null?[b]:m.makeArray(c,[b]);k=m.event.special[p]||{};if(!e&&k.trigger&&k.trigger.apply(d,c)===false){return}if(!e&&!k.noBubble&&!m.isWindow(d)){i=k.delegateType||p;if(!$.test(i+p)){h=h.parentNode}for(;h;h=h.parentNode){o.push(h);l=h}if(l===(d.ownerDocument||y)){o.push(l.defaultView||l.parentWindow||a)}}n=0;while((h=o[n++])&&!b.isPropagationStopped()){b.type=n>1?i:k.bindType||p;f=(m._data(h,"events")||{})[b.type]&&m._data(h,"handle");if(f){f.apply(h,c)}f=g&&h[g];if(f&&f.apply&&m.acceptData(h)){b.result=f.apply(h,c);if(b.result===false){b.preventDefault()}}}b.type=p;if(!e&&!b.isDefaultPrevented()){if((!k._default||k._default.apply(o.pop(),c)===false)&&m.acceptData(d)){if(g&&d[p]&&!m.isWindow(d)){l=d[g];if(l){d[g]=null}m.event.triggered=p;try{d[p]()}catch(r){}m.event.triggered=undefined;if(l){d[g]=l}}}}return b.result},dispatch:function(a){a=m.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(m._data(this,"events")||{})[a.type]||[],k=m.event.special[a.type]||{};i[0]=a;a.delegateTarget=this;if(k.preDispatch&&k.preDispatch.call(this,a)===false){return}h=m.event.handlers.call(this,a,j);b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem;g=0;while((e=f.handlers[g++])&&!a.isImmediatePropagationStopped()){if(!a.namespace_re||a.namespace_re.test(e.namespace)){a.handleObj=e;a.data=e.data;c=((m.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i);if(c!==undefined){if((a.result=c)===false){a.preventDefault();a.stopPropagation()}}}}}if(k.postDispatch){k.postDispatch.call(this,a)}return a.result},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||a.type!=="click")){for(;i!=this;i=i.parentNode||this){if(i.nodeType===1&&(i.disabled!==true||a.type!=="click")){e=[];for(f=0;f<h;f++){d=b[f];c=d.selector+" ";if(e[c]===undefined){e[c]=d.needsContext?m(c,this).index(i)>=0:m.find(c,this,null,[i]).length}if(e[c]){e.push(d)}}if(e.length){g.push({elem:i,handlers:e})}}}}if(h<b.length){g.push({elem:this,handlers:b.slice(h)})}return g},fix:function(a){if(a[m.expando]){return a}var b,c,d,e=a.type,f=a,g=this.fixHooks[e];if(!g){this.fixHooks[e]=g=Z.test(e)?this.mouseHooks:Y.test(e)?this.keyHooks:{}}d=g.props?this.props.concat(g.props):this.props;a=new m.Event(f);b=d.length;while(b--){c=d[b];a[c]=f[c]}if(!a.target){a.target=f.srcElement||y}if(a.target.nodeType===3){a.target=a.target.parentNode}a.metaKey=!!a.metaKey;return g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){if(a.which==null){a.which=b.charCode!=null?b.charCode:b.keyCode}return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;if(a.pageX==null&&b.clientX!=null){d=a.target.ownerDocument||y;e=d.documentElement;c=d.body;a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0);a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)}if(!a.relatedTarget&&g){a.relatedTarget=g===a.target?b.toElement:g}if(!a.which&&f!==undefined){a.which=f&1?1:f&2?3:f&4?2:0}return a}},special:{load:{noBubble:true},focus:{trigger:function(){if(this!==ca()&&this.focus){try{this.focus();return false}catch(a){}}},delegateType:"focusin"},blur:{trigger:function(){if(this===ca()&&this.blur){this.blur();return false}},delegateType:"focusout"},click:{trigger:function(){if(m.nodeName(this,"input")&&this.type==="checkbox"&&this.click){this.click();return false}},_default:function(a){return m.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){if(a.result!==undefined&&a.originalEvent){a.originalEvent.returnValue=a.result}}}},simulate:function(a,b,c,d){var e=m.extend(new m.Event,c,{type:a,isSimulated:true,originalEvent:{}});if(d){m.event.trigger(e,null,b)}else{m.event.dispatch.call(b,e)}if(e.isDefaultPrevented()){c.preventDefault()}}};m.removeEvent=y.removeEventListener?function(a,b,c){if(a.removeEventListener){a.removeEventListener(b,c,false)}}:function(a,b,c){var d="on"+b;if(a.detachEvent){if(typeof a[d]===K){a[d]=null}a.detachEvent(d,c)}};m.Event=function(a,b){if(!(this instanceof m.Event)){return new m.Event(a,b)}if(a&&a.type){this.originalEvent=a;this.type=a.type;this.isDefaultPrevented=a.defaultPrevented||a.defaultPrevented===undefined&&a.returnValue===false?aa:ba}else{this.type=a}if(b){m.extend(this,b)}this.timeStamp=a&&a.timeStamp||m.now();this[m.expando]=true};m.Event.prototype={isDefaultPrevented:ba,isPropagationStopped:ba,isImmediatePropagationStopped:ba,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=aa;if(!a){return}if(a.preventDefault){a.preventDefault()}else{a.returnValue=false}},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=aa;if(!a){return}if(a.stopPropagation){a.stopPropagation()}a.cancelBubble=true},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=aa;if(a&&a.stopImmediatePropagation){a.stopImmediatePropagation()}this.stopPropagation()}};m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){m.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;if(!e||e!==d&&!m.contains(d,e)){a.type=f.origType;c=f.handler.apply(this,arguments);a.type=b}return c}}});if(!k.submitBubbles){m.event.special.submit={setup:function(){if(m.nodeName(this,"form")){return false}m.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=m.nodeName(b,"input")||m.nodeName(b,"button")?b.form:undefined;if(c&&!m._data(c,"submitBubbles")){m.event.add(c,"submit._submit",function(a){a._submit_bubble=true});m._data(c,"submitBubbles",true)}})},postDispatch:function(a){if(a._submit_bubble){delete a._submit_bubble;if(this.parentNode&&!a.isTrigger){m.event.simulate("submit",this.parentNode,a,true)}}},teardown:function(){if(m.nodeName(this,"form")){return false}m.event.remove(this,"._submit")}}}if(!k.changeBubbles){m.event.special.change={setup:function(){if(X.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){m.event.add(this,"propertychange._change",function(a){if(a.originalEvent.propertyName==="checked"){this._just_changed=true}});m.event.add(this,"click._change",function(a){if(this._just_changed&&!a.isTrigger){this._just_changed=false}m.event.simulate("change",this,a,true)})}return false}m.event.add(this,"beforeactivate._change",function(a){var b=a.target;if(X.test(b.nodeName)&&!m._data(b,"changeBubbles")){m.event.add(b,"change._change",function(a){if(this.parentNode&&!a.isSimulated&&!a.isTrigger){m.event.simulate("change",this.parentNode,a,true)}});m._data(b,"changeBubbles",true)}})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!=="radio"&&b.type!=="checkbox"){return a.handleObj.handler.apply(this,arguments)}},teardown:function(){m.event.remove(this,"._change");return!X.test(this.nodeName)}}}if(!k.focusinBubbles){m.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){m.event.simulate(b,a.target,m.event.fix(a),true)};m.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=m._data(d,b);if(!e){d.addEventListener(a,c,true)}m._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=m._data(d,b)-1;if(!e){d.removeEventListener(a,c,true);m._removeData(d,b)}else{m._data(d,b,e)}}}})}m.fn.extend({on:function(a,b,c,d,e){var f,g;if(typeof a==="object"){if(typeof b!=="string"){c=c||b;b=undefined}for(f in a){this.on(f,b,c,a[f],e)}return this;
}if(c==null&&d==null){d=b;c=b=undefined}else if(d==null){if(typeof b==="string"){d=c;c=undefined}else{d=c;c=b;b=undefined}}if(d===false){d=ba}else if(!d){return this}if(e===1){g=d;d=function(a){m().off(a);return g.apply(this,arguments)};d.guid=g.guid||(g.guid=m.guid++)}return this.each(function(){m.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj){d=a.handleObj;m(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler);return this}if(typeof a==="object"){for(e in a){this.off(e,b,a[e])}return this}if(b===false||typeof b==="function"){c=b;b=undefined}if(c===false){c=ba}return this.each(function(){m.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){m.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c){return m.event.trigger(a,b,c,true)}}});function da(a){var b=ea.split("|"),c=a.createDocumentFragment();if(c.createElement){while(b.length){c.createElement(b.pop())}}return c}var ea="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|"+"header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",fa=/ jQuery\d+="(?:null|\d+)"/g,ga=new RegExp("<(?:"+ea+")[\\s/>]","i"),ha=/^\s+/,ia=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ja=/<([\w:]+)/,ka=/<tbody/i,la=/<|&#?\w+;/,ma=/<(?:script|style|link)/i,na=/checked\s*(?:[^=]|=\s*.checked.)/i,oa=/^$|\/(?:java|ecma)script/i,pa=/^true\/(.*)/,qa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ra={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:k.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},sa=da(y),ta=sa.appendChild(y.createElement("div"));ra.optgroup=ra.option;ra.tbody=ra.tfoot=ra.colgroup=ra.caption=ra.thead;ra.th=ra.td;function ua(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==K?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==K?a.querySelectorAll(b||"*"):undefined;if(!f){for(f=[],c=a.childNodes||a;(d=c[e])!=null;e++){if(!b||m.nodeName(d,b)){f.push(d)}else{m.merge(f,ua(d,b))}}}return b===undefined||b&&m.nodeName(a,b)?m.merge([a],f):f}function va(a){if(W.test(a.type)){a.defaultChecked=a.checked}}function wa(a,b){return m.nodeName(a,"table")&&m.nodeName(b.nodeType!==11?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function xa(a){a.type=(m.find.attr(a,"type")!==null)+"/"+a.type;return a}function ya(a){var b=pa.exec(a.type);if(b){a.type=b[1]}else{a.removeAttribute("type")}return a}function za(a,b){var c,d=0;for(;(c=a[d])!=null;d++){m._data(c,"globalEval",!b||m._data(b[d],"globalEval"))}}function Aa(a,b){if(b.nodeType!==1||!m.hasData(a)){return}var c,d,e,f=m._data(a),g=m._data(b,f),h=f.events;if(h){delete g.handle;g.events={};for(c in h){for(d=0,e=h[c].length;d<e;d++){m.event.add(b,c,h[c][d])}}}if(g.data){g.data=m.extend({},g.data)}}function Ba(a,b){var c,d,e;if(b.nodeType!==1){return}c=b.nodeName.toLowerCase();if(!k.noCloneEvent&&b[m.expando]){e=m._data(b);for(d in e.events){m.removeEvent(b,d,e.handle)}b.removeAttribute(m.expando)}if(c==="script"&&b.text!==a.text){xa(b).text=a.text;ya(b)}else if(c==="object"){if(b.parentNode){b.outerHTML=a.outerHTML}if(k.html5Clone&&(a.innerHTML&&!m.trim(b.innerHTML))){b.innerHTML=a.innerHTML}}else if(c==="input"&&W.test(a.type)){b.defaultChecked=b.checked=a.checked;if(b.value!==a.value){b.value=a.value}}else if(c==="option"){b.defaultSelected=b.selected=a.defaultSelected}else if(c==="input"||c==="textarea"){b.defaultValue=a.defaultValue}}m.extend({clone:function(a,b,c){var d,e,f,g,h,i=m.contains(a.ownerDocument,a);if(k.html5Clone||m.isXMLDoc(a)||!ga.test("<"+a.nodeName+">")){f=a.cloneNode(true)}else{ta.innerHTML=a.outerHTML;ta.removeChild(f=ta.firstChild)}if((!k.noCloneEvent||!k.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!m.isXMLDoc(a)){d=ua(f);h=ua(a);for(g=0;(e=h[g])!=null;++g){if(d[g]){Ba(e,d[g])}}}if(b){if(c){h=h||ua(a);d=d||ua(f);for(g=0;(e=h[g])!=null;g++){Aa(e,d[g])}}else{Aa(a,f)}}d=ua(f,"script");if(d.length>0){za(d,!i&&ua(a,"script"))}d=h=e=null;return f},buildFragment:function(a,b,c,d){var e,f,g,h,i,j,l,n=a.length,o=da(b),p=[],q=0;for(;q<n;q++){f=a[q];if(f||f===0){if(m.type(f)==="object"){m.merge(p,f.nodeType?[f]:f)}else if(!la.test(f)){p.push(b.createTextNode(f))}else{h=h||o.appendChild(b.createElement("div"));i=(ja.exec(f)||["",""])[1].toLowerCase();l=ra[i]||ra._default;h.innerHTML=l[1]+f.replace(ia,"<$1></$2>")+l[2];e=l[0];while(e--){h=h.lastChild}if(!k.leadingWhitespace&&ha.test(f)){p.push(b.createTextNode(ha.exec(f)[0]))}if(!k.tbody){f=i==="table"&&!ka.test(f)?h.firstChild:l[1]==="<table>"&&!ka.test(f)?h:0;e=f&&f.childNodes.length;while(e--){if(m.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length){f.removeChild(j)}}}m.merge(p,h.childNodes);h.textContent="";while(h.firstChild){h.removeChild(h.firstChild)}h=o.lastChild}}}if(h){o.removeChild(h)}if(!k.appendChecked){m.grep(ua(p,"input"),va)}q=0;while(f=p[q++]){if(d&&m.inArray(f,d)!==-1){continue}g=m.contains(f.ownerDocument,f);h=ua(o.appendChild(f),"script");if(g){za(h)}if(c){e=0;while(f=h[e++]){if(oa.test(f.type||"")){c.push(f)}}}}h=null;return o},cleanData:function(a,b){var d,e,f,g,h=0,i=m.expando,j=m.cache,l=k.deleteExpando,n=m.event.special;for(;(d=a[h])!=null;h++){if(b||m.acceptData(d)){f=d[i];g=f&&j[f];if(g){if(g.events){for(e in g.events){if(n[e]){m.event.remove(d,e)}else{m.removeEvent(d,e,g.handle)}}}if(j[f]){delete j[f];if(l){delete d[i]}else if(typeof d.removeAttribute!==K){d.removeAttribute(i)}else{d[i]=null}c.push(f)}}}}}});m.fn.extend({text:function(a){return V(this,function(a){return a===undefined?m.text(this):this.empty().append((this[0]&&this[0].ownerDocument||y).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var b=wa(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var b=wa(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){if(this.parentNode){this.parentNode.insertBefore(a,this)}})},after:function(){return this.domManip(arguments,function(a){if(this.parentNode){this.parentNode.insertBefore(a,this.nextSibling)}})},remove:function(a,b){var c,d=a?m.filter(a,this):this,e=0;for(;(c=d[e])!=null;e++){if(!b&&c.nodeType===1){m.cleanData(ua(c))}if(c.parentNode){if(b&&m.contains(c.ownerDocument,c)){za(ua(c,"script"))}c.parentNode.removeChild(c)}}return this},empty:function(){var a,b=0;for(;(a=this[b])!=null;b++){if(a.nodeType===1){m.cleanData(ua(a,false))}while(a.firstChild){a.removeChild(a.firstChild)}if(a.options&&m.nodeName(a,"select")){a.options.length=0}}return this},clone:function(a,b){a=a==null?false:a;b=b==null?a:b;return this.map(function(){return m.clone(this,a,b)})},html:function(a){return V(this,function(a){var b=this[0]||{},c=0,d=this.length;if(a===undefined){return b.nodeType===1?b.innerHTML.replace(fa,""):undefined}if(typeof a==="string"&&!ma.test(a)&&(k.htmlSerialize||!ga.test(a))&&(k.leadingWhitespace||!ha.test(a))&&!ra[(ja.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(ia,"<$1></$2>");try{for(;c<d;c++){b=this[c]||{};if(b.nodeType===1){m.cleanData(ua(b,false));b.innerHTML=a}}b=0}catch(e){}}if(b){this.empty().append(a)}},null,a,arguments.length)},replaceWith:function(){var b=arguments[0];this.domManip(arguments,function(c){b=this.parentNode;m.cleanData(ua(this));if(b){if(y.documentMode=="8"||y.documentMode=="9"){var d=function(){};var e=function(){d=function(a,b){if(a){a[b]=null}};a.setTimeout(e,10)};e()}b.replaceChild(c,this)}});return b&&(b.length||b.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,true)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,n=this,o=l-1,p=a[0],q=m.isFunction(p);if(q||l>1&&typeof p==="string"&&!k.checkClone&&na.test(p)){return this.each(function(c){var d=n.eq(c);if(q){a[0]=p.call(this,c,d.html())}d.domManip(a,b)})}if(l){i=m.buildFragment(a,this[0].ownerDocument,false,this);c=i.firstChild;if(i.childNodes.length===1){i=c}if(c){g=m.map(ua(i,"script"),xa);f=g.length;for(;j<l;j++){d=i;if(j!==o){d=m.clone(d,true,true);if(f){m.merge(g,ua(d,"script"))}}b.call(this[j],d,j)}if(f){h=g[g.length-1].ownerDocument;m.map(g,ya);for(j=0;j<f;j++){d=g[j];if(oa.test(d.type||"")&&!m._data(d,"globalEval")&&m.contains(h,d)){if(d.src){if(m._evalUrl){m._evalUrl(d.src)}}else{m.globalEval((d.text||d.textContent||d.innerHTML||"").replace(qa,""))}}}}i=c=null}}return this}});m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){m.fn[a]=function(a){var c,d=0,e=[],g=m(a),h=g.length-1;for(;d<=h;d++){c=d===h?this:this.clone(true);m(g[d])[b](c);f.apply(e,c.get())}return this.pushStack(e)}});var Ca,Da={};function Ea(b,c){var d,e=m(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:m.css(e[0],"display");e.detach();return f}function Fa(a){var b=y,c=Da[a];if(!c){c=Ea(a,b);if(c==="none"||!c){Ca=(Ca||m("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement);b=(Ca[0].contentWindow||Ca[0].contentDocument).document;b.write();b.close();c=Ea(a,b);Ca.detach()}Da[a]=c}return c}(function(){var a;k.shrinkWrapBlocks=function(){if(a!=null){return a}a=false;var b,c,d;c=y.getElementsByTagName("body")[0];if(!c||!c.style){return}b=y.createElement("div");d=y.createElement("div");d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px";c.appendChild(d).appendChild(b);if(typeof b.style.zoom!==K){b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;"+"box-sizing:content-box;display:block;margin:0;border:0;"+"padding:1px;width:1px;zoom:1";b.appendChild(y.createElement("div")).style.width="5px";a=b.offsetWidth!==3}c.removeChild(d);return a}})();var Ga=/^margin/;var Ha=new RegExp("^("+S+")(?!px)[a-z%]+$","i");var Ia,Ja,Ka=/^(top|right|bottom|left)$/;if(a.getComputedStyle){Ia=function(b){if(b.ownerDocument.defaultView.opener){return b.ownerDocument.defaultView.getComputedStyle(b,null)}return a.getComputedStyle(b,null)};Ja=function(a,b,c){var d,e,f,g,h=a.style;c=c||Ia(a);g=c?c.getPropertyValue(b)||c[b]:undefined;if(c){if(g===""&&!m.contains(a.ownerDocument,a)){g=m.style(a,b)}if(Ha.test(g)&&Ga.test(b)){d=h.width;e=h.minWidth;f=h.maxWidth;h.minWidth=h.maxWidth=h.width=g;g=c.width;h.width=d;h.minWidth=e;h.maxWidth=f}}return g===undefined?g:g+""}}else if(y.documentElement.currentStyle){Ia=function(a){return a.currentStyle};Ja=function(a,b,c){var d,e,f,g,h=a.style;c=c||Ia(a);g=c?c[b]:undefined;if(g==null&&h&&h[b]){g=h[b]}if(Ha.test(g)&&!Ka.test(b)){d=h.left;e=a.runtimeStyle;f=e&&e.left;if(f){e.left=a.currentStyle.left}h.left=b==="fontSize"?"1em":g;g=h.pixelLeft+"px";h.left=d;if(f){e.left=f}}return g===undefined?g:g+""||"auto"}}function La(a,b){return{get:function(){var c=a();if(c==null){return}if(c){delete this.get;return}return(this.get=b).apply(this,arguments)}}}(function(){var b,c,d,e,f,g,h;b=y.createElement("div");b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";d=b.getElementsByTagName("a")[0];c=d&&d.style;if(!c){return}c.cssText="float:left;opacity:.5";k.opacity=c.opacity==="0.5";k.cssFloat=!!c.cssFloat;b.style.backgroundClip="content-box";b.cloneNode(true).style.backgroundClip="";k.clearCloneStyle=b.style.backgroundClip==="content-box";k.boxSizing=c.boxSizing===""||c.MozBoxSizing===""||c.WebkitBoxSizing==="";m.extend(k,{reliableHiddenOffsets:function(){if(g==null){i()}return g},boxSizingReliable:function(){if(f==null){i()}return f},pixelPosition:function(){if(e==null){i()}return e},reliableMarginRight:function(){if(h==null){i()}return h}});function i(){var b,c,d,i;c=y.getElementsByTagName("body")[0];if(!c||!c.style){return}b=y.createElement("div");d=y.createElement("div");d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px";c.appendChild(d).appendChild(b);b.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;"+"box-sizing:border-box;display:block;margin-top:1%;top:1%;"+"border:1px;padding:1px;width:4px;position:absolute";e=f=false;h=true;if(a.getComputedStyle){e=(a.getComputedStyle(b,null)||{}).top!=="1%";f=(a.getComputedStyle(b,null)||{width:"4px"}).width==="4px";i=b.appendChild(y.createElement("div"));i.style.cssText=b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;"+"box-sizing:content-box;display:block;margin:0;border:0;padding:0";i.style.marginRight=i.style.width="0";b.style.width="1px";h=!parseFloat((a.getComputedStyle(i,null)||{}).marginRight);b.removeChild(i)}b.innerHTML="<table><tr><td></td><td>t</td></tr></table>";i=b.getElementsByTagName("td");i[0].style.cssText="margin:0;border:0;padding:0;display:none";g=i[0].offsetHeight===0;if(g){i[0].style.display="";i[1].style.display="none";g=i[0].offsetHeight===0}c.removeChild(d)}})();m.swap=function(a,b,c,d){var e,f,g={};for(f in b){g[f]=a.style[f];a.style[f]=b[f]}e=c.apply(a,d||[]);for(f in b){a.style[f]=g[f]}return e};var Ma=/alpha\([^)]*\)/i,Na=/opacity\s*=\s*([^)]*)/,Oa=/^(none|table(?!-c[ea]).+)/,Pa=new RegExp("^("+S+")(.*)$","i"),Qa=new RegExp("^([+-])=("+S+")","i"),Ra={position:"absolute",visibility:"hidden",display:"block"},Sa={letterSpacing:"0",fontWeight:"400"},Ta=["Webkit","O","Moz","ms"];function Ua(a,b){if(b in a){return b}var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=Ta.length;while(e--){b=Ta[e]+c;if(b in a){return b}}return d}function Va(a,b){var c,d,e,f=[],g=0,h=a.length;for(;g<h;g++){d=a[g];if(!d.style){continue}f[g]=m._data(d,"olddisplay");c=d.style.display;if(b){if(!f[g]&&c==="none"){d.style.display=""}if(d.style.display===""&&U(d)){f[g]=m._data(d,"olddisplay",Fa(d.nodeName))}}else{e=U(d);if(c&&c!=="none"||!e){m._data(d,"olddisplay",e?c:m.css(d,"display"))}}}for(g=0;g<h;g++){d=a[g];if(!d.style){continue}if(!b||d.style.display==="none"||d.style.display===""){d.style.display=b?f[g]||"":"none"}}return a}function Wa(a,b,c){var d=Pa.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Xa(a,b,c,d,e){var f=c===(d?"border":"content")?4:b==="width"?1:0,g=0;for(;f<4;f+=2){if(c==="margin"){g+=m.css(a,c+T[f],true,e)}if(d){if(c==="content"){g-=m.css(a,"padding"+T[f],true,e)}if(c!=="margin"){g-=m.css(a,"border"+T[f]+"Width",true,e)}}else{g+=m.css(a,"padding"+T[f],true,e);if(c!=="padding"){g+=m.css(a,"border"+T[f]+"Width",true,e)}}}return g}function Ya(a,b,c){var d=true,e=b==="width"?a.offsetWidth:a.offsetHeight,f=Ia(a),g=k.boxSizing&&m.css(a,"boxSizing",false,f)==="border-box";if(e<=0||e==null){e=Ja(a,b,f);if(e<0||e==null){e=a.style[b]}if(Ha.test(e)){return e}d=g&&(k.boxSizingReliable()||e===a.style[b]);e=parseFloat(e)||0}return e+Xa(a,b,c||(g?"border":"content"),d,f)+"px"}m.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Ja(a,"opacity");return c===""?"1":c}}}},cssNumber:{columnCount:true,fillOpacity:true,flexGrow:true,flexShrink:true,fontWeight:true,lineHeight:true,opacity:true,order:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":k.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(!a||a.nodeType===3||a.nodeType===8||!a.style){return}var e,f,g,h=m.camelCase(b),i=a.style;b=m.cssProps[h]||(m.cssProps[h]=Ua(i,h));g=m.cssHooks[b]||m.cssHooks[h];if(c!==undefined){f=typeof c;if(f==="string"&&(e=Qa.exec(c))){c=(e[1]+1)*e[2]+parseFloat(m.css(a,b));f="number"}if(c==null||c!==c){return}if(f==="number"&&!m.cssNumber[h]){c+="px"}if(!k.clearCloneStyle&&c===""&&b.indexOf("background")===0){i[b]="inherit"}if(!g||!("set"in g)||(c=g.set(a,c,d))!==undefined){try{i[b]=c}catch(j){}}}else{if(g&&"get"in g&&(e=g.get(a,false,d))!==undefined){return e}return i[b]}},css:function(a,b,c,d){var e,f,g,h=m.camelCase(b);b=m.cssProps[h]||(m.cssProps[h]=Ua(a.style,h));g=m.cssHooks[b]||m.cssHooks[h];if(g&&"get"in g){f=g.get(a,true,c)}if(f===undefined){f=Ja(a,b,d)}if(f==="normal"&&b in Sa){f=Sa[b]}if(c===""||c){e=parseFloat(f);return c===true||m.isNumeric(e)?e||0:f}return f}});m.each(["height","width"],function(a,b){m.cssHooks[b]={get:function(a,c,d){if(c){return Oa.test(m.css(a,"display"))&&a.offsetWidth===0?m.swap(a,Ra,function(){return Ya(a,b,d)}):Ya(a,b,d)}},set:function(a,c,d){var e=d&&Ia(a);return Wa(a,c,d?Xa(a,b,d,k.boxSizing&&m.css(a,"boxSizing",false,e)==="border-box",e):0)}}});if(!k.opacity){m.cssHooks.opacity={get:function(a,b){return Na.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=m.isNumeric(b)?"alpha(opacity="+b*100+")":"",f=d&&d.filter||c.filter||"";c.zoom=1;if((b>=1||b==="")&&m.trim(f.replace(Ma,""))===""&&c.removeAttribute){c.removeAttribute("filter");if(b===""||d&&!d.filter){return}}c.filter=Ma.test(f)?f.replace(Ma,e):f+" "+e}}}m.cssHooks.marginRight=La(k.reliableMarginRight,function(a,b){if(b){return m.swap(a,{display:"inline-block"},Ja,[a,"marginRight"])}});m.each({margin:"",padding:"",border:"Width"},function(a,b){m.cssHooks[a+b]={expand:function(c){var d=0,e={},f=typeof c==="string"?c.split(" "):[c];for(;d<4;d++){e[a+T[d]+b]=f[d]||f[d-2]||f[0]}return e}};if(!Ga.test(a)){m.cssHooks[a+b].set=Wa}});m.fn.extend({css:function(a,b){return V(this,function(a,b,c){var d,e,f={},g=0;if(m.isArray(b)){d=Ia(a);e=b.length;for(;g<e;g++){f[b[g]]=m.css(a,b[g],false,d)}return f}return c!==undefined?m.style(a,b,c):m.css(a,b)},a,b,arguments.length>1)},show:function(){return Va(this,true)},hide:function(){return Va(this)},toggle:function(a){if(typeof a==="boolean"){return a?this.show():this.hide()}return this.each(function(){if(U(this)){m(this).show()}else{m(this).hide()}})}});function Za(a,b,c,d,e){return new Za.prototype.init(a,b,c,d,e)}m.Tween=Za;Za.prototype={constructor:Za,init:function(a,b,c,d,e,f){this.elem=a;this.prop=c;this.easing=e||"swing";this.options=b;this.start=this.now=this.cur();this.end=d;this.unit=f||(m.cssNumber[c]?"":"px")},cur:function(){var a=Za.propHooks[this.prop];return a&&a.get?a.get(this):Za.propHooks._default.get(this)},run:function(a){var b,c=Za.propHooks[this.prop];if(this.options.duration){this.pos=b=m.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration)}else{this.pos=b=a}this.now=(this.end-this.start)*b+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(c&&c.set){c.set(this)}else{Za.propHooks._default.set(this)}return this}};Za.prototype.init.prototype=Za.prototype;Za.propHooks={_default:{get:function(a){var b;if(a.elem[a.prop]!=null&&(!a.elem.style||a.elem.style[a.prop]==null)){return a.elem[a.prop]}b=m.css(a.elem,a.prop,"");return!b||b==="auto"?0:b},set:function(a){if(m.fx.step[a.prop]){m.fx.step[a.prop](a)}else if(a.elem.style&&(a.elem.style[m.cssProps[a.prop]]!=null||m.cssHooks[a.prop])){m.style(a.elem,a.prop,a.now+a.unit)}else{a.elem[a.prop]=a.now}}}};Za.propHooks.scrollTop=Za.propHooks.scrollLeft={set:function(a){if(a.elem.nodeType&&a.elem.parentNode){a.elem[a.prop]=a.now}}};m.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}};m.fx=Za.prototype.init;m.fx.step={};var $a,_a,ab=/^(?:toggle|show|hide)$/,bb=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),cb=/queueHooks$/,db=[ib],eb={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=bb.exec(b),f=e&&e[3]||(m.cssNumber[a]?"":"px"),g=(m.cssNumber[a]||f!=="px"&&+d)&&bb.exec(m.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3];e=e||[];g=+d||1;do{h=h||".5";g=g/h;m.style(c.elem,a,g+f)}while(h!==(h=c.cur()/d)&&h!==1&&--i)}if(e){g=c.start=+g||+d||0;c.unit=f;c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]}return c}]};function fb(){setTimeout(function(){$a=undefined});return $a=m.now()}function gb(a,b){var c,d={height:a},e=0;b=b?1:0;for(;e<4;e+=2-b){c=T[e];d["margin"+c]=d["padding"+c]=a}if(b){d.opacity=d.width=a}return d}function hb(a,b,c){var d,e=(eb[b]||[]).concat(eb["*"]),f=0,g=e.length;for(;f<g;f++){if(d=e[f].call(c,b,a)){return d}}}function ib(a,b,c){var d,e,f,g,h,i,j,l,n=this,o={},p=a.style,q=a.nodeType&&U(a),r=m._data(a,"fxshow");if(!c.queue){h=m._queueHooks(a,"fx");if(h.unqueued==null){h.unqueued=0;i=h.empty.fire;h.empty.fire=function(){if(!h.unqueued){i()}}}h.unqueued++;n.always(function(){n.always(function(){h.unqueued--;if(!m.queue(a,"fx").length){h.empty.fire()}})})}if(a.nodeType===1&&("height"in b||"width"in b)){c.overflow=[p.overflow,p.overflowX,p.overflowY];j=m.css(a,"display");l=j==="none"?m._data(a,"olddisplay")||Fa(a.nodeName):j;if(l==="inline"&&m.css(a,"float")==="none"){if(!k.inlineBlockNeedsLayout||Fa(a.nodeName)==="inline"){p.display="inline-block"}else{p.zoom=1}}}if(c.overflow){p.overflow="hidden";if(!k.shrinkWrapBlocks()){n.always(function(){p.overflow=c.overflow[0];p.overflowX=c.overflow[1];p.overflowY=c.overflow[2]})}}for(d in b){e=b[d];if(ab.exec(e)){delete b[d];f=f||e==="toggle";if(e===(q?"hide":"show")){if(e==="show"&&r&&r[d]!==undefined){q=true}else{continue}}o[d]=r&&r[d]||m.style(a,d)}else{j=undefined}}if(!m.isEmptyObject(o)){if(r){if("hidden"in r){q=r.hidden}}else{r=m._data(a,"fxshow",{})}if(f){r.hidden=!q}if(q){m(a).show()}else{n.done(function(){m(a).hide()})}n.done(function(){var b;m._removeData(a,"fxshow");for(b in o){m.style(a,b,o[b])}});for(d in o){g=hb(q?r[d]:0,d,n);if(!(d in r)){r[d]=g.start;if(q){g.end=g.start;g.start=d==="width"||d==="height"?1:0}}}}else if((j==="none"?Fa(a.nodeName):j)==="inline"){p.display=j}}function jb(a,b){var c,d,e,f,g;for(c in a){d=m.camelCase(c);e=b[d];f=a[c];if(m.isArray(f)){e=f[1];f=a[c]=f[0]}if(c!==d){a[d]=f;delete a[c]}g=m.cssHooks[d];if(g&&"expand"in g){f=g.expand(f);delete a[d];for(c in f){if(!(c in a)){a[c]=f[c];b[c]=e}}}else{b[d]=e}}}function kb(a,b,c){var d,e,f=0,g=db.length,h=m.Deferred().always(function(){delete i.elem}),i=function(){if(e){return false}var b=$a||fb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;for(;g<i;g++){j.tweens[g].run(f)}h.notifyWith(a,[j,f,c]);if(f<1&&i){return c}else{h.resolveWith(a,[j]);return false}},j=h.promise({elem:a,props:m.extend({},b),opts:m.extend(true,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:$a||fb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=m.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);j.tweens.push(d);return d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e){return this}e=true;for(;c<d;c++){j.tweens[c].run(1)}if(b){h.resolveWith(a,[j,b])}else{h.rejectWith(a,[j,b])}return this}}),k=j.props;jb(k,j.opts.specialEasing);for(;f<g;f++){d=db[f].call(j,a,k,j.opts);if(d){return d}}m.map(k,hb,j);if(m.isFunction(j.opts.start)){j.opts.start.call(a,j)}m.fx.timer(m.extend(i,{elem:a,anim:j,queue:j.opts.queue}));return j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}m.Animation=m.extend(kb,{tweener:function(a,b){if(m.isFunction(a)){b=a;a=["*"]}else{a=a.split(" ")}var c,d=0,e=a.length;for(;d<e;d++){c=a[d];eb[c]=eb[c]||[];eb[c].unshift(b)}},prefilter:function(a,b){if(b){db.unshift(a)}else{db.push(a)}}});m.speed=function(a,b,c){var d=a&&typeof a==="object"?m.extend({},a):{complete:c||!c&&b||m.isFunction(a)&&a,duration:a,easing:c&&b||b&&!m.isFunction(b)&&b};d.duration=m.fx.off?0:typeof d.duration==="number"?d.duration:d.duration in m.fx.speeds?m.fx.speeds[d.duration]:m.fx.speeds._default;if(d.queue==null||d.queue===true){d.queue="fx"}d.old=d.complete;d.complete=function(){if(m.isFunction(d.old)){d.old.call(this)}if(d.queue){m.dequeue(this,d.queue)}};return d};m.fn.extend({fadeTo:function(a,b,c,d){return this.filter(U).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=m.isEmptyObject(a),f=m.speed(b,c,d),g=function(){var b=kb(this,m.extend({},a),f);if(e||m._data(this,"finish")){b.stop(true)}};g.finish=g;return e||f.queue===false?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop;b(c)};if(typeof a!=="string"){c=b;b=a;a=undefined}if(b&&a!==false){this.queue(a||"fx",[])}return this.each(function(){var b=true,e=a!=null&&a+"queueHooks",f=m.timers,g=m._data(this);if(e){if(g[e]&&g[e].stop){d(g[e])}}else{for(e in g){if(g[e]&&g[e].stop&&cb.test(e)){d(g[e])}}}for(e=f.length;e--;){if(f[e].elem===this&&(a==null||f[e].queue===a)){f[e].anim.stop(c);b=false;f.splice(e,1)}}if(b||!c){m.dequeue(this,a)}})},finish:function(a){if(a!==false){a=a||"fx"}return this.each(function(){var b,c=m._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=m.timers,g=d?d.length:0;c.finish=true;m.queue(this,a,[]);if(e&&e.stop){e.stop.call(this,true)}for(b=f.length;b--;){if(f[b].elem===this&&f[b].queue===a){f[b].anim.stop(true);f.splice(b,1)}}for(b=0;b<g;b++){if(d[b]&&d[b].finish){d[b].finish.call(this)}}delete c.finish})}});m.each(["toggle","show","hide"],function(a,b){var c=m.fn[b];m.fn[b]=function(a,d,e){return a==null||typeof a==="boolean"?c.apply(this,arguments):this.animate(gb(b,true),a,d,e)}});m.each({slideDown:gb("show"),slideUp:gb("hide"),slideToggle:gb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){m.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}});m.timers=[];m.fx.tick=function(){var a,b=m.timers,c=0;$a=m.now();for(;c<b.length;c++){a=b[c];if(!a()&&b[c]===a){b.splice(c--,1)}}if(!b.length){m.fx.stop()}$a=undefined};m.fx.timer=function(a){m.timers.push(a);if(a()){m.fx.start()}else{m.timers.pop()}};m.fx.interval=13;m.fx.start=function(){if(!_a){_a=setInterval(m.fx.tick,m.fx.interval)}};m.fx.stop=function(){clearInterval(_a);_a=null};m.fx.speeds={slow:600,fast:200,_default:400};m.fn.delay=function(a,b){a=m.fx?m.fx.speeds[a]||a:a;b=b||"fx";return this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})};(function(){var a,b,c,d,e;b=y.createElement("div");b.setAttribute("className","t");b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";d=b.getElementsByTagName("a")[0];c=y.createElement("select");e=c.appendChild(y.createElement("option"));a=b.getElementsByTagName("input")[0];d.style.cssText="top:1px";k.getSetAttribute=b.className!=="t";k.style=/top/.test(d.getAttribute("style"));k.hrefNormalized=d.getAttribute("href")==="/a";k.checkOn=!!a.value;k.optSelected=e.selected;k.enctype=!!y.createElement("form").enctype;c.disabled=true;k.optDisabled=!e.disabled;a=y.createElement("input");a.setAttribute("value","");k.input=a.getAttribute("value")==="";a.value="t";a.setAttribute("type","radio");k.radioValue=a.value==="t"})();var lb=/\r/g;m.fn.extend({val:function(a){var b,c,d,e=this[0];if(!arguments.length){if(e){b=m.valHooks[e.type]||m.valHooks[e.nodeName.toLowerCase()];if(b&&"get"in b&&(c=b.get(e,"value"))!==undefined){return c}c=e.value;return typeof c==="string"?c.replace(lb,""):c==null?"":c}return}d=m.isFunction(a);return this.each(function(c){var e;if(this.nodeType!==1){return}if(d){e=a.call(this,c,m(this).val())}else{e=a}if(e==null){e=""}else if(typeof e==="number"){e+=""}else if(m.isArray(e)){e=m.map(e,function(a){return a==null?"":a+""})}b=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()];if(!b||!("set"in b)||b.set(this,e,"value")===undefined){this.value=e}})}});m.extend({valHooks:{option:{get:function(a){var b=m.find.attr(a,"value");return b!=null?b:m.trim(m.text(a))}},select:{get:function(a){var b,c,d=a.options,e=a.selectedIndex,f=a.type==="select-one"||e<0,g=f?null:[],h=f?e+1:d.length,i=e<0?h:f?e:0;for(;i<h;i++){c=d[i];if((c.selected||i===e)&&(k.optDisabled?!c.disabled:c.getAttribute("disabled")===null)&&(!c.parentNode.disabled||!m.nodeName(c.parentNode,"optgroup"))){b=m(c).val();if(f){return b}g.push(b)}}return g},set:function(a,b){var c,d,e=a.options,f=m.makeArray(b),g=e.length;while(g--){d=e[g];if(m.inArray(m.valHooks.option.get(d),f)>=0){try{d.selected=c=true}catch(h){d.scrollHeight}}else{d.selected=false}}if(!c){a.selectedIndex=-1}return e}}}});m.each(["radio","checkbox"],function(){m.valHooks[this]={set:function(a,b){if(m.isArray(b)){return a.checked=m.inArray(m(a).val(),b)>=0}}};if(!k.checkOn){m.valHooks[this].get=function(a){return a.getAttribute("value")===null?"on":a.value}}});var mb,nb,ob=m.expr.attrHandle,pb=/^(?:checked|selected)$/i,qb=k.getSetAttribute,rb=k.input;m.fn.extend({attr:function(a,b){return V(this,m.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){m.removeAttr(this,a)})}});m.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(!a||f===3||f===8||f===2){return}if(typeof a.getAttribute===K){return m.prop(a,b,c)}if(f!==1||!m.isXMLDoc(a)){b=b.toLowerCase();d=m.attrHooks[b]||(m.expr.match.bool.test(b)?nb:mb)}if(c!==undefined){if(c===null){m.removeAttr(a,b)}else if(d&&"set"in d&&(e=d.set(a,c,b))!==undefined){return e}else{a.setAttribute(b,c+"");return c}}else if(d&&"get"in d&&(e=d.get(a,b))!==null){return e}else{e=m.find.attr(a,b);return e==null?undefined:e}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&a.nodeType===1){while(c=f[e++]){d=m.propFix[c]||c;if(m.expr.match.bool.test(c)){if(rb&&qb||!pb.test(c)){a[d]=false}else{a[m.camelCase("default-"+c)]=a[d]=false}}else{m.attr(a,c,"")}a.removeAttribute(qb?c:d)}}},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&b==="radio"&&m.nodeName(a,"input")){var c=a.value;a.setAttribute("type",b);if(c){a.value=c}return b}}}}});nb={set:function(a,b,c){if(b===false){m.removeAttr(a,c)}else if(rb&&qb||!pb.test(c)){a.setAttribute(!qb&&m.propFix[c]||c,c)}else{a[m.camelCase("default-"+c)]=a[c]=true}return c}};m.each(m.expr.match.bool.source.match(/\w+/g),function(a,b){var c=ob[b]||m.find.attr;ob[b]=rb&&qb||!pb.test(b)?function(a,b,d){var e,f;if(!d){f=ob[b];ob[b]=e;e=c(a,b,d)!=null?b.toLowerCase():null;ob[b]=f}return e}:function(a,b,c){if(!c){return a[m.camelCase("default-"+b)]?b.toLowerCase():null}}});if(!rb||!qb){m.attrHooks.value={set:function(a,b,c){if(m.nodeName(a,"input")){a.defaultValue=b}else{return mb&&mb.set(a,b,c)}}}}if(!qb){mb={set:function(a,b,c){var d=a.getAttributeNode(c);if(!d){a.setAttributeNode(d=a.ownerDocument.createAttribute(c))}d.value=b+="";if(c==="value"||b===a.getAttribute(c)){return b}}};ob.id=ob.name=ob.coords=function(a,b,c){var d;if(!c){return(d=a.getAttributeNode(b))&&d.value!==""?d.value:null}};m.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);if(c&&c.specified){return c.value}},set:mb.set};m.attrHooks.contenteditable={set:function(a,b,c){mb.set(a,b===""?false:b,c)}};m.each(["width","height"],function(a,b){m.attrHooks[b]={set:function(a,c){if(c===""){a.setAttribute(b,"auto");return c}}}})}if(!k.style){m.attrHooks.style={get:function(a){return a.style.cssText||undefined},set:function(a,b){return a.style.cssText=b+""}}}var sb=/^(?:input|select|textarea|button|object)$/i,tb=/^(?:a|area)$/i;m.fn.extend({prop:function(a,b){return V(this,m.prop,a,b,arguments.length>1)},removeProp:function(a){a=m.propFix[a]||a;return this.each(function(){try{this[a]=undefined;delete this[a]}catch(b){}})}});m.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(!a||g===3||g===8||g===2){return}f=g!==1||!m.isXMLDoc(a);if(f){b=m.propFix[b]||b;e=m.propHooks[b]}if(c!==undefined){return e&&"set"in e&&(d=e.set(a,c,b))!==undefined?d:a[b]=c}else{return e&&"get"in e&&(d=e.get(a,b))!==null?d:a[b]}},propHooks:{tabIndex:{get:function(a){var b=m.find.attr(a,"tabindex");return b?parseInt(b,10):sb.test(a.nodeName)||tb.test(a.nodeName)&&a.href?0:-1}}}});if(!k.hrefNormalized){m.each(["href","src"],function(a,b){m.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}})}if(!k.optSelected){m.propHooks.selected={get:function(a){var b=a.parentNode;if(b){b.selectedIndex;if(b.parentNode){
b.parentNode.selectedIndex}}return null}}}m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){m.propFix[this.toLowerCase()]=this});if(!k.enctype){m.propFix.enctype="encoding"}var ub=/[\t\r\n\f]/g;m.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=typeof a==="string"&&a;if(m.isFunction(a)){return this.each(function(b){m(this).addClass(a.call(this,b,this.className))})}if(j){b=(a||"").match(E)||[];for(;h<i;h++){c=this[h];d=c.nodeType===1&&(c.className?(" "+c.className+" ").replace(ub," "):" ");if(d){f=0;while(e=b[f++]){if(d.indexOf(" "+e+" ")<0){d+=e+" "}}g=m.trim(d);if(c.className!==g){c.className=g}}}}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=arguments.length===0||typeof a==="string"&&a;if(m.isFunction(a)){return this.each(function(b){m(this).removeClass(a.call(this,b,this.className))})}if(j){b=(a||"").match(E)||[];for(;h<i;h++){c=this[h];d=c.nodeType===1&&(c.className?(" "+c.className+" ").replace(ub," "):"");if(d){f=0;while(e=b[f++]){while(d.indexOf(" "+e+" ")>=0){d=d.replace(" "+e+" "," ")}}g=a?m.trim(d):"";if(c.className!==g){c.className=g}}}}return this},toggleClass:function(a,b){var c=typeof a;if(typeof b==="boolean"&&c==="string"){return b?this.addClass(a):this.removeClass(a)}if(m.isFunction(a)){return this.each(function(c){m(this).toggleClass(a.call(this,c,this.className,b),b)})}return this.each(function(){if(c==="string"){var b,d=0,e=m(this),f=a.match(E)||[];while(b=f[d++]){if(e.hasClass(b)){e.removeClass(b)}else{e.addClass(b)}}}else if(c===K||c==="boolean"){if(this.className){m._data(this,"__className__",this.className)}this.className=this.className||a===false?"":m._data(this,"__className__")||""}})},hasClass:function(a){var b=" "+a+" ",c=0,d=this.length;for(;c<d;c++){if(this[c].nodeType===1&&(" "+this[c].className+" ").replace(ub," ").indexOf(b)>=0){return true}}return false}});m.each(("blur focus focusin focusout load resize scroll unload click dblclick "+"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave "+"change select submit keydown keypress keyup error contextmenu").split(" "),function(a,b){m.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}});m.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return arguments.length===1?this.off(a,"**"):this.off(b,a||"**",c)}});var vb=m.now();var wb=/\?/;var xb=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;m.parseJSON=function(b){if(a.JSON&&a.JSON.parse){return a.JSON.parse(b+"")}var c,d=null,e=m.trim(b+"");return e&&!m.trim(e.replace(xb,function(a,b,e,f){if(c&&b){d=0}if(d===0){return a}c=e||b;d+=!f-!e;return""}))?Function("return "+e)():m.error("Invalid JSON: "+b)};m.parseXML=function(b){var c,d;if(!b||typeof b!=="string"){return null}try{if(a.DOMParser){d=new DOMParser;c=d.parseFromString(b,"text/xml")}else{c=new ActiveXObject("Microsoft.XMLDOM");c.async="false";c.loadXML(b)}}catch(e){c=undefined}if(!c||!c.documentElement||c.getElementsByTagName("parsererror").length){m.error("Invalid XML: "+b)}return c};var yb,zb,Ab=/#.*$/,Bb=/([?&])_=[^&]*/,Cb=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Db=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Eb=/^(?:GET|HEAD)$/,Fb=/^\/\//,Gb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Hb={},Ib={},Jb="*/".concat("*");try{zb=location.href}catch(Kb){zb=y.createElement("a");zb.href="";zb=zb.href}yb=Gb.exec(zb.toLowerCase())||[];function Lb(a){return function(b,c){if(typeof b!=="string"){c=b;b="*"}var d,e=0,f=b.toLowerCase().match(E)||[];if(m.isFunction(c)){while(d=f[e++]){if(d.charAt(0)==="+"){d=d.slice(1)||"*";(a[d]=a[d]||[]).unshift(c)}else{(a[d]=a[d]||[]).push(c)}}}}}function Mb(a,b,c,d){var e={},f=a===Ib;function g(h){var i;e[h]=true;m.each(a[h]||[],function(a,h){var j=h(b,c,d);if(typeof j==="string"&&!f&&!e[j]){b.dataTypes.unshift(j);g(j);return false}else if(f){return!(i=j)}});return i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function Nb(a,b){var c,d,e=m.ajaxSettings.flatOptions||{};for(d in b){if(b[d]!==undefined){(e[d]?a:c||(c={}))[d]=b[d]}}if(c){m.extend(true,a,c)}return a}function Ob(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while(i[0]==="*"){i.shift();if(e===undefined){e=a.mimeType||b.getResponseHeader("Content-Type")}}if(e){for(g in h){if(h[g]&&h[g].test(e)){i.unshift(g);break}}}if(i[0]in c){f=i[0]}else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}if(!d){d=g}}f=f||d}if(f){if(f!==i[0]){i.unshift(f)}return c[f]}}function Pb(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1]){for(g in a.converters){j[g.toLowerCase()]=a.converters[g]}}f=k.shift();while(f){if(a.responseFields[f]){c[a.responseFields[f]]=b}if(!i&&d&&a.dataFilter){b=a.dataFilter(b,a.dataType)}i=f;f=k.shift();if(f){if(f==="*"){f=i}else if(i!=="*"&&i!==f){g=j[i+" "+f]||j["* "+f];if(!g){for(e in j){h=e.split(" ");if(h[1]===f){g=j[i+" "+h[0]]||j["* "+h[0]];if(g){if(g===true){g=j[e]}else if(j[e]!==true){f=h[0];k.unshift(h[1])}break}}}}if(g!==true){if(g&&a["throws"]){b=g(b)}else{try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}}}}}return{state:"success",data:b}}m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:zb,type:"GET",isLocal:Db.test(yb[1]),global:true,processData:true,async:true,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Jb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":true,"text json":m.parseJSON,"text xml":m.parseXML},flatOptions:{url:true,context:true}},ajaxSetup:function(a,b){return b?Nb(Nb(a,m.ajaxSettings),b):Nb(m.ajaxSettings,a)},ajaxPrefilter:Lb(Hb),ajaxTransport:Lb(Ib),ajax:function(a,b){if(typeof a==="object"){b=a;a=undefined}b=b||{};var c,d,e,f,g,h,i,j,k=m.ajaxSetup({},b),l=k.context||k,n=k.context&&(l.nodeType||l.jquery)?m(l):m.event,o=m.Deferred(),p=m.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(t===2){if(!j){j={};while(b=Cb.exec(f)){j[b[1].toLowerCase()]=b[2]}}b=j[a.toLowerCase()]}return b==null?null:b},getAllResponseHeaders:function(){return t===2?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();if(!t){a=s[c]=s[c]||a;r[a]=b}return this},overrideMimeType:function(a){if(!t){k.mimeType=a}return this},statusCode:function(a){var b;if(a){if(t<2){for(b in a){q[b]=[q[b],a[b]]}}else{v.always(a[v.status])}}return this},abort:function(a){var b=a||u;if(i){i.abort(b)}x(0,b);return this}};o.promise(v).complete=p.add;v.success=v.done;v.error=v.fail;k.url=((a||k.url||zb)+"").replace(Ab,"").replace(Fb,yb[1]+"//");k.type=b.method||b.type||k.method||k.type;k.dataTypes=m.trim(k.dataType||"*").toLowerCase().match(E)||[""];if(k.crossDomain==null){c=Gb.exec(k.url.toLowerCase());k.crossDomain=!!(c&&(c[1]!==yb[1]||c[2]!==yb[2]||(c[3]||(c[1]==="http:"?"80":"443"))!==(yb[3]||(yb[1]==="http:"?"80":"443"))))}if(k.data&&k.processData&&typeof k.data!=="string"){k.data=m.param(k.data,k.traditional)}Mb(Hb,k,b,v);if(t===2){return v}h=m.event&&k.global;if(h&&m.active++===0){m.event.trigger("ajaxStart")}k.type=k.type.toUpperCase();k.hasContent=!Eb.test(k.type);e=k.url;if(!k.hasContent){if(k.data){e=k.url+=(wb.test(e)?"&":"?")+k.data;delete k.data}if(k.cache===false){k.url=Bb.test(e)?e.replace(Bb,"$1_="+vb++):e+(wb.test(e)?"&":"?")+"_="+vb++}}if(k.ifModified){if(m.lastModified[e]){v.setRequestHeader("If-Modified-Since",m.lastModified[e])}if(m.etag[e]){v.setRequestHeader("If-None-Match",m.etag[e])}}if(k.data&&k.hasContent&&k.contentType!==false||b.contentType){v.setRequestHeader("Content-Type",k.contentType)}v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+(k.dataTypes[0]!=="*"?", "+Jb+"; q=0.01":""):k.accepts["*"]);for(d in k.headers){v.setRequestHeader(d,k.headers[d])}if(k.beforeSend&&(k.beforeSend.call(l,v,k)===false||t===2)){return v.abort()}u="abort";for(d in{success:1,error:1,complete:1}){v[d](k[d])}i=Mb(Ib,k,b,v);if(!i){x(-1,"No Transport")}else{v.readyState=1;if(h){n.trigger("ajaxSend",[v,k])}if(k.async&&k.timeout>0){g=setTimeout(function(){v.abort("timeout")},k.timeout)}try{t=1;i.send(r,x)}catch(w){if(t<2){x(-1,w)}else{throw w}}}function x(a,b,c,d){var j,r,s,u,w,x=b;if(t===2){return}t=2;if(g){clearTimeout(g)}i=undefined;f=d||"";v.readyState=a>0?4:0;j=a>=200&&a<300||a===304;if(c){u=Ob(k,v,c)}u=Pb(k,u,v,j);if(j){if(k.ifModified){w=v.getResponseHeader("Last-Modified");if(w){m.lastModified[e]=w}w=v.getResponseHeader("etag");if(w){m.etag[e]=w}}if(a===204||k.type==="HEAD"){x="nocontent"}else if(a===304){x="notmodified"}else{x=u.state;r=u.data;s=u.error;j=!s}}else{s=x;if(a||!x){x="error";if(a<0){a=0}}}v.status=a;v.statusText=(b||x)+"";if(j){o.resolveWith(l,[r,x,v])}else{o.rejectWith(l,[v,x,s])}v.statusCode(q);q=undefined;if(h){n.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s])}p.fireWith(l,[v,x]);if(h){n.trigger("ajaxComplete",[v,k]);if(!--m.active){m.event.trigger("ajaxStop")}}}return v},getJSON:function(a,b,c){return m.get(a,b,c,"json")},getScript:function(a,b){return m.get(a,undefined,b,"script")}});m.each(["get","post"],function(a,b){m[b]=function(a,c,d,e){if(m.isFunction(c)){e=e||d;d=c;c=undefined}return m.ajax({url:a,type:b,dataType:e,data:c,success:d})}});m._evalUrl=function(a){return m.ajax({url:a,type:"GET",dataType:"script",async:false,global:false,"throws":true})};m.fn.extend({wrapAll:function(a){if(m.isFunction(a)){return this.each(function(b){m(this).wrapAll(a.call(this,b))})}if(this[0]){var b=m(a,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){b.insertBefore(this[0])}b.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1){a=a.firstChild}return a}).append(this)}return this},wrapInner:function(a){if(m.isFunction(a)){return this.each(function(b){m(this).wrapInner(a.call(this,b))})}return this.each(function(){var b=m(this),c=b.contents();if(c.length){c.wrapAll(a)}else{b.append(a)}})},wrap:function(a){var b=m.isFunction(a);return this.each(function(c){m(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){if(!m.nodeName(this,"body")){m(this).replaceWith(this.childNodes)}}).end()}});m.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!k.reliableHiddenOffsets()&&(a.style&&a.style.display||m.css(a,"display"))==="none"};m.expr.filters.visible=function(a){return!m.expr.filters.hidden(a)};var Qb=/%20/g,Rb=/\[\]$/,Sb=/\r?\n/g,Tb=/^(?:submit|button|image|reset|file)$/i,Ub=/^(?:input|select|textarea|keygen)/i;function Vb(a,b,c,d){var e;if(m.isArray(b)){m.each(b,function(b,e){if(c||Rb.test(a)){d(a,e)}else{Vb(a+"["+(typeof e==="object"?b:"")+"]",e,c,d)}})}else if(!c&&m.type(b)==="object"){for(e in b){Vb(a+"["+e+"]",b[e],c,d)}}else{d(a,b)}}m.param=function(a,b){var c,d=[],e=function(a,b){b=m.isFunction(b)?b():b==null?"":b;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(b===undefined){b=m.ajaxSettings&&m.ajaxSettings.traditional}if(m.isArray(a)||a.jquery&&!m.isPlainObject(a)){m.each(a,function(){e(this.name,this.value)})}else{for(c in a){Vb(c,a[c],b,e)}}return d.join("&").replace(Qb,"+")};m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=m.prop(this,"elements");return a?m.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!m(this).is(":disabled")&&Ub.test(this.nodeName)&&!Tb.test(a)&&(this.checked||!W.test(a))}).map(function(a,b){var c=m(this).val();return c==null?null:m.isArray(c)?m.map(c,function(a){return{name:b.name,value:a.replace(Sb,"\r\n")}}):{name:b.name,value:c.replace(Sb,"\r\n")}}).get()}});m.ajaxSettings.xhr=a.ActiveXObject!==undefined?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Zb()||$b()}:Zb;var Wb=0,Xb={},Yb=m.ajaxSettings.xhr();if(a.attachEvent){a.attachEvent("onunload",function(){for(var a in Xb){Xb[a](undefined,true)}})}k.cors=!!Yb&&"withCredentials"in Yb;Yb=k.ajax=!!Yb;if(Yb){m.ajaxTransport(function(a){if(!a.crossDomain||k.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++Wb;f.open(a.type,a.url,a.async,a.username,a.password);if(a.xhrFields){for(e in a.xhrFields){f[e]=a.xhrFields[e]}}if(a.mimeType&&f.overrideMimeType){f.overrideMimeType(a.mimeType)}if(!a.crossDomain&&!c["X-Requested-With"]){c["X-Requested-With"]="XMLHttpRequest"}for(e in c){if(c[e]!==undefined){f.setRequestHeader(e,c[e]+"")}}f.send(a.hasContent&&a.data||null);b=function(c,e){var h,i,j;if(b&&(e||f.readyState===4)){delete Xb[g];b=undefined;f.onreadystatechange=m.noop;if(e){if(f.readyState!==4){f.abort()}}else{j={};h=f.status;if(typeof f.responseText==="string"){j.text=f.responseText}try{i=f.statusText}catch(k){i=""}if(!h&&a.isLocal&&!a.crossDomain){h=j.text?200:404}else if(h===1223){h=204}}}if(j){d(h,i,j,f.getAllResponseHeaders())}};if(!a.async){b()}else if(f.readyState===4){setTimeout(b)}else{f.onreadystatechange=Xb[g]=b}},abort:function(){if(b){b(undefined,true)}}}}})}function Zb(){try{return new a.XMLHttpRequest}catch(b){}}function $b(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){m.globalEval(a);return a}}});m.ajaxPrefilter("script",function(a){if(a.cache===undefined){a.cache=false}if(a.crossDomain){a.type="GET";a.global=false}});m.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=y.head||m("head")[0]||y.documentElement;return{send:function(d,e){b=y.createElement("script");b.async=true;if(a.scriptCharset){b.charset=a.scriptCharset}b.src=a.url;b.onload=b.onreadystatechange=function(a,c){if(c||!b.readyState||/loaded|complete/.test(b.readyState)){b.onload=b.onreadystatechange=null;if(b.parentNode){b.parentNode.removeChild(b)}b=null;if(!c){e(200,"success")}}};c.insertBefore(b,c.firstChild)},abort:function(){if(b){b.onload(undefined,true)}}}}});var _b=[],ac=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=_b.pop()||m.expando+"_"+vb++;this[a]=true;return a}});m.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==false&&(ac.test(b.url)?"url":typeof b.data==="string"&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&ac.test(b.data)&&"data");if(h||b.dataTypes[0]==="jsonp"){e=b.jsonpCallback=m.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback;if(h){b[h]=b[h].replace(ac,"$1"+e)}else if(b.jsonp!==false){b.url+=(wb.test(b.url)?"&":"?")+b.jsonp+"="+e}b.converters["script json"]=function(){if(!g){m.error(e+" was not called")}return g[0]};b.dataTypes[0]="json";f=a[e];a[e]=function(){g=arguments};d.always(function(){a[e]=f;if(b[e]){b.jsonpCallback=c.jsonpCallback;_b.push(e)}if(g&&m.isFunction(f)){f(g[0])}g=f=undefined});return"script"}});m.parseHTML=function(a,b,c){if(!a||typeof a!=="string"){return null}if(typeof b==="boolean"){c=b;b=false}b=b||y;var d=u.exec(a),e=!c&&[];if(d){return[b.createElement(d[1])]}d=m.buildFragment([a],b,e);if(e&&e.length){m(e).remove()}return m.merge([],d.childNodes)};var bc=m.fn.load;m.fn.load=function(a,b,c){if(typeof a!=="string"&&bc){return bc.apply(this,arguments)}var d,e,f,g=this,h=a.indexOf(" ");if(h>=0){d=m.trim(a.slice(h,a.length));a=a.slice(0,h)}if(m.isFunction(b)){c=b;b=undefined}else if(b&&typeof b==="object"){f="POST"}if(g.length>0){m.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){e=arguments;g.html(d?m("<div>").append(m.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])})}return this};m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){m.fn[b]=function(a){return this.on(b,a)}});m.expr.filters.animated=function(a){return m.grep(m.timers,function(b){return a===b.elem}).length};var cc=a.document.documentElement;function dc(a){return m.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:false}m.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=m.css(a,"position"),l=m(a),n={};if(k==="static"){a.style.position="relative"}h=l.offset();f=m.css(a,"top");i=m.css(a,"left");j=(k==="absolute"||k==="fixed")&&m.inArray("auto",[f,i])>-1;if(j){d=l.position();g=d.top;e=d.left}else{g=parseFloat(f)||0;e=parseFloat(i)||0}if(m.isFunction(b)){b=b.call(a,c,h)}if(b.top!=null){n.top=b.top-h.top+g}if(b.left!=null){n.left=b.left-h.left+e}if("using"in b){b.using.call(a,n)}else{l.css(n)}}};m.fn.extend({offset:function(a){if(arguments.length){return a===undefined?this:this.each(function(b){m.offset.setOffset(this,a,b)})}var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(!f){return}b=f.documentElement;if(!m.contains(b,e)){return d}if(typeof e.getBoundingClientRect!==K){d=e.getBoundingClientRect()}c=dc(f);return{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}},position:function(){if(!this[0]){return}var a,b,c={top:0,left:0},d=this[0];if(m.css(d,"position")==="fixed"){b=d.getBoundingClientRect()}else{a=this.offsetParent();b=this.offset();if(!m.nodeName(a[0],"html")){c=a.offset()}c.top+=m.css(a[0],"borderTopWidth",true);c.left+=m.css(a[0],"borderLeftWidth",true)}return{top:b.top-c.top-m.css(d,"marginTop",true),left:b.left-c.left-m.css(d,"marginLeft",true)}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||cc;while(a&&(!m.nodeName(a,"html")&&m.css(a,"position")==="static")){a=a.offsetParent}return a||cc})}});m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);m.fn[a]=function(d){return V(this,function(a,d,e){var f=dc(a);if(e===undefined){return f?b in f?f[b]:f.document.documentElement[d]:a[d]}if(f){f.scrollTo(!c?e:m(f).scrollLeft(),c?e:m(f).scrollTop())}else{a[d]=e}},a,d,arguments.length,null)}});m.each(["top","left"],function(a,b){m.cssHooks[b]=La(k.pixelPosition,function(a,c){if(c){c=Ja(a,b);return Ha.test(c)?m(a).position()[b]+"px":c}})});m.each({Height:"height",Width:"width"},function(a,b){m.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){m.fn[d]=function(d,e){var f=arguments.length&&(c||typeof d!=="boolean"),g=c||(d===true||e===true?"margin":"border");return V(this,function(b,c,d){var e;if(m.isWindow(b)){return b.document.documentElement["client"+a]}if(b.nodeType===9){e=b.documentElement;return Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])}return d===undefined?m.css(b,c,g):m.style(b,c,d,g)},b,f?d:undefined,f,null)}})});m.fn.size=function(){return this.length};m.fn.andSelf=m.fn.addBack;if(typeof define==="function"&&define.amd){define("jquery",[],function(){return m})}var ec=a.jQuery,fc=a.$;m.noConflict=function(b){if(a.$===m){a.$=fc}if(b&&a.jQuery===m){a.jQuery=ec}return m};if(typeof b===K){a.jQuery=a.$=m}return m});(function(){var a=this;var b=a._;var c=Array.prototype,d=Object.prototype,e=Function.prototype;var f=c.push,g=c.slice,h=d.toString,i=d.hasOwnProperty;var j=Array.isArray,k=Object.keys,l=e.bind,m=Object.create;var n=function(){};var o=function(a){if(a instanceof o)return a;if(!(this instanceof o))return new o(a);this._wrapped=a};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=o}exports._=o}else{a._=o}o.VERSION="1.8.3";var p=function(a,b,c){if(b===void 0)return a;switch(c==null?3:c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return function(){return a.apply(b,arguments)}};var q=function(a,b,c){if(a==null)return o.identity;if(o.isFunction(a))return p(a,b,c);if(o.isObject(a))return o.matcher(a);return o.property(a)};o.iteratee=function(a,b){return q(a,b,Infinity)};var r=function(a,b){return function(c){var d=arguments.length;if(d<2||c==null)return c;for(var e=1;e<d;e++){var f=arguments[e],g=a(f),h=g.length;for(var i=0;i<h;i++){var j=g[i];if(!b||c[j]===void 0)c[j]=f[j]}}return c}};var s=function(a){if(!o.isObject(a))return{};if(m)return m(a);n.prototype=a;var b=new n;n.prototype=null;return b};var t=function(a){return function(b){return b==null?void 0:b[a]}};var u=Math.pow(2,53)-1;var v=t("length");var w=function(a){var b=v(a);return typeof b=="number"&&b>=0&&b<=u};o.each=o.forEach=function(a,b,c){b=p(b,c);var d,e;if(w(a)){for(d=0,e=a.length;d<e;d++){b(a[d],d,a)}}else{var f=o.keys(a);for(d=0,e=f.length;d<e;d++){b(a[f[d]],f[d],a)}}return a};o.map=o.collect=function(a,b,c){b=q(b,c);var d=!w(a)&&o.keys(a),e=(d||a).length,f=Array(e);for(var g=0;g<e;g++){var h=d?d[g]:g;f[g]=b(a[h],h,a)}return f};function x(a){function b(b,c,d,e,f,g){for(;f>=0&&f<g;f+=a){var h=e?e[f]:f;d=c(d,b[h],h,b)}return d}return function(c,d,e,f){d=p(d,f,4);var g=!w(c)&&o.keys(c),h=(g||c).length,i=a>0?0:h-1;if(arguments.length<3){e=c[g?g[i]:i];i+=a}return b(c,d,e,g,i,h)}}o.reduce=o.foldl=o.inject=x(1);o.reduceRight=o.foldr=x(-1);o.find=o.detect=function(a,b,c){var d;if(w(a)){d=o.findIndex(a,b,c)}else{d=o.findKey(a,b,c)}if(d!==void 0&&d!==-1)return a[d]};o.filter=o.select=function(a,b,c){var d=[];b=q(b,c);o.each(a,function(a,c,e){if(b(a,c,e))d.push(a)});return d};o.reject=function(a,b,c){return o.filter(a,o.negate(q(b)),c)};o.every=o.all=function(a,b,c){b=q(b,c);var d=!w(a)&&o.keys(a),e=(d||a).length;for(var f=0;f<e;f++){var g=d?d[f]:f;if(!b(a[g],g,a))return false}return true};o.some=o.any=function(a,b,c){b=q(b,c);var d=!w(a)&&o.keys(a),e=(d||a).length;for(var f=0;f<e;f++){var g=d?d[f]:f;if(b(a[g],g,a))return true}return false};o.contains=o.includes=o.include=function(a,b,c,d){if(!w(a))a=o.values(a);if(typeof c!="number"||d)c=0;return o.indexOf(a,b,c)>=0};o.invoke=function(a,b){var c=g.call(arguments,2);var d=o.isFunction(b);return o.map(a,function(a){var e=d?b:a[b];return e==null?e:e.apply(a,c)})};o.pluck=function(a,b){return o.map(a,o.property(b))};o.where=function(a,b){return o.filter(a,o.matcher(b))};o.findWhere=function(a,b){return o.find(a,o.matcher(b))};o.max=function(a,b,c){var d=-Infinity,e=-Infinity,f,g;if(b==null&&a!=null){a=w(a)?a:o.values(a);for(var h=0,i=a.length;h<i;h++){f=a[h];if(f>d){d=f}}}else{b=q(b,c);o.each(a,function(a,c,f){g=b(a,c,f);if(g>e||g===-Infinity&&d===-Infinity){d=a;e=g}})}return d};o.min=function(a,b,c){var d=Infinity,e=Infinity,f,g;if(b==null&&a!=null){a=w(a)?a:o.values(a);for(var h=0,i=a.length;h<i;h++){f=a[h];if(f<d){d=f}}}else{b=q(b,c);o.each(a,function(a,c,f){g=b(a,c,f);if(g<e||g===Infinity&&d===Infinity){d=a;e=g}})}return d};o.shuffle=function(a){var b=w(a)?a:o.values(a);var c=b.length;var d=Array(c);for(var e=0,f;e<c;e++){f=o.random(0,e);if(f!==e)d[e]=d[f];d[f]=b[e]}return d};o.sample=function(a,b,c){if(b==null||c){if(!w(a))a=o.values(a);return a[o.random(a.length-1)]}return o.shuffle(a).slice(0,Math.max(0,b))};o.sortBy=function(a,b,c){b=q(b,c);return o.pluck(o.map(a,function(a,c,d){return{value:a,index:c,criteria:b(a,c,d)}}).sort(function(a,b){var c=a.criteria;var d=b.criteria;if(c!==d){if(c>d||c===void 0)return 1;if(c<d||d===void 0)return-1}return a.index-b.index}),"value")};var y=function(a){return function(b,c,d){var e={};c=q(c,d);o.each(b,function(d,f){var g=c(d,f,b);a(e,d,g)});return e}};o.groupBy=y(function(a,b,c){if(o.has(a,c))a[c].push(b);else a[c]=[b]});o.indexBy=y(function(a,b,c){a[c]=b});o.countBy=y(function(a,b,c){if(o.has(a,c))a[c]++;else a[c]=1});o.toArray=function(a){if(!a)return[];if(o.isArray(a))return g.call(a);if(w(a))return o.map(a,o.identity);return o.values(a)};o.size=function(a){if(a==null)return 0;return w(a)?a.length:o.keys(a).length};o.partition=function(a,b,c){b=q(b,c);var d=[],e=[];o.each(a,function(a,c,f){(b(a,c,f)?d:e).push(a)});return[d,e]};o.first=o.head=o.take=function(a,b,c){if(a==null)return void 0;if(b==null||c)return a[0];return o.initial(a,a.length-b)};o.initial=function(a,b,c){return g.call(a,0,Math.max(0,a.length-(b==null||c?1:b)))};o.last=function(a,b,c){if(a==null)return void 0;if(b==null||c)return a[a.length-1];return o.rest(a,Math.max(0,a.length-b))};o.rest=o.tail=o.drop=function(a,b,c){return g.call(a,b==null||c?1:b)};o.compact=function(a){return o.filter(a,o.identity)};var z=function(a,b,c,d){var e=[],f=0;for(var g=d||0,h=v(a);g<h;g++){var i=a[g];if(w(i)&&(o.isArray(i)||o.isArguments(i))){if(!b)i=z(i,b,c);var j=0,k=i.length;e.length+=k;while(j<k){e[f++]=i[j++]}}else if(!c){e[f++]=i}}return e};o.flatten=function(a,b){return z(a,b,false)};o.without=function(a){return o.difference(a,g.call(arguments,1))};o.uniq=o.unique=function(a,b,c,d){if(!o.isBoolean(b)){d=c;c=b;b=false}if(c!=null)c=q(c,d);var e=[];var f=[];for(var g=0,h=v(a);g<h;g++){var i=a[g],j=c?c(i,g,a):i;if(b){if(!g||f!==j)e.push(i);f=j}else if(c){if(!o.contains(f,j)){f.push(j);e.push(i)}}else if(!o.contains(e,i)){e.push(i)}}return e};o.union=function(){return o.uniq(z(arguments,true,true))};o.intersection=function(a){var b=[];var c=arguments.length;for(var d=0,e=v(a);d<e;d++){var f=a[d];if(o.contains(b,f))continue;for(var g=1;g<c;g++){if(!o.contains(arguments[g],f))break}if(g===c)b.push(f)}return b};o.difference=function(a){var b=z(arguments,true,true,1);return o.filter(a,function(a){return!o.contains(b,a)})};o.zip=function(){return o.unzip(arguments)};o.unzip=function(a){var b=a&&o.max(a,v).length||0;var c=Array(b);for(var d=0;d<b;d++){c[d]=o.pluck(a,d)}return c};o.object=function(a,b){var c={};for(var d=0,e=v(a);d<e;d++){if(b){c[a[d]]=b[d]}else{c[a[d][0]]=a[d][1]}}return c};function A(a){return function(b,c,d){c=q(c,d);var e=v(b);var f=a>0?0:e-1;for(;f>=0&&f<e;f+=a){if(c(b[f],f,b))return f}return-1}}o.findIndex=A(1);o.findLastIndex=A(-1);o.sortedIndex=function(a,b,c,d){c=q(c,d,1);var e=c(b);var f=0,g=v(a);while(f<g){var h=Math.floor((f+g)/2);if(c(a[h])<e)f=h+1;else g=h}return f};function B(a,b,c){return function(d,e,f){var h=0,i=v(d);if(typeof f=="number"){if(a>0){h=f>=0?f:Math.max(f+i,h)}else{i=f>=0?Math.min(f+1,i):f+i+1}}else if(c&&f&&i){f=c(d,e);return d[f]===e?f:-1}if(e!==e){f=b(g.call(d,h,i),o.isNaN);return f>=0?f+h:-1}for(f=a>0?h:i-1;f>=0&&f<i;f+=a){if(d[f]===e)return f}return-1}}o.indexOf=B(1,o.findIndex,o.sortedIndex);o.lastIndexOf=B(-1,o.findLastIndex);o.range=function(a,b,c){if(b==null){b=a||0;a=0}c=c||1;var d=Math.max(Math.ceil((b-a)/c),0);var e=Array(d);for(var f=0;f<d;f++,a+=c){e[f]=a}return e};var C=function(a,b,c,d,e){if(!(d instanceof b))return a.apply(c,e);var f=s(a.prototype);var g=a.apply(f,e);if(o.isObject(g))return g;return f};o.bind=function(a,b){if(l&&a.bind===l)return l.apply(a,g.call(arguments,1));if(!o.isFunction(a))throw new TypeError("Bind must be called on a function");var c=g.call(arguments,2);var d=function(){return C(a,d,b,this,c.concat(g.call(arguments)))};return d};o.partial=function(a){var b=g.call(arguments,1);var c=function(){var d=0,e=b.length;var f=Array(e);for(var g=0;g<e;g++){f[g]=b[g]===o?arguments[d++]:b[g]}while(d<arguments.length)f.push(arguments[d++]);return C(a,c,this,this,f)};return c};o.bindAll=function(a){var b,c=arguments.length,d;if(c<=1)throw new Error("bindAll must be passed function names");for(b=1;b<c;b++){d=arguments[b];a[d]=o.bind(a[d],a)}return a};o.memoize=function(a,b){var c=function(d){var e=c.cache;var f=""+(b?b.apply(this,arguments):d);if(!o.has(e,f))e[f]=a.apply(this,arguments);return e[f]};c.cache={};return c};o.delay=function(a,b){var c=g.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)};o.defer=o.partial(o.delay,o,1);o.throttle=function(a,b,c){var d,e,f;var g=null;var h=0;if(!c)c={};var i=function(){h=c.leading===false?0:o.now();g=null;f=a.apply(d,e);if(!g)d=e=null};return function(){var j=o.now();if(!h&&c.leading===false)h=j;var k=b-(j-h);d=this;e=arguments;if(k<=0||k>b){if(g){clearTimeout(g);g=null}h=j;f=a.apply(d,e);if(!g)d=e=null}else if(!g&&c.trailing!==false){g=setTimeout(i,k)}return f}};o.debounce=function(a,b,c){var d,e,f,g,h;var i=function(){var j=o.now()-g;if(j<b&&j>=0){d=setTimeout(i,b-j)}else{d=null;if(!c){h=a.apply(f,e);if(!d)f=e=null}}};return function(){f=this;e=arguments;g=o.now();var j=c&&!d;if(!d)d=setTimeout(i,b);if(j){h=a.apply(f,e);f=e=null}return h}};o.wrap=function(a,b){return o.partial(b,a)};o.negate=function(a){return function(){return!a.apply(this,arguments)}};o.compose=function(){var a=arguments;var b=a.length-1;return function(){var c=b;var d=a[b].apply(this,arguments);while(c--)d=a[c].call(this,d);return d}};o.after=function(a,b){return function(){if(--a<1){return b.apply(this,arguments)}}};o.before=function(a,b){var c;return function(){if(--a>0){c=b.apply(this,arguments)}if(a<=1)b=null;return c}};o.once=o.partial(o.before,2);var D=!{toString:null}.propertyIsEnumerable("toString");var E=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function F(a,b){var c=E.length;var e=a.constructor;var f=o.isFunction(e)&&e.prototype||d;var g="constructor";if(o.has(a,g)&&!o.contains(b,g))b.push(g);while(c--){g=E[c];if(g in a&&a[g]!==f[g]&&!o.contains(b,g)){b.push(g)}}}o.keys=function(a){if(!o.isObject(a))return[];if(k)return k(a);var b=[];for(var c in a)if(o.has(a,c))b.push(c);if(D)F(a,b);return b};o.allKeys=function(a){if(!o.isObject(a))return[];var b=[];for(var c in a)b.push(c);if(D)F(a,b);return b};o.values=function(a){var b=o.keys(a);var c=b.length;var d=Array(c);for(var e=0;e<c;e++){d[e]=a[b[e]]}return d};o.mapObject=function(a,b,c){b=q(b,c);var d=o.keys(a),e=d.length,f={},g;for(var h=0;h<e;h++){g=d[h];f[g]=b(a[g],g,a)}return f};o.pairs=function(a){var b=o.keys(a);var c=b.length;var d=Array(c);for(var e=0;e<c;e++){d[e]=[b[e],a[b[e]]]}return d};o.invert=function(a){var b={};var c=o.keys(a);for(var d=0,e=c.length;d<e;d++){b[a[c[d]]]=c[d]}return b};o.functions=o.methods=function(a){var b=[];for(var c in a){if(o.isFunction(a[c]))b.push(c)}return b.sort()};o.extend=r(o.allKeys);o.extendOwn=o.assign=r(o.keys);o.findKey=function(a,b,c){b=q(b,c);var d=o.keys(a),e;for(var f=0,g=d.length;f<g;f++){e=d[f];if(b(a[e],e,a))return e}};o.pick=function(a,b,c){var d={},e=a,f,g;if(e==null)return d;if(o.isFunction(b)){g=o.allKeys(e);f=p(b,c)}else{g=z(arguments,false,false,1);f=function(a,b,c){return b in c};e=Object(e)}for(var h=0,i=g.length;h<i;h++){var j=g[h];var k=e[j];if(f(k,j,e))d[j]=k}return d};o.omit=function(a,b,c){if(o.isFunction(b)){b=o.negate(b)}else{var d=o.map(z(arguments,false,false,1),String);b=function(a,b){return!o.contains(d,b)}}return o.pick(a,b,c)};o.defaults=r(o.allKeys,true);o.create=function(a,b){var c=s(a);if(b)o.extendOwn(c,b);return c};o.clone=function(a){if(!o.isObject(a))return a;return o.isArray(a)?a.slice():o.extend({},a)};o.tap=function(a,b){b(a);return a};o.isMatch=function(a,b){var c=o.keys(b),d=c.length;if(a==null)return!d;var e=Object(a);for(var f=0;f<d;f++){var g=c[f];if(b[g]!==e[g]||!(g in e))return false}return true};var G=function(a,b,c,d){if(a===b)return a!==0||1/a===1/b;if(a==null||b==null)return a===b;if(a instanceof o)a=a._wrapped;if(b instanceof o)b=b._wrapped;var e=h.call(a);if(e!==h.call(b))return false;switch(e){case"[object RegExp]":case"[object String]":return""+a===""+b;case"[object Number]":if(+a!==+a)return+b!==+b;return+a===0?1/+a===1/b:+a===+b;case"[object Date]":case"[object Boolean]":return+a===+b}var f=e==="[object Array]";if(!f){if(typeof a!="object"||typeof b!="object")return false;var g=a.constructor,i=b.constructor;if(g!==i&&!(o.isFunction(g)&&g instanceof g&&o.isFunction(i)&&i instanceof i)&&("constructor"in a&&"constructor"in b)){return false}}c=c||[];d=d||[];var j=c.length;while(j--){if(c[j]===a)return d[j]===b}c.push(a);d.push(b);
if(f){j=a.length;if(j!==b.length)return false;while(j--){if(!G(a[j],b[j],c,d))return false}}else{var k=o.keys(a),l;j=k.length;if(o.keys(b).length!==j)return false;while(j--){l=k[j];if(!(o.has(b,l)&&G(a[l],b[l],c,d)))return false}}c.pop();d.pop();return true};o.isEqual=function(a,b){return G(a,b)};o.isEmpty=function(a){if(a==null)return true;if(w(a)&&(o.isArray(a)||o.isString(a)||o.isArguments(a)))return a.length===0;return o.keys(a).length===0};o.isElement=function(a){return!!(a&&a.nodeType===1)};o.isArray=j||function(a){return h.call(a)==="[object Array]"};o.isObject=function(a){var b=typeof a;return b==="function"||b==="object"&&!!a};o.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(a){o["is"+a]=function(b){return h.call(b)==="[object "+a+"]"}});if(!o.isArguments(arguments)){o.isArguments=function(a){return o.has(a,"callee")}}if(typeof/./!="function"&&typeof Int8Array!="object"){o.isFunction=function(a){return typeof a=="function"||false}}o.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};o.isNaN=function(a){return o.isNumber(a)&&a!==+a};o.isBoolean=function(a){return a===true||a===false||h.call(a)==="[object Boolean]"};o.isNull=function(a){return a===null};o.isUndefined=function(a){return a===void 0};o.has=function(a,b){return a!=null&&i.call(a,b)};o.noConflict=function(){a._=b;return this};o.identity=function(a){return a};o.constant=function(a){return function(){return a}};o.noop=function(){};o.property=t;o.propertyOf=function(a){return a==null?function(){}:function(b){return a[b]}};o.matcher=o.matches=function(a){a=o.extendOwn({},a);return function(b){return o.isMatch(b,a)}};o.times=function(a,b,c){var d=Array(Math.max(0,a));b=p(b,c,1);for(var e=0;e<a;e++)d[e]=b(e);return d};o.random=function(a,b){if(b==null){b=a;a=0}return a+Math.floor(Math.random()*(b-a+1))};o.now=Date.now||function(){return(new Date).getTime()};var H={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var I=o.invert(H);var J=function(a){var b=function(b){return a[b]};var c="(?:"+o.keys(a).join("|")+")";var d=RegExp(c);var e=RegExp(c,"g");return function(a){a=a==null?"":""+a;return d.test(a)?a.replace(e,b):a}};o.escape=J(H);o.unescape=J(I);o.result=function(a,b,c){var d=a==null?void 0:a[b];if(d===void 0){d=c}return o.isFunction(d)?d.call(a):d};var K=0;o.uniqueId=function(a){var b=++K+"";return a?a+b:b};o.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/(.)^/;var M={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"};var N=/\\|'|\r|\n|\u2028|\u2029/g;var O=function(a){return"\\"+M[a]};o.template=function(a,b,c){if(!b&&c)b=c;b=o.defaults({},b,o.templateSettings);var d=RegExp([(b.escape||L).source,(b.interpolate||L).source,(b.evaluate||L).source].join("|")+"|$","g");var e=0;var f="__p+='";a.replace(d,function(b,c,d,g,h){f+=a.slice(e,h).replace(N,O);e=h+b.length;if(c){f+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"}else if(d){f+="'+\n((__t=("+d+"))==null?'':__t)+\n'"}else if(g){f+="';\n"+g+"\n__p+='"}return b});f+="';\n";if(!b.variable)f="with(obj||{}){\n"+f+"}\n";f="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+f+"return __p;\n";try{var g=new Function(b.variable||"obj","_",f)}catch(h){h.source=f;throw h}var i=function(a){return g.call(this,a,o)};var j=b.variable||"obj";i.source="function("+j+"){\n"+f+"}";return i};o.chain=function(a){var b=o(a);b._chain=true;return b};var P=function(a,b){return a._chain?o(b).chain():b};o.mixin=function(a){o.each(o.functions(a),function(b){var c=o[b]=a[b];o.prototype[b]=function(){var a=[this._wrapped];f.apply(a,arguments);return P(this,c.apply(o,a))}})};o.mixin(o);o.each(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=c[a];o.prototype[a]=function(){var c=this._wrapped;b.apply(c,arguments);if((a==="shift"||a==="splice")&&c.length===0)delete c[0];return P(this,c)}});o.each(["concat","join","slice"],function(a){var b=c[a];o.prototype[a]=function(){return P(this,b.apply(this._wrapped,arguments))}});o.prototype.value=function(){return this._wrapped};o.prototype.valueOf=o.prototype.toJSON=o.prototype.value;o.prototype.toString=function(){return""+this._wrapped};if(typeof define==="function"&&define.amd){define("underscore",[],function(){return o})}}).call(this);!function(a,b){if(typeof module!="undefined"&&module.exports)module.exports["browser"]=b();else if(typeof define=="function"&&define.amd)define("bowser",b);else this[a]=b()}("bowser",function(){var a=true;function b(b){function c(a){var c=b.match(a);return c&&c.length>1&&c[1]||""}var d=c(/(ipod|iphone|ipad)/i).toLowerCase(),e=/like android/i.test(b),f=!e&&/android/i.test(b),g=c(/version\/(\d+(\.\d+)?)/i),h=/tablet/i.test(b),i=!h&&/[^-]mobi/i.test(b),j;if(/opera|opr/i.test(b)){j={name:"Opera",opera:a,version:g||c(/(?:opera|opr)[\s\/](\d+(\.\d+)?)/i)}}else if(/windows phone/i.test(b)){j={name:"Windows Phone",windowsphone:a,msie:a,version:c(/iemobile\/(\d+(\.\d+)?)/i)}}else if(/msie|trident/i.test(b)){j={name:"Internet Explorer",msie:a,version:c(/(?:msie |rv:)(\d+(\.\d+)?)/i)}}else if(/chrome|crios|crmo/i.test(b)){j={name:"Chrome",chrome:a,version:c(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}}else if(d){j={name:d=="iphone"?"iPhone":d=="ipad"?"iPad":"iPod"};if(g){j.version=g}}else if(/sailfish/i.test(b)){j={name:"Sailfish",sailfish:a,version:c(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}}else if(/seamonkey\//i.test(b)){j={name:"SeaMonkey",seamonkey:a,version:c(/seamonkey\/(\d+(\.\d+)?)/i)}}else if(/firefox|iceweasel/i.test(b)){j={name:"Firefox",firefox:a,version:c(/(?:firefox|iceweasel)[ \/](\d+(\.\d+)?)/i)};if(/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(b)){j.firefoxos=a}}else if(/silk/i.test(b)){j={name:"Amazon Silk",silk:a,version:c(/silk\/(\d+(\.\d+)?)/i)}}else if(f){j={name:"Android",version:g}}else if(/phantom/i.test(b)){j={name:"PhantomJS",phantom:a,version:c(/phantomjs\/(\d+(\.\d+)?)/i)}}else if(/blackberry|\bbb\d+/i.test(b)||/rim\stablet/i.test(b)){j={name:"BlackBerry",blackberry:a,version:g||c(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}}else if(/(web|hpw)os/i.test(b)){j={name:"WebOS",webos:a,version:g||c(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)};/touchpad\//i.test(b)&&(j.touchpad=a)}else if(/bada/i.test(b)){j={name:"Bada",bada:a,version:c(/dolfin\/(\d+(\.\d+)?)/i)}}else if(/tizen/i.test(b)){j={name:"Tizen",tizen:a,version:c(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||g}}else if(/safari/i.test(b)){j={name:"Safari",safari:a,version:g}}else j={};if(/(apple)?webkit/i.test(b)){j.name=j.name||"Webkit";j.webkit=a;if(!j.version&&g){j.version=g}}else if(!j.opera&&/gecko\//i.test(b)){j.name=j.name||"Gecko";j.gecko=a;j.version=j.version||c(/gecko\/(\d+(\.\d+)?)/i)}if(f||j.silk){j.android=a}else if(d){j[d]=a;j.ios=a}var k="";if(d){k=c(/os (\d+([_\s]\d+)*) like mac os x/i);k=k.replace(/[_\s]/g,".")}else if(f){k=c(/android[ \/-](\d+(\.\d+)*)/i)}else if(j.windowsphone){k=c(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i)}else if(j.webos){k=c(/(?:web|hpw)os\/(\d+(\.\d+)*)/i)}else if(j.blackberry){k=c(/rim\stablet\sos\s(\d+(\.\d+)*)/i)}else if(j.bada){k=c(/bada\/(\d+(\.\d+)*)/i)}else if(j.tizen){k=c(/tizen[\/\s](\d+(\.\d+)*)/i)}if(k){j.osversion=k}var l=k.split(".")[0];if(h||d=="ipad"||f&&(l==3||l==4&&!i)||j.silk){j.tablet=a}else if(i||d=="iphone"||d=="ipod"||f||j.blackberry||j.webos||j.bada){j.mobile=a}if(j.msie&&j.version>=10||j.chrome&&j.version>=20||j.firefox&&j.version>=20||j.safari&&j.version>=6||j.opera&&j.version>=10||j.ios&&j.osversion&&j.osversion.split(".")[0]>=6||j.blackberry&&j.version>=10.1){j.a=a}else if(j.msie&&j.version<10||j.chrome&&j.version<20||j.firefox&&j.version<20||j.safari&&j.version<6||j.opera&&j.version<10||j.ios&&j.osversion&&j.osversion.split(".")[0]<6){j.c=a}else j.x=a;return j}var c=b(typeof navigator!=="undefined"?navigator.userAgent:"");c._detect=b;return c});define("app/util/events",["require","underscore"],function(a){var b=a("underscore");var c=[];var d=c.push;var e=c.slice;var f=c.splice;var g={on:function(a,b,c){if(!i(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});var d=this._events[a]||(this._events[a]=[]);d.push({callback:b,context:c,ctx:c||this});return this},once:function(a,c,d){if(!i(this,"once",a,[c,d])||!c)return this;var e=this;var f=b.once(function(){e.off(a,f);c.apply(this,arguments)});f._callback=c;return this.on(a,f,d)},off:function(a,c,d){var e,f,g,h,j,k,l,m;if(!this._events||!i(this,"off",a,[c,d]))return this;if(!a&&!c&&!d){this._events=void 0;return this}h=a?[a]:b.keys(this._events);for(j=0,k=h.length;j<k;j++){a=h[j];if(g=this._events[a]){this._events[a]=e=[];if(c||d){for(l=0,m=g.length;l<m;l++){f=g[l];if(c&&c!==f.callback&&c!==f.callback._callback||d&&d!==f.context){e.push(f)}}}if(!e.length)delete this._events[a]}}return this},trigger:function(a){if(!this._events)return this;var b=e.call(arguments,1);if(!i(this,"trigger",a,b))return this;var c=this._events[a];var d=this._events.all;if(c)j(c,b);if(d)j(d,arguments);return this},stopListening:function(a,c,d){var e=this._listeningTo;if(!e)return this;var f=!c&&!d;if(!d&&typeof c==="object")d=this;if(a)(e={})[a._listenId]=a;for(var g in e){a=e[g];a.off(c,d,this);if(f||b.isEmpty(a._events))delete this._listeningTo[g]}return this}};var h=/\s+/;var i=function(a,b,c,d){if(!c)return true;if(typeof c==="object"){for(var e in c){a[b].apply(a,[e,c[e]].concat(d))}return false}if(h.test(c)){var f=c.split(h);for(var g=0,i=f.length;g<i;g++){a[b].apply(a,[f[g]].concat(d))}return false}return true};var j=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],h=b[2];switch(b.length){case 0:while(++d<e)(c=a[d]).callback.call(c.ctx);return;case 1:while(++d<e)(c=a[d]).callback.call(c.ctx,f);return;case 2:while(++d<e)(c=a[d]).callback.call(c.ctx,f,g);return;case 3:while(++d<e)(c=a[d]).callback.call(c.ctx,f,g,h);return;default:while(++d<e)(c=a[d]).callback.apply(c.ctx,b);return}};var k={listenTo:"on",listenToOnce:"once"};b.each(k,function(a,c){g[c]=function(c,d,e){var f=this._listeningTo||(this._listeningTo={});var g=c._listenId||(c._listenId=b.uniqueId("l"));f[g]=c;if(!e&&typeof d==="object")e=this;c[a](d,e,this);return this}});g.bind=g.on;g.unbind=g.off;return g});(function(a){if(typeof define==="function"&&define.amd){define("cookie",["jquery"],a)}else if(typeof exports==="object"){a(require("jquery"))}else{a($)}})(function(a){var b=/\+/g;function c(a){return h.raw?a:encodeURIComponent(a)}function d(a){return h.raw?a:decodeURIComponent(a)}function e(a){return c(h.json?JSON.stringify(a):String(a))}function f(a){if(a.indexOf('"')===0){a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")}try{a=decodeURIComponent(a.replace(b," "));return h.json?JSON.parse(a):a}catch(c){}}function g(b,c){var d=h.raw?b:f(b);return a.isFunction(c)?c(d):d}var h=a.cookie=function(b,f,i){if(arguments.length>1&&!a.isFunction(f)){i=a.extend({},h.defaults,i);if(typeof i.expires==="number"){var j=i.expires,k=i.expires=new Date;k.setTime(+k+j*864e5)}return document.cookie=[c(b),"=",e(f),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}var l=b?undefined:{};var m=document.cookie?document.cookie.split("; "):[];for(var n=0,o=m.length;n<o;n++){var p=m[n].split("=");var q=d(p.shift());var r=p.join("=");if(b&&b===q){l=g(r,f);break}if(!b&&(r=g(r))!==undefined){l[q]=r}}return l};h.defaults={};a.removeCookie=function(b,c){if(a.cookie(b)===undefined){return false}a.cookie(b,"",a.extend({},c,{expires:-1}));return!a.cookie(b)}});define("app/util/ajax",["require","jquery","underscore","./events","cookie"],function(a){"use strict";var b=a("jquery");var c=a("underscore");var d=a("./events");a("cookie");var e={initialize:function(){},requestSuccessCallback:function(a){this.trigger("done",a)},requestErrorCallback:function(a){this.trigger("fail",a)},requestAlwaysCallback:function(a){this.trigger("always",a)},defaultOptions:{type:"GET",dataType:"json"},defaultCallbacks:{}};function f(a){function f(b,d,e){if(c.isString(b)){b={url:b}}this.opts=b||{};this.extraOptions=d||{};a.initialize();this.bindDefaultCallback();this.isSyncAdapter=e;this.send()}c.extend(f.prototype,d,{send:function(){var d=this;if(this.isSyncAdapter){this.ajax=null;return this}else{var e=c.extend({},a.defaultOptions,this.opts);this.ajax=b.ajax(e).done(function(){a.requestSuccessCallback.apply(d,arguments)}).fail(function(){a.requestErrorCallback.apply(d,arguments)}).always(function(){a.requestAlwaysCallback.apply(d,arguments)});return this}},bindDefaultCallback:function(){var b=this;var d=this.extraOptions;var e=[];var f=c.keys(a.defaultCallbacks);var g=d.preventDefaultCallbacks||[];if(g==="all"){e=[]}else if(c.isArray(g)){e=c.without.apply(null,[f].concat(g))}c.forEach(e,function(c){b.on(c,a.defaultCallbacks[c])})},abort:function(){this.ajax.abort();this.trigger("abort");return this},resend:function(){this.abort();this.send();this.trigger("resend");return this},done:function(a){this.on("done",a);return this},fail:function(a){this.on("fail",a);return this},always:function(a){this.on("always",a);return this}});function h(a,b){return new f(a,b)}var i=true;h.syncAdapter=function(){return new f(null,null,i)};h.ajaxSetup=function(b){return c.extend(a.defaultOptions,b)};h.setDefaultCallbacks=function(b){return c.extend(a.defaultCallbacks,b)};h.setConfig=function(b){a=g.defaults(a,b);return a};a=g.defaults(e,a);return h}var g={defaults:function(a,b){if(!b){return c.extend({},a)}var d={};var e=c.keys(a);c.forEach(e,function(e){var f=b[e];var g=a[e];if(c.isFunction(g)){d[e]=f||g}else if(c.isObject(g)){d[e]=c.extend({},g,f)}else if(c.isArray(g)){if(c.isArray(f)){d[e]=f.slice(0)}else{d[e]=g.slice(0)}}else{d[e]=f||g}});return d}};function h(){var a=5381;var c=b.cookie("skey");if(c===null||typeof c==="undefined"){c=""}var d=0;for(d;d<c.length;d++){a+=(a<<5)+c.charCodeAt(d)}return a&34359738367}return f});define("app/common/ur_ajax",["require","app/util/ajax"],function(a){var b=a("app/util/ajax");return new b});define("app/common/api/user",["require","exports","module","app/common/ur_ajax"],function(a,b,c){"use strict";var d=a("app/common/ur_ajax");c.exports={userInfo:function(a){return d({type:"GET",url:"/survey/user_info"},{preventDefaultCallbacks:a})},userRight:function(){return d({type:"GET",url:"/api/account/permissions"})},logout:function(){return d({type:"GET",url:"/sur/logout"})},isIntranet:function(){return d({type:"GET",url:"/api/login_option"})},oaLogin:function(a){var b=e(a);return d({type:"GET",url:"/api/callback/tof",data:{code:a,state_code:b}})}};function e(a){if(typeof a!=="string"){a=a.toString()}return a.split("").reverse().join("")}});define("app/common/models/user",["require","jquery","underscore","bowser","app/util/events","app/common/api/user","cookie"],function(a){"use strict";var b=a("jquery");var c=a("underscore");var d=a("bowser");var e=a("app/util/events");var f=a("app/common/api/user");a("cookie");var g=["not-logged-in"];function h(){this.isLoggedIn=false;this.name=null;this.avatar=null;this.id=null}c.extend(h.prototype,e,{autoLogin:function(){this.getUserInfo(g)},getUserInfo:function(a){var b=this;return f.userInfo(a).on("done",function(a){b.name=a.data.user_english_name;b.avatar=a.data.user_avatar||"/image/default_avatar.png";b.id=a.data.user_id;b.isLoggedIn=true;b.isRTX=a.data.user_type==="rtx";b.hasCommonRight=false;if(b.isRTX){f.userRight().done(function(a){b.hasCommonRight=a.data.hide_tencent_relevant_allowed})}b.trigger("logged-in")}).on("not-logged-in",function(){b.isLoggedIn=false;b.trigger("not-logged-in")})},getUserInfoWithoutTrigger:function(){return f.userInfo(true)},isStillLoggedIn:function(){var a=this;return f.userInfo().on("not-logged-in",function(){a.isLoggedIn=false;a.trigger("not-logged-in")})},login:function(a,b,c){console.error("User.login() is deprecated!");var e=this.isSurveyHTML();var f=this.isWeChat();var g=!!d.mobile;if(!a||a.length===0){a=window.location.href}if(!g){if(e){this.showPTLoginDialog(a)}else{this.jumpLoginPage(a)}}else{if(e){if(f){this.jumpWeChatForReader(a)}else{this.jumpPT(a)}}else{this.jumpLoginPage()}}},logout:function(){f.logout().done(function(){pt.logout(function(){location.replace("/index.html")})})},jumpPT:function(a){var c=b.param({style:9,appid:550011611,s_url:encodeURI(a)});var d="//ui.ptlogin2.qq.com/cgi-bin/login?"+c;location.replace(d)},jumpWeChatForAuthor:function(a){if(!a){a=location.href}var c="https://open.weixin.qq.com/connect/oauth2/authorize?";var d=i("author");var e=b.param({appid:"wx2d48bb387916ceca",redirect_uri:encodeURI(d),response_type:"code",scope:"snsapi_userinfo"});var f="#wechat_redirect";sessionStorage.setItem("originURL",a);location.replace(c+e+f)},jumpWeChatForReader:function(a){if(!a){a=location.href}var c="https://open.weixin.qq.com/connect/oauth2/authorize?";var d=i("reader");var e=b.param({appid:"wx2d48bb387916ceca",redirect_uri:encodeURI(d),response_type:"code",scope:"snsapi_userinfo"});var f="#wechat_redirect";sessionStorage.setItem("originURL",a);location.replace(c+e+f)},jumpLoginPage:function(){var a=d.mobile?"/mobile":"";var b=a+"/login.html";sessionStorage.setItem("originURL",location.href);location.replace(b)},showPTLoginDialog:function(a){pt.setParams({appid:550011611,"daid:":354,style:20,protocol:"https:",domain:"qq.com",border_radius:1,maskOpacity:40,hide_close_icon:1});pt.setParam("s_url",a);pt.showPtui()},isWeChat:function(){var a=navigator.userAgent.toLowerCase();return Boolean(a.match(/micromessenger\/([\d\.]+)/))},isWindowWeChat:function(){var a=navigator.userAgent.toLowerCase();return Boolean(a.match(/windowswechat/))},isMQQ:function(){var a=navigator.userAgent.toLowerCase();return Boolean(a.match(/qq\/([\d\.]+)/))},isQzone:function(){var a=navigator.userAgent.toLowerCase();return Boolean(a.indexOf("qzone/"))},isAndroid:function(){var a=navigator.userAgent.toLowerCase();return Boolean(a.indexOf("android"))},isSurveyHTML:function(){return Boolean(location.pathname.indexOf("/survey.html")>=0)}});if(!window.console){window.console={log:function(){},info:function(){},error:function(){}}}function i(a){var b=location.protocol+"//wj.qq.com/mobile/auth.html?step="+a;var c=j();if(c!==null){b+="&staging="+c[1]}return b}function j(){return location.hostname.match(/([\w\d-]+)\.wj\.qq\.com$/)}return new h});define("app/util/mo_push",["require","exports","module","jquery"],function(a,b,c){"use strict";var d=a("jquery");var e="/sur/mo_push";var f=function(a){this.id=a;this.reportData={};return this};f.prototype.send=function(){var a=Math.pow(10,Number((Math.random()*10).toFixed(0)));var b=36889694;var c=this.reportData;if(d.isEmptyObject(c)){return false}d.extend(c,{random:a,total:1});var f=d.param(c);var g=f.length+b;var h=this.id;return d.ajax({url:e,data:{msg:f,hash:g,id:h},method:"post"})};c.exports=f});define("app/util/report_menshen",["require","exports","module","app/util/mo_push"],function(a,b,c){"use strict";var d=a("app/util/mo_push");var e=new d(4003);c.exports=function(a){e.reportData["CGI"]=a;e.send()}});define("app/common/ur_app",["require","underscore","bowser","app/util/events","./models/user","./ur_ajax","app/util/report_menshen"],function(a){"use strict";var b=a("underscore");var c=a("bowser");var d=a("app/util/events");var e=a("./models/user");var f=a("./ur_ajax");var g=a("app/util/report_menshen");var h={initialize:function(){},requestSuccessCallback:function(a){var b=a.status;var c=a.info;switch(b){case-1:this.trigger("not-invited",a);break;case-2:this.trigger("not-logged-in",a);break;case 1:this.trigger("done",a);break;default:var d=["002","003","004"];if(d.indexOf(c)>-1){this.trigger("verify",a)}else{this.trigger("fail",a)}}},requestErrorCallback:function(a){var b=a.status;var c=this.opts.url||"unknown url";switch(b){case 501:g(c);alert("");break;default:break}},defaultOptions:{cache:false},defaultCallbacks:{"not-logged-in":function(a){window.onbeforeunload=function(){};this.trigger("require-login");e.login()},fail:function(a){if(a.info){alert(a.info)}}}};function i(a){this.opts=a;this.loadConfig();this.init()}b.extend(i.prototype,d,{loadConfig:function(){f.setConfig(h)},init:function(){this.checkUA();this.login()},checkUA:function(){if(c.msie&&parseInt(c.version,10)<7){}},login:function(){var a=this;var b=this.opts.needLogin;var c=this.opts.preventAutoLogin;if(b){e.on("not-logged-in",function(){e.login()});e.on("logged-in",function(){a.trigger("start")})}else{e.on("not-logged-in",function(){a.trigger("start")});e.on("logged-in",function(){a.trigger("start")})}if(!c){e.autoLogin()}else{setTimeout(function(){a.trigger("start")},0)}}});return i});(function(){"use strict";var a={};a.parse=function(a){if(typeof a!=="string"){return{}}a=a.replace(/^(\?|#)/,"");if(!a){return{}}return a.split("&").reduce(function(a,b){var c=b.replace(/\+/g," ").split("=");var d=c[0];var e=c[1];d=decodeURIComponent(d);e=e===undefined?null:decodeURIComponent(e);if(!a.hasOwnProperty(d)){a[d]=e}else if(Array.isArray(a[d])){a[d].push(e)}else{a[d]=[a[d],e]}return a},{})};a.stringify=function(a){return a?Object.keys(a).map(function(b){var c=a[b];if(Array.isArray(c)){return c.map(function(a){return encodeURIComponent(b)+"="+encodeURIComponent(a)}).join("&")}return encodeURIComponent(b)+"="+encodeURIComponent(c)}).join("&"):""};if(typeof define==="function"&&define.amd){define("queryString",[],function(){return a})}else if(typeof module!=="undefined"&&module.exports){module.exports=a}else{window.queryString=a}})();define("config/global",["require"],function(a){return{mode:"production",version:"1.2.0"}});define("app/util/log",["require","underscore","./events"],function(a){var b=a("underscore");var c=a("./events");function d(a,b){this.level=a.toUpperCase();this.time=new Date;this.content=b}function e(){this._level=30;this.logs=[]}var f={DEBUG:10,INFO:20,WARNING:30,ERROR:40,CRITICAL:50};b.extend(e.prototype,c,{setLevel:function(a){this._level=a},addLevel:function(a,b){var c=a.toUpperCase();var e=a.toLowerCase();this[c]=b;this[e]=function(){if(b<this._level){return}var a=new d(e,Array.prototype.slice.call(arguments));this.logs.push(a);this.trigger(e,a);this.trigger("log",a)}}});b.each(b.keys(f),function(a){a=a.toLowerCase();e.prototype[a]=function(){if(f[a.toUpperCase()]<this._level){return}var b=new d(a,Array.prototype.slice.call(arguments));this.logs.push(b);this.trigger(a,b);this.trigger("log",b)}});var g=new e;b.extend(g,f);window.LOG=g;return g});(function(a,b){if(typeof define==="function"&&define.amd){define("app/util/safe_json",[],b)}else if(typeof exports==="object"){module.exports=b()}else{a.SafeJSON=b()}})(this,function(){var a=function(a){var b=typeof a;return b==="function"||b==="object"&&!!a};var b=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};var c=function(a){return Object.prototype.toString.call(a)==="[object String]"};var d=null;var e={TOKEN_NAME:"xbJDIod5",TOKEN_FORMAT:"%>$$<%",CIRCULAR_MARK:"__circular_references__",ROOT_SYMBOL:"obj"};function f(a){var b=e.ROOT_SYMBOL;return g(a,b,[])}function g(c,d,f){var h;var i=e.TOKEN_NAME;if(a(c)){if(b(c)){h=[]}else{h={}}if(f.indexOf(c)>-1){return e.TOKEN_FORMAT.replace("$$",c[i])}c[i]=d;f.push(c);for(var j in c){if(c.hasOwnProperty(j)&&j!==i){h[j]=g(c[j],d+"."+j,f)}}f.pop();delete c[i];return h}else{return c}}function h(e,f){for(var g in e){if(e.hasOwnProperty(g)){var i=e[g];if(a(i)||b(i)){e[g]=h(i,f)}else if(c(i)){if(d.test(i)){var j=i.match(d)[1];var k=j.split(".");var l=f;for(var m=1;m<k.length;m++){l=l[k[m]]}e[g]=l}}}}return e}e.stringify=function(a){var b;try{b=JSON.stringify(a)}catch(c){var d=f(a);d[e.CIRCULAR_MARK]=1;b=JSON.stringify(d)}return b};e.parse=function(a){var b=JSON.parse(a);if(b[e.CIRCULAR_MARK]){delete b[e.CIRCULAR_MARK];d=new RegExp(("^"+e.TOKEN_FORMAT+"$").replace("$$","(.*?)"));return h(b,b)}else{return b}};return e});define("app/util/ur_log",["require","underscore","jquery","bowser","config/global","app/util/log","app/util/safe_json"],function(a){var b=a("underscore");var c=a("jquery");var d=a("bowser");var e=a("config/global");var f=a("app/util/log");var g=a("app/util/safe_json");f.addLevel("mark",999);var h={DEBUG:["black","white"],INFO:["blue","white"],WARNING:["white","orange"],ERROR:["white","red"],CRITICAL:["white","red"],MARK:["green","white"]};if(!window.console){window.console={log:function(){},info:function(){},error:function(){}}}if(e.mode==="development"){f.setLevel(f.DEBUG);if(window.console&&window.console.log){if(d.chrome===true){f.on("log",function(a){console.log.apply(console,i(a))})}else{f.on("log",function(a){a=i(a);console.log(a[0],"  ",a[1],"  ",a[2])})}}}else{f.setLevel(f.INFO);window.onerror=function(){f.error("uncaught exception:",arguments)};f.on("warning error critical",function(a){l(a)});f.on("mark",function(a){var b=a.content[0];var c=window.localStorage.getItem("_log_system_mark_");var d=JSON.parse(c)||{};if(!d[b]){d[b]=true;window.localStorage.setItem("_log_system_mark_",JSON.stringify(d));l(a)}});if(window.console&&window.console.log){window.console.log=function(){}}}function i(a){var b=o(a.time);if(d.chrome){return["%c"+b+" "+a.level+":","color:"+h[a.level][0]+";"+"background:"+h[a.level][1]+";"].concat(a.content)}else{return[b,a.level,a.content]}}var j=null;var k=30*1e3;function l(a){if(j){return}var d={ua:window.navigator.userAgent,version:e.version,url:window.location.href,referrer:document.referrer,level:a.level,metaStack:b.map(f.logs.slice(-15),n),stack:b.map(f.logs.slice(-3),m)};j=c.ajax({url:"/survey/fe_log",type:"POST",data:{content:JSON.stringify(d)}});window.setTimeout(function(){j=null},k)}function m(a){var b=o(a.time);return[b+" "+a.level+":"].concat(g.stringify(a.content)).join(" ")}function n(a){var c=o(a.time);var d=b.filter(a.content,function(a){return!b.isObject(a)});return[c+" "+a.level+":"].concat(g.stringify(d)).join(" ")}function o(a){var b=a.getFullYear();var c=h(a.getMonth()+1,2);var d=h(a.getDate(),2);var e=h(a.getHours(),2);var f=h(a.getMinutes(),2);var g=h(a.getSeconds(),2);function h(a,b){var c=String(a);var d=b-c.length;while(d--){c="0"+c}return c}return""+b+"-"+c+"-"+d+" "+e+":"+f+":"+g}if(window.console&&typeof window.console.time=="undefined"){console.time=function(a,b){if(!a){return}var c=(new Date).getTime();if(!console.timeCounters){console.timeCounters={}}var d="KEY"+a.toString();if(!b&&console.timeCounters[d]){return}console.timeCounters[d]=c};console.timeEnd=function(a){var b=(new Date).getTime();if(!console.timeCounters){return}var c="KEY"+a.toString();var d=console.timeCounters[c];var e;if(d){e=b-d;var f=a+": "+e+"ms";console.info(f);delete console.timeCounters[c]}return e}}return f});define("art-dialog/popup",["require","jquery"],function(a){var b=a("jquery");var c=0;var d=!("minWidth"in b("html")[0].style);var e=!d;function f(){this.destroyed=false;this.__popup=b("<div />").css({display:"none",position:"absolute",outline:0}).html(this.innerHTML).appendTo("body");this.__backdrop=this.__mask=b("<div />").css({opacity:.7,background:"#000"});this.node=this.__popup[0];this.backdrop=this.__backdrop[0];c++}b.extend(f.prototype,{node:null,backdrop:null,fixed:false,destroyed:true,open:false,returnValue:"",autofocus:true,align:"bottom left",innerHTML:"",className:"ui-popup",show:function(a,c){if(this.destroyed){return this}var g=this;var h=this.__popup;var i=this.__backdrop;this.__activeElement=this.__getActive();this.open=true;this.follow=a||this.follow;if(!this.__ready){h.addClass(this.className).attr("role",this.modal?"alertdialog":"dialog").css("position",this.fixed?"fixed":"absolute");if(!d){b(window).on("resize",b.proxy(this.reset,this))}if(this.modal){var j={position:"fixed",left:0,top:0,width:"100%",height:"100%",overflow:"hidden",userSelect:"none",zIndex:this.zIndex||f.zIndex};h.addClass(this.className+"-modal");if(!e){b.extend(j,{position:"absolute",width:b(window).width()+"px",height:b(document).height()+"px"})}i.css(j).on("focus",b.proxy(this.focus,this));this.__mask=i.clone(true).attr("style","").insertAfter(h);i.addClass(this.className+"-backdrop").insertBefore(h);this.__ready=true}if(!h.html()){h.html(this.innerHTML)}}h.addClass(this.className+"-show").show();i.show();this.reset();if(c!==true){this.focus()}this.__dispatchEvent("show");return this},showModal:function(){this.modal=true;return this.show.apply(this,arguments)},close:function(a){if(!this.destroyed&&this.open){if(a!==undefined){this.returnValue=a}this.__popup.hide().removeClass(this.className+"-show");this.__backdrop.hide();this.open=false;this.blur();this.__dispatchEvent("close")}return this},remove:function(){if(this.destroyed){return this}this.__dispatchEvent("beforeremove");if(f.current===this){f.current=null}this.__popup.remove();this.__backdrop.remove();this.__mask.remove();if(!d){b(window).off("resize",this.reset)}this.__dispatchEvent("remove");for(var a in this){delete this[a]}return this},reset:function(){var a=this.follow;if(a){this.__follow(a)}else{this.__center()}this.__dispatchEvent("reset");return this},focus:function(){var a=this.node;var c=this.__popup;var d=f.current;var e=this.zIndex=f.zIndex++;if(d&&d!==this){d.blur(false)}if(!b.contains(a,this.__getActive())){var g=c.find("[autofocus]")[0];if(!this._autofocus&&g){this._autofocus=true}else{g=a}this.__focus(g)}c.css("zIndex",e);f.current=this;c.addClass(this.className+"-focus");this.__dispatchEvent("focus");return this},blur:function(){var a=this.__activeElement;var b=arguments[0];if(b!==false){}this._autofocus=false;this.__popup.removeClass(this.className+"-focus");this.__dispatchEvent("blur");return this},addEventListener:function(a,b){this.__getEventListener(a).push(b);return this},removeEventListener:function(a,b){var c=this.__getEventListener(a);for(var d=0;d<c.length;d++){if(b===c[d]){c.splice(d--,1)}}return this},__getEventListener:function(a){var b=this.__listener;if(!b){b=this.__listener={}}if(!b[a]){b[a]=[]}return b[a]},__dispatchEvent:function(a){var b=this.__getEventListener(a);if(this["on"+a]){this["on"+a]()}for(var c=0;c<b.length;c++){b[c].call(this)}},__focus:function(a){try{if(this.autofocus&&!/^iframe$/i.test(a.nodeName)){a.focus()}}catch(b){}},__getActive:function(){try{var a=document.activeElement;var b=a.contentDocument;var c=b&&b.activeElement||a;return c}catch(d){}},__center:function(){var a=this.__popup;if(b.zepto){a.show()}var c=b(window);var d=b(document);var e=this.fixed;var f=e?0:d.scrollLeft()||0;var g=e?0:d.scrollTop()||0;var h=c.width();var i=c.height();var j=a.width()||a[0].offsetWidth;var k=a.height()||a[0].offsetHeight;var l=(h-j)/2+f;var m=(i-k)*382/1e3+g;var n=a[0].style;n.left=Math.max(parseInt(l),f)+"px";n.top=Math.max(parseInt(m),g)+"px"},__follow:function(a){var c=a.parentNode&&b(a);var d=this.__popup;if(this.__followSkin){d.removeClass(this.__followSkin)}if(c){var e=c.offset();if(e.left*e.top<0){return this.__center()}}var f=this;var g=this.fixed;var h=b(window);var i=b(document);var j=h.width();var k=h.height();var l=i.scrollLeft();var m=i.scrollTop();var n=d.width();var o=d.height();var p=c?c.outerWidth():0;var q=c?c.outerHeight():0;var r=this.__offset(a);var s=r.left;var t=r.top;var u=g?s-l:s;var v=g?t-m:t;var w=g?0:l;var x=g?0:m;var y=w+j-n;var z=x+k-o;var A={};var B=this.align.split(" ");var C=this.className+"-";var D={top:"bottom",bottom:"top",left:"right",right:"left"};var E={top:"top",bottom:"top",left:"left",right:"left"};var F=[{top:v-o,bottom:v+q,left:u-n,right:u+p},{top:v,bottom:v-o+q,left:u,right:u-n+p}];var G={left:u+p/2-n/2,top:v+q/2-o/2};var H={left:[w,y],top:[x,z]};b.each(B,function(a,b){if(F[a][b]>H[E[b]][1]){b=B[a]=D[b]}if(F[a][b]<H[E[b]][0]){B[a]=D[b]}});if(!B[1]){E[B[1]]=E[B[0]]==="left"?"top":"left";F[1][B[1]]=G[E[B[1]]]}C+=B.join("-")+" "+this.className+"-follow";f.__followSkin=C;if(c){d.addClass(C)}A[E[B[0]]]=parseInt(F[0][B[0]]);A[E[B[1]]]=parseInt(F[1][B[1]]);d.css(A)},__offset:function(a){var c=a.parentNode;var d=c?b(a).offset():{left:a.pageX,top:a.pageY};a=c?a:a.target;var e=a.ownerDocument;var f=e.defaultView||e.parentWindow;
if(f==window){return d}var g=f.frameElement;var h=b(e);var i=h.scrollLeft();var j=h.scrollTop();var k=b(g).offset();var l=k.left;var m=k.top;return{left:d.left+l-i,top:d.top+m-j}}});f.zIndex=1024;f.current=null;return f});define("art-dialog/dialog-config",{backdropBackground:"#000",backdropOpacity:.7,content:'<span class="ui-dialog-loading">Loading..</span>',title:"",statusbar:"",button:null,ok:null,cancel:null,okValue:"ok",cancelValue:"cancel",cancelDisplay:true,width:"",height:"",padding:"",skin:"",quickClose:false,cssUri:null,innerHTML:'<div i="dialog" class="ui-dialog">'+'<div class="ui-dialog-arrow-a"></div>'+'<div class="ui-dialog-arrow-b"></div>'+'<table class="ui-dialog-grid">'+"<tr>"+'<td i="header" class="ui-dialog-header">'+'<button i="close" class="ui-dialog-close">&#215;</button>'+'<div i="title" class="ui-dialog-title"></div>'+"</td>"+"</tr>"+"<tr>"+'<td i="body" class="ui-dialog-body">'+'<div i="content" class="ui-dialog-content"></div>'+"</td>"+"</tr>"+"<tr>"+'<td i="footer" class="ui-dialog-footer">'+'<div i="statusbar" class="ui-dialog-statusbar"></div>'+'<div i="button" class="ui-dialog-button"></div>'+"</td>"+"</tr>"+"</table>"+"</div>"});define("art-dialog/dialog",["require","jquery","./popup","./dialog-config"],function(a){var b=a("jquery");var c=a("./popup");var d=a("./dialog-config");var e=d.cssUri;if(e){var f=a[a.toUrl?"toUrl":"resolve"];if(f){e=f(e);e='<link rel="stylesheet" href="'+e+'" />';if(b("base")[0]){b("base").before(e)}else{b("head").append(e)}}}var g=0;var h=new Date-0;var i=!("minWidth"in b("html")[0].style);var j="createTouch"in document&&!("onmousemove"in document)||/(iPhone|iPad|iPod)/i.test(navigator.userAgent);var k=!i&&!j;var l=function(a,c,d){var e=a=a||{};if(typeof a==="string"||a.nodeType===1){a={content:a,fixed:!j}}a=b.extend(true,{},l.defaults,a);a.original=e;var f=a.id=a.id||h+g;var i=l.get(f);if(i){return i.focus()}if(!k){a.fixed=false}if(a.quickClose){a.modal=true;a.backdropOpacity=0}if(!b.isArray(a.button)){a.button=[]}if(d!==undefined){a.cancel=d}if(a.cancel){a.button.push({id:"cancel",value:a.cancelValue,callback:a.cancel,display:a.cancelDisplay})}if(c!==undefined){a.ok=c}if(a.ok){a.button.push({id:"ok",value:a.okValue,callback:a.ok,autofocus:true})}return l.list[f]=new l.create(a)};var m=function(){};m.prototype=c.prototype;var n=l.prototype=new m;l.create=function(a){var d=this;b.extend(this,new c);var e=a.original;var f=b(this.node).html(a.innerHTML);var h=b(this.backdrop);this.options=a;this._popup=f;b.each(a,function(a,b){if(typeof d[a]==="function"){d[a](b)}else{d[a]=b}});if(a.zIndex){c.zIndex=a.zIndex}f.attr({"aria-labelledby":this._$("title").attr("id","title:"+this.id).attr("id"),"aria-describedby":this._$("content").attr("id","content:"+this.id).attr("id")});this._$("close").css("display",this.cancel===false?"none":"").attr("title",this.cancelValue).on("click",function(a){d._trigger("cancel");a.preventDefault()});this._$("dialog").addClass(this.skin);this._$("body").css("padding",this.padding);if(a.quickClose){h.on("onmousedown"in document?"mousedown":"click",function(){d._trigger("cancel");return false})}this.addEventListener("show",function(){h.css({opacity:0,background:a.backdropBackground}).animate({opacity:a.backdropOpacity},150)});this._esc=function(a){var b=a.target;var e=b.nodeName;var f=/^input|textarea$/i;var g=c.current===d;var h=a.keyCode;if(!g||f.test(e)&&b.type!=="button"){return}if(h===27){d._trigger("cancel")}};b(document).on("keydown",this._esc);this.addEventListener("remove",function(){b(document).off("keydown",this._esc);delete l.list[this.id]});g++;l.oncreate(this);return this};l.create.prototype=n;b.extend(n,{content:function(a){var c=this._$("content");if(typeof a==="object"){a=b(a);c.empty("").append(a.show());this.addEventListener("beforeremove",function(){b("body").append(a.hide())})}else{c.html(a)}return this.reset()},title:function(a){this._$("title").text(a);this._$("header")[a?"show":"hide"]();return this},width:function(a){this._$("content").css("width",a);return this.reset()},height:function(a){this._$("content").css("height",a);return this.reset()},button:function(a){a=a||[];var c=this;var d="";var e=0;this.callbacks={};if(typeof a==="string"){d=a;e++}else{b.each(a,function(a,f){var g=f.id=f.id||f.value;var h="";c.callbacks[g]=f.callback;if(f.display===false){h=' style="display:none"'}else{e++}d+="<button"+' type="button"'+' i-id="'+g+'"'+h+(f.disabled?" disabled":"")+(f.autofocus?' autofocus class="ui-dialog-autofocus"':"")+">"+f.value+"</button>";c._$("button").on("click","[i-id="+g+"]",function(a){var d=b(this);if(!d.attr("disabled")){c._trigger(g)}a.preventDefault()})})}this._$("button").html(d);this._$("footer")[e?"show":"hide"]();return this},statusbar:function(a){this._$("statusbar").html(a)[a?"show":"hide"]();return this},_$:function(a){return this._popup.find("[i="+a+"]")},_trigger:function(a){var b=this.callbacks[a];return typeof b!=="function"||b.call(this)!==false?this.close().remove():this}});l.oncreate=b.noop;l.getCurrent=function(){return c.current};l.get=function(a){return a===undefined?l.list:l.list[a]};l.list={};l.defaults=d;return l});(function(a,b,c){var d={},e,f,g;d.Util={};d.Util.log=function(b){if(d.logging&&a.console&&a.console.log){a.console.log(b)}};d.Util.trimText=function(a){return function(b){return a?a.apply(b):((b||"")+"").replace(/^\s+|\s+$/g,"")}}(String.prototype.trim);d.Util.asFloat=function(a){return parseFloat(a)};(function(){var a=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g;var b=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g;d.Util.parseTextShadows=function(c){if(!c||c==="none"){return[]}var d=c.match(a),e=[];for(var f=0;d&&f<d.length;f++){var g=d[f].match(b);e.push({color:g[0],offsetX:g[1]?g[1].replace("px",""):0,offsetY:g[2]?g[2].replace("px",""):0,blur:g[3]?g[3].replace("px",""):0})}return e}})();d.Util.parseBackgroundImage=function(a){var b=" \r\n\t",c,d,e,f,g,h=[],i,j=0,k=0,l,m;var n=function(){if(c){if(d.substr(0,1)==='"'){d=d.substr(1,d.length-2)}if(d){m.push(d)}if(c.substr(0,1)==="-"&&(f=c.indexOf("-",1)+1)>0){e=c.substr(0,f);c=c.substr(f)}h.push({prefix:e,method:c.toLowerCase(),value:g,args:m})}m=[];c=e=d=g=""};n();for(var o=0,p=a.length;o<p;o++){i=a[o];if(j===0&&b.indexOf(i)>-1){continue}switch(i){case'"':if(!l){l=i}else if(l===i){l=null}break;case"(":if(l){break}else if(j===0){j=1;g+=i;continue}else{k++}break;case")":if(l){break}else if(j===1){if(k===0){j=0;g+=i;n();continue}else{k--}}break;case",":if(l){break}else if(j===0){n();continue}else if(j===1){if(k===0&&!c.match(/^url$/i)){m.push(d);d="";g+=i;continue}}break}g+=i;if(j===0){c+=i}else{d+=i}}n();return h};d.Util.Bounds=function(a){var b,c={};if(a.getBoundingClientRect){b=a.getBoundingClientRect();c.top=b.top;c.bottom=b.bottom||b.top+b.height;c.left=b.left;c.width=a.offsetWidth;c.height=a.offsetHeight}return c};d.Util.OffsetBounds=function(a){var b=a.offsetParent?d.Util.OffsetBounds(a.offsetParent):{top:0,left:0};return{top:a.offsetTop+b.top,bottom:a.offsetTop+a.offsetHeight+b.top,left:a.offsetLeft+b.left,width:a.offsetWidth,height:a.offsetHeight}};function h(a,b,c){var d=a.runtimeStyle&&a.runtimeStyle[b],e,f=a.style;if(!/^-?[0-9]+\.?[0-9]*(?:px)?$/i.test(c)&&/^-?\d/.test(c)){e=f.left;if(d){a.runtimeStyle.left=a.currentStyle.left}f.left=b==="fontSize"?"1em":c||0;c=f.pixelLeft+"px";f.left=e;if(d){a.runtimeStyle.left=d}}if(!/^(thin|medium|thick)$/i.test(c)){return Math.round(parseFloat(c))+"px"}return c}function i(a){return parseInt(a,10)}function j(a,b,e,f){a=(a||"").split(",");a=a[f||0]||a[0]||"auto";a=d.Util.trimText(a).split(" ");if(e==="backgroundSize"&&(!a[0]||a[0].match(/cover|contain|auto/))){}else{a[0]=a[0].indexOf("%")===-1?h(b,e+"X",a[0]):a[0];if(a[1]===c){if(e==="backgroundSize"){a[1]="auto";return a}else{a[1]=a[0]}}a[1]=a[1].indexOf("%")===-1?h(b,e+"Y",a[1]):a[1]}return a}d.Util.getCSS=function(a,c,d){if(e!==a){f=b.defaultView.getComputedStyle(a,null)}var g=f[c];if(/^background(Size|Position)$/.test(c)){return j(g,a,c,d)}else if(/border(Top|Bottom)(Left|Right)Radius/.test(c)){var h=g.split(" ");if(h.length<=1){h[1]=h[0]}return h.map(i)}return g};d.Util.resizeBounds=function(a,b,c,d,e){var f=c/d,g=a/b,h,i;if(!e||e==="auto"){h=c;i=d}else if(f<g^e==="contain"){i=d;h=d*g}else{h=c;i=c/g}return{width:h,height:i}};function k(a,b,c,e,f,g){var h=d.Util.getCSS(b,a,f),i,j,k,l;if(h.length===1){l=h[0];h=[];h[0]=l;h[1]=l}if(h[0].toString().indexOf("%")!==-1){k=parseFloat(h[0])/100;j=c.width*k;if(a!=="backgroundSize"){j-=(g||e).width*k}}else{if(a==="backgroundSize"){if(h[0]==="auto"){j=e.width}else{if(/contain|cover/.test(h[0])){var m=d.Util.resizeBounds(e.width,e.height,c.width,c.height,h[0]);j=m.width;i=m.height}else{j=parseInt(h[0],10)}}}else{j=parseInt(h[0],10)}}if(h[1]==="auto"){i=j/e.width*e.height}else if(h[1].toString().indexOf("%")!==-1){k=parseFloat(h[1])/100;i=c.height*k;if(a!=="backgroundSize"){i-=(g||e).height*k}}else{i=isNaN(parseInt(h[1],10))?i:parseInt(h[1],10)}return[j,i]}d.Util.BackgroundPosition=function(a,b,c,d,e){var f=k("backgroundPosition",a,b,c,d,e);return{left:f[0],top:f[1]}};d.Util.BackgroundSize=function(a,b,c,d){var e=k("backgroundSize",a,b,c,d);return{width:e[0],height:e[1]}};d.Util.Extend=function(a,b){for(var c in a){if(a.hasOwnProperty(c)){b[c]=a[c]}}return b};d.Util.Children=function(a){var b;try{b=a.nodeName&&a.nodeName.toUpperCase()==="IFRAME"?a.contentDocument||a.contentWindow.document:function(a){var b=[];if(a!==null){(function(a,b){var d=a.length,e=0;if(typeof b.length==="number"){for(var f=b.length;e<f;e++){a[d++]=b[e]}}else{while(b[e]!==c){a[d++]=b[e++]}}a.length=d;return a})(b,a)}return b}(a.childNodes)}catch(e){d.Util.log("html2canvas.Util.Children failed with exception: "+e.message);b=[]}return b};d.Util.isTransparent=function(a){return a==="transparent"||a==="rgba(0, 0, 0, 0)"};d.Util.Font=function(){var a={};return function(b,d,e){if(a[b+"-"+d]!==c){return a[b+"-"+d]}var f=e.createElement("div"),g=e.createElement("img"),h=e.createElement("span"),i="Hidden Text",j,k,l;f.style.visibility="hidden";f.style.fontFamily=b;f.style.fontSize=d;f.style.margin=0;f.style.padding=0;e.body.appendChild(f);g.src="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACwAAAAAAQABAAACAkQBADs=";g.width=1;g.height=1;g.style.margin=0;g.style.padding=0;g.style.verticalAlign="baseline";h.style.fontFamily=b;h.style.fontSize=d;h.style.margin=0;h.style.padding=0;h.appendChild(e.createTextNode(i));f.appendChild(h);f.appendChild(g);j=g.offsetTop-h.offsetTop+1;f.removeChild(h);f.appendChild(e.createTextNode(i));f.style.lineHeight="normal";g.style.verticalAlign="super";k=g.offsetTop-f.offsetTop+1;l={baseline:j,lineWidth:1,middle:k};a[b+"-"+d]=l;e.body.removeChild(f);return l}}();(function(){var a=d.Util,c={};d.Generate=c;var e=[/^(-webkit-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-gradient)\((linear|radial),\s((?:\d{1,3}%?)\s(?:\d{1,3}%?),\s(?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)\-]+)\)$/,/^(-moz-linear-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-moz-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s?([a-z\-]*)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/];c.parseGradient=function(a,b){var c,d,f=e.length,g,h,i,j,k,l,m,n,o,p;for(d=0;d<f;d+=1){g=a.match(e[d]);if(g){break}}if(g){switch(g[1]){case"-webkit-linear-gradient":case"-o-linear-gradient":c={type:"linear",x0:null,y0:null,x1:null,y1:null,colorStops:[]};i=g[2].match(/\w+/g);if(i){j=i.length;for(d=0;d<j;d+=1){switch(i[d]){case"top":c.y0=0;c.y1=b.height;break;case"right":c.x0=b.width;c.x1=0;break;case"bottom":c.y0=b.height;c.y1=0;break;case"left":c.x0=0;c.x1=b.width;break}}}if(c.x0===null&&c.x1===null){c.x0=c.x1=b.width/2}if(c.y0===null&&c.y1===null){c.y0=c.y1=b.height/2}i=g[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g);if(i){j=i.length;k=1/Math.max(j-1,1);for(d=0;d<j;d+=1){l=i[d].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/);if(l[2]){h=parseFloat(l[2]);if(l[3]==="%"){h/=100}else{h/=b.width}}else{h=d*k}c.colorStops.push({color:l[1],stop:h})}}break;case"-webkit-gradient":c={type:g[2]==="radial"?"circle":g[2],x0:0,y0:0,x1:0,y1:0,colorStops:[]};i=g[3].match(/(\d{1,3})%?\s(\d{1,3})%?,\s(\d{1,3})%?\s(\d{1,3})%?/);if(i){c.x0=i[1]*b.width/100;c.y0=i[2]*b.height/100;c.x1=i[3]*b.width/100;c.y1=i[4]*b.height/100}i=g[4].match(/((?:from|to|color-stop)\((?:[0-9\.]+,\s)?(?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)\))+/g);if(i){j=i.length;for(d=0;d<j;d+=1){l=i[d].match(/(from|to|color-stop)\(([0-9\.]+)?(?:,\s)?((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\)/);h=parseFloat(l[2]);if(l[1]==="from"){h=0}if(l[1]==="to"){h=1}c.colorStops.push({color:l[3],stop:h})}}break;case"-moz-linear-gradient":c={type:"linear",x0:0,y0:0,x1:0,y1:0,colorStops:[]};i=g[2].match(/(\d{1,3})%?\s(\d{1,3})%?/);if(i){c.x0=i[1]*b.width/100;c.y0=i[2]*b.height/100;c.x1=b.width-c.x0;c.y1=b.height-c.y0}i=g[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}%)?)+/g);if(i){j=i.length;k=1/Math.max(j-1,1);for(d=0;d<j;d+=1){l=i[d].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%)?/);if(l[2]){h=parseFloat(l[2]);if(l[3]){h/=100}}else{h=d*k}c.colorStops.push({color:l[1],stop:h})}}break;case"-webkit-radial-gradient":case"-moz-radial-gradient":case"-o-radial-gradient":c={type:"circle",x0:0,y0:0,x1:b.width,y1:b.height,cx:0,cy:0,rx:0,ry:0,colorStops:[]};i=g[2].match(/(\d{1,3})%?\s(\d{1,3})%?/);if(i){c.cx=i[1]*b.width/100;c.cy=i[2]*b.height/100}i=g[3].match(/\w+/);l=g[4].match(/[a-z\-]*/);if(i&&l){switch(l[0]){case"farthest-corner":case"cover":case"":m=Math.sqrt(Math.pow(c.cx,2)+Math.pow(c.cy,2));n=Math.sqrt(Math.pow(c.cx,2)+Math.pow(c.y1-c.cy,2));o=Math.sqrt(Math.pow(c.x1-c.cx,2)+Math.pow(c.y1-c.cy,2));p=Math.sqrt(Math.pow(c.x1-c.cx,2)+Math.pow(c.cy,2));c.rx=c.ry=Math.max(m,n,o,p);break;case"closest-corner":m=Math.sqrt(Math.pow(c.cx,2)+Math.pow(c.cy,2));n=Math.sqrt(Math.pow(c.cx,2)+Math.pow(c.y1-c.cy,2));o=Math.sqrt(Math.pow(c.x1-c.cx,2)+Math.pow(c.y1-c.cy,2));p=Math.sqrt(Math.pow(c.x1-c.cx,2)+Math.pow(c.cy,2));c.rx=c.ry=Math.min(m,n,o,p);break;case"farthest-side":if(i[0]==="circle"){c.rx=c.ry=Math.max(c.cx,c.cy,c.x1-c.cx,c.y1-c.cy)}else{c.type=i[0];c.rx=Math.max(c.cx,c.x1-c.cx);c.ry=Math.max(c.cy,c.y1-c.cy)}break;case"closest-side":case"contain":if(i[0]==="circle"){c.rx=c.ry=Math.min(c.cx,c.cy,c.x1-c.cx,c.y1-c.cy)}else{c.type=i[0];c.rx=Math.min(c.cx,c.x1-c.cx);c.ry=Math.min(c.cy,c.y1-c.cy)}break}}i=g[5].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g);if(i){j=i.length;k=1/Math.max(j-1,1);for(d=0;d<j;d+=1){l=i[d].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/);if(l[2]){h=parseFloat(l[2]);if(l[3]==="%"){h/=100}else{h/=b.width}}else{h=d*k}c.colorStops.push({color:l[1],stop:h})}}break}}return c};function f(b){return function(c){try{b.addColorStop(c.stop,c.color)}catch(d){a.log(["failed to add color stop: ",d,"; tried to add: ",c])}}}c.Gradient=function(a,c){if(c.width===0||c.height===0){return}var e=b.createElement("canvas"),g=e.getContext("2d"),h,i;e.width=c.width;e.height=c.height;h=d.Generate.parseGradient(a,c);if(h){switch(h.type){case"linear":i=g.createLinearGradient(h.x0,h.y0,h.x1,h.y1);h.colorStops.forEach(f(i));g.fillStyle=i;g.fillRect(0,0,c.width,c.height);break;case"circle":i=g.createRadialGradient(h.cx,h.cy,0,h.cx,h.cy,h.rx);h.colorStops.forEach(f(i));g.fillStyle=i;g.fillRect(0,0,c.width,c.height);break;case"ellipse":var j=b.createElement("canvas"),k=j.getContext("2d"),l=Math.max(h.rx,h.ry),m=l*2;j.width=j.height=m;i=k.createRadialGradient(h.rx,h.ry,0,h.rx,h.ry,l);h.colorStops.forEach(f(i));k.fillStyle=i;k.fillRect(0,0,m,m);g.fillStyle=h.colorStops[h.colorStops.length-1].color;g.fillRect(0,0,e.width,e.height);g.drawImage(j,h.cx-h.rx,h.cy-h.ry,2*h.rx,2*h.ry);break}}return e};c.ListAlpha=function(a){var b="",c;do{c=a%26;b=String.fromCharCode(c+64)+b;a=a/26}while(a*26>26);return b};c.ListRoman=function(a){var b=["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],c=[1e3,900,500,400,100,90,50,40,10,9,5,4,1],d="",e,f=b.length;if(a<=0||a>=4e3){return a}for(e=0;e<f;e+=1){while(a>=c[e]){a-=c[e];d+=b[e]}}return d}})();function l(a,b){var c=[];return{storage:c,width:a,height:b,clip:function(){c.push({type:"function",name:"clip",arguments:arguments})},translate:function(){c.push({type:"function",name:"translate",arguments:arguments})},fill:function(){c.push({type:"function",name:"fill",arguments:arguments})},save:function(){c.push({type:"function",name:"save",arguments:arguments})},restore:function(){c.push({type:"function",name:"restore",arguments:arguments})},fillRect:function(){c.push({type:"function",name:"fillRect",arguments:arguments})},createPattern:function(){c.push({type:"function",name:"createPattern",arguments:arguments})},drawShape:function(){var a=[];c.push({type:"function",name:"drawShape",arguments:a});return{moveTo:function(){a.push({name:"moveTo",arguments:arguments})},lineTo:function(){a.push({name:"lineTo",arguments:arguments})},arcTo:function(){a.push({name:"arcTo",arguments:arguments})},bezierCurveTo:function(){a.push({name:"bezierCurveTo",arguments:arguments})},quadraticCurveTo:function(){a.push({name:"quadraticCurveTo",arguments:arguments})}}},drawImage:function(){c.push({type:"function",name:"drawImage",arguments:arguments})},fillText:function(){c.push({type:"function",name:"fillText",arguments:arguments})},setVariable:function(a,b){c.push({type:"variable",name:a,arguments:b});return b}}}d.Parse=function(e,f){a.scroll(0,0);var g=f.elements===c?b.body:f.elements[0],h=0,i=g.ownerDocument,j=d.Util,k=j.Support(f,i),n=new RegExp("("+f.ignoreElements+")"),o=i.body,p=j.getCSS,q="___html2canvas___pseudoelement",r=i.createElement("style");r.innerHTML="."+q+'-before:before { content: "" !important; display: none !important; }'+"."+q+'-after:after { content: "" !important; display: none !important; }';o.appendChild(r);e=e||{};function s(){return Math.max(Math.max(i.body.scrollWidth,i.documentElement.scrollWidth),Math.max(i.body.offsetWidth,i.documentElement.offsetWidth),Math.max(i.body.clientWidth,i.documentElement.clientWidth))}function t(){return Math.max(Math.max(i.body.scrollHeight,i.documentElement.scrollHeight),Math.max(i.body.offsetHeight,i.documentElement.offsetHeight),Math.max(i.body.clientHeight,i.documentElement.clientHeight))}function u(a,b){var c=parseInt(p(a,b),10);return isNaN(c)?0:c}function v(a,b,c,d,e,f){if(f!=="transparent"){a.setVariable("fillStyle",f);a.fillRect(b,c,d,e);h+=1}}function w(a,b,c){if(a.length>0){return b+c.toUpperCase()}}function x(a,b){switch(b){case"lowercase":return a.toLowerCase();case"capitalize":return a.replace(/(^|\s|:|-|\(|\))([a-z])/g,w);case"uppercase":return a.toUpperCase();default:return a}}function y(a){return/^(normal|none|0px)$/.test(a)}function z(a,b,c,d){if(a!==null&&j.trimText(a).length>0){d.fillText(a,b,c);h+=1}}function A(a,b,c,d){var e=false,f=p(b,"fontWeight"),g=p(b,"fontFamily"),h=p(b,"fontSize"),k=j.parseTextShadows(p(b,"textShadow"));switch(parseInt(f,10)){case 401:f="bold";break;case 400:f="normal";break}a.setVariable("fillStyle",d);a.setVariable("font",[p(b,"fontStyle"),p(b,"fontVariant"),f,h,g].join(" "));a.setVariable("textAlign",e?"right":"left");if(k.length){a.setVariable("shadowColor",k[0].color);a.setVariable("shadowOffsetX",k[0].offsetX);a.setVariable("shadowOffsetY",k[0].offsetY);a.setVariable("shadowBlur",k[0].blur)}if(c!=="none"){return j.Font(g,h,i)}}function B(a,b,c,d,e){switch(b){case"underline":v(a,c.left,Math.round(c.top+d.baseline+d.lineWidth),c.width,1,e);break;case"overline":v(a,c.left,Math.round(c.top),c.width,1,e);break;case"line-through":v(a,c.left,Math.ceil(c.top+d.middle+d.lineWidth),c.width,1,e);break}}function C(a,b,c,d,e){var f;if(k.rangeBounds&&!e){if(c!=="none"||j.trimText(b).length!==0){f=D(b,a.node,a.textOffset)}a.textOffset+=b.length}else if(a.node&&typeof a.node.nodeValue==="string"){var g=d?a.node.splitText(b.length):null;f=E(a.node,e);a.node=g}return f}function D(a,b,c){var d=i.createRange();d.setStart(b,c);d.setEnd(b,c+a.length);return d.getBoundingClientRect()}function E(a,b){var c=a.parentNode,d=i.createElement("wrapper"),e=a.cloneNode(true);d.appendChild(a.cloneNode(true));c.replaceChild(d,a);var f=b?j.OffsetBounds(d):j.Bounds(d);c.replaceChild(e,d);return f}function F(a,b,c){var d=c.ctx,e=p(a,"color"),g=p(a,"textDecoration"),h=p(a,"textAlign"),i,k,l={node:b,textOffset:0};if(j.trimText(b.nodeValue).length>0){b.nodeValue=x(b.nodeValue,p(a,"textTransform"));h=h.replace(["-webkit-auto"],["auto"]);k=!f.letterRendering&&/^(left|right|justify|auto)$/.test(h)&&y(p(a,"letterSpacing"))?b.nodeValue.split(/(\b| )/):b.nodeValue.split("");i=A(d,a,g,e);if(f.chinese){k.forEach(function(a,b){if(/.*[\u4E00-\u9FA5].*$/.test(a)){a=a.split("");a.unshift(b,1);k.splice.apply(k,a)}})}k.forEach(function(a,b){var f=C(l,a,g,b<k.length-1,c.transform.matrix);if(f){z(a,f.left,f.bottom,d);B(d,g,f,i,e)}})}}function G(a,b){var c=i.createElement("boundelement"),d,e;c.style.display="inline";d=a.style.listStyleType;a.style.listStyleType="none";c.appendChild(i.createTextNode(b));a.insertBefore(c,a.firstChild);e=j.Bounds(c);a.removeChild(c);a.style.listStyleType=d;return e}function H(a){var b=-1,c=1,d=a.parentNode.childNodes;if(a.parentNode){while(d[++b]!==a){if(d[b].nodeType===1){c++}}return c}else{return-1}}function I(a,b){var c=H(a),e;switch(b){case"decimal":e=c;break;case"decimal-leading-zero":e=c.toString().length===1?c="0"+c.toString():c.toString();break;case"upper-roman":e=d.Generate.ListRoman(c);break;case"lower-roman":e=d.Generate.ListRoman(c).toLowerCase();break;case"lower-alpha":e=d.Generate.ListAlpha(c).toLowerCase();break;case"upper-alpha":e=d.Generate.ListAlpha(c);break}return e+". "}function J(a,b,c){var d,e,f=b.ctx,g=p(a,"listStyleType"),h;if(/^(decimal|decimal-leading-zero|upper-alpha|upper-latin|upper-roman|lower-alpha|lower-greek|lower-latin|lower-roman)$/i.test(g)){e=I(a,g);h=G(a,e);A(f,a,"none",p(a,"color"));if(p(a,"listStylePosition")==="inside"){f.setVariable("textAlign","left");d=c.left}else{return}z(e,d,h.bottom,f)}}function K(a){var b=e[a];return b&&b.succeeded===true?b.img:false}function L(a,b){var c=Math.max(a.left,b.left),d=Math.max(a.top,b.top),e=Math.min(a.left+a.width,b.left+b.width),f=Math.min(a.top+a.height,b.top+b.height);return{left:c,top:d,width:e-c,height:f-d}}function M(a,b,c){var d,e=b.cssPosition!=="static",f=e?p(a,"zIndex"):"auto",g=p(a,"opacity"),h=p(a,"cssFloat")!=="none";b.zIndex=d=m(f);d.isPositioned=e;d.isFloated=h;d.opacity=g;d.ownStacking=f!=="auto"||g<1;if(c){c.zIndex.children.push(b)}}function N(a,b,c,d,e){var f=u(b,"paddingLeft"),g=u(b,"paddingTop"),h=u(b,"paddingRight"),i=u(b,"paddingBottom");$(a,c,0,0,c.width,c.height,d.left+f+e[3].width,d.top+g+e[0].width,d.width-(e[1].width+e[3].width+f+h),d.height-(e[0].width+e[2].width+g+i))}function O(a){return["Top","Right","Bottom","Left"].map(function(b){return{width:u(a,"border"+b+"Width"),color:p(a,"border"+b+"Color")}})}function P(a){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(b){return p(a,"border"+b+"Radius")})}var Q=function(a){return function(b,c,d,e){var f=d*a,g=e*a,h=b+d,i=c+e;return{topLeft:R({x:b,y:i},{x:b,y:i-g},{x:h-f,y:c},{x:h,y:c}),topRight:R({x:b,y:c},{x:b+f,y:c},{x:h,y:i-g},{x:h,y:i}),bottomRight:R({x:h,y:c},{x:h,y:c+g},{x:b+f,y:i},{x:b,y:i}),bottomLeft:R({x:h,y:i},{x:h-f,y:i},{x:b,y:c+g},{x:b,y:c})}}}(4*((Math.sqrt(2)-1)/3));function R(a,b,c,d){var e=function(a,b,c){return{x:a.x+(b.x-a.x)*c,y:a.y+(b.y-a.y)*c}};return{start:a,startControl:b,endControl:c,end:d,subdivide:function(f){var g=e(a,b,f),h=e(b,c,f),i=e(c,d,f),j=e(g,h,f),k=e(h,i,f),l=e(j,k,f);return[R(a,g,j,l),R(l,k,i,d)]},curveTo:function(a){a.push(["bezierCurve",b.x,b.y,c.x,c.y,d.x,d.y])},curveToReversed:function(d){d.push(["bezierCurve",c.x,c.y,b.x,b.y,a.x,a.y])}}}function S(a,b,c,d,e,f,g){if(b[0]>0||b[1]>0){a.push(["line",d[0].start.x,d[0].start.y]);d[0].curveTo(a);d[1].curveTo(a)}else{a.push(["line",f,g])}if(c[0]>0||c[1]>0){a.push(["line",e[0].start.x,e[0].start.y])}}function T(a,b,c,d,e,f,g){var h=[];if(b[0]>0||b[1]>0){h.push(["line",d[1].start.x,d[1].start.y]);d[1].curveTo(h)}else{h.push(["line",a.c1[0],a.c1[1]])}if(c[0]>0||c[1]>0){h.push(["line",f[0].start.x,f[0].start.y]);f[0].curveTo(h);h.push(["line",g[0].end.x,g[0].end.y]);g[0].curveToReversed(h)}else{h.push(["line",a.c2[0],a.c2[1]]);h.push(["line",a.c3[0],a.c3[1]])}if(b[0]>0||b[1]>0){h.push(["line",e[1].end.x,e[1].end.y]);e[1].curveToReversed(h)}else{h.push(["line",a.c4[0],a.c4[1]])}return h}function U(a,b,c){var d=a.left,e=a.top,f=a.width,g=a.height,h=b[0][0],i=b[0][1],j=b[1][0],k=b[1][1],l=b[2][0],m=b[2][1],n=b[3][0],o=b[3][1],p=f-j,q=g-m,r=f-l,s=g-o;return{topLeftOuter:Q(d,e,h,i).topLeft.subdivide(.5),topLeftInner:Q(d+c[3].width,e+c[0].width,Math.max(0,h-c[3].width),Math.max(0,i-c[0].width)).topLeft.subdivide(.5),topRightOuter:Q(d+p,e,j,k).topRight.subdivide(.5),topRightInner:Q(d+Math.min(p,f+c[3].width),e+c[0].width,p>f+c[3].width?0:j-c[3].width,k-c[0].width).topRight.subdivide(.5),bottomRightOuter:Q(d+r,e+q,l,m).bottomRight.subdivide(.5),bottomRightInner:Q(d+Math.min(r,f+c[3].width),e+Math.min(q,g+c[0].width),Math.max(0,l-c[1].width),Math.max(0,m-c[2].width)).bottomRight.subdivide(.5),bottomLeftOuter:Q(d,e+s,n,o).bottomLeft.subdivide(.5),bottomLeftInner:Q(d+c[3].width,e+s,Math.max(0,n-c[3].width),Math.max(0,o-c[2].width)).bottomLeft.subdivide(.5)}}function V(a,b,c,d,e){var f=p(a,"backgroundClip"),g=[];switch(f){case"content-box":case"padding-box":S(g,d[0],d[1],b.topLeftInner,b.topRightInner,e.left+c[3].width,e.top+c[0].width);S(g,d[1],d[2],b.topRightInner,b.bottomRightInner,e.left+e.width-c[1].width,e.top+c[0].width);S(g,d[2],d[3],b.bottomRightInner,b.bottomLeftInner,e.left+e.width-c[1].width,e.top+e.height-c[2].width);S(g,d[3],d[0],b.bottomLeftInner,b.topLeftInner,e.left+c[3].width,e.top+e.height-c[2].width);break;default:S(g,d[0],d[1],b.topLeftOuter,b.topRightOuter,e.left,e.top);S(g,d[1],d[2],b.topRightOuter,b.bottomRightOuter,e.left+e.width,e.top);S(g,d[2],d[3],b.bottomRightOuter,b.bottomLeftOuter,e.left+e.width,e.top+e.height);S(g,d[3],d[0],b.bottomLeftOuter,b.topLeftOuter,e.left,e.top+e.height);break}return g}function W(a,b,c){var d=b.left,e=b.top,f=b.width,g=b.height,h,i,j,k,l,m,n=P(a),o=U(b,n,c),p={clip:V(a,o,c,n,b),borders:[]};for(h=0;h<4;h++){if(c[h].width>0){i=d;j=e;k=f;l=g-c[2].width;switch(h){case 0:l=c[0].width;m=T({c1:[i,j],c2:[i+k,j],c3:[i+k-c[1].width,j+l],c4:[i+c[3].width,j+l]},n[0],n[1],o.topLeftOuter,o.topLeftInner,o.topRightOuter,o.topRightInner);break;case 1:i=d+f-c[1].width;k=c[1].width;m=T({c1:[i+k,j],c2:[i+k,j+l+c[2].width],c3:[i,j+l],c4:[i,j+c[0].width]},n[1],n[2],o.topRightOuter,o.topRightInner,o.bottomRightOuter,o.bottomRightInner);break;case 2:j=j+g-c[2].width;l=c[2].width;m=T({c1:[i+k,j+l],c2:[i,j+l],c3:[i+c[3].width,j],c4:[i+k-c[3].width,j]},n[2],n[3],o.bottomRightOuter,o.bottomRightInner,o.bottomLeftOuter,o.bottomLeftInner);break;case 3:k=c[3].width;m=T({c1:[i,j+l+c[2].width],c2:[i,j],c3:[i+k,j+c[0].width],c4:[i+k,j+l]},n[3],n[0],o.bottomLeftOuter,o.bottomLeftInner,o.topLeftOuter,o.topLeftInner);break}p.borders.push({args:m,color:c[h].color})}}return p}function X(a,b){var c=a.drawShape();b.forEach(function(a,b){c[b===0?"moveTo":a[0]+"To"].apply(null,a.slice(1))});return c}function Y(a,b,c){if(c!=="transparent"){a.setVariable("fillStyle",c);X(a,b);a.fill();h+=1}}function Z(a,b,c){var d=i.createElement("valuewrap"),e=["lineHeight","textAlign","fontFamily","color","fontSize","paddingLeft","paddingTop","width","height","border","borderLeftWidth","borderTopWidth"],f,g;e.forEach(function(b){try{d.style[b]=p(a,b)}catch(c){j.log("html2canvas: Parse: Exception caught in renderFormValue: "+c.message)}});d.style.borderColor="black";d.style.borderStyle="solid";d.style.display="block";d.style.position="absolute";if(/^(submit|reset|button|text|password)$/.test(a.type)||a.nodeName==="SELECT"){d.style.lineHeight=p(a,"height")}d.style.top=b.top+"px";d.style.left=b.left+"px";f=a.nodeName==="SELECT"?(a.options[a.selectedIndex]||0).text:a.value;if(!f){f=a.placeholder}g=i.createTextNode(f);d.appendChild(g);o.appendChild(d);F(a,g,c);o.removeChild(d)}function $(a){a.drawImage.apply(a,Array.prototype.slice.call(arguments,1));h+=1}function _(c,d){var e=a.getComputedStyle(c,d);if(!e||!e.content||e.content==="none"||e.content==="-moz-alt-content"||e.display==="none"){return}var f=e.content+"",g=f.substr(0,1);if(g===f.substr(f.length-1)&&g.match(/'|"/)){f=f.substr(1,f.length-2)}var h=f.substr(0,3)==="url",i=b.createElement(h?"img":"span");i.className=q+"-before "+q+"-after";Object.keys(e).filter(aa).forEach(function(a){try{i.style[a]=e[a]}catch(b){j.log(["Tried to assign readonly property ",a,"Error:",b])}});if(h){i.src=j.parseBackgroundImage(f)[0].args[0]}else{i.innerHTML=f}return i}function aa(b){return isNaN(a.parseInt(b,10))}function ba(a,b){var c=_(a,":before"),d=_(a,":after");if(!c&&!d){return}if(c){a.className+=" "+q+"-before";a.parentNode.insertBefore(c,a);ra(c,b,true);a.parentNode.removeChild(c);a.className=a.className.replace(q+"-before","").trim()}if(d){a.className+=" "+q+"-after";a.appendChild(d);ra(d,b,true);a.removeChild(d);a.className=a.className.replace(q+"-after","").trim()}}function ca(a,b,c,d){var e=Math.round(d.left+c.left),f=Math.round(d.top+c.top);a.createPattern(b);a.translate(e,f);a.fill();a.translate(-e,-f)}function da(a,b,c,d,e,f,g,h){var i=[];i.push(["line",Math.round(e),Math.round(f)]);i.push(["line",Math.round(e+g),Math.round(f)]);i.push(["line",Math.round(e+g),Math.round(h+f)]);i.push(["line",Math.round(e),Math.round(h+f)]);X(a,i);a.save();a.clip();ca(a,b,c,d);a.restore()}function ea(a,b,c){v(a,b.left,b.top,b.width,b.height,c)}function fa(a,b,c,d,e){var f=j.BackgroundSize(a,b,d,e),g=j.BackgroundPosition(a,b,d,e,f),h=p(a,"backgroundRepeat").split(",").map(j.trimText);d=ha(d,f);h=h[e]||h[0];switch(h){case"repeat-x":da(c,d,g,b,b.left,b.top+g.top,99999,d.height);break;case"repeat-y":da(c,d,g,b,b.left+g.left,b.top,d.width,99999);break;case"no-repeat":da(c,d,g,b,b.left+g.left,b.top+g.top,d.width,d.height);break;default:ca(c,d,g,{top:b.top,left:b.left,width:d.width,height:d.height});break}}function ga(a,b,c){var d=p(a,"backgroundImage"),e=j.parseBackgroundImage(d),f,g=e.length;while(g--){d=e[g];if(!d.args||d.args.length===0){continue}var h=d.method==="url"?d.args[0]:d.value;f=K(h);if(f){fa(a,b,c,f,g)}else{j.log("html2canvas: Error loading background:",d)}}}function ha(a,b){if(a.width===b.width&&a.height===b.height){return a}var c,d=i.createElement("canvas");d.width=b.width;d.height=b.height;c=d.getContext("2d");$(c,a,0,0,a.width,a.height,0,0,b.width,b.height);return d}function ia(a,b,c){return a.setVariable("globalAlpha",p(b,"opacity")*(c?c.opacity:1))}function ja(a){return a.replace("px","")}var ka=/(matrix)\((.+)\)/;function la(a,b){var c=p(a,"transform")||p(a,"-webkit-transform")||p(a,"-moz-transform")||p(a,"-ms-transform")||p(a,"-o-transform");var d=p(a,"transform-origin")||p(a,"-webkit-transform-origin")||p(a,"-moz-transform-origin")||p(a,"-ms-transform-origin")||p(a,"-o-transform-origin")||"0px 0px";d=d.split(" ").map(ja).map(j.asFloat);var e;if(c&&c!=="none"){var f=c.match(ka);if(f){switch(f[1]){case"matrix":e=f[2].split(",").map(j.trimText).map(j.asFloat);break}}}return{origin:d,matrix:e}}function ma(a,b,c,d){var e=l(!b?s():c.width,!b?t():c.height),g={ctx:e,opacity:ia(e,a,b),cssPosition:p(a,"position"),borders:O(a),transform:d,clip:b&&b.clip?j.Extend({},b.clip):null};M(a,g,b);if(f.useOverflow===true&&/(hidden|scroll|auto)/.test(p(a,"overflow"))===true&&/(BODY)/i.test(a.nodeName)===false){g.clip=g.clip?L(g.clip,c):c}return g}function na(a,b,c){var d={left:b.left+a[3].width,
top:b.top+a[0].width,width:b.width-(a[1].width+a[3].width),height:b.height-(a[0].width+a[2].width)};if(c){d=L(d,c)}return d}function oa(a,b){var c=b.matrix?j.OffsetBounds(a):j.Bounds(a);b.origin[0]+=c.left;b.origin[1]+=c.top;return c}function pa(a,b,c,d){var e=la(a,b),f=oa(a,e),g,h=ma(a,b,f,e),i=h.borders,k=h.ctx,l=na(i,f,h.clip),m=W(a,f,i),o=n.test(a.nodeName)?"#efefef":p(a,"backgroundColor");X(k,m.clip);k.save();k.clip();if(l.height>0&&l.width>0&&!d){ea(k,f,o);ga(a,l,k)}else if(d){h.backgroundColor=o}k.restore();m.borders.forEach(function(a){Y(k,a.args,a.color)});if(!c){ba(a,h)}switch(a.nodeName){case"IMG":if(g=K(a.getAttribute("src"))){N(k,a,g,f,i)}else{j.log("html2canvas: Error loading <img>:"+a.getAttribute("src"))}break;case"INPUT":if(/^(text|url|email|submit|button|reset)$/.test(a.type)&&(a.value||a.placeholder||"").length>0){Z(a,f,h)}break;case"TEXTAREA":if((a.value||a.placeholder||"").length>0){Z(a,f,h)}break;case"SELECT":if((a.options||a.placeholder||"").length>0){Z(a,f,h)}break;case"LI":J(a,h,l);break;case"CANVAS":N(k,a,a,f,i);break}return h}function qa(a){return p(a,"display")!=="none"&&p(a,"visibility")!=="hidden"&&!a.hasAttribute("data-html2canvas-ignore")}function ra(a,b,c){if(qa(a)){b=pa(a,b,c,false)||b;if(!n.test(a.nodeName)){sa(a,b,c)}}}function sa(a,b,c){j.Children(a).forEach(function(d){if(d.nodeType===d.ELEMENT_NODE){ra(d,b,c)}else if(d.nodeType===d.TEXT_NODE){F(a,d,b)}})}function ta(){var a=p(b.documentElement,"backgroundColor"),c=j.isTransparent(a)&&g===b.body,d=pa(g,null,false,c);sa(g,d);if(c){a=d.backgroundColor}o.removeChild(r);return{backgroundColor:a,stack:d}}return ta()};function m(a){return{zindex:a,children:[]}}d.Preload=function(e){var f={numLoaded:0,numFailed:0,numTotal:0,cleanupDone:false},g,h=d.Util,i,j,k=0,l=e.elements[0]||b.body,m=l.ownerDocument,n=l.getElementsByTagName("img"),o=n.length,p=m.createElement("a"),q=function(a){return a.crossOrigin!==c}(new Image),r;p.href=a.location.href;g=p.protocol+p.host;function s(a){p.href=a;p.href=p.href;var b=p.protocol+p.host;return b===g}function t(){h.log("html2canvas: start: images: "+f.numLoaded+" / "+f.numTotal+" (failed: "+f.numFailed+")");if(!f.firstRun&&f.numLoaded>=f.numTotal){h.log("Finished loading images: # "+f.numTotal+" (failed: "+f.numFailed+")");if(typeof e.complete==="function"){e.complete(f)}}}function u(b,d,g){var h,i=e.proxy,j;p.href=b;b=p.href;h="html2canvas_"+k++;g.callbackname=h;if(i.indexOf("?")>-1){i+="&"}else{i+="?"}i+="url="+encodeURIComponent(b)+"&callback="+h;j=m.createElement("script");a[h]=function(b){if(b.substring(0,6)==="error:"){g.succeeded=false;f.numLoaded++;f.numFailed++;t()}else{B(d,g);d.src=b}a[h]=c;try{delete a[h]}catch(e){}j.parentNode.removeChild(j);j=null;delete g.script;delete g.callbackname};j.setAttribute("type","text/javascript");j.setAttribute("src",i);g.script=j;a.document.body.appendChild(j)}function v(b,c){var e=a.getComputedStyle(b,c),f=e.content;if(f.substr(0,3)==="url"){i.loadImage(d.Util.parseBackgroundImage(f)[0].args[0])}z(e.backgroundImage,b)}function w(a){v(a,":before");v(a,":after")}function x(a,b){var e=d.Generate.Gradient(a,b);if(e!==c){f[a]={img:e,succeeded:true};f.numTotal++;f.numLoaded++;t()}}function y(a){return a&&a.method&&a.args&&a.args.length>0}function z(a,b){var e;d.Util.parseBackgroundImage(a).filter(y).forEach(function(a){if(a.method==="url"){i.loadImage(a.args[0])}else if(a.method.match(/\-?gradient$/)){if(e===c){e=d.Util.Bounds(b)}x(a.value,e)}})}function A(a){var b=false;try{h.Children(a).forEach(A)}catch(d){}try{b=a.nodeType}catch(e){b=false;h.log("html2canvas: failed to access some element's nodeType - Exception: "+e.message)}if(b===1||b===c){w(a);try{z(h.getCSS(a,"backgroundImage"),a)}catch(d){h.log("html2canvas: failed to get background-image - Exception: "+d.message)}z(a)}}function B(b,d){b.onload=function(){if(d.timer!==c){a.clearTimeout(d.timer)}f.numLoaded++;d.succeeded=true;b.onerror=b.onload=null;t()};b.onerror=function(){if(b.crossOrigin==="anonymous"){a.clearTimeout(d.timer);if(e.proxy){var c=b.src;b=new Image;d.img=b;b.src=c;u(b.src,b,d);return}}f.numLoaded++;f.numFailed++;d.succeeded=false;b.onerror=b.onload=null;t()}}i={loadImage:function(a){var b,d;if(a&&f[a]===c){b=new Image;if(a.match(/data:image\/.*;base64,/i)){b.src=a.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,"");d=f[a]={img:b};f.numTotal++;B(b,d)}else if(s(a)||e.allowTaint===true){d=f[a]={img:b};f.numTotal++;B(b,d);b.src=a}else if(q&&!e.allowTaint&&e.useCORS){b.crossOrigin="anonymous";d=f[a]={img:b};f.numTotal++;B(b,d);b.src=a}else if(e.proxy){d=f[a]={img:b};f.numTotal++;u(a,b,d)}}},cleanupDOM:function(d){var g,i;if(!f.cleanupDone){if(d&&typeof d==="string"){h.log("html2canvas: Cleanup because: "+d)}else{h.log("html2canvas: Cleanup after timeout: "+e.timeout+" ms.")}for(i in f){if(f.hasOwnProperty(i)){g=f[i];if(typeof g==="object"&&g.callbackname&&g.succeeded===c){a[g.callbackname]=c;try{delete a[g.callbackname]}catch(j){}if(g.script&&g.script.parentNode){g.script.setAttribute("src","about:blank");g.script.parentNode.removeChild(g.script)}f.numLoaded++;f.numFailed++;h.log("html2canvas: Cleaned up failed img: '"+i+"' Steps: "+f.numLoaded+" / "+f.numTotal)}}}if(a.stop!==c){a.stop()}else if(b.execCommand!==c){b.execCommand("Stop",false)}if(b.close!==c){b.close()}f.cleanupDone=true;if(!(d&&typeof d==="string")){t()}}},renderingDone:function(){if(r){a.clearTimeout(r)}}};if(e.timeout>0){r=a.setTimeout(i.cleanupDOM,e.timeout)}h.log("html2canvas: Preload starts: finding background-images");f.firstRun=true;A(l);h.log("html2canvas: Preload: Finding images");for(j=0;j<o;j+=1){i.loadImage(n[j].getAttribute("src"))}f.firstRun=false;h.log("html2canvas: Preload: Done.");if(f.numTotal===f.numLoaded){t()}return i};d.Renderer=function(a,e){function f(a){var b=[],d;d=function f(a){var b={};function d(a,b,e){var f=b.zIndex.zindex==="auto"?0:Number(b.zIndex.zindex),g=a,h=b.zIndex.isPositioned,i=b.zIndex.isFloated,j={node:b},k=e;if(b.zIndex.ownStacking){g=j.context={"!":[{node:b,children:[]}]};k=c}else if(h||i){k=j.children=[]}if(f===0&&e){e.push(j)}else{if(!a[f]){a[f]=[]}a[f].push(j)}b.zIndex.children.forEach(function(a){d(g,a,k)})}d(b,a);return b}(a);function e(a){Object.keys(a).sort().forEach(function(c){var d=[],f=[],g=[],h=[];a[c].forEach(function(a){if(a.node.zIndex.isPositioned||a.node.zIndex.opacity<1){g.push(a)}else if(a.node.zIndex.isFloated){f.push(a)}else{d.push(a)}});(function i(a){a.forEach(function(a){h.push(a);if(a.children){i(a.children)}})})(d.concat(f,g));h.forEach(function(a){if(a.context){e(a.context)}else{b.push(a.node)}})})}e(d);return b}function g(a){var b;if(typeof e.renderer==="string"&&d.Renderer[a]!==c){b=d.Renderer[a](e)}else if(typeof a==="function"){b=a(e)}else{throw new Error("Unknown renderer")}if(typeof b!=="function"){throw new Error("Invalid renderer defined")}return b}return g(e.renderer)(a,e,b,f(a.stack),d)};d.Util.Support=function(a,b){function e(){var a=new Image,e=b.createElement("canvas"),f=e.getContext===c?false:e.getContext("2d");if(f===false){return false}e.width=e.height=10;a.src=["data:image/svg+xml,","<svg xmlns='http://www.w3.org/2000/svg' width='10' height='10'>","<foreignObject width='10' height='10'>","<div xmlns='http://www.w3.org/1999/xhtml' style='width:10;height:10;'>","sup","</div>","</foreignObject>","</svg>"].join("");try{f.drawImage(a,0,0);e.toDataURL()}catch(g){return false}d.Util.log("html2canvas: Parse: SVG powered rendering available");return true}function f(){var a,c,d,e,f=false;if(b.createRange){a=b.createRange();if(a.getBoundingClientRect){c=b.createElement("boundtest");c.style.height="123px";c.style.display="block";b.body.appendChild(c);a.selectNode(c);d=a.getBoundingClientRect();e=d.height;if(e===123){f=true}b.body.removeChild(c)}}return f}return{rangeBounds:f(),svgRendering:a.svgRendering&&e()}};a.html2canvas=function(b,c){b=b.length?b:[b];var e,f,g={logging:false,elements:b,background:"#fff",proxy:null,timeout:0,useCORS:false,allowTaint:false,svgRendering:false,ignoreElements:"IFRAME|OBJECT|PARAM",useOverflow:true,letterRendering:false,chinese:false,width:null,height:null,taintTest:true,renderer:"Canvas"};g=d.Util.Extend(c,g);d.logging=g.logging;g.complete=function(a){if(typeof g.onpreloaded==="function"){if(g.onpreloaded(a)===false){return}}e=d.Parse(a,g);if(typeof g.onparsed==="function"){if(g.onparsed(e)===false){return}}f=d.Renderer(e,g);if(typeof g.onrendered==="function"){g.onrendered(f)}};a.setTimeout(function(){d.Preload(g)},0);return{render:function(a,b){return d.Renderer(a,d.Util.Extend(b,g))},parse:function(a,b){return d.Parse(a,d.Util.Extend(b,g))},preload:function(a){return d.Preload(d.Util.Extend(a,g))},log:d.Util.log}};a.html2canvas.log=d.Util.log;a.html2canvas.Renderer={Canvas:c};d.Renderer.Canvas=function(a){a=a||{};var e=b,f=[],g=b.createElement("canvas"),h=g.getContext("2d"),i=d.Util,j=a.canvas||e.createElement("canvas");function k(a,b){a.beginPath();b.forEach(function(b){a[b.name].apply(a,b["arguments"])});a.closePath()}function l(a){if(f.indexOf(a["arguments"][0].src)===-1){h.drawImage(a["arguments"][0],0,0);try{h.getImageData(0,0,1,1)}catch(b){g=e.createElement("canvas");h=g.getContext("2d");return false}f.push(a["arguments"][0].src)}return true}function m(b,c){switch(c.type){case"variable":b[c.name]=c["arguments"];break;case"function":switch(c.name){case"createPattern":if(c["arguments"][0].width>0&&c["arguments"][0].height>0){try{b.fillStyle=b.createPattern(c["arguments"][0],"repeat")}catch(d){i.log("html2canvas: Renderer: Error creating pattern",d.message)}}break;case"drawShape":k(b,c["arguments"]);break;case"drawImage":if(c["arguments"][8]>0&&c["arguments"][7]>0){if(!a.taintTest||a.taintTest&&l(c)){b.drawImage.apply(b,c["arguments"])}}break;default:b[c.name].apply(b,c["arguments"])}break}}return function(a,b,d,e,f){var g=j.getContext("2d"),h,k,l,n=a.stack;j.width=j.style.width=b.width||n.ctx.width;j.height=j.style.height=b.height||n.ctx.height;l=g.fillStyle;g.fillStyle=i.isTransparent(n.backgroundColor)&&b.background!==c?b.background:a.backgroundColor;g.fillRect(0,0,j.width,j.height);g.fillStyle=l;e.forEach(function(a){g.textBaseline="bottom";g.save();if(a.transform.matrix){g.translate(a.transform.origin[0],a.transform.origin[1]);g.transform.apply(g,a.transform.matrix);g.translate(-a.transform.origin[0],-a.transform.origin[1])}if(a.clip){g.beginPath();g.rect(a.clip.left,a.clip.top,a.clip.width,a.clip.height);g.clip()}if(a.ctx.storage){a.ctx.storage.forEach(function(a){m(g,a)})}g.restore()});i.log("html2canvas: Renderer: Canvas renderer done - returning canvas obj");if(b.elements.length===1){if(typeof b.elements[0]==="object"&&b.elements[0].nodeName!=="BODY"){k=f.Util.Bounds(b.elements[0]);h=d.createElement("canvas");h.width=Math.ceil(k.width);h.height=Math.ceil(k.height);g=h.getContext("2d");g.drawImage(j,k.left,k.top,k.width,k.height,0,0,k.width,k.height);j=null;return h}}return j}}})(window,document);define("html2canvas/html2canvas",function(a){return function(){var b,c;return b||a.html2canvas}}(this));var mul_table=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259];var shg_table=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function stackBlurImage(a,b,c,d){var e=document.getElementById(a);var f=e.naturalWidth;var g=e.naturalHeight;var h=document.getElementById(b);h.style.width=f+"px";h.style.height=g+"px";h.width=f;h.height=g;var i=h.getContext("2d");i.clearRect(0,0,f,g);i.drawImage(e,0,0);if(isNaN(c)||c<1)return;if(d)stackBlurCanvasRGBA(b,0,0,f,g,c);else stackBlurCanvasRGB(b,0,0,f,g,c)}function stackBlurCanvasRGBA(a,b,c,d,e,f){if(isNaN(f)||f<1)return;f|=0;if(typeof a=="string")var a=document.getElementById(a);else if(!a instanceof HTMLCanvasElement)return;var g=a.getContext("2d");var h;try{try{h=g.getImageData(b,c,d,e)}catch(i){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead");h=g.getImageData(b,c,d,e)}catch(i){alert("Cannot access local image");throw new Error("unable to access local image data: "+i);return}}}catch(i){alert("Cannot access image");throw new Error("unable to access image data: "+i)}var j=h.data;var k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H;var I=f+f+1;var J=d<<2;var K=d-1;var L=e-1;var M=f+1;var N=M*(M+1)/2;var O=new BlurStack;var P=O;for(m=1;m<I;m++){P=P.next=new BlurStack;if(m==M)var Q=P}P.next=O;var R=null;var S=null;q=p=0;var T=mul_table[f];var U=shg_table[f];for(l=0;l<e;l++){z=A=B=C=r=s=t=u=0;v=M*(D=j[p]);w=M*(E=j[p+1]);x=M*(F=j[p+2]);y=M*(G=j[p+3]);r+=N*D;s+=N*E;t+=N*F;u+=N*G;P=O;for(m=0;m<M;m++){P.r=D;P.g=E;P.b=F;P.a=G;P=P.next}for(m=1;m<M;m++){n=p+((K<m?K:m)<<2);r+=(P.r=D=j[n])*(H=M-m);s+=(P.g=E=j[n+1])*H;t+=(P.b=F=j[n+2])*H;u+=(P.a=G=j[n+3])*H;z+=D;A+=E;B+=F;C+=G;P=P.next}R=O;S=Q;for(k=0;k<d;k++){j[p+3]=G=u*T>>U;if(G!=0){G=255/G;j[p]=(r*T>>U)*G;j[p+1]=(s*T>>U)*G;j[p+2]=(t*T>>U)*G}else{j[p]=j[p+1]=j[p+2]=0}r-=v;s-=w;t-=x;u-=y;v-=R.r;w-=R.g;x-=R.b;y-=R.a;n=q+((n=k+f+1)<K?n:K)<<2;z+=R.r=j[n];A+=R.g=j[n+1];B+=R.b=j[n+2];C+=R.a=j[n+3];r+=z;s+=A;t+=B;u+=C;R=R.next;v+=D=S.r;w+=E=S.g;x+=F=S.b;y+=G=S.a;z-=D;A-=E;B-=F;C-=G;S=S.next;p+=4}q+=d}for(k=0;k<d;k++){A=B=C=z=s=t=u=r=0;p=k<<2;v=M*(D=j[p]);w=M*(E=j[p+1]);x=M*(F=j[p+2]);y=M*(G=j[p+3]);r+=N*D;s+=N*E;t+=N*F;u+=N*G;P=O;for(m=0;m<M;m++){P.r=D;P.g=E;P.b=F;P.a=G;P=P.next}o=d;for(m=1;m<=f;m++){p=o+k<<2;r+=(P.r=D=j[p])*(H=M-m);s+=(P.g=E=j[p+1])*H;t+=(P.b=F=j[p+2])*H;u+=(P.a=G=j[p+3])*H;z+=D;A+=E;B+=F;C+=G;P=P.next;if(m<L){o+=d}}p=k;R=O;S=Q;for(l=0;l<e;l++){n=p<<2;j[n+3]=G=u*T>>U;if(G>0){G=255/G;j[n]=(r*T>>U)*G;j[n+1]=(s*T>>U)*G;j[n+2]=(t*T>>U)*G}else{j[n]=j[n+1]=j[n+2]=0}r-=v;s-=w;t-=x;u-=y;v-=R.r;w-=R.g;x-=R.b;y-=R.a;n=k+((n=l+M)<L?n:L)*d<<2;r+=z+=R.r=j[n];s+=A+=R.g=j[n+1];t+=B+=R.b=j[n+2];u+=C+=R.a=j[n+3];R=R.next;v+=D=S.r;w+=E=S.g;x+=F=S.b;y+=G=S.a;z-=D;A-=E;B-=F;C-=G;S=S.next;p+=d}}g.putImageData(h,b,c)}function stackBlurCanvasRGB(a,b,c,d,e,f){if(isNaN(f)||f<1)return;f|=0;if(typeof a=="string")var a=document.getElementById(a);else if(!a instanceof HTMLCanvasElement)return;var g=a.getContext("2d");var h;try{try{h=g.getImageData(b,c,d,e)}catch(i){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead");h=g.getImageData(b,c,d,e)}catch(i){alert("Cannot access local image");throw new Error("unable to access local image data: "+i);return}}}catch(i){alert("Cannot access image");throw new Error("unable to access image data: "+i)}var j=h.data;var k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D;var E=f+f+1;var F=d<<2;var G=d-1;var H=e-1;var I=f+1;var J=I*(I+1)/2;var K=new BlurStack;var L=K;for(m=1;m<E;m++){L=L.next=new BlurStack;if(m==I)var M=L}L.next=K;var N=null;var O=null;q=p=0;var P=mul_table[f];var Q=shg_table[f];for(l=0;l<e;l++){x=y=z=r=s=t=0;u=I*(A=j[p]);v=I*(B=j[p+1]);w=I*(C=j[p+2]);r+=J*A;s+=J*B;t+=J*C;L=K;for(m=0;m<I;m++){L.r=A;L.g=B;L.b=C;L=L.next}for(m=1;m<I;m++){n=p+((G<m?G:m)<<2);r+=(L.r=A=j[n])*(D=I-m);s+=(L.g=B=j[n+1])*D;t+=(L.b=C=j[n+2])*D;x+=A;y+=B;z+=C;L=L.next}N=K;O=M;for(k=0;k<d;k++){j[p]=r*P>>Q;j[p+1]=s*P>>Q;j[p+2]=t*P>>Q;r-=u;s-=v;t-=w;u-=N.r;v-=N.g;w-=N.b;n=q+((n=k+f+1)<G?n:G)<<2;x+=N.r=j[n];y+=N.g=j[n+1];z+=N.b=j[n+2];r+=x;s+=y;t+=z;N=N.next;u+=A=O.r;v+=B=O.g;w+=C=O.b;x-=A;y-=B;z-=C;O=O.next;p+=4}q+=d}for(k=0;k<d;k++){y=z=x=s=t=r=0;p=k<<2;u=I*(A=j[p]);v=I*(B=j[p+1]);w=I*(C=j[p+2]);r+=J*A;s+=J*B;t+=J*C;L=K;for(m=0;m<I;m++){L.r=A;L.g=B;L.b=C;L=L.next}o=d;for(m=1;m<=f;m++){p=o+k<<2;r+=(L.r=A=j[p])*(D=I-m);s+=(L.g=B=j[p+1])*D;t+=(L.b=C=j[p+2])*D;x+=A;y+=B;z+=C;L=L.next;if(m<H){o+=d}}p=k;N=K;O=M;for(l=0;l<e;l++){n=p<<2;j[n]=r*P>>Q;j[n+1]=s*P>>Q;j[n+2]=t*P>>Q;r-=u;s-=v;t-=w;u-=N.r;v-=N.g;w-=N.b;n=k+((n=l+I)<H?n:H)*d<<2;r+=x+=N.r=j[n];s+=y+=N.g=j[n+1];t+=z+=N.b=j[n+2];N=N.next;u+=A=O.r;v+=B=O.g;w+=C=O.b;x-=A;y-=B;z-=C;O=O.next;p+=d}}g.putImageData(h,b,c)}function BlurStack(){this.r=0;this.g=0;this.b=0;this.a=0;this.next=null}define("stackblur/StackBlur",function(a){return function(){var b,c;return b||a.stackBlurCanvasRGB}}(this));define("app/common/api/news",["require","exports","module","app/common/ur_ajax","jquery"],function(a,b,c){var d=a("app/common/ur_ajax");var e=a("jquery");c.exports={getColumnList:function(){return d({type:"GET",url:"/sur/get_column_list"})},getColumnListForAdmin:function(){return d({type:"GET",url:"/ctsu/get_column_list"})},addColumn:function(a){var b={column_name:"",column_father:"",column_order:""};e.extend(b,a);return d({type:"POST",url:"/ctsu/add_column",data:b})},editColumn:function(a){var b={column_id:"",column_name:"",column_father:"",column_order:""};e.extend(b,a);return d({type:"POST",url:"/ctsu/edit_column",data:b})},deleteColumn:function(a){return d({type:"POST",url:"/ctsu/delete_column",data:{column_id:a}})},userGetArticleList:function(a,b,c){var e={column_id:a,page:b,limit:c};return d({type:"GET",url:"/sur/get_article_list",data:e})},userGetArticleById:function(a){return d({type:"GET",url:"/sur/get_article",data:{article_id:a}})},userGetHotArticle:function(){return d({type:"GET",url:"/sur/article_hot_get"})},getArticleList:function(a,b,c){var e={column_id:a,page:b,limit:c};return d({type:"GET",url:"/ctsu/get_article_list",data:e})},getArticleById:function(a){return d({type:"GET",url:"/ctsu/get_article",data:{article_id:a}})},addArticle:function(a){if(!a instanceof FormData){var b={article_title:"",article_column:"",article_content:"",article_summary:"",article_thumbnail:"",article_time:"",article_author:"",article_order:"",article_hot:""};e.extend(b,a);return d({type:"POST",url:"/ctsu/add_article",data:b})}else{return d({type:"POST",url:"/ctsu/add_article",data:a,processData:false,contentType:false})}},editArticle:function(a){if(!a instanceof FormData){var b={article_id:"",article_title:"",article_column:"",article_content:"",article_summary:"",article_thumbnail:"",article_time:"",article_author:"",article_order:"",article_hot:""};e.extend(b,a);return d({type:"POST",url:"/ctsu/edit_article",data:b})}else{return d({type:"POST",url:"/ctsu/edit_article",data:a,processData:false,contentType:false})}},deleteArticle:function(a){return d({type:"POST",url:"/ctsu/delete_article",data:{article_id:a}})},publishArticle:function(a){return d({type:"POST",url:"/ctsu/publish_article",data:{article_id:a}})},unpublishArticle:function(a){return d({type:"POST",url:"/ctsu/unpublish_article",data:{article_id:a}})}}});define("app/common/views/header",["require","exports","module","jquery","underscore","html2canvas/html2canvas","stackblur/StackBlur","bowser","app/common/models/user","app/common/api/news"],function(a,b,c){"use strict";var d=a("jquery");var e=a("underscore");var f=a("html2canvas/html2canvas");var g=a("stackblur/StackBlur");var h=a("bowser");var i=a("app/common/models/user");var j=a("app/common/api/news");var k=d(".g_header");var l=d("#header_bg");var m=d(".header_bg_wrap");var n=d(window);function o(){k.css({opacity:"1",background:"#fff"})}function p(a,b){k.find(".name").text(a);var c=k.find(".avatar");if(c.length){c[0].src=b}d("#logout").on("click",function(a){i.logout()});d("#login_checked").show();j.userGetHotArticle().done(function(b){var c=b.data;var d=q(c,a);if(d){r(c,a)}})}function q(a,b){if(a.article_id!==0){var c=window.localStorage.getItem("hotArticle");if(!c){return true}c=JSON.parse(c);var d=c.id;var e=c.updatedTime;var f=c.user;if(!d){return true}else{if(d!==a.article_id){return true}else{if(e<a.updated_time||f!==b){return true}}}}return false}function r(a,b){var c=k.find(".avatar");d('<span class="red-dot"></span>').insertBefore(c);c.one("click",function(c){var d={id:a.article_id,updatedTime:a.updated_time,user:b};k.find(".red-dot").remove();window.localStorage.setItem("hotArticle",JSON.stringify(d));window.location.href="/article/single-"+a.article_id+".html"})}c.exports={render:p,renderUser:p,renderBackDrop:o}});define("app/common/views/footer",["require","exports","module","jquery"],function(a,b,c){var d=a("jquery");return{render:function(a,b){var c=(new Date).getFullYear();d("#footer").find(".copyright_end").text(c)}}});(function(a,b){typeof exports==="object"&&typeof module!=="undefined"?module.exports=b():typeof define==="function"&&define.amd?define("moment",b):a.moment=b()})(this,function(){"use strict";var a;function b(){return a.apply(null,arguments)}function c(b){a=b}function d(){return{empty:false,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:false,invalidMonth:null,invalidFormat:false,userInvalidated:false,iso:false}}function e(a){return Object.prototype.toString.call(a)==="[object Array]"}function f(a){return Object.prototype.toString.call(a)==="[object Date]"||a instanceof Date}function g(a,b){var c=[],d;for(d=0;d<a.length;++d){c.push(b(a[d],d))}return c}function h(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function i(a,b){for(var c in b){if(h(b,c)){a[c]=b[c]}}if(h(b,"toString")){a.toString=b.toString}if(h(b,"valueOf")){a.valueOf=b.valueOf}return a}function j(a,b,c,d){return mb(a,b,c,d,true).utc()}function k(a){if(a._isValid==null){a._isValid=!isNaN(a._d.getTime())&&a._pf.overflow<0&&!a._pf.empty&&!a._pf.invalidMonth&&!a._pf.nullInput&&!a._pf.invalidFormat&&!a._pf.userInvalidated;if(a._strict){a._isValid=a._isValid&&a._pf.charsLeftOver===0&&a._pf.unusedTokens.length===0&&a._pf.bigHour===undefined}}return a._isValid}function l(a){var b=j(NaN);if(a!=null){i(b._pf,a)}else{b._pf.userInvalidated=true}return b}var m=b.momentProperties=[];function n(a,b){var c,d,e;if(typeof b._isAMomentObject!=="undefined"){a._isAMomentObject=b._isAMomentObject}if(typeof b._i!=="undefined"){a._i=b._i}if(typeof b._f!=="undefined"){a._f=b._f}if(typeof b._l!=="undefined"){a._l=b._l}if(typeof b._strict!=="undefined"){a._strict=b._strict}if(typeof b._tzm!=="undefined"){a._tzm=b._tzm}if(typeof b._isUTC!=="undefined"){a._isUTC=b._isUTC}if(typeof b._offset!=="undefined"){a._offset=b._offset}if(typeof b._pf!=="undefined"){a._pf=b._pf}if(typeof b._locale!=="undefined"){a._locale=b._locale}if(m.length>0){for(c in m){d=m[c];e=b[d];if(typeof e!=="undefined"){a[d]=e}}}return a}var o=false;function p(a){n(this,a);this._d=new Date((+a._d));if(o===false){o=true;b.updateOffset(this);o=false}}function q(a){return a instanceof p||a!=null&&h(a,"_isAMomentObject")}function r(a){var b=+a,c=0;if(b!==0&&isFinite(b)){if(b>=0){c=Math.floor(b)}else{c=Math.ceil(b)}}return c}function s(a,b,c){var d=Math.min(a.length,b.length),e=Math.abs(a.length-b.length),f=0,g;for(g=0;g<d;g++){if(c&&a[g]!==b[g]||!c&&r(a[g])!==r(b[g])){f++}}return f+e}function t(){}var u={};var v;function w(a){return a?a.toLowerCase().replace("_","-"):a}function x(a){var b=0,c,d,e,f;while(b<a.length){f=w(a[b]).split("-");c=f.length;d=w(a[b+1]);d=d?d.split("-"):null;while(c>0){e=y(f.slice(0,c).join("-"));if(e){return e}if(d&&d.length>=c&&s(f,d,true)>=c-1){break}c--}b++}return null}function y(a){var b=null;if(!u[a]&&typeof module!=="undefined"&&module&&module.exports){try{b=v._abbr;require("./locale/"+a);z(b)}catch(c){}}return u[a]}function z(a,b){var c;if(a){if(typeof b==="undefined"){c=B(a)}else{c=A(a,b)}if(c){v=c}}return v._abbr}function A(a,b){if(b!==null){b.abbr=a;if(!u[a]){u[a]=new t}u[a].set(b);z(a);return u[a]}else{delete u[a];return null}}function B(a){var b;if(a&&a._locale&&a._locale._abbr){a=a._locale._abbr}if(!a){return v}if(!e(a)){b=y(a);if(b){return b}a=[a]}return x(a)}var C={};function D(a,b){var c=a.toLowerCase();C[c]=C[c+"s"]=C[b]=a}function E(a){return typeof a==="string"?C[a]||C[a.toLowerCase()]:undefined}function F(a){var b={},c,d;for(d in a){if(h(a,d)){c=E(d);if(c){b[c]=a[d]}}}return b}function G(a,c){return function(d){if(d!=null){I(this,a,d);b.updateOffset(this,c);return this}else{return H(this,a)}}}function H(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function I(a,b,c){return a._d["set"+(a._isUTC?"UTC":"")+b](c)}function J(a,b){var c;if(typeof a==="object"){for(c in a){this.set(c,a[c])}}else{a=E(a);if(typeof this[a]==="function"){return this[a](b)}}return this}function K(a,b,c){var d=""+Math.abs(a),e=a>=0;while(d.length<b){d="0"+d}return(e?c?"+":"":"-")+d}var L=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g;var M=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g;var N={};var O={};function P(a,b,c,d){var e=d;if(typeof d==="string"){e=function(){return this[d]()}}if(a){O[a]=e}if(b){O[b[0]]=function(){return K(e.apply(this,arguments),b[1],b[2])}}if(c){O[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)}}}function Q(a){if(a.match(/\[[\s\S]/)){return a.replace(/^\[|\]$/g,"")}return a.replace(/\\/g,"")}function R(a){var b=a.match(L),c,d;for(c=0,d=b.length;c<d;c++){if(O[b[c]]){b[c]=O[b[c]]}else{b[c]=Q(b[c])}}return function(e){var f="";for(c=0;c<d;c++){f+=b[c]instanceof Function?b[c].call(e,a):b[c]}return f}}function S(a,b){if(!a.isValid()){return a.localeData().invalidDate()}b=T(b,a.localeData());if(!N[b]){N[b]=R(b)}return N[b](a)}function T(a,b){var c=5;function d(a){return b.longDateFormat(a)||a}M.lastIndex=0;while(c>=0&&M.test(a)){a=a.replace(M,d);M.lastIndex=0;c-=1}return a}var U=/\d/;var V=/\d\d/;var W=/\d{3}/;var X=/\d{4}/;var Y=/[+-]?\d{6}/;var Z=/\d\d?/;var $=/\d{1,3}/;var _=/\d{1,4}/;var aa=/[+-]?\d{1,6}/;var ba=/\d+/;var ca=/[+-]?\d+/;var da=/Z|[+-]\d\d:?\d\d/gi;var ea=/[+-]?\d+(\.\d{1,3})?/;var fa=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i;var ga={};function ha(a,b,c){ga[a]=typeof b==="function"?b:function(a){return a&&c?c:b}}function ia(a,b){if(!h(ga,a)){return new RegExp(ja(a))}return ga[a](b._strict,b._locale)}function ja(a){return a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ka={};function la(a,b){var c,d=b;if(typeof a==="string"){a=[a]}if(typeof b==="number"){d=function(a,c){c[b]=r(a)}}for(c=0;c<a.length;c++){ka[a[c]]=d}}function ma(a,b){la(a,function(a,c,d,e){d._w=d._w||{};b(a,d._w,d,e)})}function na(a,b,c){if(b!=null&&h(ka,a)){ka[a](b,c._a,c,a)}}var oa=0;var pa=1;var qa=2;var ra=3;var sa=4;var ta=5;var ua=6;function va(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}P("M",["MM",2],"Mo",function(){return this.month()+1});P("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)});P("MMMM",0,0,function(a){return this.localeData().months(this,a)});D("month","M");ha("M",Z);ha("MM",Z,V);ha("MMM",fa);ha("MMMM",fa);la(["M","MM"],function(a,b){b[pa]=r(a)-1});la(["MMM","MMMM"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);if(e!=null){b[pa]=e}else{c._pf.invalidMonth=a}});var wa="January_February_March_April_May_June_July_August_September_October_November_December".split("_");function xa(a){return this._months[a.month()]}var ya="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function za(a){return this._monthsShort[a.month()]}function Aa(a,b,c){var d,e,f;if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[]}for(d=0;d<12;d++){e=j([2e3,d]);if(c&&!this._longMonthsParse[d]){this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i");this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")}if(!c&&!this._monthsParse[d]){f="^"+this.months(e,"")+"|^"+this.monthsShort(e,"");this._monthsParse[d]=new RegExp(f.replace(".",""),"i")}if(c&&b==="MMMM"&&this._longMonthsParse[d].test(a)){return d}else if(c&&b==="MMM"&&this._shortMonthsParse[d].test(a)){return d}else if(!c&&this._monthsParse[d].test(a)){return d}}}function Ba(a,b){var c;if(typeof b==="string"){b=a.localeData().monthsParse(b);if(typeof b!=="number"){return a}}c=Math.min(a.date(),va(a.year(),b));a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c);return a}function Ca(a){if(a!=null){Ba(this,a);b.updateOffset(this,true);return this}else{return H(this,"Month")}}function Da(){return va(this.year(),this.month())}function Ea(a){var b;var c=a._a;if(c&&a._pf.overflow===-2){b=c[pa]<0||c[pa]>11?pa:c[qa]<1||c[qa]>va(c[oa],c[pa])?qa:c[ra]<0||c[ra]>24||c[ra]===24&&(c[sa]!==0||c[ta]!==0||c[ua]!==0)?ra:c[sa]<0||c[sa]>59?sa:c[ta]<0||c[ta]>59?ta:c[ua]<0||c[ua]>999?ua:-1;if(a._pf._overflowDayOfYear&&(b<oa||b>qa)){b=qa}a._pf.overflow=b}return a}function Fa(a){if(b.suppressDeprecationWarnings===false&&typeof console!=="undefined"&&console.warn){console.warn("Deprecation warning: "+a)}}function Ga(a,b){var c=true;return i(function(){if(c){Fa(a);c=false}return b.apply(this,arguments)},b)}var Ha={};function Ia(a,b){if(!Ha[a]){Fa(b);Ha[a]=true}}b.suppressDeprecationWarnings=false;var Ja=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;var Ka=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]];var La=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]];var Ma=/^\/?Date\((\-?\d+)/i;function Na(a){var b,c,d=a._i,e=Ja.exec(d);if(e){a._pf.iso=true;for(b=0,c=Ka.length;b<c;b++){if(Ka[b][1].exec(d)){a._f=Ka[b][0]+(e[6]||" ");break}}for(b=0,c=La.length;b<c;b++){if(La[b][1].exec(d)){a._f+=La[b][0];break}}if(d.match(da)){a._f+="Z"}gb(a)}else{a._isValid=false}}function Oa(a){var c=Ma.exec(a._i);if(c!==null){a._d=new Date((+c[1]));return}Na(a);if(a._isValid===false){delete a._isValid;b.createFromInputFallback(a)}}b.createFromInputFallback=Ga("moment construction falls back to js Date. This is "+"discouraged and will be removed in upcoming major "+"release. Please refer to "+"https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))});function Pa(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);if(a<1970){h.setFullYear(a)}return h}function Qa(a){var b=new Date(Date.UTC.apply(null,arguments));if(a<1970){b.setUTCFullYear(a)}return b}P(0,["YY",2],0,function(){return this.year()%100});P(0,["YYYY",4],0,"year");P(0,["YYYYY",5],0,"year");P(0,["YYYYYY",6,true],0,"year");D("year","y");ha("Y",ca);ha("YY",Z,V);ha("YYYY",_,X);ha("YYYYY",aa,Y);ha("YYYYYY",aa,Y);la(["YYYY","YYYYY","YYYYYY"],oa);la("YY",function(a,c){c[oa]=b.parseTwoDigitYear(a)});function Ra(a){return Sa(a)?366:365}function Sa(a){return a%4===0&&a%100!==0||a%400===0}b.parseTwoDigitYear=function(a){return r(a)+(r(a)>68?1900:2e3)};var Ta=G("FullYear",false);
function Ua(){return Sa(this.year())}P("w",["ww",2],"wo","week");P("W",["WW",2],"Wo","isoWeek");D("week","w");D("isoWeek","W");ha("w",Z);ha("ww",Z,V);ha("W",Z);ha("WW",Z,V);ma(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=r(a)});function Va(a,b,c){var d=c-b,e=c-a.day(),f;if(e>d){e-=7}if(e<d-7){e+=7}f=nb(a).add(e,"d");return{week:Math.ceil(f.dayOfYear()/7),year:f.year()}}function Wa(a){return Va(a,this._week.dow,this._week.doy).week}var Xa={dow:0,doy:6};function Ya(){return this._week.dow}function Za(){return this._week.doy}function $a(a){var b=this.localeData().week(this);return a==null?b:this.add((a-b)*7,"d")}function _a(a){var b=Va(this,1,4).week;return a==null?b:this.add((a-b)*7,"d")}P("DDD",["DDDD",3],"DDDo","dayOfYear");D("dayOfYear","DDD");ha("DDD",$);ha("DDDD",W);la(["DDD","DDDD"],function(a,b,c){c._dayOfYear=r(a)});function ab(a,b,c,d,e){var f=Qa(a,0,1).getUTCDay();var g;var h;f=f===0?7:f;c=c!=null?c:e;g=e-f+(f>d?7:0)-(f<e?7:0);h=7*(b-1)+(c-e)+g+1;return{year:h>0?a:a-1,dayOfYear:h>0?h:Ra(a-1)+h}}function bb(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return a==null?b:this.add(a-b,"d")}function cb(a,b,c){if(a!=null){return a}if(b!=null){return b}return c}function db(a){var b=new Date;if(a._useUTC){return[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]}return[b.getFullYear(),b.getMonth(),b.getDate()]}function eb(a){var b,c,d=[],e,f;if(a._d){return}e=db(a);if(a._w&&a._a[qa]==null&&a._a[pa]==null){fb(a)}if(a._dayOfYear){f=cb(a._a[oa],e[oa]);if(a._dayOfYear>Ra(f)){a._pf._overflowDayOfYear=true}c=Qa(f,0,a._dayOfYear);a._a[pa]=c.getUTCMonth();a._a[qa]=c.getUTCDate()}for(b=0;b<3&&a._a[b]==null;++b){a._a[b]=d[b]=e[b]}for(;b<7;b++){a._a[b]=d[b]=a._a[b]==null?b===2?1:0:a._a[b]}if(a._a[ra]===24&&a._a[sa]===0&&a._a[ta]===0&&a._a[ua]===0){a._nextDay=true;a._a[ra]=0}a._d=(a._useUTC?Qa:Pa).apply(null,d);if(a._tzm!=null){a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm)}if(a._nextDay){a._a[ra]=24}}function fb(a){var b,c,d,e,f,g,h;b=a._w;if(b.GG!=null||b.W!=null||b.E!=null){f=1;g=4;c=cb(b.GG,a._a[oa],Va(nb(),1,4).year);d=cb(b.W,1);e=cb(b.E,1)}else{f=a._locale._week.dow;g=a._locale._week.doy;c=cb(b.gg,a._a[oa],Va(nb(),f,g).year);d=cb(b.w,1);if(b.d!=null){e=b.d;if(e<f){++d}}else if(b.e!=null){e=b.e+f}else{e=f}}h=ab(c,d,e,g,f);a._a[oa]=h.year;a._dayOfYear=h.dayOfYear}b.ISO_8601=function(){};function gb(a){if(a._f===b.ISO_8601){Na(a);return}a._a=[];a._pf.empty=true;var c=""+a._i,d,e,f,g,h,i=c.length,j=0;f=T(a._f,a._locale).match(L)||[];for(d=0;d<f.length;d++){g=f[d];e=(c.match(ia(g,a))||[])[0];if(e){h=c.substr(0,c.indexOf(e));if(h.length>0){a._pf.unusedInput.push(h)}c=c.slice(c.indexOf(e)+e.length);j+=e.length}if(O[g]){if(e){a._pf.empty=false}else{a._pf.unusedTokens.push(g)}na(g,e,a)}else if(a._strict&&!e){a._pf.unusedTokens.push(g)}}a._pf.charsLeftOver=i-j;if(c.length>0){a._pf.unusedInput.push(c)}if(a._pf.bigHour===true&&a._a[ra]<=12){a._pf.bigHour=undefined}a._a[ra]=hb(a._locale,a._a[ra],a._meridiem);eb(a);Ea(a)}function hb(a,b,c){var d;if(c==null){return b}if(a.meridiemHour!=null){return a.meridiemHour(b,c)}else if(a.isPM!=null){d=a.isPM(c);if(d&&b<12){b+=12}if(!d&&b===12){b=0}return b}else{return b}}function ib(a){var b,c,e,f,g;if(a._f.length===0){a._pf.invalidFormat=true;a._d=new Date(NaN);return}for(f=0;f<a._f.length;f++){g=0;b=n({},a);if(a._useUTC!=null){b._useUTC=a._useUTC}b._pf=d();b._f=a._f[f];gb(b);if(!k(b)){continue}g+=b._pf.charsLeftOver;g+=b._pf.unusedTokens.length*10;b._pf.score=g;if(e==null||g<e){e=g;c=b}}i(a,c||b)}function jb(a){if(a._d){return}var b=F(a._i);a._a=[b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond];eb(a)}function kb(a){var b=a._i,c=a._f,d;a._locale=a._locale||B(a._l);if(b===null||c===undefined&&b===""){return l({nullInput:true})}if(typeof b==="string"){a._i=b=a._locale.preparse(b)}if(q(b)){return new p(Ea(b))}else if(e(c)){ib(a)}else if(c){gb(a)}else{lb(a)}d=new p(Ea(a));if(d._nextDay){d.add(1,"d");d._nextDay=undefined}return d}function lb(a){var c=a._i;if(c===undefined){a._d=new Date}else if(f(c)){a._d=new Date((+c))}else if(typeof c==="string"){Oa(a)}else if(e(c)){a._a=g(c.slice(0),function(a){return parseInt(a,10)});eb(a)}else if(typeof c==="object"){jb(a)}else if(typeof c==="number"){a._d=new Date(c)}else{b.createFromInputFallback(a)}}function mb(a,b,c,e,f){var g={};if(typeof c==="boolean"){e=c;c=undefined}g._isAMomentObject=true;g._useUTC=g._isUTC=f;g._l=c;g._i=a;g._f=b;g._strict=e;g._pf=d();return kb(g)}function nb(a,b,c,d){return mb(a,b,c,d,false)}var ob=Ga("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var a=nb.apply(null,arguments);return a<this?this:a});var pb=Ga("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var a=nb.apply(null,arguments);return a>this?this:a});function qb(a,b){var c,d;if(b.length===1&&e(b[0])){b=b[0]}if(!b.length){return nb()}c=b[0];for(d=1;d<b.length;++d){if(b[d][a](c)){c=b[d]}}return c}function rb(){var a=[].slice.call(arguments,0);return qb("isBefore",a)}function sb(){var a=[].slice.call(arguments,0);return qb("isAfter",a)}function tb(a){var b=F(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+j*1e3+i*6e4+h*36e5;this._days=+g+f*7;this._months=+e+d*3+c*12;this._data={};this._locale=B();this._bubble()}function ub(a){return a instanceof tb}function vb(a,b){P(a,0,0,function(){var a=this.utcOffset();var c="+";if(a<0){a=-a;c="-"}return c+K(~~(a/60),2)+b+K(~~a%60,2)})}vb("Z",":");vb("ZZ","");ha("Z",da);ha("ZZ",da);la(["Z","ZZ"],function(a,b,c){c._useUTC=true;c._tzm=xb(a)});var wb=/([\+\-]|\d\d)/gi;function xb(a){var b=(a||"").match(da)||[];var c=b[b.length-1]||[];var d=(c+"").match(wb)||["-",0,0];var e=+(d[1]*60)+r(d[2]);return d[0]==="+"?e:-e}function yb(a,c){var d,e;if(c._isUTC){d=c.clone();e=(q(a)||f(a)?+a:+nb(a))-+d;d._d.setTime(+d._d+e);b.updateOffset(d,false);return d}else{return nb(a).local()}return c._isUTC?nb(a).zone(c._offset||0):nb(a).local()}function zb(a){return-Math.round(a._d.getTimezoneOffset()/15)*15}b.updateOffset=function(){};function Ab(a,c){var d=this._offset||0,e;if(a!=null){if(typeof a==="string"){a=xb(a)}if(Math.abs(a)<16){a=a*60}if(!this._isUTC&&c){e=zb(this)}this._offset=a;this._isUTC=true;if(e!=null){this.add(e,"m")}if(d!==a){if(!c||this._changeInProgress){Sb(this,Nb(a-d,"m"),1,false)}else if(!this._changeInProgress){this._changeInProgress=true;b.updateOffset(this,true);this._changeInProgress=null}}return this}else{return this._isUTC?d:zb(this)}}function Bb(a,b){if(a!=null){if(typeof a!=="string"){a=-a}this.utcOffset(a,b);return this}else{return-this.utcOffset()}}function Cb(a){return this.utcOffset(0,a)}function Db(a){if(this._isUTC){this.utcOffset(0,a);this._isUTC=false;if(a){this.subtract(zb(this),"m")}}return this}function Eb(){if(this._tzm){this.utcOffset(this._tzm)}else if(typeof this._i==="string"){this.utcOffset(xb(this._i))}return this}function Fb(a){if(!a){a=0}else{a=nb(a).utcOffset()}return(this.utcOffset()-a)%60===0}function Gb(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Hb(){if(this._a){var a=this._isUTC?j(this._a):nb(this._a);return this.isValid()&&s(this._a,a.toArray())>0}return false}function Ib(){return!this._isUTC}function Jb(){return this._isUTC}function Kb(){return this._isUTC&&this._offset===0}var Lb=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/;var Mb=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;function Nb(a,b){var c=a,d=null,e,f,g;if(ub(a)){c={ms:a._milliseconds,d:a._days,M:a._months}}else if(typeof a==="number"){c={};if(b){c[b]=a}else{c.milliseconds=a}}else if(!!(d=Lb.exec(a))){e=d[1]==="-"?-1:1;c={y:0,d:r(d[qa])*e,h:r(d[ra])*e,m:r(d[sa])*e,s:r(d[ta])*e,ms:r(d[ua])*e}}else if(!!(d=Mb.exec(a))){e=d[1]==="-"?-1:1;c={y:Ob(d[2],e),M:Ob(d[3],e),d:Ob(d[4],e),h:Ob(d[5],e),m:Ob(d[6],e),s:Ob(d[7],e),w:Ob(d[8],e)}}else if(c==null){c={}}else if(typeof c==="object"&&("from"in c||"to"in c)){g=Qb(nb(c.from),nb(c.to));c={};c.ms=g.milliseconds;c.M=g.months}f=new tb(c);if(ub(a)&&h(a,"_locale")){f._locale=a._locale}return f}Nb.fn=tb.prototype;function Ob(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function Pb(a,b){var c={milliseconds:0,months:0};c.months=b.month()-a.month()+(b.year()-a.year())*12;if(a.clone().add(c.months,"M").isAfter(b)){--c.months}c.milliseconds=+b-+a.clone().add(c.months,"M");return c}function Qb(a,b){var c;b=yb(b,a);if(a.isBefore(b)){c=Pb(a,b)}else{c=Pb(b,a);c.milliseconds=-c.milliseconds;c.months=-c.months}return c}function Rb(a,b){return function(c,d){var e,f;if(d!==null&&!isNaN(+d)){Ia(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period).");f=c;c=d;d=f}c=typeof c==="string"?+c:c;e=Nb(c,d);Sb(this,e,a);return this}}function Sb(a,c,d,e){var f=c._milliseconds,g=c._days,h=c._months;e=e==null?true:e;if(f){a._d.setTime(+a._d+f*d)}if(g){I(a,"Date",H(a,"Date")+g*d)}if(h){Ba(a,H(a,"Month")+h*d)}if(e){b.updateOffset(a,g||h)}}var Tb=Rb(1,"add");var Ub=Rb(-1,"subtract");function Vb(a){var b=a||nb(),c=yb(b,this).startOf("day"),d=this.diff(c,"days",true),e=d<-6?"sameElse":d<-1?"lastWeek":d<0?"lastDay":d<1?"sameDay":d<2?"nextDay":d<7?"nextWeek":"sameElse";return this.format(this.localeData().calendar(e,this,nb(b)))}function Wb(){return new p(this)}function Xb(a,b){var c;b=E(typeof b!=="undefined"?b:"millisecond");if(b==="millisecond"){a=q(a)?a:nb(a);return+this>+a}else{c=q(a)?+a:+nb(a);return c<+this.clone().startOf(b)}}function Yb(a,b){var c;b=E(typeof b!=="undefined"?b:"millisecond");if(b==="millisecond"){a=q(a)?a:nb(a);return+this<+a}else{c=q(a)?+a:+nb(a);return+this.clone().endOf(b)<c}}function Zb(a,b,c){return this.isAfter(a,c)&&this.isBefore(b,c)}function $b(a,b){var c;b=E(b||"millisecond");if(b==="millisecond"){a=q(a)?a:nb(a);return+this===+a}else{c=+nb(a);return+this.clone().startOf(b)<=c&&c<=+this.clone().endOf(b)}}function _b(a){if(a<0){return Math.ceil(a)}else{return Math.floor(a)}}function ac(a,b,c){var d=yb(a,this),e=(d.utcOffset()-this.utcOffset())*6e4,f,g;b=E(b);if(b==="year"||b==="month"||b==="quarter"){g=bc(this,d);if(b==="quarter"){g=g/3}else if(b==="year"){g=g/12}}else{f=this-d;g=b==="second"?f/1e3:b==="minute"?f/6e4:b==="hour"?f/36e5:b==="day"?(f-e)/864e5:b==="week"?(f-e)/6048e5:f}return c?g:_b(g)}function bc(a,b){var c=(b.year()-a.year())*12+(b.month()-a.month()),d=a.clone().add(c,"months"),e,f;if(b-d<0){e=a.clone().add(c-1,"months");f=(b-d)/(d-e)}else{e=a.clone().add(c+1,"months");f=(b-d)/(e-d)}return-(c+f)}b.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";function cc(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function dc(){var a=this.clone().utc();if(0<a.year()&&a.year()<=9999){if("function"===typeof Date.prototype.toISOString){return this.toDate().toISOString()}else{return S(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}}else{return S(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}}function ec(a){var c=S(this,a||b.defaultFormat);return this.localeData().postformat(c)}function fc(a,b){return Nb({to:this,from:a}).locale(this.locale()).humanize(!b)}function gc(a){return this.from(nb(),a)}function hc(a){var b;if(a===undefined){return this._locale._abbr}else{b=B(a);if(b!=null){this._locale=b}return this}}var ic=Ga("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){if(a===undefined){return this.localeData()}else{return this.locale(a)}});function jc(){return this._locale}function kc(a){a=E(a);switch(a){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}if(a==="week"){this.weekday(0)}if(a==="isoWeek"){this.isoWeekday(1)}if(a==="quarter"){this.month(Math.floor(this.month()/3)*3)}return this}function lc(a){a=E(a);if(a===undefined||a==="millisecond"){return this}return this.startOf(a).add(1,a==="isoWeek"?"week":a).subtract(1,"ms")}function mc(){return+this._d-(this._offset||0)*6e4}function nc(){return Math.floor(+this/1e3)}function oc(){return this._offset?new Date((+this)):this._d}function pc(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function qc(){return k(this)}function rc(){return i({},this._pf)}function sc(){return this._pf.overflow}P(0,["gg",2],0,function(){return this.weekYear()%100});P(0,["GG",2],0,function(){return this.isoWeekYear()%100});function tc(a,b){P(0,[a,a.length],0,b)}tc("gggg","weekYear");tc("ggggg","weekYear");tc("GGGG","isoWeekYear");tc("GGGGG","isoWeekYear");D("weekYear","gg");D("isoWeekYear","GG");ha("G",ca);ha("g",ca);ha("GG",Z,V);ha("gg",Z,V);ha("GGGG",_,X);ha("gggg",_,X);ha("GGGGG",aa,Y);ha("ggggg",aa,Y);ma(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=r(a)});ma(["gg","GG"],function(a,c,d,e){c[e]=b.parseTwoDigitYear(a)});function uc(a,b,c){return Va(nb([a,11,31+b-c]),b,c).week}function vc(a){var b=Va(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return a==null?b:this.add(a-b,"y")}function wc(a){var b=Va(this,1,4).year;return a==null?b:this.add(a-b,"y")}function xc(){return uc(this.year(),1,4)}function yc(){var a=this.localeData()._week;return uc(this.year(),a.dow,a.doy)}P("Q",0,0,"quarter");D("quarter","Q");ha("Q",U);la("Q",function(a,b){b[pa]=(r(a)-1)*3});function zc(a){return a==null?Math.ceil((this.month()+1)/3):this.month((a-1)*3+this.month()%3)}P("D",["DD",2],"Do","date");D("date","D");ha("D",Z);ha("DD",Z,V);ha("Do",function(a,b){return a?b._ordinalParse:b._ordinalParseLenient});la(["D","DD"],qa);la("Do",function(a,b){b[qa]=r(a.match(Z)[0],10)});var Ac=G("Date",true);P("d",0,"do","day");P("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)});P("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)});P("dddd",0,0,function(a){return this.localeData().weekdays(this,a)});P("e",0,0,"weekday");P("E",0,0,"isoWeekday");D("day","d");D("weekday","e");D("isoWeekday","E");ha("d",Z);ha("e",Z);ha("E",Z);ha("dd",fa);ha("ddd",fa);ha("dddd",fa);ma(["dd","ddd","dddd"],function(a,b,c){var d=c._locale.weekdaysParse(a);if(d!=null){b.d=d}else{c._pf.invalidWeekday=a}});ma(["d","e","E"],function(a,b,c,d){b[d]=r(a)});function Bc(a,b){if(typeof a==="string"){if(!isNaN(a)){a=parseInt(a,10)}else{a=b.weekdaysParse(a);if(typeof a!=="number"){return null}}}return a}var Cc="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");function Dc(a){return this._weekdays[a.day()]}var Ec="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");function Fc(a){return this._weekdaysShort[a.day()]}var Gc="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function Hc(a){return this._weekdaysMin[a.day()]}function Ic(a){var b,c,d;if(!this._weekdaysParse){this._weekdaysParse=[]}for(b=0;b<7;b++){if(!this._weekdaysParse[b]){c=nb([2e3,1]).day(b);d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,"");this._weekdaysParse[b]=new RegExp(d.replace(".",""),"i")}if(this._weekdaysParse[b].test(a)){return b}}}function Jc(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();if(a!=null){a=Bc(a,this.localeData());return this.add(a-b,"d")}else{return b}}function Kc(a){var b=(this.day()+7-this.localeData()._week.dow)%7;return a==null?b:this.add(a-b,"d")}function Lc(a){return a==null?this.day()||7:this.day(this.day()%7?a:a-7)}P("H",["HH",2],0,"hour");P("h",["hh",2],0,function(){return this.hours()%12||12});function Mc(a,b){P(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}Mc("a",true);Mc("A",false);D("hour","h");function Nc(a,b){return b._meridiemParse}ha("a",Nc);ha("A",Nc);ha("H",Z);ha("h",Z);ha("HH",Z,V);ha("hh",Z,V);la(["H","HH"],ra);la(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a);c._meridiem=a});la(["h","hh"],function(a,b,c){b[ra]=r(a);c._pf.bigHour=true});function Oc(a){return(a+"").toLowerCase().charAt(0)==="p"}var Pc=/[ap]\.?m?\.?/i;function Qc(a,b,c){if(a>11){return c?"pm":"PM"}else{return c?"am":"AM"}}var Rc=G("Hours",true);P("m",["mm",2],0,"minute");D("minute","m");ha("m",Z);ha("mm",Z,V);la(["m","mm"],sa);var Sc=G("Minutes",false);P("s",["ss",2],0,"second");D("second","s");ha("s",Z);ha("ss",Z,V);la(["s","ss"],ta);var Tc=G("Seconds",false);P("S",0,0,function(){return~~(this.millisecond()/100)});P(0,["SS",2],0,function(){return~~(this.millisecond()/10)});function Uc(a){P(0,[a,3],0,"millisecond")}Uc("SSS");Uc("SSSS");D("millisecond","ms");ha("S",$,U);ha("SS",$,V);ha("SSS",$,W);ha("SSSS",ba);la(["S","SS","SSS","SSSS"],function(a,b){b[ua]=r(("0."+a)*1e3)});var Vc=G("Milliseconds",false);P("z",0,0,"zoneAbbr");P("zz",0,0,"zoneName");function Wc(){return this._isUTC?"UTC":""}function Xc(){return this._isUTC?"Coordinated Universal Time":""}var Yc=p.prototype;Yc.add=Tb;Yc.calendar=Vb;Yc.clone=Wb;Yc.diff=ac;Yc.endOf=lc;Yc.format=ec;Yc.from=fc;Yc.fromNow=gc;Yc.get=J;Yc.invalidAt=sc;Yc.isAfter=Xb;Yc.isBefore=Yb;Yc.isBetween=Zb;Yc.isSame=$b;Yc.isValid=qc;Yc.lang=ic;Yc.locale=hc;Yc.localeData=jc;Yc.max=pb;Yc.min=ob;Yc.parsingFlags=rc;Yc.set=J;Yc.startOf=kc;Yc.subtract=Ub;Yc.toArray=pc;Yc.toDate=oc;Yc.toISOString=dc;Yc.toJSON=dc;Yc.toString=cc;Yc.unix=nc;Yc.valueOf=mc;Yc.year=Ta;Yc.isLeapYear=Ua;Yc.weekYear=vc;Yc.isoWeekYear=wc;Yc.quarter=Yc.quarters=zc;Yc.month=Ca;Yc.daysInMonth=Da;Yc.week=Yc.weeks=$a;Yc.isoWeek=Yc.isoWeeks=_a;Yc.weeksInYear=yc;Yc.isoWeeksInYear=xc;Yc.date=Ac;Yc.day=Yc.days=Jc;Yc.weekday=Kc;Yc.isoWeekday=Lc;Yc.dayOfYear=bb;Yc.hour=Yc.hours=Rc;Yc.minute=Yc.minutes=Sc;Yc.second=Yc.seconds=Tc;Yc.millisecond=Yc.milliseconds=Vc;Yc.utcOffset=Ab;Yc.utc=Cb;Yc.local=Db;Yc.parseZone=Eb;Yc.hasAlignedHourOffset=Fb;Yc.isDST=Gb;Yc.isDSTShifted=Hb;Yc.isLocal=Ib;Yc.isUtcOffset=Jb;Yc.isUtc=Kb;Yc.isUTC=Kb;Yc.zoneAbbr=Wc;Yc.zoneName=Xc;Yc.dates=Ga("dates accessor is deprecated. Use date instead.",Ac);Yc.months=Ga("months accessor is deprecated. Use month instead",Ca);Yc.years=Ga("years accessor is deprecated. Use year instead",Ta);Yc.zone=Ga("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Bb);var Zc=Yc;function $c(a){return nb(a*1e3)}function _c(){return nb.apply(null,arguments).parseZone()}var ad={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function bd(a,b,c){var d=this._calendar[a];return typeof d==="function"?d.call(b,c):d}var cd={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"};function dd(a){var b=this._longDateFormat[a];if(!b&&this._longDateFormat[a.toUpperCase()]){b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)});this._longDateFormat[a]=b}return b}var ed="Invalid date";function fd(){return this._invalidDate}var gd="%d";var hd=/\d{1,2}/;function id(a){return this._ordinal.replace("%d",a)}function jd(a){return a}var kd={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function ld(a,b,c,d){var e=this._relativeTime[c];return typeof e==="function"?e(a,b,c,d):e.replace(/%d/i,a)}function md(a,b){var c=this._relativeTime[a>0?"future":"past"];return typeof c==="function"?c(b):c.replace(/%s/i,b)}function nd(a){var b,c;for(c in a){b=a[c];if(typeof b==="function"){this[c]=b}else{this["_"+c]=b}}this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}var od=t.prototype;od._calendar=ad;od.calendar=bd;od._longDateFormat=cd;od.longDateFormat=dd;od._invalidDate=ed;od.invalidDate=fd;od._ordinal=gd;od.ordinal=id;od._ordinalParse=hd;od.preparse=jd;od.postformat=jd;od._relativeTime=kd;od.relativeTime=ld;od.pastFuture=md;od.set=nd;od.months=xa;od._months=wa;od.monthsShort=za;od._monthsShort=ya;od.monthsParse=Aa;od.week=Wa;od._week=Xa;od.firstDayOfYear=Za;od.firstDayOfWeek=Ya;od.weekdays=Dc;od._weekdays=Cc;od.weekdaysMin=Hc;od._weekdaysMin=Gc;od.weekdaysShort=Fc;od._weekdaysShort=Ec;od.weekdaysParse=Ic;od.isPM=Oc;od._meridiemParse=Pc;od.meridiem=Qc;function pd(a,b,c,d){var e=B();var f=j().set(d,b);return e[c](f,a)}function qd(a,b,c,d,e){if(typeof a==="number"){b=a;a=undefined}a=a||"";if(b!=null){return pd(a,b,c,e)}var f;var g=[];for(f=0;f<d;f++){g[f]=pd(a,f,c,e)}return g}function rd(a,b){return qd(a,b,"months",12,"month")}function sd(a,b){return qd(a,b,"monthsShort",12,"month")}function td(a,b){return qd(a,b,"weekdays",7,"day")}function ud(a,b){return qd(a,b,"weekdaysShort",7,"day")}function vd(a,b){return qd(a,b,"weekdaysMin",7,"day")}z("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=r(a%100/10)===1?"th":b===1?"st":b===2?"nd":b===3?"rd":"th";return a+c}});b.lang=Ga("moment.lang is deprecated. Use moment.locale instead.",z);b.langData=Ga("moment.langData is deprecated. Use moment.localeData instead.",B);var wd=Math.abs;function xd(){var a=this._data;this._milliseconds=wd(this._milliseconds);this._days=wd(this._days);this._months=wd(this._months);a.milliseconds=wd(a.milliseconds);a.seconds=wd(a.seconds);a.minutes=wd(a.minutes);a.hours=wd(a.hours);a.months=wd(a.months);a.years=wd(a.years);return this}function yd(a,b,c,d){var e=Nb(b,c);a._milliseconds+=d*e._milliseconds;a._days+=d*e._days;a._months+=d*e._months;return a._bubble()}function zd(a,b){return yd(this,a,b,1)}function Ad(a,b){return yd(this,a,b,-1)}function Bd(){var a=this._milliseconds;var b=this._days;var c=this._months;var d=this._data;var e,f,g,h=0;d.milliseconds=a%1e3;e=_b(a/1e3);d.seconds=e%60;f=_b(e/60);d.minutes=f%60;g=_b(f/60);d.hours=g%24;b+=_b(g/24);h=_b(Cd(b));b-=_b(Dd(h));c+=_b(b/30);b%=30;h+=_b(c/12);c%=12;d.days=b;d.months=c;d.years=h;return this}function Cd(a){return a*400/146097}function Dd(a){return a*146097/400}function Ed(a){var b;var c;var d=this._milliseconds;a=E(a);if(a==="month"||a==="year"){b=this._days+d/864e5;c=this._months+Cd(b)*12;return a==="month"?c:c/12}else{b=this._days+Math.round(Dd(this._months/12));switch(a){case"week":return b/7+d/6048e5;case"day":return b+d/864e5;case"hour":return b*24+d/36e5;case"minute":return b*24*60+d/6e4;case"second":return b*24*60*60+d/1e3;case"millisecond":return Math.floor(b*24*60*60*1e3)+d;default:throw new Error("Unknown unit "+a)}}}function Fd(){return this._milliseconds+this._days*864e5+this._months%12*2592e6+r(this._months/12)*31536e6}function Gd(a){return function(){return this.as(a)}}var Hd=Gd("ms");var Id=Gd("s");var Jd=Gd("m");var Kd=Gd("h");var Ld=Gd("d");var Md=Gd("w");var Nd=Gd("M");var Od=Gd("y");function Pd(a){a=E(a);return this[a+"s"]()}function Qd(a){return function(){return this._data[a]}}var Rd=Qd("milliseconds");var Sd=Qd("seconds");var Td=Qd("minutes");var Ud=Qd("hours");var Vd=Qd("days");var Wd=Qd("months");var Xd=Qd("years");function Yd(){return _b(this.days()/7)}var Zd=Math.round;var $d={s:45,m:45,h:22,d:26,M:11};function _d(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function ae(a,b,c){var d=Nb(a).abs();var e=Zd(d.as("s"));var f=Zd(d.as("m"));var g=Zd(d.as("h"));var h=Zd(d.as("d"));var i=Zd(d.as("M"));var j=Zd(d.as("y"));var k=e<$d.s&&["s",e]||f===1&&["m"]||f<$d.m&&["mm",f]||g===1&&["h"]||g<$d.h&&["hh",g]||h===1&&["d"]||h<$d.d&&["dd",h]||i===1&&["M"]||i<$d.M&&["MM",i]||j===1&&["y"]||["yy",j];k[2]=b;k[3]=+a>0;k[4]=c;return _d.apply(null,k)}function be(a,b){if($d[a]===undefined){return false}if(b===undefined){return $d[a]}$d[a]=b;return true}function ce(a){var b=this.localeData();var c=ae(this,!a,b);if(a){c=b.pastFuture(+this,c)}return b.postformat(c)}var de=Math.abs;function ee(){var a=de(this.years());var b=de(this.months());var c=de(this.days());var d=de(this.hours());var e=de(this.minutes());var f=de(this.seconds()+this.milliseconds()/1e3);var g=this.asSeconds();if(!g){return"P0D"}return(g<0?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||e||f?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(f?f+"S":"")}var fe=tb.prototype;fe.abs=xd;fe.add=zd;fe.subtract=Ad;fe.as=Ed;fe.asMilliseconds=Hd;fe.asSeconds=Id;fe.asMinutes=Jd;fe.asHours=Kd;fe.asDays=Ld;fe.asWeeks=Md;fe.asMonths=Nd;fe.asYears=Od;fe.valueOf=Fd;fe._bubble=Bd;fe.get=Pd;fe.milliseconds=Rd;fe.seconds=Sd;fe.minutes=Td;fe.hours=Ud;fe.days=Vd;fe.weeks=Yd;fe.months=Wd;fe.years=Xd;fe.humanize=ce;fe.toISOString=ee;fe.toString=ee;fe.toJSON=ee;fe.locale=hc;fe.localeData=jc;fe.toIsoString=Ga("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ee);fe.lang=ic;P("X",0,0,"unix");P("x",0,0,"valueOf");ha("x",ca);ha("X",ea);la("X",function(a,b,c){c._d=new Date(parseFloat(a,10)*1e3)});la("x",function(a,b,c){c._d=new Date(r(a))});b.version="2.10.2";c(nb);b.fn=Zc;b.min=rb;b.max=sb;b.utc=j;b.unix=$c;b.months=rd;b.isDate=f;b.locale=z;b.invalid=l;b.duration=Nb;b.isMoment=q;b.weekdays=td;b.parseZone=_c;b.localeData=B;b.isDuration=ub;b.monthsShort=sd;b.weekdaysMin=vd;b.defineLocale=A;b.weekdaysShort=ud;b.normalizeUnits=E;b.relativeTimeThreshold=be;var ge=b;var he=ge.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(a){return/^nm$/i.test(a)},meridiem:function(a,b,c){if(a<12){return c?"vm":"VM"}else{return c?"nm":"NM"}},longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Mre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(a){return a+(a===1||a===8||a>=20?"ste":"de")},week:{dow:1,doy:4}});var ie=ge.defineLocale("ar-ma",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}});var je={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},ke={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};var le=ge.defineLocale("ar-sa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},meridiemParse:/|/,isPM:function(a){return""===a},meridiem:function(a,b,c){if(a<12){return""}else{return""}},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(a){return a.replace(/[]/g,function(a){return ke[a]}).replace(//g,",")},postformat:function(a){return a.replace(/\d/g,function(a){return je[a]}).replace(/,/g,"")},week:{dow:6,doy:12}});var me=ge.defineLocale("ar-tn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}});var ne={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},oe={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},pe=function(a){return a===0?0:a===1?1:a===2?2:a%100>=3&&a%100<=10?3:a%100>=11?4:5},qe={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},re=function(a){return function(b,c,d,e){var f=pe(b),g=qe[a][pe(b)];if(f===2){g=g[c?0:1]}return g.replace(/%d/i,b)}},se=["  "," "," "," "," "," "," "," "," ","  ","  ","  "];var te=ge.defineLocale("ar",{months:se,monthsShort:se,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},meridiemParse:/|/,isPM:function(a){return""===a},meridiem:function(a,b,c){if(a<12){return""}else{return""}},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:re("s"),m:re("m"),mm:re("m"),h:re("h"),hh:re("h"),d:re("d"),dd:re("d"),M:re("M"),MM:re("M"),y:re("y"),yy:re("y")},preparse:function(a){return a.replace(/[]/g,function(a){return oe[a]}).replace(//g,",")},postformat:function(a){return a.replace(/\d/g,function(a){return ne[a]}).replace(/,/g,"")},week:{dow:6,doy:12}});var ue={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-nc",4:"-nc",100:"-nc",6:"-nc",9:"-uncu",10:"-uncu",30:"-uncu",60:"-nc",90:"-nc"};var ve=ge.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertsi_rnb axam_rnb_Cm axam_Cm_nb".split("_"),weekdaysShort:"Baz_BzE_Ax_r_CAx_Cm_n".split("_"),
weekdaysMin:"Bz_BE_A__CA_C_".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gln hft] dddd [saat] LT",lastDay:"[dnn] LT",lastWeek:"[ken hft] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s vvl",s:"birne saniyy",m:"bir dqiq",mm:"%d dqiq",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec|shr|gndz|axam/,isPM:function(a){return/^(gndz|axam)$/.test(a)},meridiem:function(a,b,c){if(a<4){return"gec"}else if(a<12){return"shr"}else if(a<17){return"gndz"}else{return"axam"}},ordinalParse:/\d{1,2}-(nc|inci|nci|nc|nc|uncu)/,ordinal:function(a){if(a===0){return a+"-nc"}var b=a%10,c=a%100-b,d=a>=100?100:null;return a+(ue[b]||ue[c]||ue[d])},week:{dow:1,doy:7}});function we(a,b){var c=a.split("_");return b%10===1&&b%100!==11?c[0]:b%10>=2&&b%10<=4&&(b%100<10||b%100>=20)?c[1]:c[2]}function xe(a,b,c){var d={mm:b?"__":"__",hh:b?"__":"__",dd:"__",MM:"__",yy:"__"};if(c==="m"){return b?"":""}else if(c==="h"){return b?"":""}else{return a+" "+we(d[c],+a)}}function ye(a,b){var c={nominative:"___________".split("_"),accusative:"___________".split("_")},d=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(b)?"accusative":"nominative";return c[d][a.month()]}function ze(a,b){var c={nominative:"______".split("_"),accusative:"______".split("_")},d=/\[ ?[] ?(?:|)? ?\] ?dddd/.test(b)?"accusative":"nominative";return c[d][a.day()]}var Ae=ge.defineLocale("be",{months:ye,monthsShort:"___________".split("_"),weekdays:ze,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., LT",LLLL:"dddd, D MMMM YYYY ., LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return"[] dddd [] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:xe,mm:xe,h:xe,hh:xe,d:"",dd:xe,M:"",MM:xe,y:"",yy:xe},meridiemParse:/|||/,isPM:function(a){return/^(|)$/.test(a)},meridiem:function(a,b,c){if(a<4){return""}else if(a<12){return""}else if(a<17){return""}else{return""}},ordinalParse:/\d{1,2}-(||)/,ordinal:function(a,b){switch(b){case"M":case"d":case"DDD":case"w":case"W":return(a%10===2||a%10===3)&&(a%100!==12&&a%100!==13)?a+"-":a+"-";case"D":return a+"-";default:return a}},week:{dow:1,doy:7}});var Be=ge.defineLocale("bg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:case 5:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},ordinalParse:/\d{1,2}-(|||||)/,ordinal:function(a){var b=a%10,c=a%100;if(a===0){return a+"-"}else if(c===0){return a+"-"}else if(c>10&&c<20){return a+"-"}else if(b===1){return a+"-"}else if(b===2){return a+"-"}else if(b===7||b===8){return a+"-"}else{return a+"-"}},week:{dow:1,doy:7}});var Ce={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},De={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};var Ee=ge.defineLocale("bn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(a){return a.replace(/[]/g,function(a){return De[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return Ce[a]})},meridiemParse:/||||/,isPM:function(a){return/^(||)$/.test(a)},meridiem:function(a,b,c){if(a<4){return""}else if(a<10){return""}else if(a<17){return""}else if(a<20){return""}else{return""}},week:{dow:0,doy:6}});var Fe={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},Ge={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};var He=ge.defineLocale("bo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[], LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(a){return a.replace(/[]/g,function(a){return Ge[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return Fe[a]})},meridiemParse:/||||/,isPM:function(a){return/^(||)$/.test(a)},meridiem:function(a,b,c){if(a<4){return""}else if(a<10){return""}else if(a<17){return""}else if(a<20){return""}else{return""}},week:{dow:0,doy:6}});function Ie(a,b,c){var d={mm:"munutenn",MM:"miz",dd:"devezh"};return a+" "+Le(d[c],a)}function Je(a){switch(Ke(a)){case 1:case 3:case 4:case 5:case 9:return a+" bloaz";default:return a+" vloaz"}}function Ke(a){if(a>9){return Ke(a%10)}return a}function Le(a,b){if(b===2){return Me(a)}return a}function Me(a){var b={m:"v",b:"v",d:"z"};if(b[a.charAt(0)]===undefined){return a}return b[a.charAt(0)]+a.substring(1)}var Ne=ge.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY LT",LLLL:"dddd, D [a viz] MMMM YYYY LT"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondenno",m:"ur vunutenn",mm:Ie,h:"un eur",hh:"%d eur",d:"un devezh",dd:Ie,M:"ur miz",MM:Ie,y:"ur bloaz",yy:Je},ordinalParse:/\d{1,2}(a|vet)/,ordinal:function(a){var b=a===1?"a":"vet";return a+b},week:{dow:1,doy:4}});function Oe(a,b,c){var d=a+" ";switch(c){case"m":return b?"jedna minuta":"jedne minute";case"mm":if(a===1){d+="minuta"}else if(a===2||a===3||a===4){d+="minute"}else{d+="minuta"}return d;case"h":return b?"jedan sat":"jednog sata";case"hh":if(a===1){d+="sat"}else if(a===2||a===3||a===4){d+="sata"}else{d+="sati"}return d;case"dd":if(a===1){d+="dan"}else{d+="dana"}return d;case"MM":if(a===1){d+="mjesec"}else if(a===2||a===3||a===4){d+="mjeseca"}else{d+="mjeseci"}return d;case"yy":if(a===1){d+="godina"}else if(a===2||a===3||a===4){d+="godine"}else{d+="godina"}return d}}var Pe=ge.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:Oe,mm:Oe,h:Oe,hh:Oe,d:"dan",dd:Oe,M:"mjesec",MM:Oe,y:"godinu",yy:Oe},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var Qe=ge.defineLocale("ca",{months:"gener_febrer_mar_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),monthsShort:"gen._febr._mar._abr._mai._jun._jul._ag._set._oct._nov._des.".split("_"),weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"Dg_Dl_Dt_Dc_Dj_Dv_Ds".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:function(){return"[avui a "+(this.hours()!==1?"les":"la")+"] LT"},nextDay:function(){return"[dem a "+(this.hours()!==1?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(this.hours()!==1?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(this.hours()!==1?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(this.hours()!==1?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"fa %s",s:"uns segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},ordinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(a,b){var c=a===1?"r":a===2?"n":a===3?"r":a===4?"t":"";if(b==="w"||b==="W"){c="a"}return a+c},week:{dow:1,doy:4}});var Re="leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_"),Se="led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_");function Te(a){return a>1&&a<5&&~~(a/10)!==1}function Ue(a,b,c,d){var e=a+" ";switch(c){case"s":return b||d?"pr sekund":"pr sekundami";case"m":return b?"minuta":d?"minutu":"minutou";case"mm":if(b||d){return e+(Te(a)?"minuty":"minut")}else{return e+"minutami"}break;case"h":return b?"hodina":d?"hodinu":"hodinou";case"hh":if(b||d){return e+(Te(a)?"hodiny":"hodin")}else{return e+"hodinami"}break;case"d":return b||d?"den":"dnem";case"dd":if(b||d){return e+(Te(a)?"dny":"dn")}else{return e+"dny"}break;case"M":return b||d?"msc":"mscem";case"MM":if(b||d){return e+(Te(a)?"msce":"msc")}else{return e+"msci"}break;case"y":return b||d?"rok":"rokem";case"yy":if(b||d){return e+(Te(a)?"roky":"let")}else{return e+"lety"}break}}var Ve=ge.defineLocale("cs",{months:Re,monthsShort:Se,monthsParse:function(a,b){var c,d=[];for(c=0;c<12;c++){d[c]=new RegExp("^"+a[c]+"$|^"+b[c]+"$","i")}return d}(Re,Se),weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd D. MMMM YYYY LT"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stedu v] LT";case 4:return"[ve tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedli v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou stedu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"ped %s",s:Ue,m:Ue,mm:Ue,h:Ue,hh:Ue,d:Ue,dd:Ue,M:Ue,MM:Ue,y:Ue,yy:Ue},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var We=ge.defineLocale("cv",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD-MM-YYYY",LL:"YYYY [] MMMM [] D[-]",LLL:"YYYY [] MMMM [] D[-], LT",LLLL:"dddd, YYYY [] MMMM [] D[-], LT"},calendar:{sameDay:"[] LT []",nextDay:"[] LT []",lastDay:"[] LT []",nextWeek:"[] dddd LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:function(a){var b=/$/i.exec(a)?"":/$/i.exec(a)?"":"";return a+b},past:"%s ",s:"- ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},ordinalParse:/\d{1,2}-/,ordinal:"%d-",week:{dow:1,doy:7}});var Xe=ge.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn l",s:"ychydig eiliadau",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},ordinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(a){var b=a,c="",d=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"];if(b>20){if(b===40||b===50||b===60||b===80||b===100){c="fed"}else{c="ain"}}else if(b>0){c=d[b]}return a+c},week:{dow:1,doy:4}});var Ye=ge.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd [d.] D. MMMM YYYY LT"},calendar:{sameDay:"[I dag kl.] LT",nextDay:"[I morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[I gr kl.] LT",lastWeek:"[sidste] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});function Ze(a,b,c,d){var e={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[a+" Tage",a+" Tagen"],M:["ein Monat","einem Monat"],MM:[a+" Monate",a+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[a+" Jahre",a+" Jahren"]};return b?e[c][0]:e[c][1]}var $e=ge.defineLocale("de-at",{months:"Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jn._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Heute um] LT [Uhr]",sameElse:"L",nextDay:"[Morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[Gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:Ze,mm:"%d Minuten",h:Ze,hh:"%d Stunden",d:Ze,dd:Ze,M:Ze,MM:Ze,y:Ze,yy:Ze},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});function _e(a,b,c,d){var e={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[a+" Tage",a+" Tagen"],M:["ein Monat","einem Monat"],MM:[a+" Monate",a+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[a+" Jahre",a+" Jahren"]};return b?e[c][0]:e[c][1]}var af=ge.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Heute um] LT [Uhr]",sameElse:"L",nextDay:"[Morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[Gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:_e,mm:"%d Minuten",h:_e,hh:"%d Stunden",d:_e,dd:_e,M:_e,MM:_e,y:_e,yy:_e},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var bf=ge.defineLocale("el",{monthsNominativeEl:"___________".split("_"),monthsGenitiveEl:"___________".split("_"),months:function(a,b){if(/D/.test(b.substring(0,b.indexOf("MMMM")))){return this._monthsGenitiveEl[a.month()]}else{return this._monthsNominativeEl[a.month()]}},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),meridiem:function(a,b,c){if(a>11){return c?"":""}else{return c?"":""}},isPM:function(a){return(a+"").toLowerCase()[0]===""},meridiemParse:/[]\.??\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendarEl:{sameDay:"[ {}] LT",nextDay:"[ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[ {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[ ] dddd [{}] LT";default:return"[ ] dddd [{}] LT"}},sameElse:"L"},calendar:function(a,b){var c=this._calendarEl[a],d=b&&b.hours();if(typeof c==="function"){c=c.apply(b)}return c.replace("{}",d%12===1?"":"")},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});var cf=ge.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(a){var b=a%10,c=~~(a%100/10)===1?"th":b===1?"st":b===2?"nd":b===3?"rd":"th";return a+c},week:{dow:1,doy:4}});var df=ge.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"D MMMM, YYYY",LLL:"D MMMM, YYYY LT",LLLL:"dddd, D MMMM, YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(a){var b=a%10,c=~~(a%100/10)===1?"th":b===1?"st":b===2?"nd":b===3?"rd":"th";return a+c}});var ef=ge.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(a){var b=a%10,c=~~(a%100/10)===1?"th":b===1?"st":b===2?"nd":b===3?"rd":"th";return a+c},week:{dow:1,doy:4}});var ff=ge.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_ag_sep_okt_nov_dec".split("_"),weekdays:"Dimano_Lundo_Mardo_Merkredo_ado_Vendredo_Sabato".split("_"),weekdaysShort:"Dim_Lun_Mard_Merk_a_Ven_Sab".split("_"),weekdaysMin:"Di_Lu_Ma_Me_a_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"D[-an de] MMMM, YYYY",LLL:"D[-an de] MMMM, YYYY LT",LLLL:"dddd, [la] D[-an de] MMMM, YYYY LT"},meridiemParse:/[ap]\.t\.m/i,isPM:function(a){return a.charAt(0).toLowerCase()==="p"},meridiem:function(a,b,c){if(a>11){return c?"p.t.m.":"P.T.M."}else{return c?"a.t.m.":"A.T.M."}},calendar:{sameDay:"[Hodia je] LT",nextDay:"[Morga je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hiera je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"je %s",past:"anta %s",s:"sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},ordinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}});var gf="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),hf="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");var jf=ge.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(a,b){if(/-MMM-/.test(b)){return hf[a.month()]}else{return gf[a.month()]}},weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:function(){return"[hoy a la"+(this.hours()!==1?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(this.hours()!==1?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(this.hours()!==1?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(this.hours()!==1?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(this.hours()!==1?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});function kf(a,b,c,d){var e={s:["mne sekundi","mni sekund","paar sekundit"],m:["he minuti","ks minut"],mm:[a+" minuti",a+" minutit"],h:["he tunni","tund aega","ks tund"],hh:[a+" tunni",a+" tundi"],d:["he peva","ks pev"],M:["kuu aja","kuu aega","ks kuu"],MM:[a+" kuu",a+" kuud"],y:["he aasta","aasta","ks aasta"],yy:[a+" aasta",a+" aastat"]};if(b){return e[c][2]?e[c][2]:e[c][1]}return d?e[c][0]:e[c][1]}var lf=ge.defineLocale("et",{months:"jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Tna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Jrgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s prast",past:"%s tagasi",s:kf,m:kf,mm:kf,h:kf,hh:kf,d:kf,dd:"%d peva",M:kf,MM:kf,y:kf,yy:kf},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var mf=ge.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] LT",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] LT",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] LT",llll:"ddd, YYYY[ko] MMM D[a] LT"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var nf={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},of={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};var pf=ge.defineLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},meridiemParse:/  |  /,isPM:function(a){return/  /.test(a)},meridiem:function(a,b,c){if(a<12){return"  "}else{return"  "}},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(a){return a.replace(/[-]/g,function(a){return of[a]}).replace(//g,",")},postformat:function(a){return a.replace(/\d/g,function(a){return nf[a]}).replace(/,/g,"")},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:6,doy:12}});var qf="nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(" "),rf=["nolla","yhden","kahden","kolmen","neljn","viiden","kuuden",qf[7],qf[8],qf[9]];function sf(a,b,c,d){var e="";switch(c){case"s":return d?"muutaman sekunnin":"muutama sekunti";case"m":return d?"minuutin":"minuutti";case"mm":e=d?"minuutin":"minuuttia";break;case"h":return d?"tunnin":"tunti";case"hh":e=d?"tunnin":"tuntia";break;case"d":return d?"pivn":"piv";case"dd":e=d?"pivn":"piv";break;case"M":return d?"kuukauden":"kuukausi";case"MM":e=d?"kuukauden":"kuukautta";break;case"y":return d?"vuoden":"vuosi";case"yy":e=d?"vuoden":"vuotta";break}e=tf(a,d)+" "+e;return e}function tf(a,b){return a<10?b?rf[a]:qf[a]:a}var uf=ge.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",
LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] LT",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] LT",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] LT",llll:"ddd, Do MMM YYYY, [klo] LT"},calendar:{sameDay:"[tnn] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pst",past:"%s sitten",s:sf,m:sf,mm:sf,h:sf,hh:sf,d:sf,dd:sf,M:sf,MM:sf,y:sf,yy:sf},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var vf=ge.defineLocale("fo",{months:"januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mn_ts_mik_hs_fr_ley".split("_"),weekdaysMin:"su_m_t_mi_h_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D. MMMM, YYYY LT"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gjr kl.] LT",lastWeek:"[sstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sani",s:"f sekund",m:"ein minutt",mm:"%d minuttir",h:"ein tmi",hh:"%d tmar",d:"ein dagur",dd:"%d dagar",M:"ein mnai",MM:"%d mnair",y:"eitt r",yy:"%d r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var wf=ge.defineLocale("fr-ca",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|)/,ordinal:function(a){return a+(a===1?"er":"")}});var xf=ge.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|)/,ordinal:function(a){return a+(a===1?"er":"")},week:{dow:1,doy:4}});var yf="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),zf="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");var Af=ge.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(a,b){if(/-MMM-/.test(b)){return zf[a.month()]}else{return yf[a.month()]}},weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[frne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",m:"ien mint",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(a){return a+(a===1||a===8||a>=20?"ste":"de")},week:{dow:1,doy:4}});var Bf=ge.defineLocale("gl",{months:"Xaneiro_Febreiro_Marzo_Abril_Maio_Xuo_Xullo_Agosto_Setembro_Outubro_Novembro_Decembro".split("_"),monthsShort:"Xan._Feb._Mar._Abr._Mai._Xu._Xul._Ago._Set._Out._Nov._Dec.".split("_"),weekdays:"Domingo_Luns_Martes_Mrcores_Xoves_Venres_Sbado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mr._Xov._Ven._Sb.".split("_"),weekdaysMin:"Do_Lu_Ma_M_Xo_Ve_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:function(){return"[hoxe "+(this.hours()!==1?"s":"")+"] LT"},nextDay:function(){return"[ma "+(this.hours()!==1?"s":"")+"] LT"},nextWeek:function(){return"dddd ["+(this.hours()!==1?"s":"a")+"] LT"},lastDay:function(){return"[onte "+(this.hours()!==1?"":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(this.hours()!==1?"s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(a){if(a==="uns segundos"){return"nuns segundos"}return"en "+a},past:"hai %s",s:"uns segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:7}});var Cf=ge.defineLocale("he",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY LT",LLLL:"dddd, D []MMMM YYYY LT",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY LT",llll:"ddd, D MMM YYYY LT"},calendar:{sameDay:"[ ]LT",nextDay:"[ ]LT",nextWeek:"dddd [] LT",lastDay:"[ ]LT",lastWeek:"[] dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:function(a){if(a===2){return""}return a+" "},d:"",dd:function(a){if(a===2){return""}return a+" "},M:"",MM:function(a){if(a===2){return""}return a+" "},y:"",yy:function(a){if(a===2){return""}else if(a%10===0&&a!==10){return a+" "}return a+" "}}});var Df={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},Ef={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};var Ff=ge.defineLocale("hi",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(a){return a.replace(/[]/g,function(a){return Ef[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return Df[a]})},meridiemParse:/|||/,meridiemHour:function(a,b){if(a===12){a=0}if(b===""){return a<4?a:a+12}else if(b===""){return a}else if(b===""){return a>=10?a:a+12}else if(b===""){return a+12}},meridiem:function(a,b,c){if(a<4){return""}else if(a<10){return""}else if(a<17){return""}else if(a<20){return""}else{return""}},week:{dow:0,doy:6}});function Gf(a,b,c){var d=a+" ";switch(c){case"m":return b?"jedna minuta":"jedne minute";case"mm":if(a===1){d+="minuta"}else if(a===2||a===3||a===4){d+="minute"}else{d+="minuta"}return d;case"h":return b?"jedan sat":"jednog sata";case"hh":if(a===1){d+="sat"}else if(a===2||a===3||a===4){d+="sata"}else{d+="sati"}return d;case"dd":if(a===1){d+="dan"}else{d+="dana"}return d;case"MM":if(a===1){d+="mjesec"}else if(a===2||a===3||a===4){d+="mjeseca"}else{d+="mjeseci"}return d;case"yy":if(a===1){d+="godina"}else if(a===2||a===3||a===4){d+="godine"}else{d+="godina"}return d}}var Hf=ge.defineLocale("hr",{months:"sjeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_"),monthsShort:"sje._vel._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:Gf,mm:Gf,h:Gf,hh:Gf,d:"dan",dd:Gf,M:"mjesec",MM:Gf,y:"godinu",yy:Gf},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var If="vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" ");function Jf(a,b,c,d){var e=a,f;switch(c){case"s":return d||b?"nhny msodperc":"nhny msodperce";case"m":return"egy"+(d||b?" perc":" perce");case"mm":return e+(d||b?" perc":" perce");case"h":return"egy"+(d||b?" ra":" rja");case"hh":return e+(d||b?" ra":" rja");case"d":return"egy"+(d||b?" nap":" napja");case"dd":return e+(d||b?" nap":" napja");case"M":return"egy"+(d||b?" hnap":" hnapja");case"MM":return e+(d||b?" hnap":" hnapja");case"y":return"egy"+(d||b?" v":" ve");case"yy":return e+(d||b?" v":" ve")}return""}function Kf(a){return(a?"":"[mlt] ")+"["+If[this.day()]+"] LT[-kor]"}var Lf=ge.defineLocale("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan_feb_mrc_pr_mj_jn_jl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D., LT",LLLL:"YYYY. MMMM D., dddd LT"},meridiemParse:/de|du/i,isPM:function(a){return a.charAt(1).toLowerCase()==="u"},meridiem:function(a,b,c){if(a<12){return c===true?"de":"DE"}else{return c===true?"du":"DU"}},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return Kf.call(this,true)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return Kf.call(this,false)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:Jf,m:Jf,mm:Jf,h:Jf,hh:Jf,d:Jf,dd:Jf,M:Jf,MM:Jf,y:Jf,yy:Jf},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});function Mf(a,b){var c={nominative:"___________".split("_"),accusative:"___________".split("_")},d=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(b)?"accusative":"nominative";return c[d][a.month()]}function Nf(a,b){var c="___________".split("_");return c[a.month()]}function Of(a,b){var c="______".split("_");return c[a.day()]}var Pf=ge.defineLocale("hy-am",{months:Mf,monthsShort:Nf,weekdays:Of,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., LT",LLLL:"dddd, D MMMM YYYY ., LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",lastDay:"[] LT",nextWeek:function(){return"dddd [ ] LT"},lastWeek:function(){return"[] dddd [ ] LT"},sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},meridiemParse:/|||/,isPM:function(a){return/^(|)$/.test(a)},meridiem:function(a){if(a<4){return""}else if(a<12){return""}else if(a<17){return""}else{return""}},ordinalParse:/\d{1,2}|\d{1,2}-(|)/,ordinal:function(a,b){switch(b){case"DDD":case"w":case"W":case"DDDo":if(a===1){return a+"-"}return a+"-";default:return a}},week:{dow:1,doy:7}});var Qf=ge.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"LT.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] LT",LLLL:"dddd, D MMMM YYYY [pukul] LT"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(a,b){if(a===12){a=0}if(b==="pagi"){return a}else if(b==="siang"){return a>=11?a:a+12}else if(b==="sore"||b==="malam"){return a+12}},meridiem:function(a,b,c){if(a<11){return"pagi"}else if(a<15){return"siang"}else if(a<19){return"sore"}else{return"malam"}},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}});function Rf(a){if(a%100===11){return true}else if(a%10===1){return false}return true}function Sf(a,b,c,d){var e=a+" ";switch(c){case"s":return b||d?"nokkrar sekndur":"nokkrum sekndum";case"m":return b?"mnta":"mntu";case"mm":if(Rf(a)){return e+(b||d?"mntur":"mntum")}else if(b){return e+"mnta"}return e+"mntu";case"hh":if(Rf(a)){return e+(b||d?"klukkustundir":"klukkustundum")}return e+"klukkustund";case"d":if(b){return"dagur"}return d?"dag":"degi";case"dd":if(Rf(a)){if(b){return e+"dagar"}return e+(d?"daga":"dgum")}else if(b){return e+"dagur"}return e+(d?"dag":"degi");case"M":if(b){return"mnuur"}return d?"mnu":"mnui";case"MM":if(Rf(a)){if(b){return e+"mnuir"}return e+(d?"mnui":"mnuum")}else if(b){return e+"mnuur"}return e+(d?"mnu":"mnui");case"y":return b||d?"r":"ri";case"yy":if(Rf(a)){return e+(b||d?"r":"rum")}return e+(b||d?"r":"ri")}}var Tf=ge.defineLocale("is",{months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] LT",LLLL:"dddd, D. MMMM YYYY [kl.] LT"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gr kl.] LT",lastWeek:"[sasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:Sf,m:Sf,mm:Sf,h:"klukkustund",hh:Sf,d:Sf,dd:Sf,M:Sf,MM:Sf,y:Sf,yy:Sf},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var Uf=ge.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"Domenica_Luned_Marted_Mercoled_Gioved_Venerd_Sabato".split("_"),weekdaysShort:"Dom_Lun_Mar_Mer_Gio_Ven_Sab".split("_"),weekdaysMin:"D_L_Ma_Me_G_V_S".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(a){return(/^[0-9].+$/.test(a)?"tra":"in")+" "+a},past:"%s fa",s:"alcuni secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});var Vf=ge.defineLocale("ja",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"Ahm",LTS:"LTs",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDLT",LLLL:"YYYYMDLT dddd"},meridiemParse:/|/i,isPM:function(a){return a===""},meridiem:function(a,b,c){if(a<12){return""}else{return""}},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}});function Wf(a,b){var c={nominative:"___________".split("_"),accusative:"___________".split("_")},d=/D[oD] *MMMM?/.test(b)?"accusative":"nominative";return c[d][a.month()]}function Xf(a,b){var c={nominative:"______".split("_"),accusative:"______".split("_")},d=/(|)/.test(b)?"accusative":"nominative";return c[d][a.day()]}var Yf=ge.defineLocale("ka",{months:Wf,monthsShort:"___________".split("_"),weekdays:Xf,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[] LT[-]",nextDay:"[] LT[-]",lastDay:"[] LT[-]",nextWeek:"[] dddd LT[-]",lastWeek:"[] dddd LT-",sameElse:"L"},relativeTime:{future:function(a){return/(|||)/.test(a)?a.replace(/$/,""):a+""},past:function(a){if(/(||||)/.test(a)){return a.replace(/(|)$/," ")}if(//.test(a)){return a.replace(/$/," ")}},s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},ordinalParse:/0|1-|-\d{1,2}|\d{1,2}-/,ordinal:function(a){if(a===0){return a}if(a===1){return a+"-"}if(a<20||a<=100&&a%20===0||a%100===0){return"-"+a}return a+"-"},week:{dow:1,doy:7}});var Zf=ge.defineLocale("km",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}});var $f=ge.defineLocale("ko",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h m",LTS:"A h m s",L:"YYYY.MM.DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D LT",LLLL:"YYYY MMMM D dddd LT"},calendar:{sameDay:" LT",nextDay:" LT",nextWeek:"dddd LT",lastDay:" LT",lastWeek:" dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",ss:"%d",m:"",mm:"%d",h:"",hh:"%d",d:"",dd:"%d",M:"",MM:"%d",y:"",yy:"%d"},ordinalParse:/\d{1,2}/,ordinal:"%d",meridiemParse:/|/,isPM:function(a){return a===""},meridiem:function(a,b,c){return a<12?"":""}});function _f(a,b,c,d){var e={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return b?e[c][0]:e[c][1]}function ag(a){var b=a.substr(0,a.indexOf(" "));if(cg(b)){return"a "+a}return"an "+a}function bg(a){var b=a.substr(0,a.indexOf(" "));if(cg(b)){return"viru "+a}return"virun "+a}function cg(a){a=parseInt(a,10);if(isNaN(a)){return false}if(a<0){return true}else if(a<10){if(4<=a&&a<=7){return true}return false}else if(a<100){var b=a%10,c=a/10;if(b===0){return cg(c)}return cg(b)}else if(a<1e4){while(a>=10){a=a/10}return cg(a)}else{a=a/1e3;return cg(a)}}var dg=ge.defineLocale("lb",{months:"Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M._D._M._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M_D_M_Do_Fr_Sa".split("_"),longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:ag,past:bg,s:"e puer Sekonnen",m:_f,mm:"%d Minutten",h:_f,hh:"%d Stonnen",d:_f,dd:"%d Deeg",M:_f,MM:"%d Mint",y:_f,yy:"%d Joer"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var eg={m:"minut_minuts_minut",mm:"minuts_minui_minutes",h:"valanda_valandos_valand",hh:"valandos_valand_valandas",d:"diena_dienos_dien",dd:"dienos_dien_dienas",M:"mnuo_mnesio_mnes",MM:"mnesiai_mnesi_mnesius",y:"metai_met_metus",yy:"metai_met_metus"},fg="sekmadienis_pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis".split("_");function gg(a,b,c,d){if(b){return"kelios sekunds"}else{return d?"keli sekundi":"kelias sekundes"}}function hg(a,b,c,d){return b?jg(c)[0]:d?jg(c)[1]:jg(c)[2]}function ig(a){return a%10===0||a>10&&a<20}function jg(a){return eg[a].split("_")}function kg(a,b,c,d){var e=a+" ";if(a===1){return e+hg(a,b,c[0],d)}else if(b){return e+(ig(a)?jg(c)[1]:jg(c)[0])}else{if(d){return e+jg(c)[1]}else{return e+(ig(a)?jg(c)[1]:jg(c)[2])}}}function lg(a,b){var c=b.indexOf("dddd HH:mm")===-1,d=fg[a.day()];return c?d:d.substring(0,d.length-2)+""}var mg=ge.defineLocale("lt",{months:"sausio_vasario_kovo_balandio_gegus_birelio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio".split("_"),monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:lg,weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_e".split("_"),weekdaysMin:"S_P_A_T_K_Pn_".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], LT [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, LT [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], LT [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, LT [val.]"},calendar:{sameDay:"[iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Prajus] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie %s",s:gg,m:hg,mm:kg,h:hg,hh:kg,d:hg,dd:kg,M:hg,MM:kg,y:hg,yy:kg},ordinalParse:/\d{1,2}-oji/,ordinal:function(a){return a+"-oji"},week:{dow:1,doy:4}});var ng={mm:"minti_mintes_minte_mintes",hh:"stundu_stundas_stunda_stundas",dd:"dienu_dienas_diena_dienas",MM:"mnesi_mneus_mnesis_mnei",yy:"gadu_gadus_gads_gadi"};function og(a,b,c){var d=a.split("_");if(c){return b%10===1&&b!==11?d[2]:d[3]}else{return b%10===1&&b!==11?d[0]:d[1]}}function pg(a,b,c){return a+" "+og(ng[c],a,b)}var qg=ge.defineLocale("lv",{months:"janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split("_"),weekdays:"svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, LT",LLLL:"YYYY. [gada] D. MMMM, dddd, LT"},calendar:{sameDay:"[odien pulksten] LT",nextDay:"[Rt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagju] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"%s vlk",past:"%s agrk",s:"daas sekundes",m:"minti",mm:pg,h:"stundu",hh:pg,d:"dienu",dd:pg,M:"mnesi",MM:pg,y:"gadu",yy:pg},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var rg=ge.defineLocale("mk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"e_o_____a".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:case 5:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},ordinalParse:/\d{1,2}-(|||||)/,ordinal:function(a){var b=a%10,c=a%100;if(a===0){return a+"-"}else if(c===0){return a+"-"}else if(c>10&&c<20){return a+"-"}else if(b===1){return a+"-"}else if(b===2){return a+"-"}else if(b===7||b===8){return a+"-"}else{return a+"-"}},week:{dow:1,doy:7}});var sg=ge.defineLocale("ml",{months:"___________".split("_"),monthsShort:"._._._.___._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm -",LTS:"A h:mm:ss -",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|| ||/i,isPM:function(a){return/^( ||)$/.test(a)},meridiem:function(a,b,c){if(a<4){return""}else if(a<12){return""}else if(a<17){return" "}else if(a<20){return""}else{return""}}});var tg={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},ug={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};var vg=ge.defineLocale("mr",{months:"___________".split("_"),monthsShort:"._._._._._._._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(a){return a.replace(/[]/g,function(a){return ug[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return tg[a]})},meridiemParse:/|||/,meridiemHour:function(a,b){if(a===12){a=0}if(b===""){return a<4?a:a+12}else if(b===""){return a}else if(b===""){return a>=10?a:a+12}else if(b===""){return a+12}},meridiem:function(a,b,c){if(a<4){return""}else if(a<10){return""}else if(a<17){return""}else if(a<20){return""}else{return""}},week:{dow:0,doy:6}});var wg=ge.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"LT.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] LT",LLLL:"dddd, D MMMM YYYY [pukul] LT"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(a,b){if(a===12){a=0}if(b==="pagi"){return a}else if(b==="tengahari"){return a>=11?a:a+12}else if(b==="petang"||b==="malam"){return a+12}},meridiem:function(a,b,c){if(a<11){return"pagi"}else if(a<15){return"tengahari"}else if(a<19){return"petang"}else{return"malam"}},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",
y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}});var xg={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},yg={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};var zg=ge.defineLocale("my",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[.] LT []",nextDay:"[] LT []",nextWeek:"dddd LT []",lastDay:"[.] LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:" %s ",past:" %s ",s:".",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(a){return a.replace(/[]/g,function(a){return yg[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return xg[a]})},week:{dow:1,doy:4}});var Ag=ge.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tirs_ons_tors_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"H.mm",LTS:"LT.ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] LT",LLLL:"dddd D. MMMM YYYY [kl.] LT"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en mned",MM:"%d mneder",y:"ett r",yy:"%d r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var Bg={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},Cg={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};var Dg=ge.defineLocale("ne",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"._.__._._._.".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},preparse:function(a){return a.replace(/[]/g,function(a){return Cg[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return Bg[a]})},meridiemParse:/|||||/,meridiemHour:function(a,b){if(a===12){a=0}if(b===""){return a<3?a:a+12}else if(b===""){return a}else if(b===""){return a>=10?a:a+12}else if(b===""||b===""){return a+12}},meridiem:function(a,b,c){if(a<3){return""}else if(a<10){return""}else if(a<15){return""}else if(a<18){return""}else if(a<20){return""}else{return""}},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}});var Eg="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),Fg="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_");var Gg=ge.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(a,b){if(/-MMM-/.test(b)){return Fg[a.month()]}else{return Eg[a.month()]}},weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(a){return a+(a===1||a===8||a>=20?"ste":"de")},week:{dow:1,doy:4}});var Hg=ge.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mn_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_m_ty_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gr klokka] LT",lastWeek:"[Fregande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s sidan",s:"nokre sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein mnad",MM:"%d mnader",y:"eit r",yy:"%d r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var Ig="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),Jg="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_");function Kg(a){return a%10<5&&a%10>1&&~~(a/10)%10!==1}function Lg(a,b,c){var d=a+" ";switch(c){case"m":return b?"minuta":"minut";case"mm":return d+(Kg(a)?"minuty":"minut");case"h":return b?"godzina":"godzin";case"hh":return d+(Kg(a)?"godziny":"godzin");case"MM":return d+(Kg(a)?"miesice":"miesicy");case"yy":return d+(Kg(a)?"lata":"lat")}}var Mg=ge.defineLocale("pl",{months:function(a,b){if(/D MMMM/.test(b)){return Jg[a.month()]}else{return Ig[a.month()]}},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"nie_pon_wt_r_czw_pt_sb".split("_"),weekdaysMin:"N_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:"[W] dddd [o] LT",lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:Lg,mm:Lg,h:Lg,hh:Lg,d:"1 dzie",dd:"%d dni",M:"miesic",MM:Lg,y:"rok",yy:Lg},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var Ng=ge.defineLocale("pt-br",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_tera-feira_quarta-feira_quinta-feira_sexta-feira_sbado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sb".split("_"),weekdaysMin:"dom_2_3_4_5_6_sb".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] LT",LLLL:"dddd, D [de] MMMM [de] YYYY [s] LT"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return this.day()===0||this.day()===6?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrs",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}/,ordinal:"%d"});var Og=ge.defineLocale("pt",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_tera-feira_quarta-feira_quinta-feira_sexta-feira_sbado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sb".split("_"),weekdaysMin:"dom_2_3_4_5_6_sb".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return this.day()===0||this.day()===6?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});function Pg(a,b,c){var d={mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"},e=" ";if(a%100>=20||a>=100&&a%100===0){e=" de "}return a+e+d[c]}var Qg=ge.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),weekdays:"duminic_luni_mari_miercuri_joi_vineri_smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm",s:"cteva secunde",m:"un minut",mm:Pg,h:"o or",hh:Pg,d:"o zi",dd:Pg,M:"o lun",MM:Pg,y:"un an",yy:Pg},week:{dow:1,doy:7}});function Rg(a,b){var c=a.split("_");return b%10===1&&b%100!==11?c[0]:b%10>=2&&b%10<=4&&(b%100<10||b%100>=20)?c[1]:c[2]}function Sg(a,b,c){var d={mm:b?"__":"__",hh:"__",dd:"__",MM:"__",yy:"__"};if(c==="m"){return b?"":""}else{return a+" "+Rg(d[c],+a)}}function Tg(a,b){var c={nominative:"___________".split("_"),accusative:"___________".split("_")},d=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(b)?"accusative":"nominative";return c[d][a.month()]}function Ug(a,b){var c={nominative:"___________".split("_"),accusative:"___________".split("_")},d=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(b)?"accusative":"nominative";return c[d][a.month()]}function Vg(a,b){var c={nominative:"______".split("_"),accusative:"______".split("_")},d=/\[ ?[] ?(?:||)? ?\] ?dddd/.test(b)?"accusative":"nominative";return c[d][a.day()]}var Wg=ge.defineLocale("ru",{months:Tg,monthsShort:Ug,weekdays:Vg,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:[/^/i,/^/i,/^/i,/^/i,/^[|]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., LT",LLLL:"dddd, D MMMM YYYY ., LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return this.day()===2?"[] dddd [] LT":"[] dddd [] LT"},lastWeek:function(a){if(a.week()!==this.week()){switch(this.day()){case 0:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT";case 3:case 5:case 6:return"[ ] dddd [] LT"}}else{if(this.day()===2){return"[] dddd [] LT"}else{return"[] dddd [] LT"}}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:Sg,mm:Sg,h:"",hh:Sg,d:"",dd:Sg,M:"",MM:Sg,y:"",yy:Sg},meridiemParse:/|||/i,isPM:function(a){return/^(|)$/.test(a)},meridiem:function(a,b,c){if(a<4){return""}else if(a<12){return""}else if(a<17){return""}else{return""}},ordinalParse:/\d{1,2}-(||)/,ordinal:function(a,b){switch(b){case"M":case"d":case"DDD":return a+"-";case"D":return a+"-";case"w":case"W":return a+"-";default:return a}},week:{dow:1,doy:7}});var Xg="janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_"),Yg="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_");function Zg(a){return a>1&&a<5}function $g(a,b,c,d){var e=a+" ";switch(c){case"s":return b||d?"pr seknd":"pr sekundami";case"m":return b?"minta":d?"mintu":"mintou";case"mm":if(b||d){return e+(Zg(a)?"minty":"mint")}else{return e+"mintami"}break;case"h":return b?"hodina":d?"hodinu":"hodinou";case"hh":if(b||d){return e+(Zg(a)?"hodiny":"hodn")}else{return e+"hodinami"}break;case"d":return b||d?"de":"dom";case"dd":if(b||d){return e+(Zg(a)?"dni":"dn")}else{return e+"dami"}break;case"M":return b||d?"mesiac":"mesiacom";case"MM":if(b||d){return e+(Zg(a)?"mesiace":"mesiacov")}else{return e+"mesiacmi"}break;case"y":return b||d?"rok":"rokom";case"yy":if(b||d){return e+(Zg(a)?"roky":"rokov")}else{return e+"rokmi"}break}}var _g=ge.defineLocale("sk",{months:Xg,monthsShort:Yg,monthsParse:function(a,b){var c,d=[];for(c=0;c<12;c++){d[c]=new RegExp("^"+a[c]+"$|^"+b[c]+"$","i")}return d}(Xg,Yg),weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd D. MMMM YYYY LT"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul nedeu o] LT";case 1:case 2:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 4:case 5:return"[minul] dddd [o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:$g,m:$g,mm:$g,h:$g,hh:$g,d:$g,dd:$g,M:$g,MM:$g,y:$g,yy:$g},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});function ah(a,b,c){var d=a+" ";switch(c){case"m":return b?"ena minuta":"eno minuto";case"mm":if(a===1){d+="minuta"}else if(a===2){d+="minuti"}else if(a===3||a===4){d+="minute"}else{d+="minut"}return d;case"h":return b?"ena ura":"eno uro";case"hh":if(a===1){d+="ura"}else if(a===2){d+="uri"}else if(a===3||a===4){d+="ure"}else{d+="ur"}return d;case"dd":if(a===1){d+="dan"}else{d+="dni"}return d;case"MM":if(a===1){d+="mesec"}else if(a===2){d+="meseca"}else if(a===3||a===4){d+="mesece"}else{d+="mesecev"}return d;case"yy":if(a===1){d+="leto"}else if(a===2){d+="leti"}else if(a===3||a===4){d+="leta"}else{d+="let"}return d}}var bh=ge.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[prejnja] dddd [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"%s nazaj",s:"nekaj sekund",m:ah,mm:ah,h:ah,hh:ah,d:"en dan",dd:ah,M:"en mesec",MM:ah,y:"eno leto",yy:ah},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var ch=ge.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split("_"),weekdays:"E Diel_E Hn_E Mart_E Mrkur_E Enjte_E Premte_E Shtun".split("_"),weekdaysShort:"Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M_E_P_Sh".split("_"),meridiemParse:/PD|MD/,isPM:function(a){return a.charAt(0)==="M"},meridiem:function(a,b,c){return a<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Sot n] LT",nextDay:"[Nesr n] LT",nextWeek:"dddd [n] LT",lastDay:"[Dje n] LT",lastWeek:"dddd [e kaluar n] LT",sameElse:"L"},relativeTime:{future:"n %s",past:"%s m par",s:"disa sekonda",m:"nj minut",mm:"%d minuta",h:"nj or",hh:"%d or",d:"nj dit",dd:"%d dit",M:"nj muaj",MM:"%d muaj",y:"nj vit",yy:"%d vite"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var dh={words:{m:[" "," "],mm:["","",""],h:[" "," "],hh:["","",""],dd:["","",""],MM:["","",""],yy:["","",""]},correctGrammaticalCase:function(a,b){return a===1?b[0]:a>=2&&a<=4?b[1]:b[2]},translate:function(a,b,c){var d=dh.words[c];if(c.length===1){return b?d[0]:d[1]}else{return a+" "+dh.correctGrammaticalCase(a,d)}}};var eh=ge.defineLocale("sr-cyrl",{months:["","","","","","","","","","","",""],monthsShort:[".",".",".",".","","","",".",".",".",".","."],weekdays:["","","","","","",""],weekdaysShort:[".",".",".",".",".",".","."],weekdaysMin:["","","","","","",""],longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:function(){switch(this.day()){case 0:return"[] [] [] LT";case 3:return"[] [] [] LT";case 6:return"[] [] [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},lastDay:"[ ] LT",lastWeek:function(){var a=["[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT"];return a[this.day()]},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:dh.translate,mm:dh.translate,h:dh.translate,hh:dh.translate,d:"",dd:dh.translate,M:"",MM:dh.translate,y:"",yy:dh.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var fh={words:{m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(a,b){return a===1?b[0]:a>=2&&a<=4?b[1]:b[2]},translate:function(a,b,c){var d=fh.words[c];if(c.length===1){return b?d[0]:d[1]}else{return a+" "+fh.correctGrammaticalCase(a,d)}}};var gh=ge.defineLocale("sr",{months:["januar","februar","mart","april","maj","jun","jul","avgust","septembar","oktobar","novembar","decembar"],monthsShort:["jan.","feb.","mar.","apr.","maj","jun","jul","avg.","sep.","okt.","nov.","dec."],weekdays:["nedelja","ponedeljak","utorak","sreda","etvrtak","petak","subota"],weekdaysShort:["ned.","pon.","uto.","sre.","et.","pet.","sub."],weekdaysMin:["ne","po","ut","sr","e","pe","su"],longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){var a=["[prole] [nedelje] [u] LT","[prolog] [ponedeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"];return a[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",m:fh.translate,mm:fh.translate,h:fh.translate,hh:fh.translate,d:"dan",dd:fh.translate,M:"mesec",MM:fh.translate,y:"godinu",yy:fh.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var hh=ge.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"dddd LT",lastWeek:"[Frra] dddd[en] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},ordinalParse:/\d{1,2}(e|a)/,ordinal:function(a){var b=a%10,c=~~(a%100/10)===1?"e":b===1?"a":b===2?"a":b===3?"e":"e";return a+c},week:{dow:1,doy:4}});var ih=ge.defineLocale("ta",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[ ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:" ",mm:"%d ",h:"  ",hh:"%d  ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},ordinalParse:/\d{1,2}/,ordinal:function(a){return a+""},meridiemParse:/|||||/,meridiem:function(a,b,c){if(a<2){return" "}else if(a<6){return" "}else if(a<10){return" "}else if(a<14){return" "}else if(a<18){return" "}else if(a<22){return" "}else{return" "}},meridiemHour:function(a,b){if(a===12){a=0}if(b===""){return a<2?a:a+12}else if(b===""||b===""){return a}else if(b===""){return a>=10?a:a+12}else{return a+12}},week:{dow:0,doy:6}});var jh=ge.defineLocale("th",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),longDateFormat:{LT:"H  m ",LTS:"LT s ",L:"YYYY/MM/DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  LT",LLLL:"dddd D MMMM YYYY  LT"},meridiemParse:/|/,isPM:function(a){return a===""},meridiem:function(a,b,c){if(a<12){return""}else{return""}},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd[ ] LT",lastDay:"[ ] LT",lastWeek:"[]dddd[ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}});var kh=ge.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM DD, YYYY LT"},calendar:{sameDay:"[Ngayon sa] LT",nextDay:"[Bukas sa] LT",nextWeek:"dddd [sa] LT",lastDay:"[Kahapon sa] LT",lastWeek:"dddd [huling linggo] LT",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},ordinalParse:/\d{1,2}/,ordinal:function(a){return a},week:{dow:1,doy:4}});var lh={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"};var mh=ge.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[haftaya] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen hafta] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinalParse:/\d{1,2}'(inci|nci|nc|nc|uncu|nc)/,ordinal:function(a){if(a===0){return a+"'nc"}var b=a%10,c=a%100-b,d=a>=100?100:null;return a+(lh[b]||lh[c]||lh[d])},week:{dow:1,doy:7}});var nh=ge.defineLocale("tzm-latn",{months:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",m:"minu",mm:"%d minu",h:"saa",hh:"%d tassain",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}});var oh=ge.defineLocale("tzm",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:"   %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d o",M:"o",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}});function ph(a,b){var c=a.split("_");return b%10===1&&b%100!==11?c[0]:b%10>=2&&b%10<=4&&(b%100<10||b%100>=20)?c[1]:c[2]}function qh(a,b,c){var d={mm:"__",hh:"__",dd:"__",MM:"__",yy:"__"};if(c==="m"){return b?"":""}else if(c==="h"){return b?"":""}else{return a+" "+ph(d[c],+a)}}function rh(a,b){var c={nominative:"___________".split("_"),accusative:"___________".split("_")},d=/D[oD]? *MMMM?/.test(b)?"accusative":"nominative";return c[d][a.month()]}function sh(a,b){var c={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")},d=/(\[[]\]) ?dddd/.test(b)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(b)?"genitive":"nominative";return c[d][a.day()]}function th(a){return function(){return a+""+(this.hours()===11?"":"")+"] LT"}}var uh=ge.defineLocale("uk",{months:rh,monthsShort:"___________".split("_"),weekdays:sh,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., LT",LLLL:"dddd, D MMMM YYYY ., LT"},calendar:{sameDay:th("[ "),nextDay:th("[ "),lastDay:th("[ "),nextWeek:th("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return th("[] dddd [").call(this);case 1:case 2:case 4:return th("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:qh,mm:qh,h:"",hh:qh,d:"",dd:qh,M:"",MM:qh,y:"",yy:qh},meridiemParse:/|||/,isPM:function(a){return/^(|)$/.test(a)},meridiem:function(a,b,c){if(a<4){return""}else if(a<12){return""}else if(a<17){return""}else{return""}},ordinalParse:/\d{1,2}-(|)/,ordinal:function(a,b){switch(b){case"M":case"d":case"DDD":case"w":case"W":return a+"-";case"D":return a+"-";default:return a}},week:{dow:1,doy:7}});var vh=ge.defineLocale("uz",{months:"___________".split("_"),monthsShort:"___________".split("_"),
weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"D MMMM YYYY, dddd LT"},calendar:{sameDay:"[ ] LT []",nextDay:"[] LT []",nextWeek:"dddd [ ] LT []",lastDay:"[ ] LT []",lastWeek:"[] dddd [ ] LT []",sameElse:"L"},relativeTime:{future:" %s ",past:"  %s ",s:"",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}});var wh=ge.defineLocale("vi",{months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY LT",LLLL:"dddd, D MMMM [nm] YYYY LT",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY LT",llll:"ddd, D MMM YYYY LT"},calendar:{sameDay:"[Hm nay lc] LT",nextDay:"[Ngy mai lc] LT",nextWeek:"dddd [tun ti lc] LT",lastDay:"[Hm qua lc] LT",lastWeek:"dddd [tun ri lc] LT",sameElse:"L"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"},ordinalParse:/\d{1,2}/,ordinal:function(a){return a},week:{dow:1,doy:4}});var xh=ge.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"Ahmm",LTS:"Ahms",L:"YYYY-MM-DD",LL:"YYYYMMMD",LLL:"YYYYMMMDLT",LLLL:"YYYYMMMDddddLT",l:"YYYY-MM-DD",ll:"YYYYMMMD",lll:"YYYYMMMDLT",llll:"YYYYMMMDddddLT"},meridiemParse:/|||||/,meridiemHour:function(a,b){if(a===12){a=0}if(b===""||b===""||b===""){return a}else if(b===""||b===""){return a+12}else{return a>=11?a:a+12}},meridiem:function(a,b,c){var d=a*100+b;if(d<600){return""}else if(d<900){return""}else if(d<1130){return""}else if(d<1230){return""}else if(d<1800){return""}else{return""}},calendar:{sameDay:function(){return this.minutes()===0?"[]Ah[]":"[]LT"},nextDay:function(){return this.minutes()===0?"[]Ah[]":"[]LT"},lastDay:function(){return this.minutes()===0?"[]Ah[]":"[]LT"},nextWeek:function(){var a,b;a=ge().startOf("week");b=this.unix()-a.unix()>=7*24*3600?"[]":"[]";return this.minutes()===0?b+"dddAh":b+"dddAhmm"},lastWeek:function(){var a,b;a=ge().startOf("week");b=this.unix()<a.unix()?"[]":"[]";return this.minutes()===0?b+"dddAh":b+"dddAhmm"},sameElse:"LL"},ordinalParse:/\d{1,2}(||)/,ordinal:function(a,b){switch(b){case"d":case"D":case"DDD":return a+"";case"M":return a+"";case"w":case"W":return a+"";default:return a}},relativeTime:{future:"%s",past:"%s",s:"",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"},week:{dow:1,doy:4}});var yh=ge.defineLocale("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"Ahmm",LTS:"Ahms",L:"YYYYMMMD",LL:"YYYYMMMD",LLL:"YYYYMMMDLT",LLLL:"YYYYMMMDddddLT",l:"YYYYMMMD",ll:"YYYYMMMD",lll:"YYYYMMMDLT",llll:"YYYYMMMDddddLT"},meridiemParse:/||||/,meridiemHour:function(a,b){if(a===12){a=0}if(b===""||b===""){return a}else if(b===""){return a>=11?a:a+12}else if(b===""||b===""){return a+12}},meridiem:function(a,b,c){var d=a*100+b;if(d<900){return""}else if(d<1130){return""}else if(d<1230){return""}else if(d<1800){return""}else{return""}},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},ordinalParse:/\d{1,2}(||)/,ordinal:function(a,b){switch(b){case"d":case"D":case"DDD":return a+"";case"M":return a+"";case"w":case"W":return a+"";default:return a}},relativeTime:{future:"%s",past:"%s",s:"",m:"",mm:"%d",h:"",hh:"%d",d:"",dd:"%d",M:"",MM:"%d",y:"",yy:"%d"}});var zh=ge;return zh});(function(a,b){"use strict";var c;if(typeof exports==="object"){try{c=require("moment")}catch(d){}module.exports=b(c)}else if(typeof define==="function"&&define.amd){define("pikaday",["require","moment"],function(a){c=a("moment");return b(c)})}else{a.Pikaday=b(a.moment)}})(this,function(a){"use strict";var b=typeof a==="function",c=!!window.addEventListener,d=window.document,e=window.setTimeout,f=function(a,b,d,e){if(c){a.addEventListener(b,d,!!e)}else{a.attachEvent("on"+b,d)}},g=function(a,b,d,e){if(c){a.removeEventListener(b,d,!!e)}else{a.detachEvent("on"+b,d)}},h=function(a,b,c){var e;if(d.createEvent){e=d.createEvent("HTMLEvents");e.initEvent(b,true,false);e=t(e,c);a.dispatchEvent(e)}else if(d.createEventObject){e=d.createEventObject();e=t(e,c);a.fireEvent("on"+b,e)}},i=function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")},j=function(a,b){return(" "+a.className+" ").indexOf(" "+b+" ")!==-1},k=function(a,b){if(!j(a,b)){a.className=a.className===""?b:a.className+" "+b}},l=function(a,b){a.className=i((" "+a.className+" ").replace(" "+b+" "," "))},m=function(a){return/Array/.test(Object.prototype.toString.call(a))},n=function(a){return/Date/.test(Object.prototype.toString.call(a))&&!isNaN(a.getTime())},o=function(a){var b=a.getDay();return b===0||b===6},p=function(a){return a%4===0&&a%100!==0||a%400===0},q=function(a,b){return[31,p(a)?29:28,31,30,31,30,31,31,30,31,30,31][b]},r=function(a){if(n(a))a.setHours(0,0,0,0)},s=function(a,b){return a.getTime()===b.getTime()},t=function(a,b,c){var d,e;for(d in b){e=a[d]!==undefined;if(e&&typeof b[d]==="object"&&b[d]!==null&&b[d].nodeName===undefined){if(n(b[d])){if(c){a[d]=new Date(b[d].getTime())}}else if(m(b[d])){if(c){a[d]=b[d].slice(0)}}else{a[d]=t({},b[d],c)}}else if(c||!e){a[d]=b[d]}}return a},u=function(a){if(a.month<0){a.year-=Math.ceil(Math.abs(a.month)/12);a.month+=12}if(a.month>11){a.year+=Math.floor(Math.abs(a.month)/12);a.month-=12}return a},v={field:null,bound:undefined,position:"bottom left",reposition:true,format:"YYYY-MM-DD",defaultDate:null,setDefaultDate:false,firstDay:0,minDate:null,maxDate:null,yearRange:10,showWeekNumber:false,minYear:0,maxYear:9999,minMonth:undefined,maxMonth:undefined,isRTL:false,yearSuffix:"",showMonthAfterYear:false,numberOfMonths:1,mainCalendar:"left",container:undefined,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,onSelect:null,onOpen:null,onClose:null,onDraw:null},w=function(a,b,c){b+=a.firstDay;while(b>=7){b-=7}return c?a.i18n.weekdaysShort[b]:a.i18n.weekdays[b]},x=function(a,b,c,d,e,f,g){if(g){return'<td class="is-empty"></td>'}var h=[];if(f){h.push("is-disabled")}if(e){h.push("is-today")}if(d){h.push("is-selected")}return'<td data-day="'+a+'" class="'+h.join(" ")+'">'+'<button class="pika-button pika-day" type="button" '+'data-pika-year="'+c+'" data-pika-month="'+b+'" data-pika-day="'+a+'">'+a+"</button>"+"</td>"},y=function(a,b,c){var d=new Date(c,0,1),e=Math.ceil(((new Date(c,b,a)-d)/864e5+d.getDay()+1)/7);return'<td class="pika-week">'+e+"</td>"},z=function(a,b){return"<tr>"+(b?a.reverse():a).join("")+"</tr>"},A=function(a){return"<tbody>"+a.join("")+"</tbody>"},B=function(a){var b,c=[];if(a.showWeekNumber){c.push("<th></th>")}for(b=0;b<7;b++){c.push('<th scope="col"><abbr title="'+w(a,b)+'">'+w(a,b,true)+"</abbr></th>")}return"<thead>"+(a.isRTL?c.reverse():c).join("")+"</thead>"},C=function(a,b,c,d,e){var f,g,h,i=a._o,j=c===i.minYear,k=c===i.maxYear,l='<div class="pika-title">',n,o,p=true,q=true;for(h=[],f=0;f<12;f++){h.push('<option value="'+(c===e?f-b:12+f-b)+'"'+(f===d?" selected":"")+(j&&f<i.minMonth||k&&f>i.maxMonth?"disabled":"")+">"+i.i18n.months[f]+"</option>")}n='<div class="pika-label">'+i.i18n.months[d]+'<select class="pika-select pika-select-month" tabindex="-1">'+h.join("")+"</select></div>";if(m(i.yearRange)){f=i.yearRange[0];g=i.yearRange[1]+1}else{f=c-i.yearRange;g=1+c+i.yearRange}for(h=[];f<g&&f<=i.maxYear;f++){if(f>=i.minYear){h.push('<option value="'+f+'"'+(f===c?" selected":"")+">"+f+"</option>")}}o='<div class="pika-label">'+c+i.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+h.join("")+"</select></div>";if(i.showMonthAfterYear){l+=o+n}else{l+=n+o}if(j&&(d===0||i.minMonth>=d)){p=false}if(k&&(d===11||i.maxMonth<=d)){q=false}if(b===0){l+='<button class="pika-prev'+(p?"":" is-disabled")+'" type="button">'+i.i18n.previousMonth+"</button>"}if(b===a._o.numberOfMonths-1){l+='<button class="pika-next'+(q?"":" is-disabled")+'" type="button">'+i.i18n.nextMonth+"</button>"}return l+="</div>"},D=function(a,b){return'<table cellpadding="0" cellspacing="0" class="pika-table">'+B(a)+A(b)+"</table>"},E=function(g){var h=this,i=h.config(g);h._onMouseDown=function(a){if(!h._v){return}a=a||window.event;var b=a.target||a.srcElement;if(!b){return}if(!j(b.parentNode,"is-disabled")){if(j(b,"pika-button")&&!j(b,"is-empty")){h.setDate(new Date(b.getAttribute("data-pika-year"),b.getAttribute("data-pika-month"),b.getAttribute("data-pika-day")));if(i.bound){e(function(){h.hide();if(i.field){i.field.blur()}},100)}return}else if(j(b,"pika-prev")){h.prevMonth()}else if(j(b,"pika-next")){h.nextMonth()}}if(!j(b,"pika-select")){if(a.preventDefault){a.preventDefault()}else{a.returnValue=false;return false}}else{h._c=true}};h._onChange=function(a){a=a||window.event;var b=a.target||a.srcElement;if(!b){return}if(j(b,"pika-select-month")){h.gotoMonth(b.value)}else if(j(b,"pika-select-year")){h.gotoYear(b.value)}};h._onInputChange=function(c){var d;if(c.firedBy===h){return}if(b){d=a(i.field.value,i.format);d=d&&d.isValid()?d.toDate():null}else{d=new Date(Date.parse(i.field.value))}if(n(d)){h.setDate(d)}if(!h._v){h.show()}};h._onInputFocus=function(){h.show()};h._onInputClick=function(){h.show()};h._onInputBlur=function(){var a=d.activeElement;do{if(j(a,"pika-single")){return}}while(a=a.parentNode);if(!h._c){h._b=e(function(){h.hide()},50)}h._c=false};h._onClick=function(a){a=a||window.event;var b=a.target||a.srcElement,d=b;if(!b){return}if(!c&&j(b,"pika-select")){if(!b.onchange){b.setAttribute("onchange","return;");f(b,"change",h._onChange)}}do{if(j(d,"pika-single")||d===i.trigger){return}}while(d=d.parentNode);if(h._v&&b!==i.trigger&&d!==i.trigger){h.hide()}};h.el=d.createElement("div");h.el.className="pika-single"+(i.isRTL?" is-rtl":"")+(i.theme?" "+i.theme:"");f(h.el,"ontouchend"in d?"touchend":"mousedown",h._onMouseDown,true);f(h.el,"change",h._onChange);if(i.field){if(i.container){i.container.appendChild(h.el)}else if(i.bound){d.body.appendChild(h.el)}else{i.field.parentNode.insertBefore(h.el,i.field.nextSibling)}f(i.field,"change",h._onInputChange);if(!i.defaultDate){if(b&&i.field.value){i.defaultDate=a(i.field.value,i.format).toDate()}else{i.defaultDate=new Date(Date.parse(i.field.value))}i.setDefaultDate=true}}var k=i.defaultDate;if(n(k)){if(i.setDefaultDate){h.setDate(k,true)}else{h.gotoDate(k)}}else{h.gotoDate(new Date)}if(i.bound){this.hide();h.el.className+=" is-bound";f(i.trigger,"click",h._onInputClick);f(i.trigger,"focus",h._onInputFocus);f(i.trigger,"blur",h._onInputBlur)}else{this.show()}};E.prototype={config:function(a){if(!this._o){this._o=t({},v,true)}var b=t(this._o,a,true);b.isRTL=!!b.isRTL;b.field=b.field&&b.field.nodeName?b.field:null;b.theme=typeof b.theme=="string"&&b.theme?b.theme:null;b.bound=!!(b.bound!==undefined?b.field&&b.bound:b.field);b.trigger=b.trigger&&b.trigger.nodeName?b.trigger:b.field;b.disableWeekends=!!b.disableWeekends;b.disableDayFn=typeof b.disableDayFn=="function"?b.disableDayFn:null;var c=parseInt(b.numberOfMonths,10)||1;b.numberOfMonths=c>4?4:c;if(!n(b.minDate)){b.minDate=false}if(!n(b.maxDate)){b.maxDate=false}if(b.minDate&&b.maxDate&&b.maxDate<b.minDate){b.maxDate=b.minDate=false}if(b.minDate){this.setMinDate(b.minDate)}if(b.maxDate){r(b.maxDate);b.maxYear=b.maxDate.getFullYear();b.maxMonth=b.maxDate.getMonth()}if(m(b.yearRange)){var d=(new Date).getFullYear()-10;b.yearRange[0]=parseInt(b.yearRange[0],10)||d;b.yearRange[1]=parseInt(b.yearRange[1],10)||d}else{b.yearRange=Math.abs(parseInt(b.yearRange,10))||v.yearRange;if(b.yearRange>100){b.yearRange=100}}return b},toString:function(c){return!n(this._d)?"":b?a(this._d).format(c||this._o.format):this._d.toDateString()},getMoment:function(){return b?a(this._d):null},setMoment:function(c,d){if(b&&a.isMoment(c)){this.setDate(c.toDate(),d)}},getDate:function(){return n(this._d)?new Date(this._d.getTime()):null},setDate:function(a,b){if(!a){this._d=null;if(this._o.field){this._o.field.value="";h(this._o.field,"change",{firedBy:this})}return this.draw()}if(typeof a==="string"){a=new Date(Date.parse(a))}if(!n(a)){return}var c=this._o.minDate,d=this._o.maxDate;if(n(c)&&a<c){a=c}else if(n(d)&&a>d){a=d}this._d=new Date(a.getTime());r(this._d);this.gotoDate(this._d);if(this._o.field){this._o.field.value=this.toString();h(this._o.field,"change",{firedBy:this})}if(!b&&typeof this._o.onSelect==="function"){this._o.onSelect.call(this,this.getDate())}},gotoDate:function(a){var b=true;if(!n(a)){return}if(this.calendars){var c=new Date(this.calendars[0].year,this.calendars[0].month,1),d=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),e=a.getTime();d.setMonth(d.getMonth()+1);d.setDate(d.getDate()-1);b=e<c.getTime()||d.getTime()<e}if(b){this.calendars=[{month:a.getMonth(),year:a.getFullYear()}];if(this._o.mainCalendar==="right"){this.calendars[0].month+=1-this._o.numberOfMonths}}this.adjustCalendars()},adjustCalendars:function(){this.calendars[0]=u(this.calendars[0]);for(var a=1;a<this._o.numberOfMonths;a++){this.calendars[a]=u({month:this.calendars[0].month+a,year:this.calendars[0].year})}this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(a){if(!isNaN(a)){this.calendars[0].month=parseInt(a,10);this.adjustCalendars()}},nextMonth:function(){this.calendars[0].month++;this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--;this.adjustCalendars()},gotoYear:function(a){if(!isNaN(a)){this.calendars[0].year=parseInt(a,10);this.adjustCalendars()}},setMinDate:function(a){r(a);this._o.minDate=a;this._o.minYear=a.getFullYear();this._o.minMonth=a.getMonth()},setMaxDate:function(a){this._o.maxDate=a},draw:function(a){if(!this._v&&!a){return}var b=this._o,c=b.minYear,d=b.maxYear,f=b.minMonth,g=b.maxMonth,h="";if(this._y<=c){this._y=c;if(!isNaN(f)&&this._m<f){this._m=f}}if(this._y>=d){this._y=d;if(!isNaN(g)&&this._m>g){this._m=g}}for(var i=0;i<b.numberOfMonths;i++){h+='<div class="pika-lendar">'+C(this,i,this.calendars[i].year,this.calendars[i].month,this.calendars[0].year)+this.render(this.calendars[i].year,this.calendars[i].month)+"</div>"}this.el.innerHTML=h;if(b.bound){if(b.field.type!=="hidden"){e(function(){b.trigger.focus()},1)}}if(typeof this._o.onDraw==="function"){var j=this;e(function(){j._o.onDraw.call(j)},0)}},adjustPosition:function(){if(this._o.container)return;var a=this._o.trigger,b=a,c=this.el.offsetWidth,e=this.el.offsetHeight,f=window.innerWidth||d.documentElement.clientWidth,g=window.innerHeight||d.documentElement.clientHeight,h=window.pageYOffset||d.body.scrollTop||d.documentElement.scrollTop,i,j,k;if(typeof a.getBoundingClientRect==="function"){k=a.getBoundingClientRect();i=k.left+window.pageXOffset;j=k.bottom+window.pageYOffset}else{i=b.offsetLeft;j=b.offsetTop+b.offsetHeight;while(b=b.offsetParent){i+=b.offsetLeft;j+=b.offsetTop}}if(this._o.reposition&&i+c>f||this._o.position.indexOf("right")>-1&&i-c+a.offsetWidth>0){i=i-c+a.offsetWidth}if(this._o.reposition&&j+e>g+h||this._o.position.indexOf("top")>-1&&j-e-a.offsetHeight>0){j=j-e-a.offsetHeight}this.el.style.position="absolute";this.el.style.left=i+"px";this.el.style.top=j+"px"},render:function(a,b){var c=this._o,d=new Date,e=q(a,b),f=new Date(a,b,1).getDay(),g=[],h=[];r(d);if(c.firstDay>0){f-=c.firstDay;if(f<0){f+=7}}var i=e+f,j=i;while(j>7){j-=7}i+=7-j;for(var k=0,l=0;k<i;k++){var m=new Date(a,b,1+(k-f)),p=n(this._d)?s(m,this._d):false,t=s(m,d),u=k<f||k>=e+f,v=c.minDate&&m<c.minDate||c.maxDate&&m>c.maxDate||c.disableWeekends&&o(m)||c.disableDayFn&&c.disableDayFn(m);h.push(x(1+(k-f),b,a,p,t,v,u));if(++l===7){if(c.showWeekNumber){h.unshift(y(k-f,b,a))}g.push(z(h,c.isRTL));h=[];l=0}}return D(c,g)},isVisible:function(){return this._v},show:function(){if(!this._v){l(this.el,"is-hidden");this._v=true;this.draw();if(this._o.bound){f(d,"click",this._onClick);this.adjustPosition()}if(typeof this._o.onOpen==="function"){this._o.onOpen.call(this)}}},hide:function(){var a=this._v;if(a!==false){if(this._o.bound){g(d,"click",this._onClick)}this.el.style.position="static";this.el.style.left="auto";this.el.style.top="auto";k(this.el,"is-hidden");this._v=false;if(a!==undefined&&typeof this._o.onClose==="function"){this._o.onClose.call(this)}}},destroy:function(){this.hide();g(this.el,"mousedown",this._onMouseDown,true);g(this.el,"change",this._onChange);if(this._o.field){g(this._o.field,"change",this._onInputChange);if(this._o.bound){g(this._o.trigger,"click",this._onInputClick);g(this._o.trigger,"focus",this._onInputFocus);g(this._o.trigger,"blur",this._onInputBlur)}}if(this.el.parentNode){this.el.parentNode.removeChild(this.el)}}};return E});define("i18n",["require"],function(a){return{pikaday:{"zh-cn":{previousMonth:"",nextMonth:"",months:["","","","","","","","","","","",""],weekdays:["","","","","","",""],weekdaysShort:["","","","","","",""]}}}});define("app/util/richtext",["require","jquery","underscore"],function(a){var b=a("jquery");var c=a("underscore");var d={outputFilter:function(a){return a.replace(/(<img.*?data-style="(.*?)")(.*?style=")(.*?)(".*?\/>)/g,function(){var a=arguments;return a[1]+a[3]+a[2]+a[5]})},plainTextFilter:function(a){var c=a;c=this.HTMLDeCode(a.toString().replace(/_wjFrame_/g,"iframe"));c=b("<div>"+c+"</div>");c.find("img").replaceWith("[]");c.find("iframe").replaceWith("[]");c=c.text();return b.trim(c)},iframeFilter:function(a){var c=this.HTMLDeCode(a.toString().replace(/_wjFrame_/g,"iframe"));c=b("<div>"+c+"</div>");c.find("iframe.video_showframe").replaceWith("[]");c.find("iframe").replaceWith("[]");c=c.html();return b.trim(c)},HTMLDeCode:function(a){var b="";if(a.length==0)return"";b=a.replace(/&amp;/g,"&");b=b.replace(/&lt;/g,"<");b=b.replace(/&gt;/g,">");b=b.replace(/&nbsp;/g," ");b=b.replace(/&apos;/g,"'");b=b.replace(/&#39;/g,"'");b=b.replace(/&#34;/g,'"');b=b.replace(/&quot;/g,'"');b=b.replace(/<br>/g,"\n");return b},unWrapper:function(a){var c=a;for(var d=0;d<3;d++){c=b("<p>"+c+"</p>").text()}return c},plainRichTextFilter:function(a,d){if(!a){return""}var e=this.HTMLDeCode(a.toString().replace(/_wjFrame_/g,"iframe"));var f=[];var g=[];var h;e=b("<p>"+e+"</p>");e.find("img").each(function(a,c){if(b(c).attr("data-sourceurl")){f.push(b(c).attr("data-sourceurl").replace(/^(\'|\"){1}/,"").replace(/(\'|\"){1}$/,""))}else{f.push(b(c).attr("src").replace(/^(\'|\"){1}/,"").replace(/(\'|\"){1}$/,""))}b(c).replaceWith("[]")});c.each(e.find(".mod_fillblank"),function(a){g.push(b(a).clone());b(a).replaceWith("[]")});e.find("iframe").replaceWith("[]");e=i(e.text());c.forEach(g,function(a){var b=a.prop("outerHTML");e=e.replace("[]",b)});if(d&&d.preview){c.forEach(f,function(a){e=e.replace("[]","<img class='preview_image' data-sourceurl='"+a+"' src='//wj.qq.com/image/pc/image_thumb_icon.png'>")})}else{c.forEach(f,function(a){e=e.replace("[]","<img class='preview_image' src='"+a+"'>")})}return b.trim(e);function i(a){var b=document.createElement("div");b.innerHTML=a;return b.innerText||b.textContent}},formatRichTextAnswer:function(a,b){if(a.answer){c.map(a.answer,function(a){c.map(a.questions,function(a){if(a.text){a.text=d.plainRichTextFilter(a.text,b)}c.map(a.options,function(a){if(a.text){a.text=d.plainRichTextFilter(a.text,b)}return a});return a});return a})}return a},formatRichTextQuestion:function(a,b){if(a.title){a.title=c(a.title,b)}if(a.description){a.description=c(a.description,b)}if(a.options&&a.options.length){a.options.forEach(function(a){a.text=c(a.text,b)})}if(a.subTitles&&a.subTitles.length){a.subTitles.forEach(function(a){a.text=c(a.text,b)})}function c(a,b){return d.plainRichTextFilter(a,b)}return a},formatPlainTextQuestion:function(a){if(a.title){a.title=b(a.title)}if(a.description){a.description=b(a.description)}if(a.options&&a.options.length){a.options.forEach(function(a){if(a.text){a.text=b(a.text)}})}if(a.subTitles&&a.subTitles.length){a.subTitles.forEach(function(a){if(a.text){a.text=b(a.text)}})}if(a.blank_setting&&a.blank_setting.length){a.blank_setting=[]}function b(a){return d.plainTextFilter(a)}return a},formatRichTextSurvey:function(a,b){if(a.title){a.title=d.plainRichTextFilter(a.title,b)}if(a.prefix){a.prefix=d.plainRichTextFilter(a.prefix,b)}if(a.suffix){a.suffix=d.plainRichTextFilter(a.suffix,b)}if(a.pages){a.pages.forEach(function(a){a.questions.forEach(function(a){d.formatRichTextQuestion(a,b)})})}return a},formatPlainTextSurvey:function(a){if(a.title){a.title=d.plainTextFilter(a.title)}if(a.prefix){a.prefix=d.plainTextFilter(a.prefix)}if(a.suffix){a.suffix=d.plainTextFilter(a.suffix)}if(a.pages){a.pages.forEach(function(a){a.questions.forEach(function(a){d.formatPlainTextQuestion(a)})})}return a},removeReferForTextSurvey:function(a){if(a.pages){a.pages.forEach(function(a){a.questions.forEach(function(a){if(a.refer){a.refer=null}})})}return a},replaceFillBlank:f};var e=function(a){var b={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12};var c,d="",f=0,g=a.nodeType;if(!g){while(c=a[f++]){d+=e(c)}}else if(g===b.ELEMENT_NODE||g===b.DOCUMENT_NODE||g===b.DOCUMENT_FRAGMENT_NODE){if(typeof a.textContent==="string"){return a.textContent}else{for(a=a.firstChild;a;a=a.nextSibling){d+=e(a)}}}else if(g===b.TEXT_NODE||g===b.CDATA_SECTION_NODE){return a.nodeValue}return d};function f(a,c){var d=c?'aria-labelledby="questionTitle_'+c+'"':"";if(a===""){return a}if(!/^<p>/.test(a)){a="<p>"+a+"</p>"}var e=14;var f=b('<input class="fill_blank needsclick" role="textbox" '+d+' style="width: inherit;">');var g="";var h=b.parseHTML(a)||[];h.forEach(function(a){var c=b(a);var d=c.find(".mod_fillblank");if(d.length===0){if(a.nodeType===3){g+=a.data}else{g+=a.outerHTML}return}d.each(function(a,c){var d=b(c);var g=d.text().length*e+"px";var h=d.attr("data-id");var i=f.clone().css("width",g);i.attr("id",h);d.replaceWith(i)});g+=a.outerHTML});return g}return d});(function(a){if(typeof define==="function"&&define.amd){define("jquery.placeholder/jquery.placeholder",["jquery"],a)}else if(typeof module==="object"&&module.exports){a(require("jquery"))}else{a(jQuery)}})(function(a){var b=false;var c=Object.prototype.toString.call(window.operamini)==="[object OperaMini]";var d="placeholder"in document.createElement("input")&&!c&&!b;var e="placeholder"in document.createElement("textarea")&&!c&&!b;var f=a.valHooks;var g=a.propHooks;var h;var i;var j={};if(d&&e){i=a.fn.placeholder=function(){return this};i.input=true;i.textarea=true}else{i=a.fn.placeholder=function(c){var e={customClass:"placeholder"};j=a.extend({},e,c);var f=this.filter((d?"textarea":":input")+"["+(b?"placeholder-x":"placeholder")+"]").not("."+j.customClass).not(":radio, :checkbox, [type=hidden]").bind({"focus.placeholder":l,"blur.placeholder":m}).data("placeholder-enabled",true);setTimeout(function(){f.trigger("blur.placeholder")},10);return f};i.input=d;i.textarea=e;h={get:function(b){var c=a(b);var d=c.data("placeholder-password");if(d){return d[0].value}return c.data("placeholder-enabled")&&c.hasClass(j.customClass)?"":b.value},set:function(b,c){var d=a(b);var e;var f;if(c!==""){e=d.data("placeholder-textinput");f=d.data("placeholder-password");if(e){l.call(e[0],true,c)||(b.value=c);e[0].value=c}else if(f){l.call(b,true,c)||(f[0].value=c);b.value=c}}if(!d.data("placeholder-enabled")){b.value=c;return d}if(c===""){b.value=c;if(b!=n()){m.call(b)}}else{if(d.hasClass(j.customClass)){l.call(b)}b.value=c}return d}};if(!d){f.input=h;g.value=h}if(!e){f.textarea=h;g.value=h}a(function(){a(document).delegate("form","submit.placeholder",function(){var b=a("."+j.customClass,this).each(function(){l.call(this,true,"")});setTimeout(function(){b.each(m)},10)})})}function k(b){var c={};var d=/^jQuery\d+$/;a.each(b.attributes,function(a,b){if(b.specified&&!d.test(b.name)){c[b.name]=b.value}});return c}function l(c,d){var e=this;var f=a(this);if(e.value===f.attr(b?"placeholder-x":"placeholder")&&f.hasClass(j.customClass)){e.value="";f.removeClass(j.customClass);if(f.data("placeholder-password")){f=f.hide().nextAll('input[type="password"]:first').show().attr("id",f.removeAttr("id").data("placeholder-id"));if(c===true){f[0].value=d;return d}f.focus()}else{e==n()&&e.select()}}}function m(c){var d;var e=this;var f=a(this);var g=e.id;if(c&&c.type==="blur"&&f.hasClass(j.customClass)){return}if(e.value===""){if(e.type==="password"){if(!f.data("placeholder-textinput")){try{d=f.clone().prop({type:"text"})}catch(h){d=a("<input>").attr(a.extend(k(this),{type:"text"}))}d.removeAttr("name").data({"placeholder-enabled":true,"placeholder-password":f,"placeholder-id":g}).bind("focus.placeholder",l);f.data({"placeholder-textinput":d,"placeholder-id":g}).before(d)}e.value="";f=f.removeAttr("id").hide().prevAll('input[type="text"]:first').attr("id",f.data("placeholder-id")).show()}else{var i=f.data("placeholder-password");if(i){i[0].value="";f.attr("id",f.data("placeholder-id")).show().nextAll('input[type="password"]:last').hide().removeAttr("id")}}f.addClass(j.customClass);f[0].value=f.attr(b?"placeholder-x":"placeholder")}else{f.removeClass(j.customClass)}}function n(){try{return document.activeElement}catch(a){}}});define("jquery.pagination/jquery.pagination",["require","jquery"],function(a){var b=a("jquery");(function(a){a.PaginationCalculator=function(a,b){this.maxentries=a;this.opts=b};a.extend(a.PaginationCalculator.prototype,{numPages:function(){return Math.ceil(this.maxentries/this.opts.items_per_page)},getInterval:function(a){var b=Math.floor(this.opts.num_display_entries/2);var c=this.numPages();var d=c-this.opts.num_display_entries;var e=a>b?Math.max(Math.min(a-b,d),0):0;var f=a>b?Math.min(a+b+this.opts.num_display_entries%2,c):Math.min(this.opts.num_display_entries,c);return{start:e,end:f}}});a.PaginationRenderers={};a.PaginationRenderers.defaultRenderer=function(b,c){this.maxentries=b;this.opts=c;this.pc=new a.PaginationCalculator(b,c)};a.extend(a.PaginationRenderers.defaultRenderer.prototype,{createLink:function(b,c,d){var e,f=this.pc.numPages();b=b<0?0:b<f?b:f-1;d=a.extend({text:b+1,classes:""},d||{});if(b==c){e=a("<span class='current'>"+d.text+"</span>")}else{e=a("<a>"+d.text+"</a>").attr("href",this.opts.link_to.replace(/__id__/,b))}if(d.classes){e.addClass(d.classes)}if(d.rel){e.attr("rel",d.rel)}e.data("page_id",b);return e},appendRange:function(a,b,c,d,e){var f;for(f=c;f<d;f++){this.createLink(f,b,e).appendTo(a)}},getLinks:function(b,c){var d,e,f=this.pc.getInterval(b),g=this.pc.numPages(),h=a("<div class='pagination'></div>");if(this.opts.prev_text&&(b>0||this.opts.prev_show_always)){h.append(this.createLink(b-1,b,{text:this.opts.prev_text,classes:"prev",rel:"prev"}))}if(f.start>0&&this.opts.num_edge_entries>0){e=Math.min(this.opts.num_edge_entries,f.start);this.appendRange(h,b,0,e,{classes:"sp"});if(this.opts.num_edge_entries<f.start&&this.opts.ellipse_text){a("<span>"+this.opts.ellipse_text+"</span>").appendTo(h)}}this.appendRange(h,b,f.start,f.end);if(f.end<g&&this.opts.num_edge_entries>0){if(g-this.opts.num_edge_entries>f.end&&this.opts.ellipse_text){a("<span>"+this.opts.ellipse_text+"</span>").appendTo(h)}d=Math.max(g-this.opts.num_edge_entries,f.end);this.appendRange(h,b,d,g,{classes:"ep"})}if(this.opts.next_text&&(b<g-1||this.opts.next_show_always)){h.append(this.createLink(b+1,b,{text:this.opts.next_text,classes:"next",rel:"next"}))}a("a",h).click(c);return h}});a.fn.pagination=function(b,c){c=a.extend({items_per_page:10,num_display_entries:11,current_page:0,num_edge_entries:0,link_to:"#",prev_text:"Prev",next_text:"Next",ellipse_text:"...",prev_show_always:true,next_show_always:true,renderer:"defaultRenderer",show_if_single_page:false,load_first_page:true,callback:function(){return false}},c||{});var d=this,e,f,g;function h(b){var c,d=a(b.target).data("page_id"),e=i(d);if(!e){b.stopPropagation()}return e}function i(a){d.data("current_page",a);f=e.getLinks(a,h);d.empty();f.appendTo(d);var b=c.callback(a,d);return b}g=parseInt(c.current_page,10);d.data("current_page",g);b=!b||b<0?1:b;c.items_per_page=!c.items_per_page||c.items_per_page<0?1:c.items_per_page;if(!a.PaginationRenderers[c.renderer]){throw new ReferenceError("Pagination renderer '"+c.renderer+"' was not found in jQuery.PaginationRenderers object.")}e=new a.PaginationRenderers[c.renderer](b,c);var j=new a.PaginationCalculator(b,c);var k=j.numPages();d.off("setPage").on("setPage",{numPages:k},function(a,b){if(b>=0&&b<a.data.numPages){i(b);return false}});d.off("prevPage").on("prevPage",function(b){var c=a(this).data("current_page");if(c>0){i(c-1)}return false});d.off("nextPage").on("nextPage",{numPages:k},function(b){var c=a(this).data("current_page");if(c<b.data.numPages-1){i(c+1)}return false});d.off("currentPage").on("currentPage",function(){var b=a(this).data("current_page");i(b);return false});f=e.getLinks(g,h);d.empty();if(k>1||c.show_if_single_page){f.appendTo(d)}if(c.load_first_page){c.callback(g,d)}}})(b)});(function(a){"use strict";a.fn.extend({memberInput:function(b){var c={allMemberUrl:"https://wj.qq.com/data_temp/allmember.json",allowMailGroup:false,className:"",autoFocus:false,maxTipsCount:5,onInit:a.noop,groupPrefix:[]};b=a.extend({},c,b);b.maxTipsCount=b.maxTipsCount>8?8:b.maxTipsCount;var d=["g_","c_"].concat(b.groupPrefix);var e=d.join("|");var f=new RegExp("^("+e+")\\w+","i");var g;var h=function(a){this.$input=a;this.memberPickerValue=[];this.tipsIndex=0;this.tipsCount=0;this.uiInit();this.dataInit()};h.prototype.uiInit=function(){var c=this;this.$wrapper=a('<div class="oaui_memberinput_wrapper"></div>');this.$wrapper.addClass(b.className);this.$editor=a('<div class="oaui_memberinput_editor"></div>');this.$wrapper.append(this.$editor);if(b.$tips){this.$tips=b.$tips}else{this.$tips=a('<div class="oaui_memberinput_tips"><ul></ul></div>');this.$wrapper.append(this.$tips)}this.$tips.hide();this.$input.hide().after(c.$wrapper);if(b.onInit!==a.noop&&typeof b.onInit==="function"){b.onInit(this.$input)}this.bindEvent()};h.prototype.setFocus=function(c){var d=a('<input type="text" />');var e;var f="append";if(c.direction){var g="prev";f="before";if(c.direction==="right"){g="next";f="after"}e=this.$editor.find("input[type=text]")[g]();if(!e.length){return}}else{var h=c.x;var i=c.y;e=this.$editor;f="append";var j=this.$editor.find("span.oaui_memberinput_member");var k;var l=-1;var m=[];var n=[];j.each(function(){var b=a(this);var c=b.position();
if(i>c.top){if(k!==c.top){l++;k=c.top}if(h>c.left+b.width()){m[l]=b}else{if(!n[l]){n[l]=b.prev()}}}});e=m[l];if(!e){e=n[l];f="after";if(!e||!e.length){e=j.eq(0);f="before";if(!e.length){e=this.$editor;f="append"}}}else{f="after"}}this.$editor.find("input[type=text]").remove();e[f](d);setTimeout(function(){if(b.autoFocus){d.focus()}d.on("propertychange",function(){a(this).trigger("input")})},0)};h.prototype.inputFinished=function(b,c){var d=this;var e=a(b);var f=e.val();var g=d.parseString(f);g=d.validateNames(g);d.setHistory(g);var h=e.prevAll(".oaui_memberinput_member").length;d.concatMemberArr(h,g);d.hideTips();this.$input.val(this.getValue());var i=g.map(function(a){return'<span class="oaui_memberinput_member">'+a+'<em class="oaui_memberinput_semicolon">;</em></span>'}).join("");var j=a(i);try{if(c){e.before(j).val("");d.adjustInputSize(0)}else{if(a.trim(i)){e.replaceWith(j)}}}catch(k){}};h.prototype.inputDelete=function(a){var b=this.$editor.find("input")[a]();var c=b.text().replace(/;/g,"");if(b&&b.length){b.remove()}this.removeFromMemberArr(c)};h.prototype.adjustInputSize=function(a){var b=this;setTimeout(function(){b.$editor.find("input").width((a+1)*11)},0)};h.prototype.showTips=function(a){if(!a||!g||!g.length){return}var c=[];var d=new RegExp("^("+a+")","i");if(g.indexOf(a.toLowerCase())>-1&&this.memberPickerValue.indexOf(a)<0){c.push(a)}var e,f;for(e=0,f=g.length;e<f;e++){if(g[e].toLowerCase().indexOf(a.toLowerCase())===0){if(this.memberPickerValue.indexOf(g[e])<0&&c.indexOf(g[e])<0){c.push(g[e])}if(c.length>=b.maxTipsCount){break}}}this.tipsCount=c.length;var h=c.map(function(a){return'<li><a href="javascript:;"><div class="avatar"><span style="background-image: url(http://dcloud.oa.com/Public/Avatar/'+a+'.png);"></span></div>'+a.replace(d,'<em class="oaui_memberinput_highlight">$1</em>')+"</a></li>"}).join("");this.$tips.show().find("ul").html(h);this.rollTips(0)};h.prototype.hideTips=function(){this.$tips.hide()};h.prototype.rollTips=function(a){var b=this;if(typeof a==="string"){if(a==="prev"){a=b.tipsIndex-1}else if(a==="next"){a=b.tipsIndex+1}}if(typeof a==="undefined"){a=0}this.tipsIndex=a%this.tipsCount;if(this.tipsIndex<0){b.tipsIndex+=b.tipsCount}this.$tips.find("ul li").removeClass("oaui_memberinput_tips_active").eq(b.tipsIndex).addClass("oaui_memberinput_tips_active")};h.prototype.selectTips=function(a){if(this.$tips.is(":visible")){if(typeof a==="undefined"){a=this.tipsIndex}var b=this.$tips.find("ul li:eq("+a+")").text();var c=this.$editor.find("input");c.val(b);this.inputFinished(c.get(0),true)}};h.prototype.dataInit=function(){var c=this;if(!g||!g.length){a.ajax({url:b.allMemberUrl,dataType:"json"}).done(function(a){if(a.status){g=a.data.split(",")}}).fail(function(){})}if(c.$input.val()){var d=c.$input.val();if(Array.isArray(d)){d=d.join(";")}c.setFocus({x:0,y:0});c.$editor.find("input").val(d);c.inputFinished(c.$editor.find("input").get(),true)}else{c.setFocus({x:0,y:0})}};h.prototype.parseString=function(a){a=a.replace(/[,; ]/g,";").replace(/\<.*?\>/g,"").replace(/\(.*?\)/g,"").replace(/@[\w\.-]*/g,"");var b=a.split(";").filter(function(a){return a});return b};h.prototype.validateNames=function(a){var c=this;var d=[];a.forEach(function(a){if(!g||!g.length||b.allowMailGroup&&f.test(a)){d.push(a)}else{var e=-1;var h=g.some(function(b,c){if(b.toLowerCase()===a.toLowerCase()){e=c;return true}else{return false}});var i=c.memberPickerValue.some(function(b){return b.toLowerCase()===a.toLowerCase()});if(h&&!i){d.push(g[e])}}});return d};h.prototype.concatMemberArr=function(a,b){var c=this.memberPickerValue.slice(0,a);var d=this.memberPickerValue.slice(a);this.memberPickerValue=c.concat(b,d)};h.prototype.removeFromMemberArr=function(a){this.memberPickerValue=this.memberPickerValue.filter(function(b){return a!==b})};h.prototype.bindEvent=function(){this.bindEditorClick();this.bindInputFinished();this.bindDelete();this.bindInputTips();this.bindInputSize();this.bindPaste();this.bindChange()};h.prototype.bindEditorClick=function(){var a=this;this.$editor.find("input[type=text]").remove();var b=false;var c;var d;this.$editor.on("mousedown",function(a){b=true;c=a.pageX;d=a.pageY});this.$editor.on("mousemove",function(a){if(a.pageX!==c||a.pageY!==d){b=false}});this.$editor.on("click",function(e){c=undefined;d=undefined;if(!b){return}var f=a.$editor.offset();a.setFocus({x:e.pageX-f.left,y:e.pageY-f.top});a.$editor.find("input[type=text]").focus()}).on("click","input",function(){if(!this.value){a.showHistoryTips()}return false})};h.prototype.bindInputFinished=function(a){var b=this;b.$editor.on("blur","input",function(){c.call(this)}).on("input","input",function(){var a=this.value;if(/[,;]/.test(a)){c.call(this,true)}});function c(a){b.inputFinished(this,a)}};h.prototype.bindDelete=function(){var b=this;b.$editor.on("keydown",function(c){switch(c.keyCode){case 8:case 46:if(a(c.target).is("input")){var d=c.target.selectionStart;var e=c.target.selectionEnd;var f;if(typeof d!=="undefined"){f=d===e&&(d===0&&c.keyCode===8||d===b.$editor.find("input").val().length&&c.keyCode===46)}else{f=!b.$editor.find("input").val()&&(c.keyCode===8||c.keyCode===46)}if(f){var g;if(c.keyCode===8){g="prev"}else{g="next"}b.inputDelete(g);return false}else{setTimeout(function(){if(!b.$editor.find("input").val().length){b.hideTips()}},0)}}else{this.selectDelete()}break;case 37:case 39:if(a(c.target).is("input")){var d=c.target.selectionStart;var e=c.target.selectionEnd;if(d===e&&(d===0&&c.keyCode===37||d===b.$editor.find("input").val().length&&c.keyCode===39)){var h;if(c.keyCode===37){g="left"}else{g="right"}b.setFocus({direction:g});return false}else{setTimeout(function(){if(!b.$editor.find("input").val().length){b.hideTips()}},0)}}else{b.selectDelete()}break}})};h.prototype.bindInputSize=function(){var a=this;this.$editor.on("input","input",function(b){a.adjustInputSize(this.value.length)})};h.prototype.bindPaste=function(){var a=this;this.$editor.on("paste","input",function(a){this.value+=";"})};h.prototype.bindChange=function(){var b=this;this.$input.on("change",function(){var c=a(this).val().split(";");b.reset();b.setFocus({x:0,y:0});b.$editor.find("input").val(c);b.inputFinished(b.$editor.find("input").get(),true)})};h.prototype.reset=function(){this.$editor.empty();this.memberPickerValue=[]};h.prototype.bindInputTips=function(){var c=this;function d(){c.$editor.on("input.textinput input","input",function(a){c.showTips(this.value.replace(/['\+|\s+]/g,""));if(!b.$tips){c.$tips.css("left",c.$editor.find("input").position().left)}})}function e(){c.$editor.off("input.textinput")}c.$editor.on("keydown","input",function(a){switch(a.keyCode){case 38:if(c.$tips.is(":visible")){c.rollTips("prev")}return false;break;case 40:if(c.$tips.is(":visible")){c.rollTips("next")}else{if(!this.value){c.showHistoryTips()}}return false;break;case 9:case 13:if(f.test(this.value)){var g=c.$editor.find("input");c.inputFinished(g.get(0),true)}if(!a.metaKey&&!a.ctrlKey){if(c.$tips.is(":visible")){c.selectTips()}else if(!this.value&&b.submitByEnter){b.onSubmit&&b.onSubmit(c.memberPickerValue.join(";"))}return false}break;case 27:this.value="";c.hideTips();break}d();setTimeout(e,0)});c.$tips.on("mousedown","li a",function(b){c.selectTips(c.$tips.find("li a").index(a(this)));return false})};h.prototype.appendValue=function(a){this.setFocus({x:this.$editor.width(),y:this.$editor.height()});this.$editor.find("input").val(a);this.inputFinished(this.$editor.find("input").get(),true)};h.prototype.getValue=function(a,b){var c=this;if(!a){a="string"}if(!b){b=";"}var d;switch(a){case"array":d=c.memberPickerValue.slice();break;case"json":d=JSON.stringify(c.memberPickerValue);break;case"string":default:d=c.memberPickerValue.join(b);break}return d};h.prototype.remove=function(){this.$wrapper.remove();this.memberPickerValue=[]};h.prototype.showHistoryTips=function(){var a=this.getHistory();if(!a.length){return}this.tipsCount=a.length;var b=a.map(function(a){return'<li><a href="javascript:;"><div class="avatar"><span style="background-image: url(http://dcloud.oa.com/Public/Avatar/'+a+'.png);"></span></div>'+a+"</a></li>"}).join("");this.$tips.show().find("ul").html(b);this.rollTips(0)};h.prototype.setHistory=function(a){if(!window.localStorage){return false}var c=a.slice();if(c.length<4){c=c.concat(this.getHistory())}c=c.filter(function(a,b){return b===c.lastIndexOf(a)}).slice(0,b.maxTipsCount);localStorage.setItem("oaui_memberinput_history",JSON.stringify(c))};h.prototype.getHistory=function(){if(!window.localStorage){return[]}var a=JSON.parse(localStorage.getItem("oaui_memberinput_history")||"[]");return a};return a.each(this,function(){var b=a(this);if(!b.data("memberInput")){b.data("memberInput",new h(b))}})},memberReset:function(){return a.each(this,function(){var b=a(this);var c=b.data("memberInput");c.$input.val("");c.$editor.empty();c.memberPickerValue=[]})}})})(jQuery);define("memberPicker",["jquery"],function(){});(function(a){if(typeof define==="function"&&define.amd){define("select2",["jquery"],a)}else if(typeof exports==="object"){a(require("jquery"))}else{a(jQuery)}})(function(a){var b=function(){if(a&&a.fn&&a.fn.select2&&a.fn.select2.amd){var b=a.fn.select2.amd}var b;(function(){if(!b||!b.requirejs){if(!b){b={}}else{c=b}var a,c,d;(function(b){var e,f,g,h,i={},j={},k={},l={},m=Object.prototype.hasOwnProperty,n=[].slice,o=/\.js$/;function p(a,b){return m.call(a,b)}function q(a,b){var c,d,e,f,g,h,i,j,l,m,n,p=b&&b.split("/"),q=k.map,r=q&&q["*"]||{};if(a&&a.charAt(0)==="."){if(b){a=a.split("/");g=a.length-1;if(k.nodeIdCompat&&o.test(a[g])){a[g]=a[g].replace(o,"")}a=p.slice(0,p.length-1).concat(a);for(l=0;l<a.length;l+=1){n=a[l];if(n==="."){a.splice(l,1);l-=1}else if(n===".."){if(l===1&&(a[2]===".."||a[0]==="..")){break}else if(l>0){a.splice(l-1,2);l-=2}}}a=a.join("/")}else if(a.indexOf("./")===0){a=a.substring(2)}}if((p||r)&&q){c=a.split("/");for(l=c.length;l>0;l-=1){d=c.slice(0,l).join("/");if(p){for(m=p.length;m>0;m-=1){e=q[p.slice(0,m).join("/")];if(e){e=e[d];if(e){f=e;h=l;break}}}}if(f){break}if(!i&&r&&r[d]){i=r[d];j=l}}if(!f&&i){f=i;h=j}if(f){c.splice(0,h,f);a=c.join("/")}}return a}function r(a,c){return function(){var d=n.call(arguments,0);if(typeof d[0]!=="string"&&d.length===1){d.push(null)}return f.apply(b,d.concat([a,c]))}}function s(a){return function(b){return q(b,a)}}function t(a){return function(b){i[a]=b}}function u(a){if(p(j,a)){var c=j[a];delete j[a];l[a]=true;e.apply(b,c)}if(!p(i,a)&&!p(l,a)){throw new Error("No "+a)}return i[a]}function v(a){var b,c=a?a.indexOf("!"):-1;if(c>-1){b=a.substring(0,c);a=a.substring(c+1,a.length)}return[b,a]}g=function(a,b){var c,d=v(a),e=d[0];a=d[1];if(e){e=q(e,b);c=u(e)}if(e){if(c&&c.normalize){a=c.normalize(a,s(b))}else{a=q(a,b)}}else{a=q(a,b);d=v(a);e=d[0];a=d[1];if(e){c=u(e)}}return{f:e?e+"!"+a:a,n:a,pr:e,p:c}};function w(a){return function(){return k&&k.config&&k.config[a]||{}}}h={require:function(a){return r(a)},exports:function(a){var b=i[a];if(typeof b!=="undefined"){return b}else{return i[a]={}}},module:function(a){return{id:a,uri:"",exports:i[a],config:w(a)}}};e=function(a,c,d,e){var f,k,m,n,o,q=[],s=typeof d,v;e=e||a;if(s==="undefined"||s==="function"){c=!c.length&&d.length?["require","exports","module"]:c;for(o=0;o<c.length;o+=1){n=g(c[o],e);k=n.f;if(k==="require"){q[o]=h.require(a)}else if(k==="exports"){q[o]=h.exports(a);v=true}else if(k==="module"){f=q[o]=h.module(a)}else if(p(i,k)||p(j,k)||p(l,k)){q[o]=u(k)}else if(n.p){n.p.load(n.n,r(e,true),t(k),{});q[o]=i[k]}else{throw new Error(a+" missing "+k)}}m=d?d.apply(i[a],q):undefined;if(a){if(f&&f.exports!==b&&f.exports!==i[a]){i[a]=f.exports}else if(m!==b||!v){i[a]=m}}}else if(a){i[a]=d}};a=c=f=function(a,c,d,i,j){if(typeof a==="string"){if(h[a]){return h[a](c)}return u(g(a,c).f)}else if(!a.splice){k=a;if(k.deps){f(k.deps,k.callback)}if(!c){return}if(c.splice){a=c;c=d;d=null}else{a=b}}c=c||function(){};if(typeof d==="function"){d=i;i=j}if(i){e(b,a,c,d)}else{setTimeout(function(){e(b,a,c,d)},4)}return f};f.config=function(a){return f(a)};a._defined=i;d=function(a,b,c){if(typeof a!=="string"){throw new Error("See almond README: incorrect module build, no module name")}if(!b.splice){c=b;b=[]}if(!p(i,a)&&!p(j,a)){j[a]=[a,b,c]}};d.amd={jQuery:true}})();b.requirejs=a;b.require=c;b.define=d}})();b.define("almond",function(){});b.define("jquery",[],function(){var b=a||$;if(b==null&&console&&console.error){console.error("Select2: An instance of jQuery or a jQuery-compatible library was not "+"found. Make sure that you are including jQuery before Select2 on your "+"web page.")}return b});b.define("select2/utils",["jquery"],function(a){var b={};b.Extend=function(a,b){var c={}.hasOwnProperty;function d(){this.constructor=a}for(var e in b){if(c.call(b,e)){a[e]=b[e]}}d.prototype=b.prototype;a.prototype=new d;a.__super__=b.prototype;return a};function c(a){var b=a.prototype;var c=[];for(var d in b){var e=b[d];if(typeof e!=="function"){continue}if(d==="constructor"){continue}c.push(d)}return c}b.Decorate=function(a,b){var d=c(b);var e=c(a);function f(){var c=Array.prototype.unshift;var d=b.prototype.constructor.length;var e=a.prototype.constructor;if(d>0){c.call(arguments,a.prototype.constructor);e=b.prototype.constructor}e.apply(this,arguments)}b.displayName=a.displayName;function g(){this.constructor=f}f.prototype=new g;for(var h=0;h<e.length;h++){var i=e[h];f.prototype[i]=a.prototype[i]}var j=function(a){var c=function(){};if(a in f.prototype){c=f.prototype[a]}var d=b.prototype[a];return function(){var a=Array.prototype.unshift;a.call(arguments,c);return d.apply(this,arguments)}};for(var k=0;k<d.length;k++){var l=d[k];f.prototype[l]=j(l)}return f};var d=function(){this.listeners={}};d.prototype.on=function(a,b){this.listeners=this.listeners||{};if(a in this.listeners){this.listeners[a].push(b)}else{this.listeners[a]=[b]}};d.prototype.trigger=function(a){var b=Array.prototype.slice;var c=b.call(arguments,1);this.listeners=this.listeners||{};if(c==null){c=[]}if(c.length===0){c.push({})}c[0]._type=a;if(a in this.listeners){this.invoke(this.listeners[a],b.call(arguments,1))}if("*"in this.listeners){this.invoke(this.listeners["*"],arguments)}};d.prototype.invoke=function(a,b){for(var c=0,d=a.length;c<d;c++){a[c].apply(this,b)}};b.Observable=d;b.generateChars=function(a){var b="";for(var c=0;c<a;c++){var d=Math.floor(Math.random()*36);b+=d.toString(36)}return b};b.bind=function(a,b){return function(){a.apply(b,arguments)}};b._convertData=function(a){for(var b in a){var c=b.split("-");var d=a;if(c.length===1){continue}for(var e=0;e<c.length;e++){var f=c[e];f=f.substring(0,1).toLowerCase()+f.substring(1);if(!(f in d)){d[f]={}}if(e==c.length-1){d[f]=a[b]}d=d[f]}delete a[b]}return a};b.hasScroll=function(b,c){var d=a(c);var e=c.style.overflowX;var f=c.style.overflowY;if(e===f&&(f==="hidden"||f==="visible")){return false}if(e==="scroll"||f==="scroll"){return true}return d.innerHeight()<c.scrollHeight||d.innerWidth()<c.scrollWidth};b.escapeMarkup=function(a){var b={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};if(typeof a!=="string"){return a}return String(a).replace(/[&<>"'\/\\]/g,function(a){return b[a]})};b.appendMany=function(b,c){if(a.fn.jquery.substr(0,3)==="1.7"){var d=a();a.map(c,function(a){d=d.add(a)});c=d}b.append(c)};return b});b.define("select2/results",["jquery","./utils"],function(a,b){function c(a,b,d){this.$element=a;this.data=d;this.options=b;c.__super__.constructor.call(this)}b.Extend(c,b.Observable);c.prototype.render=function(){var b=a('<ul class="select2-results__options" role="tree"></ul>');if(this.options.get("multiple")){b.attr("aria-multiselectable","true")}this.$results=b;return b};c.prototype.clear=function(){this.$results.empty()};c.prototype.displayMessage=function(b){var c=this.options.get("escapeMarkup");this.clear();this.hideLoading();var d=a('<li role="treeitem" aria-live="assertive"'+' class="select2-results__option"></li>');var e=this.options.get("translations").get(b.message);d.append(c(e(b.args)));d[0].className+=" select2-results__message";this.$results.append(d)};c.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()};c.prototype.append=function(a){this.hideLoading();var b=[];if(a.results==null||a.results.length===0){if(this.$results.children().length===0){this.trigger("results:message",{message:"noResults"})}return}a.results=this.sort(a.results);for(var c=0;c<a.results.length;c++){var d=a.results[c];var e=this.option(d);b.push(e)}this.$results.append(b)};c.prototype.position=function(a,b){var c=b.find(".select2-results");c.append(a)};c.prototype.sort=function(a){var b=this.options.get("sorter");return b(a)};c.prototype.highlightFirstItem=function(){var a=this.$results.find(".select2-results__option[aria-selected]");var b=a.filter("[aria-selected=true]");if(b.length>0){b.first().trigger("mouseenter")}else{a.first().trigger("mouseenter")}this.ensureHighlightVisible()};c.prototype.setClasses=function(){var b=this;this.data.current(function(c){var d=a.map(c,function(a){return a.id.toString()});var e=b.$results.find(".select2-results__option[aria-selected]");e.each(function(){var b=a(this);var c=a.data(this,"data");var e=""+c.id;if(c.element!=null&&c.element.selected||c.element==null&&a.inArray(e,d)>-1){b.attr("aria-selected","true")}else{b.attr("aria-selected","false")}})})};c.prototype.showLoading=function(a){this.hideLoading();var b=this.options.get("translations").get("searching");var c={disabled:true,loading:true,text:b(a)};var d=this.option(c);d.className+=" loading-results";this.$results.prepend(d)};c.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()};c.prototype.option=function(b){var c=document.createElement("li");c.className="select2-results__option";var d={role:"treeitem","aria-selected":"false"};if(b.disabled){delete d["aria-selected"];d["aria-disabled"]="true"}if(b.id==null){delete d["aria-selected"]}if(b._resultId!=null){c.id=b._resultId}if(b.title){c.title=b.title}if(b.children){d.role="group";d["aria-label"]=b.text;delete d["aria-selected"]}for(var e in d){var f=d[e];c.setAttribute(e,f)}if(b.children){var g=a(c);var h=document.createElement("strong");h.className="select2-results__group";var i=a(h);this.template(b,h);var j=[];for(var k=0;k<b.children.length;k++){var l=b.children[k];var m=this.option(l);j.push(m)}var n=a("<ul></ul>",{"class":"select2-results__options select2-results__options--nested"});n.append(j);g.append(h);g.append(n)}else{this.template(b,c)}a.data(c,"data",b);return c};c.prototype.bind=function(b,c){var d=this;var e=b.id+"-results";this.$results.attr("id",e);b.on("results:all",function(a){d.clear();d.append(a.data);if(b.isOpen()){d.setClasses();d.highlightFirstItem()}});b.on("results:append",function(a){d.append(a.data);if(b.isOpen()){d.setClasses()}});b.on("query",function(a){d.hideMessages();d.showLoading(a)});b.on("select",function(){if(!b.isOpen()){return}d.setClasses();d.highlightFirstItem()});b.on("unselect",function(){if(!b.isOpen()){return}d.setClasses();d.highlightFirstItem()});b.on("open",function(){d.$results.attr("aria-expanded","true");d.$results.attr("aria-hidden","false");d.setClasses();d.ensureHighlightVisible()});b.on("close",function(){d.$results.attr("aria-expanded","false");d.$results.attr("aria-hidden","true");d.$results.removeAttr("aria-activedescendant")});b.on("results:toggle",function(){var a=d.getHighlightedResults();if(a.length===0){return}a.trigger("mouseup")});b.on("results:select",function(){var a=d.getHighlightedResults();if(a.length===0){return}var b=a.data("data");if(a.attr("aria-selected")=="true"){d.trigger("close",{})}else{d.trigger("select",{data:b})}});b.on("results:previous",function(){var a=d.getHighlightedResults();var b=d.$results.find("[aria-selected]");var c=b.index(a);if(c===0){return}var e=c-1;if(a.length===0){e=0}var f=b.eq(e);f.trigger("mouseenter");var g=d.$results.offset().top;var h=f.offset().top;var i=d.$results.scrollTop()+(h-g);if(e===0){d.$results.scrollTop(0)}else if(h-g<0){d.$results.scrollTop(i)}});b.on("results:next",function(){var a=d.getHighlightedResults();var b=d.$results.find("[aria-selected]");var c=b.index(a);var e=c+1;if(e>=b.length){return}var f=b.eq(e);f.trigger("mouseenter");var g=d.$results.offset().top+d.$results.outerHeight(false);var h=f.offset().top+f.outerHeight(false);var i=d.$results.scrollTop()+h-g;if(e===0){d.$results.scrollTop(0)}else if(h>g){d.$results.scrollTop(i)}});b.on("results:focus",function(a){a.element.addClass("select2-results__option--highlighted")});b.on("results:message",function(a){d.displayMessage(a)});if(a.fn.mousewheel){this.$results.on("mousewheel",function(a){var b=d.$results.scrollTop();var c=d.$results.get(0).scrollHeight-b+a.deltaY;var e=a.deltaY>0&&b-a.deltaY<=0;var f=a.deltaY<0&&c<=d.$results.height();if(e){d.$results.scrollTop(0);a.preventDefault();a.stopPropagation()}else if(f){d.$results.scrollTop(d.$results.get(0).scrollHeight-d.$results.height());a.preventDefault();a.stopPropagation()}})}this.$results.on("mouseup",".select2-results__option[aria-selected]",function(b){var c=a(this);var e=c.data("data");if(c.attr("aria-selected")==="true"){if(d.options.get("multiple")){d.trigger("unselect",{originalEvent:b,data:e})}else{d.trigger("close",{})}return}d.trigger("select",{originalEvent:b,data:e})});this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(b){var c=a(this).data("data");d.getHighlightedResults().removeClass("select2-results__option--highlighted");d.trigger("results:focus",{data:c,element:a(this)})})};c.prototype.getHighlightedResults=function(){var a=this.$results.find(".select2-results__option--highlighted");return a};c.prototype.destroy=function(){this.$results.remove()};c.prototype.ensureHighlightVisible=function(){var a=this.getHighlightedResults();if(a.length===0){return}var b=this.$results.find("[aria-selected]");var c=b.index(a);var d=this.$results.offset().top;var e=a.offset().top;var f=this.$results.scrollTop()+(e-d);var g=e-d;f-=a.outerHeight(false)*2;if(c<=2){this.$results.scrollTop(0)}else if(g>this.$results.outerHeight()||g<0){this.$results.scrollTop(f)}};c.prototype.template=function(b,c){var d=this.options.get("templateResult");var e=this.options.get("escapeMarkup");var f=d(b,c);if(f==null){c.style.display="none"}else if(typeof f==="string"){c.innerHTML=e(f)}else{a(c).append(f)}};return c});b.define("select2/keys",[],function(){var a={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};return a});b.define("select2/selection/base",["jquery","../utils","../keys"],function(a,b,c){function d(a,b){this.$element=a;this.options=b;d.__super__.constructor.call(this)}b.Extend(d,b.Observable);d.prototype.render=function(){var b=a('<span class="select2-selection" role="combobox" '+' aria-haspopup="true" aria-expanded="false">'+"</span>");this._tabindex=0;if(this.$element.data("old-tabindex")!=null){this._tabindex=this.$element.data("old-tabindex")}else if(this.$element.attr("tabindex")!=null){this._tabindex=this.$element.attr("tabindex")}b.attr("title",this.$element.attr("title"));b.attr("tabindex",this._tabindex);this.$selection=b;return b};d.prototype.bind=function(a,b){var d=this;var e=a.id+"-container";var f=a.id+"-results";this.container=a;this.$selection.on("focus",function(a){d.trigger("focus",a)});this.$selection.on("blur",function(a){d._handleBlur(a)});this.$selection.on("keydown",function(a){d.trigger("keypress",a);if(a.which===c.SPACE){a.preventDefault()}});a.on("results:focus",function(a){d.$selection.attr("aria-activedescendant",a.data._resultId)});a.on("selection:update",function(a){d.update(a.data)});a.on("open",function(){d.$selection.attr("aria-expanded","true");d.$selection.attr("aria-owns",f);d._attachCloseHandler(a)});a.on("close",function(){d.$selection.attr("aria-expanded","false");d.$selection.removeAttr("aria-activedescendant");d.$selection.removeAttr("aria-owns");d.$selection.focus();d._detachCloseHandler(a)});a.on("enable",function(){d.$selection.attr("tabindex",d._tabindex)});a.on("disable",function(){d.$selection.attr("tabindex","-1")})};d.prototype._handleBlur=function(b){var c=this;window.setTimeout(function(){if(document.activeElement==c.$selection[0]||a.contains(c.$selection[0],document.activeElement)){return}c.trigger("blur",b)},1)};d.prototype._attachCloseHandler=function(b){var c=this;a(document.body).on("mousedown.select2."+b.id,function(b){var c=a(b.target);var d=c.closest(".select2");var e=a(".select2.select2-container--open");e.each(function(){var b=a(this);if(this==d[0]){return}var c=b.data("element");c.select2("close")})})};d.prototype._detachCloseHandler=function(b){a(document.body).off("mousedown.select2."+b.id)};d.prototype.position=function(a,b){var c=b.find(".selection");c.append(a)};d.prototype.destroy=function(){this._detachCloseHandler(this.container)};d.prototype.update=function(a){throw new Error("The `update` method must be defined in child classes.")};return d});b.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(a,b,c,d){function e(){e.__super__.constructor.apply(this,arguments)}c.Extend(e,b);e.prototype.render=function(){var a=e.__super__.render.call(this);a.addClass("select2-selection--single");a.html('<span class="select2-selection__rendered"></span>'+'<span class="select2-selection__arrow" role="presentation">'+'<b role="presentation"></b>'+"</span>");return a};e.prototype.bind=function(a,b){var c=this;e.__super__.bind.apply(this,arguments);var d=a.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",d);this.$selection.attr("aria-labelledby",d);this.$selection.on("mousedown",function(a){if(a.which!==1){return}c.trigger("toggle",{originalEvent:a})});this.$selection.on("focus",function(a){});this.$selection.on("blur",function(a){});a.on("focus",function(b){if(!a.isOpen()){c.$selection.focus()}});a.on("selection:update",function(a){c.update(a.data)})};e.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()};e.prototype.display=function(a,b){var c=this.options.get("templateSelection");var d=this.options.get("escapeMarkup");return d(c(a,b))};e.prototype.selectionContainer=function(){return a("<span></span>")};e.prototype.update=function(a){if(a.length===0){this.clear();return}var b=a[0];var c=this.$selection.find(".select2-selection__rendered");var d=this.display(b,c);c.empty().append(d);c.prop("title",b.title||b.text)};return e});b.define("select2/selection/multiple",["jquery","./base","../utils"],function(a,b,c){function d(a,b){d.__super__.constructor.apply(this,arguments)}c.Extend(d,b);d.prototype.render=function(){var a=d.__super__.render.call(this);a.addClass("select2-selection--multiple");a.html('<ul class="select2-selection__rendered"></ul>');return a};d.prototype.bind=function(b,c){var e=this;d.__super__.bind.apply(this,arguments);this.$selection.on("click",function(a){e.trigger("toggle",{originalEvent:a})});this.$selection.on("click",".select2-selection__choice__remove",function(b){if(e.options.get("disabled")){return}var c=a(this);var d=c.parent();var f=d.data("data");e.trigger("unselect",{originalEvent:b,data:f})})};d.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()};d.prototype.display=function(a,b){var c=this.options.get("templateSelection");var d=this.options.get("escapeMarkup");return d(c(a,b))};d.prototype.selectionContainer=function(){var b=a('<li class="select2-selection__choice">'+'<span class="select2-selection__choice__remove" role="presentation">'+"&times;"+"</span>"+"</li>");return b};d.prototype.update=function(a){this.clear();if(a.length===0){return}var b=[];for(var d=0;d<a.length;d++){var e=a[d];var f=this.selectionContainer();var g=this.display(e,f);f.append(g);f.prop("title",e.title||e.text);f.data("data",e);b.push(f)}var h=this.$selection.find(".select2-selection__rendered");c.appendMany(h,b)};return d});b.define("select2/selection/placeholder",["../utils"],function(a){function b(a,b,c){this.placeholder=this.normalizePlaceholder(c.get("placeholder"));a.call(this,b,c)}b.prototype.normalizePlaceholder=function(a,b){if(typeof b==="string"){b={id:"",text:b}}return b};b.prototype.createPlaceholder=function(a,b){var c=this.selectionContainer();c.html(this.display(b));c.addClass("select2-selection__placeholder").removeClass("select2-selection__choice");return c};b.prototype.update=function(a,b){var c=b.length==1&&b[0].id!=this.placeholder.id;var d=b.length>1;if(d||c){return a.call(this,b)}this.clear();var e=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(e)};return b});b.define("select2/selection/allowClear",["jquery","../keys"],function(a,b){function c(){}c.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c);if(this.placeholder==null){if(this.options.get("debug")&&window.console&&console.error){console.error("Select2: The `allowClear` option should be used in combination "+"with the `placeholder` option.")}}this.$selection.on("mousedown",".select2-selection__clear",function(a){d._handleClear(a)});b.on("keypress",function(a){d._handleKeyboardClear(a,b)})};c.prototype._handleClear=function(a,b){if(this.options.get("disabled")){return}var c=this.$selection.find(".select2-selection__clear");if(c.length===0){return}b.stopPropagation();var d=c.data("data");for(var e=0;e<d.length;e++){var f={data:d[e]};this.trigger("unselect",f);if(f.prevented){return}}this.$element.val(this.placeholder.id).trigger("change");this.trigger("toggle",{})};c.prototype._handleKeyboardClear=function(a,c,d){if(d.isOpen()){return}if(c.which==b.DELETE||c.which==b.BACKSPACE){this._handleClear(c)}};c.prototype.update=function(b,c){b.call(this,c);if(this.$selection.find(".select2-selection__placeholder").length>0||c.length===0){return}var d=a('<span class="select2-selection__clear">'+"&times;"+"</span>");d.data("data",c);this.$selection.find(".select2-selection__rendered").prepend(d)};return c});b.define("select2/selection/search",["jquery","../utils","../keys"],function(a,b,c){function d(a,b,c){a.call(this,b,c)}d.prototype.render=function(b){var c=a('<li class="select2-search select2-search--inline">'+'<input class="select2-search__field" type="search" tabindex="-1"'+' autocomplete="off" autocorrect="off" autocapitalize="off"'+' spellcheck="false" role="textbox" aria-autocomplete="list" />'+"</li>");this.$searchContainer=c;this.$search=c.find("input");var d=b.call(this);this._transferTabIndex();return d};d.prototype.bind=function(a,b,d){var e=this;a.call(this,b,d);b.on("open",function(){e.$search.trigger("focus")});b.on("close",function(){e.$search.val("");e.$search.removeAttr("aria-activedescendant");e.$search.trigger("focus")});b.on("enable",function(){e.$search.prop("disabled",false);e._transferTabIndex()});b.on("disable",function(){e.$search.prop("disabled",true)});b.on("focus",function(a){e.$search.trigger("focus")});b.on("results:focus",function(a){e.$search.attr("aria-activedescendant",a.id)});this.$selection.on("focusin",".select2-search--inline",function(a){e.trigger("focus",a)});this.$selection.on("focusout",".select2-search--inline",function(a){e._handleBlur(a)});this.$selection.on("keydown",".select2-search--inline",function(a){a.stopPropagation();e.trigger("keypress",a);e._keyUpPrevented=a.isDefaultPrevented();var b=a.which;if(b===c.BACKSPACE&&e.$search.val()===""){var d=e.$searchContainer.prev(".select2-selection__choice");if(d.length>0){var f=d.data("data");e.searchRemoveChoice(f);a.preventDefault()}}});var f=document.documentMode;var g=f&&f<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(a){if(g){e.$selection.off("input.search input.searchcheck");return}e.$selection.off("keyup.search")});this.$selection.on("keyup.search input.search",".select2-search--inline",function(a){if(g&&a.type==="input"){e.$selection.off("input.search input.searchcheck");return;
}var b=a.which;if(b==c.SHIFT||b==c.CTRL||b==c.ALT){return}if(b==c.TAB){return}e.handleSearch(a)})};d.prototype._transferTabIndex=function(a){this.$search.attr("tabindex",this.$selection.attr("tabindex"));this.$selection.attr("tabindex","-1")};d.prototype.createPlaceholder=function(a,b){this.$search.attr("placeholder",b.text)};d.prototype.update=function(a,b){var c=this.$search[0]==document.activeElement;this.$search.attr("placeholder","");a.call(this,b);this.$selection.find(".select2-selection__rendered").append(this.$searchContainer);this.resizeSearch();if(c){this.$search.focus()}};d.prototype.handleSearch=function(){this.resizeSearch();if(!this._keyUpPrevented){var a=this.$search.val();this.trigger("query",{term:a})}this._keyUpPrevented=false};d.prototype.searchRemoveChoice=function(a,b){this.trigger("unselect",{data:b});this.$search.val(b.text);this.handleSearch()};d.prototype.resizeSearch=function(){this.$search.css("width","25px");var a="";if(this.$search.attr("placeholder")!==""){a=this.$selection.find(".select2-selection__rendered").innerWidth()}else{var b=this.$search.val().length+1;a=b*.75+"em"}this.$search.css("width",a)};return d});b.define("select2/selection/eventRelay",["jquery"],function(a){function b(){}b.prototype.bind=function(b,c,d){var e=this;var f=["open","opening","close","closing","select","selecting","unselect","unselecting"];var g=["opening","closing","selecting","unselecting"];b.call(this,c,d);c.on("*",function(b,c){if(a.inArray(b,f)===-1){return}c=c||{};var d=a.Event("select2:"+b,{params:c});e.$element.trigger(d);if(a.inArray(b,g)===-1){return}c.prevented=d.isDefaultPrevented()})};return b});b.define("select2/translation",["jquery","require"],function(a,b){function c(a){this.dict=a||{}}c.prototype.all=function(){return this.dict};c.prototype.get=function(a){return this.dict[a]};c.prototype.extend=function(b){this.dict=a.extend({},b.all(),this.dict)};c._cache={};c.loadPath=function(a){if(!(a in c._cache)){var d=b(a);c._cache[a]=d}return new c(c._cache[a])};return c});b.define("select2/diacritics",[],function(){var a={"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};return a});b.define("select2/data/base",["../utils"],function(a){function b(a,c){b.__super__.constructor.call(this)}a.Extend(b,a.Observable);b.prototype.current=function(a){throw new Error("The `current` method must be defined in child classes.")};b.prototype.query=function(a,b){throw new Error("The `query` method must be defined in child classes.")};b.prototype.bind=function(a,b){};b.prototype.destroy=function(){};b.prototype.generateResultId=function(b,c){var d=b.id+"-result-";d+=a.generateChars(4);if(c.id!=null){d+="-"+c.id.toString()}else{d+="-"+a.generateChars(4)}return d};return b});b.define("select2/data/select",["./base","../utils","jquery"],function(a,b,c){function d(a,b){this.$element=a;this.options=b;d.__super__.constructor.call(this)}b.Extend(d,a);d.prototype.current=function(a){var b=[];var d=this;this.$element.find(":selected").each(function(){var a=c(this);var e=d.item(a);b.push(e)});a(b)};d.prototype.select=function(a){var b=this;a.selected=true;if(c(a.element).is("option")){a.element.selected=true;this.$element.trigger("change");return}if(this.$element.prop("multiple")){this.current(function(d){var e=[];a=[a];a.push.apply(a,d);for(var f=0;f<a.length;f++){var g=a[f].id;if(c.inArray(g,e)===-1){e.push(g)}}b.$element.val(e);b.$element.trigger("change")})}else{var d=a.id;this.$element.val(d);this.$element.trigger("change")}};d.prototype.unselect=function(a){var b=this;if(!this.$element.prop("multiple")){return}a.selected=false;if(c(a.element).is("option")){a.element.selected=false;this.$element.trigger("change");return}this.current(function(d){var e=[];for(var f=0;f<d.length;f++){var g=d[f].id;if(g!==a.id&&c.inArray(g,e)===-1){e.push(g)}}b.$element.val(e);b.$element.trigger("change")})};d.prototype.bind=function(a,b){var c=this;this.container=a;a.on("select",function(a){c.select(a.data)});a.on("unselect",function(a){c.unselect(a.data)})};d.prototype.destroy=function(){this.$element.find("*").each(function(){c.removeData(this,"data")})};d.prototype.query=function(a,b){var d=[];var e=this;var f=this.$element.children();f.each(function(){var b=c(this);if(!b.is("option")&&!b.is("optgroup")){return}var f=e.item(b);var g=e.matches(a,f);if(g!==null){d.push(g)}});b({results:d})};d.prototype.addOptions=function(a){b.appendMany(this.$element,a)};d.prototype.option=function(a){var b;if(a.children){b=document.createElement("optgroup");b.label=a.text}else{b=document.createElement("option");if(b.textContent!==undefined){b.textContent=a.text}else{b.innerText=a.text}}if(a.id){b.value=a.id}if(a.disabled){b.disabled=true}if(a.selected){b.selected=true}if(a.title){b.title=a.title}var d=c(b);var e=this._normalizeItem(a);e.element=b;c.data(b,"data",e);return d};d.prototype.item=function(a){var b={};b=c.data(a[0],"data");if(b!=null){return b}if(a.is("option")){b={id:a.val(),text:a.text(),disabled:a.prop("disabled"),selected:a.prop("selected"),title:a.prop("title")}}else if(a.is("optgroup")){b={text:a.prop("label"),children:[],title:a.prop("title")};var d=a.children("option");var e=[];for(var f=0;f<d.length;f++){var g=c(d[f]);var h=this.item(g);e.push(h)}b.children=e}b=this._normalizeItem(b);b.element=a[0];c.data(a[0],"data",b);return b};d.prototype._normalizeItem=function(a){if(!c.isPlainObject(a)){a={id:a,text:a}}a=c.extend({},{text:""},a);var b={selected:false,disabled:false};if(a.id!=null){a.id=a.id.toString()}if(a.text!=null){a.text=a.text.toString()}if(a._resultId==null&&a.id&&this.container!=null){a._resultId=this.generateResultId(this.container,a)}return c.extend({},b,a)};d.prototype.matches=function(a,b){var c=this.options.get("matcher");return c(a,b)};return d});b.define("select2/data/array",["./select","../utils","jquery"],function(a,b,c){function d(a,b){var c=b.get("data")||[];d.__super__.constructor.call(this,a,b);this.addOptions(this.convertToOptions(c))}b.Extend(d,a);d.prototype.select=function(a){var b=this.$element.find("option").filter(function(b,c){return c.value==a.id.toString()});if(b.length===0){b=this.option(a);this.addOptions(b)}d.__super__.select.call(this,a)};d.prototype.convertToOptions=function(a){var d=this;var e=this.$element.find("option");var f=e.map(function(){return d.item(c(this)).id}).get();var g=[];function h(a){return function(){return c(this).val()==a.id}}for(var i=0;i<a.length;i++){var j=this._normalizeItem(a[i]);if(c.inArray(j.id,f)>=0){var k=e.filter(h(j));var l=this.item(k);var m=c.extend(true,{},j,l);var n=this.option(m);k.replaceWith(n);continue}var o=this.option(j);if(j.children){var p=this.convertToOptions(j.children);b.appendMany(o,p)}g.push(o)}return g};return d});b.define("select2/data/ajax",["./array","../utils","jquery"],function(a,b,c){function d(a,b){this.ajaxOptions=this._applyDefaults(b.get("ajax"));if(this.ajaxOptions.processResults!=null){this.processResults=this.ajaxOptions.processResults}d.__super__.constructor.call(this,a,b)}b.Extend(d,a);d.prototype._applyDefaults=function(a){var b={data:function(a){return c.extend({},a,{q:a.term})},transport:function(a,b,d){var e=c.ajax(a);e.then(b);e.fail(d);return e}};return c.extend({},b,a,true)};d.prototype.processResults=function(a){return a};d.prototype.query=function(a,b){var d=[];var e=this;if(this._request!=null){if(c.isFunction(this._request.abort)){this._request.abort()}this._request=null}var f=c.extend({type:"GET"},this.ajaxOptions);if(typeof f.url==="function"){f.url=f.url.call(this.$element,a)}if(typeof f.data==="function"){f.data=f.data.call(this.$element,a)}function g(){var d=f.transport(f,function(d){var f=e.processResults(d,a);if(e.options.get("debug")&&window.console&&console.error){if(!f||!f.results||!c.isArray(f.results)){console.error("Select2: The AJAX results did not return an array in the "+"`results` key of the response.")}}b(f)},function(){if(d.status&&d.status==="0"){return}e.trigger("results:message",{message:"errorLoading"})});e._request=d}if(this.ajaxOptions.delay&&a.term!=null){if(this._queryTimeout){window.clearTimeout(this._queryTimeout)}this._queryTimeout=window.setTimeout(g,this.ajaxOptions.delay)}else{g()}};return d});b.define("select2/data/tags",["jquery"],function(a){function b(b,c,d){var e=d.get("tags");var f=d.get("createTag");if(f!==undefined){this.createTag=f}var g=d.get("insertTag");if(g!==undefined){this.insertTag=g}b.call(this,c,d);if(a.isArray(e)){for(var h=0;h<e.length;h++){var i=e[h];var j=this._normalizeItem(i);var k=this.option(j);this.$element.append(k)}}}b.prototype.query=function(a,b,c){var d=this;this._removeOldTags();if(b.term==null||b.page!=null){a.call(this,b,c);return}function e(a,f){var g=a.results;for(var h=0;h<g.length;h++){var i=g[h];var j=i.children!=null&&!e({results:i.children},true);var k=i.text===b.term;if(k||j){if(f){return false}a.data=g;c(a);return}}if(f){return true}var l=d.createTag(b);if(l!=null){var m=d.option(l);m.attr("data-select2-tag",true);d.addOptions([m]);d.insertTag(g,l)}a.results=g;c(a)}a.call(this,b,e)};b.prototype.createTag=function(b,c){var d=a.trim(c.term);if(d===""){return null}return{id:d,text:d}};b.prototype.insertTag=function(a,b,c){b.unshift(c)};b.prototype._removeOldTags=function(b){var c=this._lastTag;var d=this.$element.find("option[data-select2-tag]");d.each(function(){if(this.selected){return}a(this).remove()})};return b});b.define("select2/data/tokenizer",["jquery"],function(a){function b(a,b,c){var d=c.get("tokenizer");if(d!==undefined){this.tokenizer=d}a.call(this,b,c)}b.prototype.bind=function(a,b,c){a.call(this,b,c);this.$search=b.dropdown.$search||b.selection.$search||c.find(".select2-search__field")};b.prototype.query=function(b,c,d){var e=this;function f(b){var c=e._normalizeItem(b);var d=e.$element.find("option").filter(function(){return a(this).val()===c.id});if(!d.length){var f=e.option(c);f.attr("data-select2-tag",true);e._removeOldTags();e.addOptions([f])}g(c)}function g(a){e.trigger("select",{data:a})}c.term=c.term||"";var h=this.tokenizer(c,this.options,f);if(h.term!==c.term){if(this.$search.length){this.$search.val(h.term);this.$search.focus()}c.term=h.term}b.call(this,c,d)};b.prototype.tokenizer=function(b,c,d,e){var f=d.get("tokenSeparators")||[];var g=c.term;var h=0;var i=this.createTag||function(a){return{id:a.term,text:a.term}};while(h<g.length){var j=g[h];if(a.inArray(j,f)===-1){h++;continue}var k=g.substr(0,h);var l=a.extend({},c,{term:k});var m=i(l);if(m==null){h++;continue}e(m);g=g.substr(h+1)||"";h=0}return{term:g}};return b});b.define("select2/data/minimumInputLength",[],function(){function a(a,b,c){this.minimumInputLength=c.get("minimumInputLength");a.call(this,b,c)}a.prototype.query=function(a,b,c){b.term=b.term||"";if(b.term.length<this.minimumInputLength){this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:b.term,params:b}});return}a.call(this,b,c)};return a});b.define("select2/data/maximumInputLength",[],function(){function a(a,b,c){this.maximumInputLength=c.get("maximumInputLength");a.call(this,b,c)}a.prototype.query=function(a,b,c){b.term=b.term||"";if(this.maximumInputLength>0&&b.term.length>this.maximumInputLength){this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:b.term,params:b}});return}a.call(this,b,c)};return a});b.define("select2/data/maximumSelectionLength",[],function(){function a(a,b,c){this.maximumSelectionLength=c.get("maximumSelectionLength");a.call(this,b,c)}a.prototype.query=function(a,b,c){var d=this;this.current(function(e){var f=e!=null?e.length:0;if(d.maximumSelectionLength>0&&f>=d.maximumSelectionLength){d.trigger("results:message",{message:"maximumSelected",args:{maximum:d.maximumSelectionLength}});return}a.call(d,b,c)})};return a});b.define("select2/dropdown",["jquery","./utils"],function(a,b){function c(a,b){this.$element=a;this.options=b;c.__super__.constructor.call(this)}b.Extend(c,b.Observable);c.prototype.render=function(){var b=a('<span class="select2-dropdown">'+'<span class="select2-results"></span>'+"</span>");b.attr("dir",this.options.get("dir"));this.$dropdown=b;return b};c.prototype.bind=function(){};c.prototype.position=function(a,b){};c.prototype.destroy=function(){this.$dropdown.remove()};return c});b.define("select2/dropdown/search",["jquery","../utils"],function(a,b){function c(){}c.prototype.render=function(b){var c=b.call(this);var d=a('<span class="select2-search select2-search--dropdown">'+'<input class="select2-search__field" type="search" tabindex="-1"'+' autocomplete="off" autocorrect="off" autocapitalize="off"'+' spellcheck="false" role="textbox" />'+"</span>");this.$searchContainer=d;this.$search=d.find("input");c.prepend(d);return c};c.prototype.bind=function(b,c,d){var e=this;b.call(this,c,d);this.$search.on("keydown",function(a){e.trigger("keypress",a);e._keyUpPrevented=a.isDefaultPrevented()});this.$search.on("input",function(b){a(this).off("keyup")});this.$search.on("keyup input",function(a){e.handleSearch(a)});c.on("open",function(){e.$search.attr("tabindex",0);e.$search.focus();window.setTimeout(function(){e.$search.focus()},0)});c.on("close",function(){e.$search.attr("tabindex",-1);e.$search.val("")});c.on("focus",function(){if(c.isOpen()){e.$search.focus()}});c.on("results:all",function(a){if(a.query.term==null||a.query.term===""){var b=e.showSearch(a);if(b){e.$searchContainer.removeClass("select2-search--hide")}else{e.$searchContainer.addClass("select2-search--hide")}}})};c.prototype.handleSearch=function(a){if(!this._keyUpPrevented){var b=this.$search.val();this.trigger("query",{term:b})}this._keyUpPrevented=false};c.prototype.showSearch=function(a,b){return true};return c});b.define("select2/dropdown/hidePlaceholder",[],function(){function a(a,b,c,d){this.placeholder=this.normalizePlaceholder(c.get("placeholder"));a.call(this,b,c,d)}a.prototype.append=function(a,b){b.results=this.removePlaceholder(b.results);a.call(this,b)};a.prototype.normalizePlaceholder=function(a,b){if(typeof b==="string"){b={id:"",text:b}}return b};a.prototype.removePlaceholder=function(a,b){var c=b.slice(0);for(var d=b.length-1;d>=0;d--){var e=b[d];if(this.placeholder.id===e.id){c.splice(d,1)}}return c};return a});b.define("select2/dropdown/infiniteScroll",["jquery"],function(a){function b(a,b,c,d){this.lastParams={};a.call(this,b,c,d);this.$loadingMore=this.createLoadingMore();this.loading=false}b.prototype.append=function(a,b){this.$loadingMore.remove();this.loading=false;a.call(this,b);if(this.showLoadingMore(b)){this.$results.append(this.$loadingMore)}};b.prototype.bind=function(b,c,d){var e=this;b.call(this,c,d);c.on("query",function(a){e.lastParams=a;e.loading=true});c.on("query:append",function(a){e.lastParams=a;e.loading=true});this.$results.on("scroll",function(){var b=a.contains(document.documentElement,e.$loadingMore[0]);if(e.loading||!b){return}var c=e.$results.offset().top+e.$results.outerHeight(false);var d=e.$loadingMore.offset().top+e.$loadingMore.outerHeight(false);if(c+50>=d){e.loadMore()}})};b.prototype.loadMore=function(){this.loading=true;var b=a.extend({},{page:1},this.lastParams);b.page++;this.trigger("query:append",b)};b.prototype.showLoadingMore=function(a,b){return b.pagination&&b.pagination.more};b.prototype.createLoadingMore=function(){var b=a("<li "+'class="select2-results__option select2-results__option--load-more"'+'role="treeitem" aria-disabled="true"></li>');var c=this.options.get("translations").get("loadingMore");b.html(c(this.lastParams));return b};return b});b.define("select2/dropdown/attachBody",["jquery","../utils"],function(a,b){function c(b,c,d){this.$dropdownParent=d.get("dropdownParent")||a(document.body);b.call(this,c,d)}c.prototype.bind=function(a,b,c){var d=this;var e=false;a.call(this,b,c);b.on("open",function(){d._showDropdown();d._attachPositioningHandler(b);if(!e){e=true;b.on("results:all",function(){d._positionDropdown();d._resizeDropdown()});b.on("results:append",function(){d._positionDropdown();d._resizeDropdown()})}});b.on("close",function(){d._hideDropdown();d._detachPositioningHandler(b)});this.$dropdownContainer.on("mousedown",function(a){a.stopPropagation()})};c.prototype.destroy=function(a){a.call(this);this.$dropdownContainer.remove()};c.prototype.position=function(a,b,c){b.attr("class",c.attr("class"));b.removeClass("select2");b.addClass("select2-container--open");b.css({position:"absolute",top:-999999});this.$container=c};c.prototype.render=function(b){var c=a("<span></span>");var d=b.call(this);c.append(d);this.$dropdownContainer=c;return c};c.prototype._hideDropdown=function(a){this.$dropdownContainer.detach()};c.prototype._attachPositioningHandler=function(c,d){var e=this;var f="scroll.select2."+d.id;var g="resize.select2."+d.id;var h="orientationchange.select2."+d.id;var i=this.$container.parents().filter(b.hasScroll);i.each(function(){a(this).data("select2-scroll-position",{x:a(this).scrollLeft(),y:a(this).scrollTop()})});i.on(f,function(b){var c=a(this).data("select2-scroll-position");a(this).scrollTop(c.y)});a(window).on(f+" "+g+" "+h,function(a){e._positionDropdown();e._resizeDropdown()})};c.prototype._detachPositioningHandler=function(c,d){var e="scroll.select2."+d.id;var f="resize.select2."+d.id;var g="orientationchange.select2."+d.id;var h=this.$container.parents().filter(b.hasScroll);h.off(e);a(window).off(e+" "+f+" "+g)};c.prototype._positionDropdown=function(){var b=a(window);var c=this.$dropdown.hasClass("select2-dropdown--above");var d=this.$dropdown.hasClass("select2-dropdown--below");var e=null;var f=this.$container.offset();f.bottom=f.top+this.$container.outerHeight(false);var g={height:this.$container.outerHeight(false)};g.top=f.top;g.bottom=f.top+g.height;var h={height:this.$dropdown.outerHeight(false)};var i={top:b.scrollTop(),bottom:b.scrollTop()+b.height()};var j=i.top<f.top-h.height;var k=i.bottom>f.bottom+h.height;var l={left:f.left,top:g.bottom};var m=this.$dropdownParent;if(m.css("position")==="static"){m=m.offsetParent()}var n=m.offset();l.top-=n.top;l.left-=n.left;if(!c&&!d){e="below"}if(!k&&j&&!c){e="above"}else if(!j&&k&&c){e="below"}if(e=="above"||c&&e!=="below"){l.top=g.top-n.top-h.height}if(e!=null){this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+e);this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+e)}this.$dropdownContainer.css(l)};c.prototype._resizeDropdown=function(){var a={width:this.$container.outerWidth(false)+"px"};if(this.options.get("dropdownAutoWidth")){a.minWidth=a.width;a.position="relative";a.width="auto"}this.$dropdown.css(a)};c.prototype._showDropdown=function(a){this.$dropdownContainer.appendTo(this.$dropdownParent);this._positionDropdown();this._resizeDropdown()};return c});b.define("select2/dropdown/minimumResultsForSearch",[],function(){function a(b){var c=0;for(var d=0;d<b.length;d++){var e=b[d];if(e.children){c+=a(e.children)}else{c++}}return c}function b(a,b,c,d){this.minimumResultsForSearch=c.get("minimumResultsForSearch");if(this.minimumResultsForSearch<0){this.minimumResultsForSearch=Infinity}a.call(this,b,c,d)}b.prototype.showSearch=function(b,c){if(a(c.data.results)<this.minimumResultsForSearch){return false}return b.call(this,c)};return b});b.define("select2/dropdown/selectOnClose",[],function(){function a(){}a.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c);b.on("close",function(a){d._handleSelectOnClose(a)})};a.prototype._handleSelectOnClose=function(a,b){if(b&&b.originalSelect2Event!=null){var c=b.originalSelect2Event;if(c._type==="select"||c._type==="unselect"){return}}var d=this.getHighlightedResults();if(d.length<1){return}var e=d.data("data");if(e.element!=null&&e.element.selected||e.element==null&&e.selected){return}this.trigger("select",{data:e})};return a});b.define("select2/dropdown/closeOnSelect",[],function(){function a(){}a.prototype.bind=function(a,b,c){var d=this;a.call(this,b,c);b.on("select",function(a){d._selectTriggered(a)});b.on("unselect",function(a){d._selectTriggered(a)})};a.prototype._selectTriggered=function(a,b){var c=b.originalEvent;if(c&&c.ctrlKey){return}this.trigger("close",{originalEvent:c,originalSelect2Event:b})};return a});b.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(a){var b=a.input.length-a.maximum;var c="Please delete "+b+" character";if(b!=1){c+="s"}return c},inputTooShort:function(a){var b=a.minimum-a.input.length;var c="Please enter "+b+" or more characters";return c},loadingMore:function(){return"Loading more results"},maximumSelected:function(a){var b="You can only select "+a.maximum+" item";if(a.maximum!=1){b+="s"}return b},noResults:function(){return"No results found"},searching:function(){return"Searching"}}});b.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C){function D(){this.reset()}D.prototype.apply=function(l){l=a.extend(true,{},this.defaults,l);if(l.dataAdapter==null){if(l.ajax!=null){l.dataAdapter=o}else if(l.data!=null){l.dataAdapter=n}else{l.dataAdapter=m}if(l.minimumInputLength>0){l.dataAdapter=j.Decorate(l.dataAdapter,r)}if(l.maximumInputLength>0){l.dataAdapter=j.Decorate(l.dataAdapter,s)}if(l.maximumSelectionLength>0){l.dataAdapter=j.Decorate(l.dataAdapter,t)}if(l.tags){l.dataAdapter=j.Decorate(l.dataAdapter,p)}if(l.tokenSeparators!=null||l.tokenizer!=null){l.dataAdapter=j.Decorate(l.dataAdapter,q)}if(l.query!=null){var C=b(l.amdBase+"compat/query");l.dataAdapter=j.Decorate(l.dataAdapter,C)}if(l.initSelection!=null){var D=b(l.amdBase+"compat/initSelection");l.dataAdapter=j.Decorate(l.dataAdapter,D)}}if(l.resultsAdapter==null){l.resultsAdapter=c;if(l.ajax!=null){l.resultsAdapter=j.Decorate(l.resultsAdapter,x)}if(l.placeholder!=null){l.resultsAdapter=j.Decorate(l.resultsAdapter,w)}if(l.selectOnClose){l.resultsAdapter=j.Decorate(l.resultsAdapter,A)}}if(l.dropdownAdapter==null){if(l.multiple){l.dropdownAdapter=u}else{var E=j.Decorate(u,v);l.dropdownAdapter=E}if(l.minimumResultsForSearch!==0){l.dropdownAdapter=j.Decorate(l.dropdownAdapter,z)}if(l.closeOnSelect){l.dropdownAdapter=j.Decorate(l.dropdownAdapter,B)}if(l.dropdownCssClass!=null||l.dropdownCss!=null||l.adaptDropdownCssClass!=null){var F=b(l.amdBase+"compat/dropdownCss");l.dropdownAdapter=j.Decorate(l.dropdownAdapter,F)}l.dropdownAdapter=j.Decorate(l.dropdownAdapter,y)}if(l.selectionAdapter==null){if(l.multiple){l.selectionAdapter=e}else{l.selectionAdapter=d}if(l.placeholder!=null){l.selectionAdapter=j.Decorate(l.selectionAdapter,f)}if(l.allowClear){l.selectionAdapter=j.Decorate(l.selectionAdapter,g)}if(l.multiple){l.selectionAdapter=j.Decorate(l.selectionAdapter,h)}if(l.containerCssClass!=null||l.containerCss!=null||l.adaptContainerCssClass!=null){var G=b(l.amdBase+"compat/containerCss");l.selectionAdapter=j.Decorate(l.selectionAdapter,G)}l.selectionAdapter=j.Decorate(l.selectionAdapter,i)}if(typeof l.language==="string"){if(l.language.indexOf("-")>0){var H=l.language.split("-");var I=H[0];l.language=[l.language,I]}else{l.language=[l.language]}}if(a.isArray(l.language)){var J=new k;l.language.push("en");var K=l.language;for(var L=0;L<K.length;L++){var M=K[L];var N={};try{N=k.loadPath(M)}catch(O){try{M=this.defaults.amdLanguageBase+M;N=k.loadPath(M)}catch(P){if(l.debug&&window.console&&console.warn){console.warn('Select2: The language file for "'+M+'" could not be '+"automatically loaded. A fallback will be used instead.")}continue}}J.extend(N)}l.translations=J}else{var Q=k.loadPath(this.defaults.amdLanguageBase+"en");var R=new k(l.language);R.extend(Q);l.translations=R}return l};D.prototype.reset=function(){function b(a){function b(a){return l[a]||a}return a.replace(/[^\u0000-\u007E]/g,b)}function c(d,e){if(a.trim(d.term)===""){return e}if(e.children&&e.children.length>0){var f=a.extend(true,{},e);for(var g=e.children.length-1;g>=0;g--){var h=e.children[g];var i=c(d,h);if(i==null){f.children.splice(g,1)}}if(f.children.length>0){return f}return c(d,f)}var j=b(e.text).toUpperCase();var k=b(d.term).toUpperCase();if(j.indexOf(k)>-1){return e}return null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:true,debug:false,dropdownAutoWidth:false,escapeMarkup:j.escapeMarkup,language:C,matcher:c,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:false,sorter:function(a){return a},templateResult:function(a){return a.text},templateSelection:function(a){return a.text},theme:"default",width:"resolve"}};D.prototype.set=function(b,c){var d=a.camelCase(b);var e={};e[d]=c;var f=j._convertData(e);a.extend(this.defaults,f)};var E=new D;return E;
});b.define("select2/options",["require","jquery","./defaults","./utils"],function(a,b,c,d){function e(b,e){this.options=b;if(e!=null){this.fromElement(e)}this.options=c.apply(this.options);if(e&&e.is("input")){var f=a(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=d.Decorate(this.options.dataAdapter,f)}}e.prototype.fromElement=function(a){var c=["select2"];if(this.options.multiple==null){this.options.multiple=a.prop("multiple")}if(this.options.disabled==null){this.options.disabled=a.prop("disabled")}if(this.options.language==null){if(a.prop("lang")){this.options.language=a.prop("lang").toLowerCase()}else if(a.closest("[lang]").prop("lang")){this.options.language=a.closest("[lang]").prop("lang")}}if(this.options.dir==null){if(a.prop("dir")){this.options.dir=a.prop("dir")}else if(a.closest("[dir]").prop("dir")){this.options.dir=a.closest("[dir]").prop("dir")}else{this.options.dir="ltr"}}a.prop("disabled",this.options.disabled);a.prop("multiple",this.options.multiple);if(a.data("select2Tags")){if(this.options.debug&&window.console&&console.warn){console.warn("Select2: The `data-select2-tags` attribute has been changed to "+'use the `data-data` and `data-tags="true"` attributes and will be '+"removed in future versions of Select2.")}a.data("data",a.data("select2Tags"));a.data("tags",true)}if(a.data("ajaxUrl")){if(this.options.debug&&window.console&&console.warn){console.warn("Select2: The `data-ajax-url` attribute has been changed to "+"`data-ajax--url` and support for the old attribute will be removed"+" in future versions of Select2.")}a.attr("ajax--url",a.data("ajaxUrl"));a.data("ajax--url",a.data("ajaxUrl"))}var e={};if(b.fn.jquery&&b.fn.jquery.substr(0,2)=="1."&&a[0].dataset){e=b.extend(true,{},a[0].dataset,a.data())}else{e=a.data()}var f=b.extend(true,{},e);f=d._convertData(f);for(var g in f){if(b.inArray(g,c)>-1){continue}if(b.isPlainObject(this.options[g])){b.extend(this.options[g],f[g])}else{this.options[g]=f[g]}}return this};e.prototype.get=function(a){return this.options[a]};e.prototype.set=function(a,b){this.options[a]=b};return e});b.define("select2/core",["jquery","./options","./utils","./keys"],function(a,b,c,d){var e=function(a,c){if(a.data("select2")!=null){a.data("select2").destroy()}this.$element=a;this.id=this._generateId(a);c=c||{};this.options=new b(c,a);e.__super__.constructor.call(this);var d=a.attr("tabindex")||0;a.data("old-tabindex",d);a.attr("tabindex","-1");var f=this.options.get("dataAdapter");this.dataAdapter=new f(a,this.options);var g=this.render();this._placeContainer(g);var h=this.options.get("selectionAdapter");this.selection=new h(a,this.options);this.$selection=this.selection.render();this.selection.position(this.$selection,g);var i=this.options.get("dropdownAdapter");this.dropdown=new i(a,this.options);this.$dropdown=this.dropdown.render();this.dropdown.position(this.$dropdown,g);var j=this.options.get("resultsAdapter");this.results=new j(a,this.options,this.dataAdapter);this.$results=this.results.render();this.results.position(this.$results,this.$dropdown);var k=this;this._bindAdapters();this._registerDomEvents();this._registerDataEvents();this._registerSelectionEvents();this._registerDropdownEvents();this._registerResultsEvents();this._registerEvents();this.dataAdapter.current(function(a){k.trigger("selection:update",{data:a})});a.addClass("select2-hidden-accessible");a.attr("aria-hidden","true");this._syncAttributes();a.data("select2",this)};c.Extend(e,c.Observable);e.prototype._generateId=function(a){var b="";if(a.attr("id")!=null){b=a.attr("id")}else if(a.attr("name")!=null){b=a.attr("name")+"-"+c.generateChars(2)}else{b=c.generateChars(4)}b=b.replace(/(:|\.|\[|\]|,)/g,"");b="select2-"+b;return b};e.prototype._placeContainer=function(a){a.insertAfter(this.$element);var b=this._resolveWidth(this.$element,this.options.get("width"));if(b!=null){a.css("width",b)}};e.prototype._resolveWidth=function(a,b){var c=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if(b=="resolve"){var d=this._resolveWidth(a,"style");if(d!=null){return d}return this._resolveWidth(a,"element")}if(b=="element"){var e=a.outerWidth(false);if(e<=0){return"auto"}return e+"px"}if(b=="style"){var f=a.attr("style");if(typeof f!=="string"){return null}var g=f.split(";");for(var h=0,i=g.length;h<i;h=h+1){var j=g[h].replace(/\s/g,"");var k=j.match(c);if(k!==null&&k.length>=1){return k[1]}}return null}return b};e.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container);this.selection.bind(this,this.$container);this.dropdown.bind(this,this.$container);this.results.bind(this,this.$container)};e.prototype._registerDomEvents=function(){var b=this;this.$element.on("change.select2",function(){b.dataAdapter.current(function(a){b.trigger("selection:update",{data:a})})});this.$element.on("focus.select2",function(a){b.trigger("focus",a)});this._syncA=c.bind(this._syncAttributes,this);this._syncS=c.bind(this._syncSubtree,this);if(this.$element[0].attachEvent){this.$element[0].attachEvent("onpropertychange",this._syncA)}var d=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(d!=null){this._observer=new d(function(c){a.each(c,b._syncA);a.each(c,b._syncS)});this._observer.observe(this.$element[0],{attributes:true,childList:true,subtree:false})}else if(this.$element[0].addEventListener){this.$element[0].addEventListener("DOMAttrModified",b._syncA,false);this.$element[0].addEventListener("DOMNodeInserted",b._syncS,false);this.$element[0].addEventListener("DOMNodeRemoved",b._syncS,false)}};e.prototype._registerDataEvents=function(){var a=this;this.dataAdapter.on("*",function(b,c){a.trigger(b,c)})};e.prototype._registerSelectionEvents=function(){var b=this;var c=["toggle","focus"];this.selection.on("toggle",function(){b.toggleDropdown()});this.selection.on("focus",function(a){b.focus(a)});this.selection.on("*",function(d,e){if(a.inArray(d,c)!==-1){return}b.trigger(d,e)})};e.prototype._registerDropdownEvents=function(){var a=this;this.dropdown.on("*",function(b,c){a.trigger(b,c)})};e.prototype._registerResultsEvents=function(){var a=this;this.results.on("*",function(b,c){a.trigger(b,c)})};e.prototype._registerEvents=function(){var a=this;this.on("open",function(){a.$container.addClass("select2-container--open")});this.on("close",function(){a.$container.removeClass("select2-container--open")});this.on("enable",function(){a.$container.removeClass("select2-container--disabled")});this.on("disable",function(){a.$container.addClass("select2-container--disabled")});this.on("blur",function(){a.$container.removeClass("select2-container--focus")});this.on("query",function(b){if(!a.isOpen()){a.trigger("open",{})}this.dataAdapter.query(b,function(c){a.trigger("results:all",{data:c,query:b})})});this.on("query:append",function(b){this.dataAdapter.query(b,function(c){a.trigger("results:append",{data:c,query:b})})});this.on("keypress",function(b){var c=b.which;if(a.isOpen()){if(c===d.ESC||c===d.TAB||c===d.UP&&b.altKey){a.close();b.preventDefault()}else if(c===d.ENTER){a.trigger("results:select",{});b.preventDefault()}else if(c===d.SPACE&&b.ctrlKey){a.trigger("results:toggle",{});b.preventDefault()}else if(c===d.UP){a.trigger("results:previous",{});b.preventDefault()}else if(c===d.DOWN){a.trigger("results:next",{});b.preventDefault()}}else{if(c===d.ENTER||c===d.SPACE||c===d.DOWN&&b.altKey){a.open();b.preventDefault()}}})};e.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled"));if(this.options.get("disabled")){if(this.isOpen()){this.close()}this.trigger("disable",{})}else{this.trigger("enable",{})}};e.prototype._syncSubtree=function(a,b){var c=false;var d=this;if(a&&a.target&&(a.target.nodeName!=="OPTION"&&a.target.nodeName!=="OPTGROUP")){return}if(!b){c=true}else if(b.addedNodes&&b.addedNodes.length>0){for(var e=0;e<b.addedNodes.length;e++){var f=b.addedNodes[e];if(f.selected){c=true}}}else if(b.removedNodes&&b.removedNodes.length>0){c=true}if(c){this.dataAdapter.current(function(a){d.trigger("selection:update",{data:a})})}};e.prototype.trigger=function(a,b){var c=e.__super__.trigger;var d={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(b===undefined){b={}}if(a in d){var f=d[a];var g={prevented:false,name:a,args:b};c.call(this,f,g);if(g.prevented){b.prevented=true;return}}c.call(this,a,b)};e.prototype.toggleDropdown=function(){if(this.options.get("disabled")){return}if(this.isOpen()){this.close()}else{this.open()}};e.prototype.open=function(){if(this.isOpen()){return}this.trigger("query",{})};e.prototype.close=function(){if(!this.isOpen()){return}this.trigger("close",{})};e.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")};e.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")};e.prototype.focus=function(a){if(this.hasFocus()){return}this.$container.addClass("select2-container--focus");this.trigger("focus",{})};e.prototype.enable=function(a){if(this.options.get("debug")&&window.console&&console.warn){console.warn('Select2: The `select2("enable")` method has been deprecated and will'+' be removed in later Select2 versions. Use $element.prop("disabled")'+" instead.")}if(a==null||a.length===0){a=[true]}var b=!a[0];this.$element.prop("disabled",b)};e.prototype.data=function(){if(this.options.get("debug")&&arguments.length>0&&window.console&&console.warn){console.warn('Select2: Data can no longer be set using `select2("data")`. You '+"should consider setting the value instead using `$element.val()`.")}var a=[];this.dataAdapter.current(function(b){a=b});return a};e.prototype.val=function(b){if(this.options.get("debug")&&window.console&&console.warn){console.warn('Select2: The `select2("val")` method has been deprecated and will be'+" removed in later Select2 versions. Use $element.val() instead.")}if(b==null||b.length===0){return this.$element.val()}var c=b[0];if(a.isArray(c)){c=a.map(c,function(a){return a.toString()})}this.$element.val(c).trigger("change")};e.prototype.destroy=function(){this.$container.remove();if(this.$element[0].detachEvent){this.$element[0].detachEvent("onpropertychange",this._syncA)}if(this._observer!=null){this._observer.disconnect();this._observer=null}else if(this.$element[0].removeEventListener){this.$element[0].removeEventListener("DOMAttrModified",this._syncA,false);this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,false);this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,false)}this._syncA=null;this._syncS=null;this.$element.off(".select2");this.$element.attr("tabindex",this.$element.data("old-tabindex"));this.$element.removeClass("select2-hidden-accessible");this.$element.attr("aria-hidden","false");this.$element.removeData("select2");this.dataAdapter.destroy();this.selection.destroy();this.dropdown.destroy();this.results.destroy();this.dataAdapter=null;this.selection=null;this.dropdown=null;this.results=null};e.prototype.render=function(){var b=a('<span class="select2 select2-container">'+'<span class="selection"></span>'+'<span class="dropdown-wrapper" aria-hidden="true"></span>'+"</span>");b.attr("dir",this.options.get("dir"));this.$container=b;this.$container.addClass("select2-container--"+this.options.get("theme"));b.data("element",this.$element);return b};return e});b.define("select2/compat/utils",["jquery"],function(a){function b(b,c,d){var e,f=[],g;e=a.trim(b.attr("class"));if(e){e=""+e;a(e.split(/\s+/)).each(function(){if(this.indexOf("select2-")===0){f.push(this)}})}e=a.trim(c.attr("class"));if(e){e=""+e;a(e.split(/\s+/)).each(function(){if(this.indexOf("select2-")!==0){g=d(this);if(g!=null){f.push(g)}}})}b.attr("class",f.join(" "))}return{syncCssClasses:b}});b.define("select2/compat/containerCss",["jquery","./utils"],function(a,b){function c(a){return null}function d(){}d.prototype.render=function(d){var e=d.call(this);var f=this.options.get("containerCssClass")||"";if(a.isFunction(f)){f=f(this.$element)}var g=this.options.get("adaptContainerCssClass");g=g||c;if(f.indexOf(":all:")!==-1){f=f.replace(":all:","");var h=g;g=function(a){var b=h(a);if(b!=null){return b+" "+a}return a}}var i=this.options.get("containerCss")||{};if(a.isFunction(i)){i=i(this.$element)}b.syncCssClasses(e,this.$element,g);e.css(i);e.addClass(f);return e};return d});b.define("select2/compat/dropdownCss",["jquery","./utils"],function(a,b){function c(a){return null}function d(){}d.prototype.render=function(d){var e=d.call(this);var f=this.options.get("dropdownCssClass")||"";if(a.isFunction(f)){f=f(this.$element)}var g=this.options.get("adaptDropdownCssClass");g=g||c;if(f.indexOf(":all:")!==-1){f=f.replace(":all:","");var h=g;g=function(a){var b=h(a);if(b!=null){return b+" "+a}return a}}var i=this.options.get("dropdownCss")||{};if(a.isFunction(i)){i=i(this.$element)}b.syncCssClasses(e,this.$element,g);e.css(i);e.addClass(f);return e};return d});b.define("select2/compat/initSelection",["jquery"],function(a){function b(a,b,c){if(c.get("debug")&&window.console&&console.warn){console.warn("Select2: The `initSelection` option has been deprecated in favor"+" of a custom data adapter that overrides the `current` method. "+"This method is now called multiple times instead of a single "+"time when the instance is initialized. Support will be removed "+"for the `initSelection` option in future versions of Select2")}this.initSelection=c.get("initSelection");this._isInitialized=false;a.call(this,b,c)}b.prototype.current=function(b,c){var d=this;if(this._isInitialized){b.call(this,c);return}this.initSelection.call(null,this.$element,function(b){d._isInitialized=true;if(!a.isArray(b)){b=[b]}c(b)})};return b});b.define("select2/compat/inputData",["jquery"],function(a){function b(a,b,c){this._currentData=[];this._valueSeparator=c.get("valueSeparator")||",";if(b.prop("type")==="hidden"){if(c.get("debug")&&console&&console.warn){console.warn("Select2: Using a hidden input with Select2 is no longer "+"supported and may stop working in the future. It is recommended "+"to use a `<select>` element instead.")}}a.call(this,b,c)}b.prototype.current=function(b,c){function d(b,c){var e=[];if(b.selected||a.inArray(b.id,c)!==-1){b.selected=true;e.push(b)}else{b.selected=false}if(b.children){e.push.apply(e,d(b.children,c))}return e}var e=[];for(var f=0;f<this._currentData.length;f++){var g=this._currentData[f];e.push.apply(e,d(g,this.$element.val().split(this._valueSeparator)))}c(e)};b.prototype.select=function(b,c){if(!this.options.get("multiple")){this.current(function(b){a.map(b,function(a){a.selected=false})});this.$element.val(c.id);this.$element.trigger("change")}else{var d=this.$element.val();d+=this._valueSeparator+c.id;this.$element.val(d);this.$element.trigger("change")}};b.prototype.unselect=function(a,b){var c=this;b.selected=false;this.current(function(a){var d=[];for(var e=0;e<a.length;e++){var f=a[e];if(b.id==f.id){continue}d.push(f.id)}c.$element.val(d.join(c._valueSeparator));c.$element.trigger("change")})};b.prototype.query=function(a,b,c){var d=[];for(var e=0;e<this._currentData.length;e++){var f=this._currentData[e];var g=this.matches(b,f);if(g!==null){d.push(g)}}c({results:d})};b.prototype.addOptions=function(b,c){var d=a.map(c,function(b){return a.data(b[0],"data")});this._currentData.push.apply(this._currentData,d)};return b});b.define("select2/compat/matcher",["jquery"],function(a){function b(b){function c(c,d){var e=a.extend(true,{},d);if(c.term==null||a.trim(c.term)===""){return e}if(d.children){for(var f=d.children.length-1;f>=0;f--){var g=d.children[f];var h=b(c.term,g.text,g);if(!h){e.children.splice(f,1)}}if(e.children.length>0){return e}}if(b(c.term,d.text,d)){return e}return null}return c}return b});b.define("select2/compat/query",[],function(){function a(a,b,c){if(c.get("debug")&&window.console&&console.warn){console.warn("Select2: The `query` option has been deprecated in favor of a "+"custom data adapter that overrides the `query` method. Support "+"will be removed for the `query` option in future versions of "+"Select2.")}a.call(this,b,c)}a.prototype.query=function(a,b,c){b.callback=c;var d=this.options.get("query");d.call(null,b)};return a});b.define("select2/dropdown/attachContainer",[],function(){function a(a,b,c){a.call(this,b,c)}a.prototype.position=function(a,b,c){var d=c.find(".dropdown-wrapper");d.append(b);b.addClass("select2-dropdown--below");c.addClass("select2-container--below")};return a});b.define("select2/dropdown/stopPropagation",[],function(){function a(){}a.prototype.bind=function(a,b,c){a.call(this,b,c);var d=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$dropdown.on(d.join(" "),function(a){a.stopPropagation()})};return a});b.define("select2/selection/stopPropagation",[],function(){function a(){}a.prototype.bind=function(a,b,c){a.call(this,b,c);var d=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$selection.on(d.join(" "),function(a){a.stopPropagation()})};return a});(function(c){if(typeof b.define==="function"&&b.define.amd){b.define("jquery-mousewheel",["jquery"],c)}else if(typeof exports==="object"){module.exports=c}else{c(a)}})(function(a){var b=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],c="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],d=Array.prototype.slice,e,f;if(a.event.fixHooks){for(var g=b.length;g;){a.event.fixHooks[b[--g]]=a.event.mouseHooks}}var h=a.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener){for(var b=c.length;b;){this.addEventListener(c[--b],i,false)}}else{this.onmousewheel=i}a.data(this,"mousewheel-line-height",h.getLineHeight(this));a.data(this,"mousewheel-page-height",h.getPageHeight(this))},teardown:function(){if(this.removeEventListener){for(var b=c.length;b;){this.removeEventListener(c[--b],i,false)}}else{this.onmousewheel=null}a.removeData(this,"mousewheel-line-height");a.removeData(this,"mousewheel-page-height")},getLineHeight:function(b){var c=a(b),d=c["offsetParent"in a.fn?"offsetParent":"parent"]();if(!d.length){d=a("body")}return parseInt(d.css("fontSize"),10)||parseInt(c.css("fontSize"),10)||16},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:true,normalizeOffset:true}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}});function i(b){var c=b||window.event,g=d.call(arguments,1),i=0,l=0,m=0,n=0,o=0,p=0;b=a.event.fix(c);b.type="mousewheel";if("detail"in c){m=c.detail*-1}if("wheelDelta"in c){m=c.wheelDelta}if("wheelDeltaY"in c){m=c.wheelDeltaY}if("wheelDeltaX"in c){l=c.wheelDeltaX*-1}if("axis"in c&&c.axis===c.HORIZONTAL_AXIS){l=m*-1;m=0}i=m===0?l:m;if("deltaY"in c){m=c.deltaY*-1;i=m}if("deltaX"in c){l=c.deltaX;if(m===0){i=l*-1}}if(m===0&&l===0){return}if(c.deltaMode===1){var q=a.data(this,"mousewheel-line-height");i*=q;m*=q;l*=q}else if(c.deltaMode===2){var r=a.data(this,"mousewheel-page-height");i*=r;m*=r;l*=r}n=Math.max(Math.abs(m),Math.abs(l));if(!f||n<f){f=n;if(k(c,n)){f/=40}}if(k(c,n)){i/=40;l/=40;m/=40}i=Math[i>=1?"floor":"ceil"](i/f);l=Math[l>=1?"floor":"ceil"](l/f);m=Math[m>=1?"floor":"ceil"](m/f);if(h.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();o=b.clientX-s.left;p=b.clientY-s.top}b.deltaX=l;b.deltaY=m;b.deltaFactor=f;b.offsetX=o;b.offsetY=p;b.deltaMode=0;g.unshift(b,i,l,m);if(e){clearTimeout(e)}e=setTimeout(j,200);return(a.event.dispatch||a.event.handle).apply(this,g)}function j(){f=null}function k(a,b){return h.settings.adjustOldDeltas&&a.type==="mousewheel"&&b%120===0}});b.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(a,b,c,d){if(a.fn.select2==null){var e=["open","close","destroy"];a.fn.select2=function(b){b=b||{};if(typeof b==="object"){this.each(function(){var d=a.extend(true,{},b);var e=new c(a(this),d)});return this}else if(typeof b==="string"){var d;var f=Array.prototype.slice.call(arguments,1);this.each(function(){var c=a(this).data("select2");if(c==null&&window.console&&console.error){console.error("The select2('"+b+"') method was called on an "+"element that is not using Select2.")}d=c[b].apply(c,f)});if(a.inArray(b,e)>-1){return this}return d}else{throw new Error("Invalid arguments for Select2: "+b)}}}if(a.fn.select2.defaults==null){a.fn.select2.defaults=d}return c});return{define:b.define,require:b.require}}();var c=b.require("jquery.select2");a.fn.select2.amd=b;return c});define("scrollIntoViewIfNeeded",["require","exports","module","jquery"],function(a,b,c){var d=a("jquery");d.fn.scrollIntoView=function(){if(this.length>0)this[0].scrollIntoView();return this};d.fn.scrollIntoViewIfNeeded=function(a){if(this.length>0){a=a[0];var b=this[0],c=a.getBoundingClientRect(),d=b.getBoundingClientRect();if(d.top<c.top||d.bottom>c.bottom){b.scrollIntoView()}}return this}});define("app/common/api/reward",["require","exports","module","app/common/ur_ajax"],function(a,b,c){"use strict";var d=a("app/common/ur_ajax");c.exports={startReward:function(a,b,c){return d({type:"POST",url:"/sur/start_reward",data:{survey_id:a,ticket:b,randstr:c}})},contactReward:function(a,b,c){return d({type:"POST",url:"/sur/contact_reward",data:{tel:a,name:b,code:c}})},getList:function(a){return d({type:"GET",url:"/sur/default_reward_list",data:{id:a}}).done(function(a){a.data.forEach(function(a){var b=a.title.split("-");a.title=b[0];a.desc=b[1]})})},getListForEdit:function(a){return d({type:"GET",url:"/survey/default_reward_list",data:{id:a}}).done(function(a){a.data.forEach(function(a){var b=a.title.split("-");a.title=b[0];a.desc=b[1]})})},initReward:function(a,b){return d({type:"GET",url:"/sur/default_reward_list_by_user",data:{id:a,token:b}},{preventDefaultCallbacks:true})},getReward:function(a,b,c){return d({type:"POST",url:"/sur/start_default_reward",data:{id:a,token:c,user_id:b}})}}});!function(){function a(a,b){return(/string|function/.test(typeof b)?h:g)(a,b)}function b(a,c){return"string"!=typeof a&&(c=typeof a,"number"===c?a+="":a="function"===c?b(a.call(a)):""),a}function c(a){return l[a]}function d(a){return b(a).replace(/&(?![\w#]+;)|[<>"']/g,c)}function e(a,b){if(m(a))for(var c=0,d=a.length;d>c;c++)b.call(a,a[c],c,a);else for(c in a)b.call(a,a[c],c)}function f(a,b){var c=/(\/)[^\/]+\1\.\.\1/,d=("./"+a).replace(/[^\/]+$/,""),e=d+b;for(e=e.replace(/\/\.\//g,"/");e.match(c);)e=e.replace(c,"/");return e}function g(b,c){var d=a.get(b)||i({filename:b,name:"Render Error",message:"Template not found"});return c?d(c):d}function h(a,b){if("string"==typeof b){var c=b;b=function(){return new k(c)}}var d=j[a]=function(c){try{return new b(c,a)+""}catch(d){return i(d)()}};return d.prototype=b.prototype=n,d.toString=function(){return b+""},d}function i(a){var b="{Template Error}",c=a.stack||"";if(c)c=c.split("\n").slice(0,2).join("\n");else for(var d in a)c+="<"+d+">\n"+a[d]+"\n\n";return function(){return"object"==typeof console&&console.error(b+"\n\n"+c),b}}var j=a.cache={},k=this.String,l={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},m=Array.isArray||function(a){return"[object Array]"==={}.toString.call(a)},n=a.utils={$helpers:{},$include:function(a,b,c){return a=f(c,a),g(a,b)},$string:b,$escape:d,$each:e},o=a.helpers=n.$helpers;a.get=function(a){return j[a.replace(/^\.\//,"")]},a.helper=function(a,b){o[a]=b},define("amd-templates/template",[],function(){return a}),a.helper("number2array",function(a,b){var c,d=[];if(b)for(c=0;a>c;c++)d.push(a-c);else for(c=0;a>c;c++)d.push(c+1);return d})}();define("amd-templates/edit/pc/admin",["../../template"],function(a){return a("edit/pc/admin",function(a){"use strict";var b=this,c=(b.$helpers,b.$escape),d=a.qq,e=a.level,f=a.avatar,g=a.name,h="";return h+='<li class="admin" data-qq="',h+=c(d),h+='" data-level=',h+=c(e),h+='> <img src="',h+=c(f),h+='" class="avatar" alt="" /> <span class="name">',h+=c(g),h+="</span> ",h+=0==e?' <span class="type"></span> ':' <a href="javascript:;" class="remove_admin" >&times</a> <span class="type"></span> ',h+=" </li> ",new String(h)})});define("amd-templates/edit/pc/setting_dialog",["../../template","./admin"],function(a){return a("edit/pc/setting_dialog",function(a,b){"use strict";var c=this,d=(c.$helpers,a.titleIndex),e=a.hasQuestionsRandom,f=a.prev,g=a.show_stat,h=a.endTime,i=a.endTimeHour,j=a.endTimeMinute,k=a.answer_count,l=a.whitelist_enable,m=a.hide_tencent_relevant,n=a.default_reward,o=a.login_check,p=a.answer_notice,q=a.answer_notice_list,r=c.$escape,s=a.user,t=a.custom_copyright,u=a.reward,v=a.admin_ids,w=c.$each,x=(a.admin,a.index,function(d,e){e=e||a;var f=c.$include(d,e,b);return z+=f}),y=a.hasTempAccess,z="";return z+='<ul class="index_panel"> <li class="current" data-index="0"></li> <li data-index="1"></li> <li data-index="2"></li> <li data-index="3"></li> </ul> <div class="setting_content"> <div class="setting_category" data-index="0"> <div class="category_label"></div> <div class="category_content"> <div class="setting_item"> <input name="titleIndex" type="checkbox" class="btn_switch" id="dialog_setting_display_index" ',d&&(z+="checked"),z+='> <label class="ico_checkbox" for="dialog_setting_display_index"></label>  </div> <div class="setting_item"> <input name="questionRandom" type="checkbox" class="btn_switch" id="dialog_setting_question_random" ',e&&(z+="checked"),z+='> <label class="ico_checkbox" for="dialog_setting_question_random"></label>  <div style="margin-left: 40px; margin-top: 8px;"> <a href="javascript:;" id="questions_random_setting_trigger" ',e||(z+='style="display:none"'),z+='></a> </div> </div> <div class="setting_item"> <input name="prev" type="checkbox" class="btn_switch" id="dialog_setting_enable_return" ',f&&(z+="checked"),z+='> <label class="ico_checkbox" for="dialog_setting_enable_return"></label>  </div> <div class="setting_item"> <input name="show_stat" type="checkbox" class="btn_switch" id="dialog_setting_show_stat" ',g&&(z+="checked"),z+='> <label class="ico_checkbox" for="dialog_setting_show_stat"></label>  </div> </div> </div> <div class="setting_category" data-index="1"> <div class="category_label"></div> <div class="category_content"> <div class="setting_item"> <input type="checkbox" class="btn_switch" id="dialog_setting_end_time" ',0!=h&&(z+="checked"),z+='> <label class="ico_checkbox" for="dialog_setting_end_time"></label>  <div id="end_time_display" style="',0==h&&(z+="display: none;"),z+='"> <input type="text" id="end_time_date" /> <select id="end_time_hour"> <option value="0" ',0==i&&(z+="selected"),z+='>0</option><option value="1" ',1==i&&(z+="selected"),z+='>1</option><option value="2" ',2==i&&(z+="selected"),z+='>2</option><option value="3" ',3==i&&(z+="selected"),z+='>3</option><option value="4" ',4==i&&(z+="selected"),z+='>4</option><option value="5" ',5==i&&(z+="selected"),z+='>5</option><option value="6" ',6==i&&(z+="selected"),z+='>6</option><option value="7" ',7==i&&(z+="selected"),z+='>7</option><option value="8" ',8==i&&(z+="selected"),z+='>8</option><option value="9" ',9==i&&(z+="selected"),z+='>9</option><option value="10" ',10==i&&(z+="selected"),z+='>10</option><option value="11" ',11==i&&(z+="selected"),z+='>11</option><option value="12" ',12==i&&(z+="selected"),z+='>12</option><option value="13" ',13==i&&(z+="selected"),z+='>13</option><option value="14" ',14==i&&(z+="selected"),z+='>14</option><option value="15" ',15==i&&(z+="selected"),z+='>15</option><option value="16" ',16==i&&(z+="selected"),z+='>16</option><option value="17" ',17==i&&(z+="selected"),z+='>17</option><option value="18" ',18==i&&(z+="selected"),z+='>18</option><option value="19" ',19==i&&(z+="selected"),z+='>19</option><option value="20" ',20==i&&(z+="selected"),z+='>20</option><option value="21" ',21==i&&(z+="selected"),z+='>21</option><option value="22" ',22==i&&(z+="selected"),z+='>22</option><option value="23" ',23==i&&(z+="selected"),z+='>23</option> </select> : <select id="end_time_minute"> <option value="0" ',0==j&&(z+="selected"),z+='>0</option><option value="1" ',1==j&&(z+="selected"),z+='>1</option><option value="2" ',2==j&&(z+="selected"),z+='>2</option><option value="3" ',3==j&&(z+="selected"),z+='>3</option><option value="4" ',4==j&&(z+="selected"),z+='>4</option><option value="5" ',5==j&&(z+="selected"),z+='>5</option><option value="6" ',6==j&&(z+="selected"),z+='>6</option><option value="7" ',7==j&&(z+="selected"),z+='>7</option><option value="8" ',8==j&&(z+="selected"),z+='>8</option><option value="9" ',9==j&&(z+="selected"),z+='>9</option><option value="10" ',10==j&&(z+="selected"),z+='>10</option><option value="11" ',11==j&&(z+="selected"),z+='>11</option><option value="12" ',12==j&&(z+="selected"),z+='>12</option><option value="13" ',13==j&&(z+="selected"),z+='>13</option><option value="14" ',14==j&&(z+="selected"),z+='>14</option><option value="15" ',15==j&&(z+="selected"),z+='>15</option><option value="16" ',16==j&&(z+="selected"),z+='>16</option><option value="17" ',17==j&&(z+="selected"),z+='>17</option><option value="18" ',18==j&&(z+="selected"),z+='>18</option><option value="19" ',19==j&&(z+="selected"),z+='>19</option><option value="20" ',20==j&&(z+="selected"),z+='>20</option><option value="21" ',21==j&&(z+="selected"),z+='>21</option><option value="22" ',22==j&&(z+="selected"),z+='>22</option><option value="23" ',23==j&&(z+="selected"),z+='>23</option><option value="24" ',24==j&&(z+="selected"),z+='>24</option><option value="25" ',25==j&&(z+="selected"),z+='>25</option><option value="26" ',26==j&&(z+="selected"),z+='>26</option><option value="27" ',27==j&&(z+="selected"),z+='>27</option><option value="28" ',28==j&&(z+="selected"),z+='>28</option><option value="29" ',29==j&&(z+="selected"),z+='>29</option><option value="30" ',30==j&&(z+="selected"),z+='>30</option><option value="31" ',31==j&&(z+="selected"),z+='>31</option><option value="32" ',32==j&&(z+="selected"),z+='>32</option><option value="33" ',33==j&&(z+="selected"),z+='>33</option><option value="34" ',34==j&&(z+="selected"),z+='>34</option><option value="35" ',35==j&&(z+="selected"),z+='>35</option><option value="36" ',36==j&&(z+="selected"),z+='>36</option><option value="37" ',37==j&&(z+="selected"),z+='>37</option><option value="38" ',38==j&&(z+="selected"),z+='>38</option><option value="39" ',39==j&&(z+="selected"),z+='>39</option><option value="40" ',40==j&&(z+="selected"),z+='>40</option><option value="41" ',41==j&&(z+="selected"),z+='>41</option><option value="42" ',42==j&&(z+="selected"),z+='>42</option><option value="43" ',43==j&&(z+="selected"),z+='>43</option><option value="44" ',44==j&&(z+="selected"),z+='>44</option><option value="45" ',45==j&&(z+="selected"),z+='>45</option><option value="46" ',46==j&&(z+="selected"),z+='>46</option><option value="47" ',47==j&&(z+="selected"),z+='>47</option><option value="48" ',48==j&&(z+="selected"),z+='>48</option><option value="49" ',49==j&&(z+="selected"),z+='>49</option><option value="50" ',50==j&&(z+="selected"),z+='>50</option><option value="51" ',51==j&&(z+="selected"),z+='>51</option><option value="52" ',52==j&&(z+="selected"),z+='>52</option><option value="53" ',53==j&&(z+="selected"),z+='>53</option><option value="54" ',54==j&&(z+="selected"),z+='>54</option><option value="55" ',55==j&&(z+="selected"),z+='>55</option><option value="56" ',56==j&&(z+="selected"),z+='>56</option><option value="57" ',57==j&&(z+="selected"),z+='>57</option><option value="58" ',58==j&&(z+="selected"),z+='>58</option><option value="59" ',59==j&&(z+="selected"),z+='>59</option> </select> </div> </div> <div class="setting_item"> <input name="login_check" type="checkbox" class="btn_switch" id="dialog_setting_login_check" ',
(k||l||m||n)&&(z+="disabled"),z+=" ",o&&(z+="checked"),z+='> <label class="ico_checkbox" for="dialog_setting_login_check"></label>  </div> <div class="setting_item"> <input name="answer_count" type="checkbox" class="btn_switch" id="dialog_setting_answer_count" ',k&&!m&&(z+="checked"),z+=" ",m&&(z+="disabled"),z+='> <label class="ico_checkbox" for="dialog_setting_answer_count"></label>  </div> <div class="setting_item"> <input name="whitelist_enable" type="checkbox" class="btn_switch" id="dialog_setting_white_list" ',l&&!m&&(z+="checked"),z+=" ",m&&(z+="disabled"),z+='> <label class="ico_checkbox" for="dialog_setting_white_list"></label>  <div style="margin-left: 40px; margin-top: 8px;"> <a href="javascript:;" id="whitelist_setting_trigger" ',l||(z+='style="display:none"'),z+='></a> </div> </div> <div class="setting_item"> <input name="answer_notice" type="checkbox" class="btn_switch" id="dialog_setting_answer_notice" ',p&&(z+="checked"),z+='> <label class="ico_checkbox" for="dialog_setting_answer_notice"></label>  <div id="answer_notice_setting_trigger" class="',p&&(z+="answer_notice_set"),z+='" style="',p||(z+="display:none;"),z+=' margin-left: 40px; margin-top: 8px;"> <div class="answer_notice_valid" style="',p||(z+="display:none;"),z+='"> <span style="font-size: 14px;" class="contact">',q&&q[1]&&q[1].length&&(z+=r(q[1][0])),z+='</span> <a style="color: #58a6e7; font-size: 14px; text-decoration: underline;" href="javascript:;" class="answer_notice_setting_trigger"></a> </div> <div class="answer_notice_invalid" style="',p&&(z+="display:none;"),z+='"> <a style="color: #58a6e7; font-size: 14px; text-decoration: underline;" href="javascript:;" class="answer_notice_setting_trigger" ></a> </div> </div> </div> ',s.isRTX&&(z+=' <div class="setting_item"> <input name="common_right" type="checkbox" class="btn_switch" id="common_right" ',m&&(z+="checked"),z+=" ",s.hasCommonRight||(z+='disabled="disabled"'),z+='> <label class="ico_checkbox" for="common_right"></label>  ',s.hasCommonRight?(z+=' <div class="copyright_input" ',m||(z+=' style="display:none" '),z+='> <input type="text" id="common_right_input" placeholder="copyright  survey.1700" value="',z+=r(t),z+='"> </div> '):z+=' <div id="rtxCommonRight" style="margin-left: 40px; margin-top: 8px;"> <div>   <span id="apply_right" style="font-size: 14px;"><a href="/s/1169384/6257" style="color:#58a6e7;border-bottom: 1px solid #58a6e7;" target="_blank"></a></span> </div> </div> ',z+=" </div> "),z+=' </div> </div> <div class="setting_category" data-index="2"> <div class="category_label"></div> <div class="category_content"> <div class="setting_item"> <input name="reward_trigger" type="checkbox" class="btn_switch" id="dialog_setting_reward" ',u&&2==u.status&&(z+="checked"),z+='> <label class="ico_checkbox" for="dialog_setting_reward"></label>  <div style="margin-left: 40px; margin-top: 8px;"> <a href="javascript:;" id="rewarding_setting_trigger" style="',u&&2==u.status||(z+="display:none;"),z+='"></a> </div> </div>  <div class="setting_item" style="display: none;"> <input name="gift_trigger" type="checkbox" class="btn_switch" id="dialog_setting_gift" ',n&&(z+=" checked "),z+='> <label class="ico_checkbox" for="dialog_setting_gift"></label>  <div class="setting_item_ext"> <a href="javascript:;" id="gift_list_trigger" style="',n||(z+="display:none;"),z+='"></a> </div> </div> </div> </div> <div class="setting_category" data-index="3"> <div class="category_label"></div> <div class="category_content"> <div class="setting_item"> <input name="admin_trigger" type="checkbox" class="btn_switch" id="dialog_setting_admin" ',v.length>1&&(z+="checked"),z+='> <label class="ico_checkbox" for="dialog_setting_admin"></label>  </div> <div id="admins_container" style="',v.length<=1&&(z+="display:none;"),z+='"> <ul id="admins" class="admins"> ',w(v,function(a){z+=" ",x("./admin",a),z+=" "}),z+=' </ul> <div class="add_admin"> <input id="add_admin_qq" type="text" placeholder="QQ" /> <a id="add_admin_btn" href="javascript:;" class="btn btn_blue btn_small"></a> </div> </div> </div> </div> ',y&&(z+=' <div class="setting_category" data-index="4"> <div class="category_label"></div> <div class="category_content"> <div class="setting_item"> <label for="setting_webhook_url"></label> <input name="setting_webhook_url" placeholder="url" style="width: 100%; margin-bottom: 10px;"/> <label for="setting_redirect_url"></label> <input name="setting_redirect_url" placeholder="url" style="width: 100%;"/> <p style="margin-top: 10px; color: red;">url, httphttps</p> </div> </div> </div> '),z+=" </div> ",new String(z)})});define("amd-templates/edit/pc/whitelist_setting",["../../template"],function(a){return a("edit/pc/whitelist_setting",function(a){"use strict";var b=this,c=(b.$helpers,a.user),d="";return d+='<div id="whitelist_setting" class="whitelist_setting"> <div class="textarea_wrap"> <!-- <input id="add_users" placeholder="',d+=c.isRTX?"RTX":"QQ",d+='" name="add_users" /> --> <input id="add_users" placeholder="QQ" name="add_users" /> <div id="add_users_btn" class="btn btn_blue btn_small"></div> </div> <div class="whitelist_table_wrapper"> <h3></h3> <div class="whitelist_table"> </div> <a id="clear_list" href="javascript:;"></a> <div class="count_info"> <span class="whitelist_length"></span>/10000 <i class="ico ico_info"></i> </div> <div class="pagination"></div> </div> </div> ',new String(d)})});define("amd-templates/edit/pc/contact_setting",["../../template"],function(a){return a("edit/pc/contact_setting",'<div id="whitelist_setting" class="whitelist_setting" style="border: 1px solid #e0e0e0; border-radius: 4px;"> <input id="contact" type="text" placeholder="" name="contact" style="height: 38px;border: 0; border-bottom: 1px solid #e0e0e0; padding: 0 10px; line-height: 38px; outline: 0; background-color: transparent; width: 100%; font-size: 14px;" /><br> <input id="verify_code" type="text" placeholder="" name="verify_code" style="height: 38px;border: 0; border-right: 1px solid #e0e0e0; padding: 0 10px; line-height: 38px; outline: 0; background-color: transparent; width: 190px; font-size: 14px;" /> <span id="get_verify_code" style="text-align: center; width: 100px; display: inline-block;" href="javascript:;"><span style="color:#58a6e7;cursor:pointer;"></span></span> </div> ')});define("amd-templates/edit/pc/questions_random_setting",["../../template"],function(a){return a("edit/pc/questions_random_setting",'<div id="question_random_display"> <div id="question_random_display_items"></div> <button id="question_random_add_btn"><span>+</span></button> </div> ')});define("amd-templates/edit/pc/questions_random_setting_items",["../../template"],function(a){return a("edit/pc/questions_random_setting_items",function(a){"use strict";var b=this,c=(b.$helpers,b.$each),d=a.questionRandom,e=(a.random,a.index,b.$escape),f=a.questions,g=(a.question,a.q_index,b.$string),h=(a.i,a.count_index,"");return h+='<div id="question_randoms_container"> ',c(d,function(a,b){h+=' <div id="question_random_container_',h+=e(b),h+='" class="question_random_item"> <span></span> <select id="question_randoms_select_start_',h+=e(b),h+='" class="question_random_select_begin" style="width: 220px"> ',c(f,function(b,c){h+=" ",a.canPickedAsStart[c]&&"description"!==b.type&&(h+=" <option value=",h+=e(b.real_index),h+=" ",c==a.start&&(h+="selected"),h+="> ",h+=e(b.index+1),h+=".",h+=g(b.title),h+=" </option> "),h+=" "}),h+=' </select> <span></span> <select id="question_randoms_select_end_',h+=e(b),h+='" class="question_random_select_end" style="width: 220px"> ',c(f,function(b,c){h+=" ",a.canPickedAsEnd[c]&&"description"!==b.type&&(h+=" <option value=",h+=e(b.real_index),h+=" ",c==a.end&&(h+="selected"),h+="> ",h+=e(b.index+1),h+=".",h+=g(b.title),h+=" </option> "),h+=" "}),h+=' </select> <span></span> <select id="question_randoms_select_count_',h+=e(b),h+='" class="question_random_select_count" style="width: 55px"> ',c(a.lenRange,function(b){h+=' <option value="',h+=e(b),h+='" ',b==a.count&&(h+="selected"),h+=">",h+=e(b),h+="</option> "}),h+=' </select> <span></span> <button id="question_randoms_delete_',h+=e(b),h+='" class="question_randoms_delete_btn"></button> </div> '}),h+=" </div> ",new String(h)})});define("amd-templates/edit/pc/dialog_gift_library",["../../template"],function(a){return a("edit/pc/dialog_gift_library",function(a){"use strict";var b=this,c=(b.$helpers,b.$each),d=a.list,e=(a.item,a.$index,b.$escape),f=a.acceptReadMe,g="";return g+='<div class="mod_gift_library"> <div class="row"> <div class="col col_title"><i class="ico ico_tips"></i></div> </div> <div class="row"> <div class="col col_list"> ',c(d,function(a){g+='  <div class="gift_item ',g+=e(a.price>0?"":"gift_item_package"),g+='"> <div class="gift_content" style="background-color: ',g+=e(a.color),g+=';"> <div class="gift_icon"><img src="',g+=e(a.logo),g+='" alt=""></div> <div class="gift_value">',g+=e(a.price),g+='</div> <div class="gift_title"> <p>',g+=e(a.title),g+="</p> <p>",g+=e(a.desc),g+='</p> </div> <div class="gift_description"></div> </div> </div> '}),g+=' </div> </div> <div class="row"> <div class="col col_exemption"> <input type="checkbox" id="accept_read_me" ',f&&(g+=" checked "),g+='> <label for="accept_read_me" class="ico_checkbox"></label> <label for="accept_read_me"></label> <a href="javascript:;" class="show_exemption_clause"> <span class="ico_arrow"></span></a> </div> </div> <div class="row"> <div class="col col_exemption_clause" style="display: none;"> <h4></h4> <p></p> <h4></h4> <p></p> <h4></h4> <p>1666</p> <h4></h4> <p>QQQQ</p> <p></p> <p>QQ2852519734 </p> </div> </div> </div> ',new String(g)})});define("amd-templates/edit/pc/reward_item",["../../template"],function(a){return a("edit/pc/reward_item",function(a){"use strict";var b=this,c=(b.$helpers,b.$escape),d=a.id,e=a.name,f=a.count,g=a.value,h="";return h+='<div class="reward_item" data-id="',h+=c(d),h+='"> <div class="item_group col_name">  <div class="item_content"> <input type="text" value="',h+=c(e),h+='" class="name"> </div> </div> <div class="item_group col_count">  <div class="item_content"> <input type="text" value="',h+=c(f),h+='" class="count"> </div> </div> <div class="item_group col_value">  <div class="item_content"> <input type="text" value="',h+=c(g),h+='" class="value"> </div> </div> <div class="item_group col_action">  <div class="item_content"> <a href="javascript:;" class="btn_groups btn_add"><i class="ico ico_btn_add"></i></a> <a href="javascript:;" class="btn_groups btn_remove"><i class="ico ico_btn_remove"></i></a> </div> </div> </div> ',new String(h)})});define("amd-templates/edit/pc/dialog_reward_setting",["../../template","./reward_item"],function(a){return a("edit/pc/dialog_reward_setting",function(a,b){"use strict";var c=this,d=(c.$helpers,c.$each),e=a.list,f=(a.reward,a.$index,function(d,e){e=e||a;var f=c.$include(d,e,b);return o+=f}),g=c.$escape,h=a.name,i=a.contact,j=a.deliverMethod,k=a.reward_cnt,l=a.acceptReadMe,m=a.title,n=a.url,o="";return o+='<form id="reward_setting"> <div class="row"> <div class="row_title"></div> <div class="row_content"> <div class="reward_list_title"> <div class="item_group col_name"> <div class="item_title"></div> </div> <div class="item_group col_count"> <div class="item_title"></div> </div> <div class="item_group col_value"> <div class="item_title"></div> </div> <div class="item_group col_action"> <div class="item_title"></div> </div> </div> </div> <div class="row_content reward_list"> ',d(e,function(a){o+=" ",f("./reward_item",a),o+=" "}),o+=' </div> </div> <div class="row"> <div class="row_title"></div> <div class="row_content"> <div class="item_group col_endtime"> <div class="item_title"></div> <div class="item_content"> <input type="text" id="endDateTime" name="endDateTime"> </div> </div> <div class="item_group col_owner"> <div class="item_title"></div> <div class="item_content"> <input type="text" name="name" id="name" value="',o+=g(h),o+='"> </div> </div> <div class="item_group col_contact"> <div class="item_title"></div> <div class="item_content"> <input type="text" name="contact" id="contact" value="',o+=g(i),o+='"> </div> </div> <div class="item_group col_method"> <div class="item_title"></div> <div class="item_content"> <textarea id="deliverMethod" name="deliverMethod" cols="30" rows="3" placeholder="">',o+=g(j),o+='</textarea> </div> </div> <div class="item_group col_chance"> <div class="item_title"></div> <div class="item_content"> <input type="text" id="reward_cnt" name="reward_cnt" value="',o+=g(k),o+='" min="1"> 1 </div> </div> <div class="item_group col_exemption"> <div class="item_content"> <input type="checkbox" id="accept_read_me" ',l&&(o+=" checked "),o+='> <label for="accept_read_me" class="ico_checkbox"></label> <label for="accept_read_me"></label> <a href="javascript:;" id="show_exemption_clause"> <span class="ico_arrow"></span></a> </div> </div> <div class="item_group col_exemption_clause" style="display: none;"> <div class="item_title"></div> <div class="item_content"> <p></p> <ul> <li>',o+=g(m),o+='<a style="color: #479de6;" href="',o+=g(n),o+='" target="_blank">',o+=g(n),o+="</a></li> <li></li> <li></li> <li></li> </ul> </div> </div> </div> </div> </form> ",new String(o)})});define("app/edit/common/views/setting",["require","exports","module","jquery","underscore","art-dialog/dialog","pikaday","moment","i18n","app/util/richtext","app/common/models/user","jquery.placeholder/jquery.placeholder","jquery.pagination/jquery.pagination","memberPicker","select2","scrollIntoViewIfNeeded","app/common/api/reward","amd-templates/edit/pc/setting_dialog","amd-templates/edit/pc/whitelist_setting","amd-templates/edit/pc/contact_setting","amd-templates/edit/pc/questions_random_setting","amd-templates/edit/pc/questions_random_setting_items","amd-templates/edit/pc/dialog_gift_library","amd-templates/edit/pc/admin","amd-templates/edit/pc/dialog_reward_setting","amd-templates/edit/pc/reward_item"],function(a,b,c){var d=a("jquery");var e=a("underscore");var f=a("art-dialog/dialog");var g=a("pikaday");var h=a("moment");var i=a("i18n");var j=a("app/util/richtext");var k=a("app/common/models/user");a("jquery.placeholder/jquery.placeholder");a("jquery.pagination/jquery.pagination");a("memberPicker");a("select2");a("scrollIntoViewIfNeeded");var l=a("app/common/api/reward");var m=a("amd-templates/edit/pc/setting_dialog");var n=a("amd-templates/edit/pc/whitelist_setting");var o=a("amd-templates/edit/pc/contact_setting");var p=a("amd-templates/edit/pc/questions_random_setting");var q=a("amd-templates/edit/pc/questions_random_setting_items");var r=a("amd-templates/edit/pc/dialog_gift_library");var s;var t=function(a){this.$trigger=d("#survey_setting");this.model=a;if(window.location.hash==="#settingView"){this.showModal()}this.$trigger.on("click",e.bind(this.showModal,this))};e.extend(t.prototype,{giftSettingDirty:false,giftList:[],showModal:function(b,c){var j=this.model;var n=this.model.get("survey");var o=this;var p;if(n.endTime==="0"){p=h()}else{p=h.unix(n.endTime)}n.endTimeHour=p.hours();n.endTimeMinute=p.minutes();var q;function r(){var a=q.getMoment();a.hours(d("#end_time_hour").val());a.minutes(d("#end_time_minute").val());return a}var t=n.questions_random&&n.questions_random.length;n.hasQuestionsRandom=t;e.forEach(n.admin_ids,function(a){var b=String((new Date).getTime()).slice(0,10);if(a.qq<1e10){a.avatar="https://q1.qlogo.cn/g?b=qq&nk="+a.qq+"&s=40&t="+b;a.name=a.qq}else if(a.qq>2e10){a.avatar="/image/default_avatar.png";a.name="RTX"}else{a.avatar="/image/default_avatar.png";a.name=""}});n.admin_ids=e.sortBy(n.admin_ids,function(a){return a.level});n.user=k;n.hasTempAccess=k.hasCommonRight;var A=function(){if(this._rendered){return}this._rendered=true;var b=d(this.node);l.getListForEdit(n.id).done(function(a){if(a&&a.data.length!==0){d("#dialog_setting_gift").parent(".setting_item").attr("style",null);o.giftList=a.data}});var c=function(){var a=this.checked;if(a){N.show()}else{N.hide()}};var k=b.find("#questions_random_setting_trigger");b.find("#dialog_setting_question_random").on("change",function(a){var b=this.checked;if(b){var c=undefined;if(j.get("survey.pc")===true){c={content:""+"</br>"+""}}else if(n.survey_rules.version==="1.0"){if(n.survey_rules.list.length){c={content:""+"</br>"+""}}else{j.exec("edit","updateConditionVersion","2.0")}}else if(n.survey_rules.version==="2.0"){if(!e.isEmpty(j.get("questionsIncomingDegree"))){c={content:""+"</br>"+""}}}if(c){var g=f({skin:"tips",content:c.content}).show(d("[name=questionRandom]").parent()[0]);setTimeout(function(){g.close().remove()},4e3);this.checked=false;return}k.show()}else{k.hide()}});if(t){k.show()}k.on("click",function(){x(n,j).showModal()});var m=b.find("#dialog_setting_answer_count");var p=b.find("#dialog_setting_white_list");var r=b.find("#whitelist_setting_trigger");var s=function(){var a=this.checked;if(a){u(C);var b=f({skin:"tips setting_login_tips",content:""}).show(d("[name=login_check]").parent()[0]);setTimeout(function(){b.close().remove()},4e3)}else{u(C)}};var A=function(){var a=b.find("#whitelist_setting_trigger");var c=this.checked;if(c){a.show();u(C);var e=f({skin:"tips setting_login_tips",content:""}).show(d("[name=login_check]").parent()[0]);setTimeout(function(){e.close().remove()},4e3)}else{a.hide();u(C)}};var B=function(){var a=b.find("#answer_notice_setting_trigger");var c=this.checked;if(c){a.show()}else{a.hide()}};var D=function(){var a=this.checked;var b=d("[name=login_check],[name=whitelist_enable],[name=answer_count]");if(a){b.prop({checked:false,disabled:true});d(".copyright_input").show()}else{b.prop({disabled:false});d(".copyright_input").hide()}};var E=function(){var a=b.find("#gift_list_trigger");var c=b.find("#rewarding_setting_trigger");var e=this.checked;if(!e){c.hide()}else{c.show();a.hide();b.find("#dialog_setting_gift")[0].checked=false;u(C);var g=f({skin:"tips setting_login_tips",content:""}).show(d("[name=login_check]").parent()[0]);setTimeout(function(){g.close().remove()},3e3);w(n).showModal()}};var F=function(){var a=this.checked;o.giftSettingDirty=true;var c=b.find("#gift_list_trigger");var e=b.find("#rewarding_setting_trigger");if(!a){c.hide();u(C)}else{c.show();e.hide();u(C);d("[name=login_check]")[0].checked=true;d("[name=reward_trigger]")[0].checked=false;var g=f({skin:"tips setting_login_tips",content:""}).show(d("[name=login_check]").parent()[0]);setTimeout(function(){g.close().remove()},3e3);y(o.giftList,n).showModal()}};var G=function(){var a=b.find("#admins_container");var c=this.checked;if(c){a.show()}else{a.hide()}};var H=function(){var a;if(n.whitelist&&n.whitelist.qq){a=n.whitelist.qq.slice(0)}else{a=[]}v(a,n,j).showModal()};var I=function(){z(n,j).showModal()};var J=function(){w(n).showModal()};var K=function(){y(o.giftList,n).showModal()};var L=function(){var b=d("#add_admin_qq").val();var c=d("#admins").children(".admin");var e=[];c.each(function(a,b){e.push(String(d(b).data("qq")))});if(e.indexOf(b)>-1){alert("");return}if(/^[1-9]\d{4,11}$/.test(b)){var f=String((new Date).getTime()).slice(0,10);d("#admins").append(d(a("amd-templates/edit/pc/admin")({avatar:"https://q1.qlogo.cn/g?b=qq&nk="+b+"&s=40&t="+f,qq:b,level:1,name:b})));d("#add_admin_qq").val("")}else{alert("QQ")}};var M=function(a){var b=d(a.target).closest(".admin");b.remove()};b.find(".index_panel").on("click","li",function(){var a=d(this).data("index");d(this).addClass("current").siblings().removeClass("current");var b=d(".setting_category").eq(a).position().top;d(".setting_content").scrollTop(d(".setting_content").scrollTop()+b)});var N=b.find("#end_time_display");var O=b.find("#end_time_date");q=new g({field:O[0],i18n:i.pikaday["zh-cn"],defaultDate:n.endTime==="0"?h().toDate():h.unix(n.endTime).toDate(),setDefaultDate:true});if(n.hasTempAccess){d("[name=setting_webhook_url]").val(n.webhook_url||"");d("[name=setting_redirect_url]").val(n.redirect_url||"")}n.whitelist_dirty=false;b.find("#dialog_setting_end_time").on("change",c);b.find("#dialog_setting_answer_count").on("change",s);b.find("#dialog_setting_white_list").on("change",A);b.find("#dialog_setting_answer_notice").on("change",B);b.find("#common_right").on("change",D);b.find("#dialog_setting_reward").on("change",E);b.find("#dialog_setting_gift").on("change",F);b.find("#dialog_setting_admin").on("change",G);b.find("#whitelist_setting_trigger").on("click",H);b.find("#answer_notice_setting_trigger").on("click",".answer_notice_setting_trigger",I);b.find("#rewarding_setting_trigger").on("click",J);b.find("#gift_list_trigger").on("click",K);b.find("#add_admin_btn").on("click",L);b.on("click",".remove_admin",M)};var B=function(){var a=this;var b={};var c=["titleIndex","prev","login_check","answer_count","show_stat"];d.each(c,function(a,c){b[c]=d("[name="+c+"]").prop("checked")?true:false});if(d("#dialog_setting_end_time").prop("checked")){b.endTime=r().unix();if(h().unix()>b.endTime){alert("");return false}b.endTime=String(b.endTime)}else{b.endTime="0"}if(d("#dialog_setting_question_random").prop("checked")){b.questions_random=n.questions_random}else{b.questions_random=[]}if(d("[name=login_check]").prop("checked")){b.login_check=true}else{b.login_check=false}if(d("[name=answer_count]").prop("checked")){b.answer_count=true}else{b.answer_count=false}var e;if(n.whitelist){e=n.whitelist.qq.length}if(d("[name=whitelist_enable]").prop("checked")&&n.whitelist&&e){b.whitelist=n.whitelist;b.whitelist_enable=true;b.whitelist_dirty=n.whitelist_dirty}else{b.whitelist=null;b.whitelist_enable=false;b.whitelist_dirty=n.whitelist_dirty}if(k.hasCommonRight){b.hide_tencent_relevant=d("#common_right").prop("checked");b.custom_copyright=d("#common_right_input").val()}if(d("[name=answer_notice]").prop("checked")&&n.answer_notice_list){b.answer_notice=true;b.answer_notice_list=n.answer_notice_list}else{b.answer_notice=false}if(d("[name=reward_trigger]").prop("checked")){b.reward=s||n.reward}else{b.reward=null}b.admin_ids=[];var f=d(this.node).find("#admins");var g=d("[name=admin_trigger]").prop("checked");var i;f.children().each(function(a,c){var e=Number(d(c).data("level"));if(g||e===0){b.admin_ids.push({qq:d(c).data("qq"),level:Number(d(c).data("level"))})}});if(d("#dialog_setting_gift")[0].checked){i=true}else{i=false}b.default_reward=i;if(n.hasTempAccess){b.webhook_url=d("[name=setting_webhook_url]")[0].value||"";b.redirect_url=d("[name=setting_redirect_url]")[0].value||""}j.exec("updateSetting",b).done(function(){a.close().remove()})};n.user=k;var C=f({id:"settingDialog",title:"",content:m(n),width:500,height:360,cancel:false,skin:"g_dialog_v2 setting_dialog",button:[{value:"",autofocus:true,callback:B},{value:"",callback:function(){s=undefined}}],onshow:A,onclose:function(){q.destroy()},onremove:function(){c&&c()}}).showModal()}});var u=function(a){var b=d(a.node);var c=b.find("#dialog_setting_answer_count").prop("checked");var e=b.find("#dialog_setting_white_list").prop("checked");var f=b.find("#dialog_setting_gift").prop("checked");var g=b.find("#dialog_setting_reward").prop("checked");var h=d("[name=login_check]")[0];var i=false;if(c||e||f){i=true}h.checked=true;if(i){h.disabled=true;d(h).closest(".label-switch").addClass("disabled")}else{h.disabled=false;d(h).closest(".label-switch").removeClass("disabled")}};var v=function(a,b,c){var g;var h=false;var i=0;var j=f.get("settingDialog");var l=function(a){var b=(new Date).getTime();return'<div class="user" data-qq='+a+'><img src="//q1.qlogo.cn/g?b=qq&nk='+a+"&s=40&t="+b+'" class="avatar" alt="" /> <span class="name">'+a+'</span><span class="remove">&times;</span> </div>'};var m=function(b){b=b===undefined?i:b;var c=15;var f=b*c;var h=f+c;var j=a.slice(f,h);if(b!==0&&j.length===0){return m(b-1)}var k=e.map(j,function(a){return l(a)}).join("");d(".whitelist_table").html(k);d(".whitelist_length").text(a.length);g.find(".pagination").pagination(a.length,{items_per_page:c,num_display_entries:5,prev_text:"",next_text:"",link_to:"javascript:;",load_first_page:false,current_page:b,callback:function(a){m(a);i=a}})};var o=f({skin:"tips setting_login_tips",align:"right",content:'10000<br><script src="//wp.qiye.qq.com/qidian/2852065596/9117acda68f7ee9490b2746dcd39fd00" charset="utf-8"></script>'});var p=function(){g=d(this.node);j.close();m(0);g.find("textarea[placeholder], input[placeholder]").placeholder();var b=g.find(".ico_info");b.hover(function(){o.show(b[0])},function(){setTimeout(function(){o.close()},4e3)});function c(){o.show(b[0]);setTimeout(function(){o.close()},4e3)}g.on("click","#add_users_btn",function(){var b=d("#add_users").val();var f;var g=[];var i=[];f=b.split(/,|\s+|/g);e.each(f,function(a){a=d.trim(a);if(/^[1-9]\d{4,11}$/.test(a)){g.push(a)}else{i.push(a)}});g=e.filter(g,function(b){return a.indexOf(b)===-1});var j=1e4;var k;if(g.length+a.length>j){k=g.slice(0,j-a.length);i=i.concat(g.slice(j-a.length));c()}else{k=g}a=k.concat(a);m(0);i=e.compact(i);d("#add_users").val(i.join(","));h=true;return false});g.on("keyup","#add_users",function(a){if(a.which==13){d("#add_users_btn").click()}});g.on("click",".remove",function(b){var c=d(b.target).closest(".user");var e=String(c.data("qq"));var f=a.indexOf(e);a.splice(f,1);m();h=true});g.on("click","#clear_list",function(b){if(confirm("?")){d(".whitelist_table").empty();a.length=0;m(0);h=true}})};var q=function(){j.showModal()};var r=function(){if(d.trim(d("#add_users").val()).length||h){if(!confirm("")){return false}}};a.user=k;return f({title:"",content:n(a),skin:"g_dialog_v2 whitelist_setting_dialog",width:550,height:380,cancelDisplay:false,button:[{value:"",autofocus:true,callback:function(){d("#add_users_btn").click();b.whitelist={qq:a};b.whitelist_dirty=true}},{value:"",callback:function(){if(d.trim(d("#add_users").val()).length||h){if(!confirm("")){return false}}}}],lock:true,cancel:r,onshow:p,onclose:q})};var w=function(b){var c={name:"",contact:"",endDateTime:"",deliverMethod:"",winPrizeProbability:"",reward_type:0,reward_cnt:50,acceptReadMe:false,list:[{}]};if(b.reward&&b.reward["status"]==2||s){var k=b.reward;c=e.extend(c,k,{acceptReadMe:k||s?true:false},s)}var l;c=d.extend({},c,{title:j.plainTextFilter(b.title),url:b.url});var m=f.get("settingDialog");var n=a("amd-templates/edit/pc/dialog_reward_setting");var o=a("amd-templates/edit/pc/reward_item");var p=function(){var a=d(this.node);if(d.trim(d("#endDateTime").val()).length===0){alert("");return false}if(d.trim(d("#name").val()).length===0){alert("");return false}if(d.trim(d("#contact").val()).length===0){alert("");return false}if(d.trim(d("#deliverMethod").val()).length===0){alert("");return false}if(!Number(d("#reward_cnt").val())||Number(d("#reward_cnt").val()<1)){alert("");return false}var b=d("#reward_setting").serializeArray();var c={};e.forEach(b,function(a){c[a.name]=a.value});var f=[];var g=a.find(".reward_list");var h=true;g.children().each(function(a,b){var c=d(b).data("id");var e=d(b).find(".name").val();var g=d(b).find(".value").val();var i=d(b).find(".count").val();if(d.trim(e).length===0||d.trim(g).length===0){alert("");h=false}if(Number(i)!==parseInt(i,10)||!(Number(i)>0)){alert("");h=false}if(!c){c=String((new Date).getTime())+a}f.push({id:c,name:e,value:g,count:i})});if(!h){return false}c.list=f;c.reward_type=0;c["status"]=2;c.endDateTime=l.getMoment().unix();s=c};var q=function(){var a=d(this.node);var b=a.find(".col_exemption_clause");m.close();var e=a.find(".reward_list");a.on("click",".btn_add",function(){e.append(o({id:null,name:null,count:null,value:null}))});a.on("click",".btn_remove",function(b){if(a.find(".reward_item").length===1){alert("");return}d(b.currentTarget).parents(".reward_item").remove()});a.on("click","#show_exemption_clause",function(){d(this).toggleClass("toggle");b.toggle();if(d(this).hasClass("toggle")){b.scrollIntoView()}});a.on("change","#accept_read_me",function(a){f(!a.target.checked)});var f=function(b){var c=a.find(".ui-dialog-autofocus");c.prop("disabled",b?"disabled":"")};f(!a.find("#accept_read_me").prop("checked"));l=new g({field:d(this.node).find("#endDateTime")[0],format:"YYYY-MM-DD  HH:mm:ss",i18n:i.pikaday["zh-cn"],defaultDate:c.endDateTime===""?h().add(1,"d").toDate():h.unix(c.endDateTime).toDate(),setDefaultDate:true})};var r=function(){m&&m.showModal()};var t=function(){var a=d(this.node);if(!a.find("#accept_read_me").prop("checked")){d("#dialog_setting_reward").prop("checked",false)}};return f({id:"rewardDialog",title:"",skin:"g_dialog_v2 dialog_reward_setting",content:n(c),width:685,height:450,button:[{value:"",autofocus:true,disabled:true,callback:p},{value:"",callback:t}],cancel:false,onshow:q,onclose:r})};var x=function(a,b){var c=f.get("settingDialog");var g;var h=a.questions_random||[];function i(a){var b=[];a.forEach(function(a){var c={};c.start=a[0];c.end=a[1];c.len=a[1]-a[0]+1;c.lenRange=k(c.len);c.count=a[2];b.push(c)});return b}function k(a){return e.range(1,a+1)}var l=b.get("questions");var m=b.get("question2page");var n=b.get("questionsIncomingDegree");var o=i(a.questions_random||[]);var r=b.get("questionsBeingReferred");a.questionRandom=o;e.forEach(l,function(a){a.title=j.plainTextFilter(a.title)});function s(a){function b(){a.forEach(function(a){a.canPickedAsStart=v(a);a.canPickedAsEnd=x(a)})}b();var c=q({questionRandom:a,questions:l});g.find("#question_random_display_items").html(c);var f={language:{noResults:function(){return""}},dropdownAutoWidth:true};function h(){d(".question_random_select_begin").select2(f);d(".question_random_select_end").select2(f);d(".question_random_select_count").select2(e.assign({},f,{minimumResultsForSearch:Infinity,containerCssClass:"question_random_count_select2_container",dropdownCssClass:"question_random_count_select2_dropdown"}));d(".question_random_select_begin,.question_random_select_end,.question_random_select_count").on("select2:open",function(){d(".select2-search__field").attr("placeholder","")})}h();return c}function t(a){var b=w(a);if(a.end<=a.start||a.end>b){a.end=b}var c=a.end-a.start+1;if(a.count===undefined||a.count>c){a.count=a.end-a.start}a.len=c;a.lenRange=k(a.len)}function u(a,b){var c=e.times(l.length,function(){return false});a.forEach(function(a,d){if(b===d){return}e.range(a.start,a.end+1).map(function(a){
c[a]=true})});return c}function v(a){var b=o.indexOf(a);var c=u(o,b);var d=c.map(function(a,b){var c=!a;if(l[b].type==="description"){c=false}if(r.indexOf(l[b].id)!==-1){c=false}return c});var e=d.map(function(b,c){if(b){if(w(a,c)===-1){return false}else{return true}}else{return false}});return e}function w(a,b){if(a===undefined&&isNaN(b)){return-1}var c=!isNaN(b)?b:a.start;var d=l[c];var f=m[d.id].id;var g=n[d.id];var h=c;var i=o.indexOf(a);var j=u(o,i);function k(a){if(a>=l.length){return false}if(j[a]===true){return false}if(m[l[a].id].id!==f){return false}if(!b(g,n[l[a].id])){return false}if(l[a].type==="description"){return false}if(r.indexOf(l[a].id)!==-1){return false}function b(a,b){var c=a||[];var d=b||[];if(c.length!==d.length){return false}c=e.sortBy(c);d=e.sortBy(d);return e.isEqual(c,d)}return true}while(k(h+1)){h++}if(h!==c){return h}else{return-1}}function x(a){var b=w(a);if(b!==-1){a.endMostIndex=b;return e.range(0,l.length).map(function(c){return c>a.start&&c<=b})}else{return e.range(0,l.length).map(function(a){return false})}}function y(){var a=v();var b=a.indexOf(true);if(b!==-1){var c={start:b,end:b};t(c);o.push(c)}else{f({title:"",width:300,height:100,skin:"ui-dialog-small",content:"",button:[{value:"",callback:function(){}}]}).showModal()}s(o)}var z=function(){g=d(this.node);c.close();if(o.length===0){y()}else{s(o)}d("#question_random_display").on("click",".question_randoms_delete_btn",function(a){var b=a.currentTarget.id.split("_"),c=b[b.length-1],d=b[b.length-2];switch(d){case"delete":o.splice(c,1);break;default:break}s(o)});d("#question_random_display").on("change","select",function(a){var b=a.currentTarget.id.split("_"),c=b[b.length-1],d=b[b.length-2],e=a.currentTarget.value;var f=o[c];f[d]=Number(e);f.len=f.end-f.start+1;f.lenRange=k(f.len);t(f);setTimeout(function(){s(o)},0)});g.find("#question_random_add_btn").on("click",y)};var A=function(){var a=e.sortBy(o,function(a){return a.start});a=e.filter(a,function(a){var b=a.end-a.start+1;return a.start<a.end&&a.count<=b});a=a.map(function(a){return[a.start,a.end,a.count]});h=a};var B=function(){c.showModal()};var C=function(){};return f({title:"",content:p(),skin:"g_dialog_v2 questions_random_setting_dialog",width:830,height:400,cancelDisplay:false,button:[{value:"",autofocus:true,callback:function(){A();a.questions_random=h}},{value:"",callback:function(){}}],lock:true,cancel:C,onshow:z,onclose:B})};var y=function(a,b){var c=f.get("settingDialog");var e=!!b.default_reward||false;var g=function(){c&&c.showModal()};var h=function(){var a=d(this.node);c.close();a.on("click",".show_exemption_clause",function(b){d(this).toggleClass("toggle");a.find(".col_exemption_clause").toggle();if(d(this).hasClass("toggle")){a.find(".col_exemption_clause").scrollIntoView()}});a.on("change","#accept_read_me",function(a){b(!a.target.checked)});var b=function(b){var c=a.find(".ui-dialog-autofocus");c.prop("disabled",b?"disabled":"")};b(!e)};var i=function(){var a=d(this.node);if(!a.find("#accept_read_me").prop("checked")){d("#dialog_setting_gift").prop("checked",false);u(c)}};return f({width:530,height:430,id:"giftDialog",title:"",skin:"g_dialog_v2 dialog_gift_library",content:r({list:a,acceptReadMe:e}),onshow:h,onclose:g,button:[{value:"",autofocus:true,disabled:true,callback:function(){}},{value:"",callback:i}]})};var z=function(a,b){var c=f.get("settingDialog");var e=f({title:"",content:o(),skin:"contact_setting_dialog",onshow:function(){var a=d(this.node);c.close();a.find("textarea[placeholder], input[placeholder]").placeholder();d("#contact").focus();var e=null;var f=null;d("#get_verify_code").on("click",function(a){if(f){return}var c=d("#contact").val();if(!c.match(/^(0|86|17951)?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/)){alert("");return}b.exec("getVerifyCode",c,{preventDefaultCallbacks:["fail"]}).fail(function(a){var b=a.info.split("|")[0];switch(b){case"2":alert("");k();e=true;break;case"5":alert("");j(a.info.split("|")[2]);break;case"7":case"8":alert("");e=true;k();break;case"9":alert("10");e=true;k();break}});e=true;var g=d(this);var h='<span style="color:#58a6e7;cursor:pointer;"></span>';var i='<span style="color:#999;cursor:not-allowed;">(secs)</span>';j();function j(a){a=a||60;d(g).addClass("disabled");clearInterval(f);g.html(i.replace(/sec/,a));f=setInterval(function(){if(a===0){k()}else{g.html(i.replace(/sec/,a))}a--},1e3)}function k(){g.html(h);e=false;clearInterval(f);f=null;d(g).removeClass("disabled")}});var g=a.find(".ui-dialog-autofocus")[0];d("#verify_code").on("keydown change",function(a){if(e!==null){g.disabled=false}})},onclose:function(){c.showModal()},width:300,height:100,button:[{value:"",autofocus:true,disabled:true,callback:function(){b.exec("answerNoticeVerify",d("#contact").val(),d("#verify_code").val(),{preventDefaultCallbacks:["fail"]}).done(function(b){a.answer_notice=true;a.answer_notice_list={1:[d("#contact").val()]};d(".answer_notice_valid").show();d(".answer_notice_valid .contact").text(d("#contact").val());d(".answer_notice_invalid").hide();e.close().remove()}).fail(function(a){var b=a.info.split("|")[0];switch(b){case"2":alert("");break;case"3":alert("");break;case"5":alert("");break;case"7":case"8":alert("");break}});return false}},{value:"",callback:function(){}}],lock:true});return e};c.exports=t});define("bind_events",["require","underscore"],function(a){var b=require("underscore");return{bindModelEvents:function(a,c,d){var e=b.keys(d);e.forEach(function(e){var f;if(b.isFunction(d[e])){f=d[e]}else{f=a[d[e]]}c.on(e,b.bind(f,a))})},bindUIEvents:function(a,c,d){var e=b.keys(d);e.forEach(function(e){var f=e.split(/\s+/);var g=f[0];var h=e.slice(g.length);var i;if(b.isFunction(d[e])){i=d[e]}else{i=a[d[e]]}c.on(g,h,b.bind(i,a))})}}});define("amd-templates/common/pc/edit/preview",["../../../template"],function(a){return a("common/pc/edit/preview",'<div class="mod_preview"> <div class="header"> <div class="nav"> <ul> <li id="preview_mobile" class="preview_type btn_preview_mobile"> <i class="ico ico_preview_mobile"></i>  </li> <li id="preview_pc" class="preview_type btn_preview_pc"> <i class="ico ico_preview_pc"></i>  </li> </ul> <div class="nav_ext"> <a href="javascript:;" class="btn btn_middle btn_white btn_share_box not_hide"></a> <a href="javascript:;" id="exit_preview" class="btn btn_middle btn_white btn_exit_preview"></a> </div> </div> </div> <div class="body"> <div id="preview_mobile_container" class="preview_content"> <iframe class="preview_iframe" id="preview_mobile_iframe" src="javascript:;" frameborder="0"></iframe> </div> <div id="preview_pc_container" class="preview_content"> <iframe class="preview_iframe" id="preview_pc_iframe" src="javascript:;" frameborder="0"></iframe> </div> </div> </div> ')});define("app/edit/common/views/preview",["require","exports","module","jquery","underscore","art-dialog/dialog","bind_events","amd-templates/common/pc/edit/preview"],function(a,b,c){var d=a("jquery");var e=a("underscore");var f=a("art-dialog/dialog");var g=a("bind_events");var h=a("amd-templates/common/pc/edit/preview");var i=function(a){this.model=a;this.$el=d(h());this.$el.appendTo("body");this.$preview_pc_container=d("#preview_pc_container");this.$preview_mobile_container=d("#preview_mobile_container");this.$btn_preview_pc=d(".btn_preview_pc");this.$btn_preview_mobile=d(".btn_preview_mobile");this.$iframe=d(".preview_iframe");this.bindUIEvents()};e.extend(i.prototype,{isReadOnlyMode:false,bindUIEvents:function(){var a=this;g.bindUIEvents(this,d("#preview_survey"),{click:"clickPreviewHandler"});g.bindUIEvents(this,this.$el,{"click .btn_exit_preview":"exitPreview","click .btn_preview_pc":"switchToPC","click .btn_preview_mobile":"switchToMobile"});d(window).resize(function(){a._resize()})},_resize:function(){var a=d(window).height();var b=this.isReadOnlyMode?121:60;d("#preview_pc_iframe").height(a-b)},switchToPC:function(){this._iframeLoadSrc("pc");this.$btn_preview_mobile.removeClass("active");this.$preview_mobile_container.removeClass("active");this.$btn_preview_pc.addClass("active");this.$preview_pc_container.addClass("active")},switchToMobile:function(){this._iframeLoadSrc("mobile");this.$btn_preview_mobile.addClass("active");this.$preview_mobile_container.addClass("active");this.$btn_preview_pc.removeClass("active");this.$preview_pc_container.removeClass("active")},_iframeLoadSrc:function(a){var b=this.$iframe.filter(function(){return this.id.indexOf(a)!==-1});if(b.attr("src")==="javascript:;"){b.attr("src",this._getUrl())}},_getUrl:function(){var a=this.model.get("survey.id");var b=this.model.get("survey.hash");if(this.model.get("survey.hide_tencent_relevant")){return"https://act.1700.cn/s/"+a+"/"+b}else{return"/s/"+a+"/"+b}},readOnly:function(a){this.isReadOnlyMode=true;var b=a.user_id;d(".g_subheader").hide();var c=String((new Date).getTime()).slice(0,10);var e="https://q1.qlogo.cn/g?b=qq&nk="+b+"&s=40&t="+c;var g=f({skin:"coworker-tip",align:"bottom",zIndex:999999,content:'<b><img src="'+e+'" class="avatar" alt="">'+b+"</b><span></span>",autofocus:false});g.show(d("#header")[0]);d("#exit_preview").hide();d(".mod_preview").css("top","61px");this.render()},render:function(){d(".g_container").fadeOut(300);this.$el.fadeIn(300);this.switchToMobile();this._resize()},clickPreviewHandler:function(a){var b=this;var c=d.Deferred();var e=function(){return b.model.exec("isQuestionEmpty")};var g=function(){return b.model.exec("syncToServer")};var h=function(){b.render()};var i=function(a){if(typeof a==="string"){var b=f({skin:"tips edit_error_tips",content:a,align:"top"}).show();setTimeout(function(){b.close().remove()},2500)}};c.then(e).then(g).then(h).fail(i);c.resolve()},exitPreview:function(){d(".g_container").fadeIn(300);this.$el.fadeOut(300);this.$iframe.each(function(){this.src="javascript:;"})}});c.exports=i});!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define("clipboard",[],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.Clipboard=a()}}(function(){var a,b,c;return function d(a,b,c){function e(g,h){if(!b[g]){if(!a[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=b[g]={exports:{}};a[g][0].call(k.exports,function(b){var c=a[g][1][b];return e(c||b)},k,k.exports,d,a,b,c)}return b[g].exports}for(var f="function"==typeof require&&require,g=0;g<c.length;g++)e(c[g]);return e}({1:[function(a,b,c){function d(a,b){for(;a&&a.nodeType!==e;){if("function"==typeof a.matches&&a.matches(b))return a;a=a.parentNode}}var e=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var f=Element.prototype;f.matches=f.matchesSelector||f.mozMatchesSelector||f.msMatchesSelector||f.oMatchesSelector||f.webkitMatchesSelector}b.exports=d},{}],2:[function(a,b,c){function d(a,b,c,d,f){var g=e.apply(this,arguments);return a.addEventListener(c,g,f),{destroy:function(){a.removeEventListener(c,g,f)}}}function e(a,b,c,d){return function(c){c.delegateTarget=f(c.target,b),c.delegateTarget&&d.call(a,c)}}var f=a("./closest");b.exports=d},{"./closest":1}],3:[function(a,b,c){c.node=function(a){return void 0!==a&&a instanceof HTMLElement&&1===a.nodeType},c.nodeList=function(a){var b=Object.prototype.toString.call(a);return void 0!==a&&("[object NodeList]"===b||"[object HTMLCollection]"===b)&&"length"in a&&(0===a.length||c.node(a[0]))},c.string=function(a){return"string"==typeof a||a instanceof String},c.fn=function(a){return"[object Function]"===Object.prototype.toString.call(a)}},{}],4:[function(a,b,c){function d(a,b,c){if(!a&&!b&&!c)throw new Error("Missing required arguments");if(!h.string(b))throw new TypeError("Second argument must be a String");if(!h.fn(c))throw new TypeError("Third argument must be a Function");if(h.node(a))return e(a,b,c);if(h.nodeList(a))return f(a,b,c);if(h.string(a))return g(a,b,c);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function e(a,b,c){return a.addEventListener(b,c),{destroy:function(){a.removeEventListener(b,c)}}}function f(a,b,c){return Array.prototype.forEach.call(a,function(a){a.addEventListener(b,c)}),{destroy:function(){Array.prototype.forEach.call(a,function(a){a.removeEventListener(b,c)})}}}function g(a,b,c){return i(document.body,a,b,c)}var h=a("./is"),i=a("delegate");b.exports=d},{"./is":3,delegate:2}],5:[function(a,b,c){function d(a){var b;if("SELECT"===a.nodeName)a.focus(),b=a.value;else if("INPUT"===a.nodeName||"TEXTAREA"===a.nodeName){var c=a.hasAttribute("readonly");c||a.setAttribute("readonly",""),a.select(),a.setSelectionRange(0,a.value.length),c||a.removeAttribute("readonly"),b=a.value}else{a.hasAttribute("contenteditable")&&a.focus();var d=window.getSelection(),e=document.createRange();e.selectNodeContents(a),d.removeAllRanges(),d.addRange(e),b=d.toString()}return b}b.exports=d},{}],6:[function(a,b,c){function d(){}d.prototype={on:function(a,b,c){var d=this.e||(this.e={});return(d[a]||(d[a]=[])).push({fn:b,ctx:c}),this},once:function(a,b,c){function d(){e.off(a,d),b.apply(c,arguments)}var e=this;return d._=b,this.on(a,d,c)},emit:function(a){var b=[].slice.call(arguments,1),c=((this.e||(this.e={}))[a]||[]).slice(),d=0,e=c.length;for(d;d<e;d++)c[d].fn.apply(c[d].ctx,b);return this},off:function(a,b){var c=this.e||(this.e={}),d=c[a],e=[];if(d&&b)for(var f=0,g=d.length;f<g;f++)d[f].fn!==b&&d[f].fn._!==b&&e.push(d[f]);return e.length?c[a]=e:delete c[a],this}},b.exports=d},{}],7:[function(b,c,d){!function(e,f){if("function"==typeof a&&a.amd)a(["module","select"],f);else if(void 0!==d)f(c,b("select"));else{var g={exports:{}};f(g,e.select),e.clipboardAction=g.exports}}(this,function(a,b){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=c(b),f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=function(){function a(b){d(this,a),this.resolveOptions(b),this.initSelection()}return g(a,[{key:"resolveOptions",value:function b(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=a.action,this.container=a.container,this.emitter=a.emitter,this.target=a.target,this.text=a.text,this.trigger=a.trigger,this.selectedText=""}},{key:"initSelection",value:function c(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function h(){var a=this,b="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return a.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[b?"right":"left"]="-9999px";var c=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=c+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,e.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function i(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function j(){this.selectedText=(0,e.default)(this.target),this.copyText()}},{key:"copyText",value:function k(){var a=void 0;try{a=document.execCommand(this.action)}catch(k){a=!1}this.handleResult(a)}},{key:"handleResult",value:function l(a){this.emitter.emit(a?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function m(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function n(){this.removeFake()}},{key:"action",set:function o(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=a,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function p(){return this._action}},{key:"target",set:function q(a){if(void 0!==a){if(!a||"object"!==(void 0===a?"undefined":f(a))||1!==a.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&a.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(a.hasAttribute("readonly")||a.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=a}},get:function r(){return this._target}}]),a}();a.exports=h})},{select:5}],8:[function(b,c,d){!function(e,f){if("function"==typeof a&&a.amd)a(["module","./clipboard-action","tiny-emitter","good-listener"],f);else if(void 0!==d)f(c,b("./clipboard-action"),b("tiny-emitter"),b("good-listener"));else{var g={exports:{}};f(g,e.clipboardAction,e.tinyEmitter,e.goodListener),e.clipboard=g.exports}}(this,function(a,b,c,d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function i(a,b){var c="data-clipboard-"+a;if(b.hasAttribute(c))return b.getAttribute(c)}var j=e(b),k=e(c),l=e(d),m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},n=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),o=function(a){function b(a,c){f(this,b);var d=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return d.resolveOptions(c),d.listenClick(a),d}return h(b,a),n(b,[{key:"resolveOptions",value:function c(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof a.action?a.action:this.defaultAction,this.target="function"==typeof a.target?a.target:this.defaultTarget,this.text="function"==typeof a.text?a.text:this.defaultText,this.container="object"===m(a.container)?a.container:document.body}},{key:"listenClick",value:function d(a){var b=this;this.listener=(0,l.default)(a,"click",function(a){return b.onClick(a)})}},{key:"onClick",value:function e(a){var b=a.delegateTarget||a.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new j.default({action:this.action(b),target:this.target(b),text:this.text(b),container:this.container,trigger:b,emitter:this})}},{key:"defaultAction",value:function k(a){return i("action",a)}},{key:"defaultTarget",value:function o(a){var b=i("target",a);if(b)return document.querySelector(b)}},{key:"defaultText",value:function p(a){return i("text",a)}},{key:"destroy",value:function q(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function r(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],b="string"==typeof a?[a]:a,c=!!document.queryCommandSupported;return b.forEach(function(a){c=c&&!!document.queryCommandSupported(a)}),c}}]),b}(k.default);a.exports=o})},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8)});define("app/util/copy",["require","clipboard"],function(a){var b=a("clipboard");return{bind:function(a){new b(a)}}});define("amd-templates/common/pc/share/closed",["../../../template"],function(a){return a("common/pc/share/closed",function(a){"use strict";var b=this,c=(b.$helpers,b.$escape),d=a.link,e=a.id,f=a.hash,g="";return g+='<div class="tip"></div> <h3></h3> <div class="wrap"> <input id="share_link" type="text" class="link" value="',g+=c(d),g+='" /> <button id="copy_share_link" class="btn btn_small btn_white copy_link clipboard_copy" data-clipboard-target="#share_link"></button> <a target="_blank" href="',g+=c(d),g+='" class="btn btn_small btn_white open_link"></a> </div> <h3></h3> <div class="wrap"> <img src="/survey/get_qrcode?survey_id=',g+=c(e),g+="&hash=",g+=c(f),g+='&type=1" id="qr_code2" class="qr_code" /> <div class="info">  </div> </div> ',new String(g)})});define("amd-templates/common/pc/share/published",["../../../template"],function(a){return a("common/pc/share/published",function(a){"use strict";var b=this,c=(b.$helpers,b.$escape),d=a.link,e=a.id,f=a.hash,g=a.title,h=a.encoded_link,i=a.pic,j=a.prefix,k="";return k+='<h3></h3> <div class="wrap"> <input id="share_link" type="text" class="link" value="',k+=c(d),k+='" /> <button id="copy_share_link" class="btn btn_small btn_white copy_link clipboard_copy" data-clipboard-target="#share_link"></button> <a target="_blank" href="',k+=c(d),k+='" class="btn btn_small btn_white open_link"></a> </div> <h3></h3> <div class="wrap"> <input id="embed_link" type="text" class="link embed_link clipboard_copy" value=\'<iframe height="1200" width="600" src="',k+=c(d),k+='" frameborder="0" allowfullscreen></iframe>\' /> <button id="copy_embed_link" class="btn btn_small btn_white clipboard_copy" data-clipboard-target="#embed_link"></button> </div> <h3></h3> <div class="share_platforms"> <div id="weixin" class="platform"> <div class="ico_wrap"> <i class="ico ico_weixin"></i> <img src="/survey/get_qrcode?survey_id=',k+=c(e),k+="&hash=",k+=c(f),k+='&type=1" id="qr_code" class="qr_code" /> </div> <p></p> </div> <div id="t_sina" class="platform"> <a class="ico_wrap" target="_blank" href="http://service.weibo.com/share/share.php?title=',k+=c(g),k+="&url=",k+=c(h),k+="&source=bookmark&appkey=&pic=",k+=c(i),k+='&ralateUid="> <i class="ico ico_t_sina"></i> </a> <p></p> </div> <div id="cqq" class="platform"> <a class="ico_wrap" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=',k+=c(h),k+="&showcount=0&desc=&summary=",k+=c(j),k+="&title=",k+=c(g),k+="&site=qq&pics=",k+=c(i),k+='"> <i class="ico ico_cqq"></i> </a> <p>QQ</p> </div> </div> <h3></h3> <div class="wrap"> <img src="/survey/get_qrcode?survey_id=',k+=c(e),k+="&hash=",k+=c(f),k+='&type=1" id="qr_code2" class="qr_code" /> <div class="size_list"> <a target="_blank" href="/survey/get_qrcode?survey_id=',k+=c(e),k+="&hash=",k+=c(f),k+='&type=1">256*256</a> <a target="_blank" href="/survey/get_qrcode?survey_id=',k+=c(e),k+="&hash=",k+=c(f),k+='&type=2">512*512</a> <a target="_blank" href="/survey/get_qrcode?survey_id=',k+=c(e),k+="&hash=",k+=c(f),k+='&type=3">1024*1024</a> <a target="_blank" href="/survey/get_qrcode?survey_id=',k+=c(e),k+="&hash=",k+=c(f),k+='&type=4"></a> </div> <div class="info_list"> <span></span> <span>PPT</span> <span></span> <span></span> </div> </div> ',new String(k)})});define("app/common/views/dialogShare",["require","exports","module","jquery","art-dialog/dialog","app/util/copy","app/util/richtext","amd-templates/common/pc/share/closed","amd-templates/common/pc/share/published"],function(a,b,c){"use strict";var d=a("jquery");var e=a("art-dialog/dialog");var f=a("app/util/copy");var g=a("app/util/richtext");var h=a("amd-templates/common/pc/share/closed");var i=a("amd-templates/common/pc/share/published");var j=function(a){var b;if(a.hide_tencent_relevant){b="https://act.1700.cn/s/"+a.id+"/"+a.hash}else{b=a.url.replace(/^http:\/\/wj.qq.com/,location.protocol+"//"+location.host)}var c=a.state===undefined?a.status:a.state;var j=location.protocol;if(c!=="2"){e({title:"",content:h({link:b,id:a.id,hash:a.hash}),width:540,okValue:"",skin:"ui-dialog-large ui-dialog_share closed",ok:function(){},onshow:function(){f.bind(".clipboard_copy");d(this.node).find(".link").click(function(){d(this).select()})}}).showModal()}else{e({title:"",content:i({id:a.id,hash:a.hash,link:b,title:encodeURIComponent(g.plainTextFilter(a.title)),prefix:a.prefix?encodeURIComponent(g.plainTextFilter(a.prefix)):"",encoded_link:encodeURIComponent(b),pic:encodeURIComponent(j+"//wj.qq.com/image/logo_word@2x.png")}),width:540,okValue:"",skin:"ui-dialog-large ui-dialog_share",ok:function(){},onshow:function(){f.bind(".clipboard_copy");d(this.node).find(".link").click(function(){d(this).select()})}}).showModal()}};c.exports=j});define("app/edit/common/views/share",["require","exports","module","jquery","underscore","bind_events","app/common/views/dialogShare"],function(a,b,c){"use strict";var d=a("jquery");var e=a("underscore");var f=a("bind_events");var g=a("app/common/views/dialogShare");var h=function(a){this.surveyModel=a.surveyModel;this.init()};e.extend(h.prototype,{init:function(){f.bindUIEvents(this,d(document),{"click .btn_share_box":"_showShareBox"});f.bindModelEvents(this,this.surveyModel,{surveyPublished:"_showBtn",surveyClosed:"_hideBtn"});if(this.surveyModel.get("survey.state")!=="2"){this._hideBtn()}},_showBtn:function(){d(".btn_share_box").not(".not_hide").show()},_hideBtn:function(){d(".btn_share_box").not(".not_hide").hide()},_showShareBox:function(){var a=this.surveyModel.get("survey");new g(a)}});c.exports=h});(function(){function a(a,b){if(a!==b){var c=null===a,d=a===u,e=a===a,f=null===b,g=b===u,h=b===b;if(a>b&&!f||!e||c&&!g&&h||d&&h)return 1;if(a<b&&!c||!h||f&&!d&&e||g&&e)return-1}return 0}function b(a,b,c){for(var d=a.length,e=c?d:-1;c?e--:++e<d;)if(b(a[e],e,a))return e;return-1}function c(a,b,c){if(b!==b)return m(a,c);c-=1;for(var d=a.length;++c<d;)if(a[c]===b)return c;return-1}function d(a){return typeof a=="function"||false}function e(a){return null==a?"":a+""}function f(a,b){for(var c=-1,d=a.length;++c<d&&-1<b.indexOf(a.charAt(c)););return c}function g(a,b){for(var c=a.length;c--&&-1<b.indexOf(a.charAt(c)););return c}function h(b,c){return a(b.a,c.a)||b.b-c.b}function i(a){return Ja[a]}function j(a){return Ka[a]}function k(a,b,c){return b?a=Na[a]:c&&(a=Oa[a]),"\\"+a}function l(a){return"\\"+Oa[a]}function m(a,b,c){var d=a.length;for(b+=c?0:-1;c?b--:++b<d;){var e=a[b];if(e!==e)return b}return-1}function n(a){return!!a&&typeof a=="object"}function o(a){return 160>=a&&9<=a&&13>=a||32==a||160==a||5760==a||6158==a||8192<=a&&(8202>=a||8232==a||8233==a||8239==a||8287==a||12288==a||65279==a)}function p(a,b){for(var c=-1,d=a.length,e=-1,f=[];++c<d;)a[c]===b&&(a[c]=N,f[++e]=c);return f}function q(a){for(var b=-1,c=a.length;++b<c&&o(a.charCodeAt(b)););return b}function r(a){for(var b=a.length;b--&&o(a.charCodeAt(b)););return b}function s(a){return La[a]}function t(o){function Ja(a){if(n(a)&&!(Bf(a)||a instanceof Ma)){if(a instanceof La)return a;if(_d.call(a,"__chain__")&&_d.call(a,"__wrapped__"))return Pc(a)}return new La(a)}function Ka(){}function La(a,b,c){this.__wrapped__=a,this.__actions__=c||[],this.__chain__=!!b}function Ma(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=false,this.__iteratees__=[],this.__takeCount__=Ae,this.__views__=[]}function Na(){this.__data__={}}function Oa(a){var b=a?a.length:0;for(this.data={hash:pe(null),set:new je};b--;)this.push(a[b])}function Pa(a,b){var c=a.data;return(typeof b=="string"||pd(b)?c.set.has(b):c.hash[b])?0:-1}function Qa(a,b){var c=-1,d=a.length;for(b||(b=Nd(d));++c<d;)b[c]=a[c];return b}function Ra(a,b){for(var c=-1,d=a.length;++c<d&&false!==b(a[c],c,a););return a}function Sa(a,b){for(var c=-1,d=a.length;++c<d;)if(!b(a[c],c,a))return false;return true}function Ta(a,b){for(var c=-1,d=a.length,e=-1,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[++e]=g)}return f}function Wa(a,b){for(var c=-1,d=a.length,e=Nd(d);++c<d;)e[c]=b(a[c],c,a);return e}function Xa(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}function Ya(a,b,c,d){var e=-1,f=a.length;for(d&&f&&(c=a[++e]);++e<f;)c=b(c,a[e],e,a);return c}function Za(a,b){for(var c=-1,d=a.length;++c<d;)if(b(a[c],c,a))return true;return false}function $a(a,b,c,d){return a!==u&&_d.call(d,c)?a:b}function _a(a,b,c){for(var d=-1,e=Mf(b),f=e.length;++d<f;){var g=e[d],h=a[g],i=c(h,b[g],g,a,b);(i===i?i===h:h!==h)&&(h!==u||g in a)||(a[g]=i)}return a}function ab(a,b){return null==b?a:cb(b,Mf(b),a)}function bb(a,b){for(var c=-1,d=null==a,e=!d&&Cc(a),f=e?a.length:0,g=b.length,h=Nd(g);++c<g;){var i=b[c];h[c]=e?Dc(i,f)?a[i]:u:d?u:a[i]}return h}function cb(a,b,c){c||(c={});for(var d=-1,e=b.length;++d<e;){var f=b[d];c[f]=a[f]}return c}function db(a,b,c){var d=typeof a;return"function"==d?b===u?a:Nb(a,b,c):null==a?Id:"object"==d?ub(a):b===u?Md(a):vb(a,b)}function eb(a,b,c,d,e,f,g){var h;if(c&&(h=e?c(a,d,e):c(a)),h!==u)return h;if(!pd(a))return a;if(d=Bf(a)){if(h=yc(a),!b)return Qa(a,h)}else{var i=be.call(a),j=i==T;if(i!=V&&i!=O&&(!j||e))return Ia[i]?Ac(a,i,b):e?a:{};if(h=zc(j?{}:a),!b)return ab(h,a)}for(f||(f=[]),g||(g=[]),e=f.length;e--;)if(f[e]==a)return g[e];return f.push(a),g.push(h),(d?Ra:nb)(a,function(d,e){h[e]=eb(d,b,c,e,a,f,g)}),h}function fb(a,b,c){if(typeof a!="function")throw new Wd(M);return ke(function(){a.apply(u,c)},b)}function gb(a,b){var d=a?a.length:0,e=[];if(!d)return e;var f=-1,g=vc(),h=g===c,i=h&&b.length>=J&&pe&&je?new Oa(b):null,j=b.length;i&&(g=Pa,h=false,b=i);a:for(;++f<d;)if(i=a[f],h&&i===i){for(var k=j;k--;)if(b[k]===i)continue a;e.push(i)}else 0>g(b,i,0)&&e.push(i);return e}function hb(a,b){var c=true;return He(a,function(a,d,e){return c=!!b(a,d,e)}),c}function ib(a,b,c,d){var e=d,f=e;return He(a,function(a,g,h){g=+b(a,g,h),(c(g,e)||g===d&&g===f)&&(e=g,f=a)}),f}function jb(a,b){var c=[];return He(a,function(a,d,e){b(a,d,e)&&c.push(a)}),c}function kb(a,b,c,d){var e;return c(a,function(a,c,f){return b(a,c,f)?(e=d?c:a,false):void 0}),e}function lb(a,b,c,d){d||(d=[]);for(var e=-1,f=a.length;++e<f;){var g=a[e];n(g)&&Cc(g)&&(c||Bf(g)||ld(g))?b?lb(g,b,c,d):Xa(d,g):c||(d[d.length]=g)}return d}function mb(a,b){Je(a,b,Ad)}function nb(a,b){return Je(a,b,Mf)}function ob(a,b){return Ke(a,b,Mf)}function pb(a,b){for(var c=-1,d=b.length,e=-1,f=[];++c<d;){var g=b[c];od(a[g])&&(f[++e]=g)}return f}function qb(a,b,c){if(null!=a){c!==u&&c in Nc(a)&&(b=[c]),c=0;for(var d=b.length;null!=a&&c<d;)a=a[b[c++]];return c&&c==d?a:u}}function rb(a,b,c,d,e,f){if(a===b)a=true;else if(null==a||null==b||!pd(a)&&!n(b))a=a!==a&&b!==b;else a:{var g=rb,h=Bf(a),i=Bf(b),j=P,k=P;h||(j=be.call(a),j==O?j=V:j!=V&&(h=vd(a))),i||(k=be.call(b),k==O?k=V:k!=V&&vd(b));var l=j==V,i=k==V,k=j==k;if(!k||h||l){if(!d&&(j=l&&_d.call(a,"__wrapped__"),i=i&&_d.call(b,"__wrapped__"),j||i)){a=g(j?a.value():a,i?b.value():b,c,d,e,f);break a}if(k){for(e||(e=[]),f||(f=[]),j=e.length;j--;)if(e[j]==a){a=f[j]==b;break a}e.push(a),f.push(b),a=(h?qc:sc)(a,b,g,c,d,e,f),e.pop(),f.pop()}else a=false}else a=rc(a,b,j);
}return a}function sb(a,b,c){var d=b.length,e=d,f=!c;if(null==a)return!e;for(a=Nc(a);d--;){var g=b[d];if(f&&g[2]?g[1]!==a[g[0]]:!(g[0]in a))return false}for(;++d<e;){var g=b[d],h=g[0],i=a[h],j=g[1];if(f&&g[2]){if(i===u&&!(h in a))return false}else if(g=c?c(i,j,h):u,g===u?!rb(j,i,c,true):!g)return false}return true}function tb(a,b){var c=-1,d=Cc(a)?Nd(a.length):[];return He(a,function(a,e,f){d[++c]=b(a,e,f)}),d}function ub(a){var b=wc(a);if(1==b.length&&b[0][2]){var c=b[0][0],d=b[0][1];return function(a){return null==a?false:a[c]===d&&(d!==u||c in Nc(a))}}return function(a){return sb(a,b)}}function vb(a,b){var c=Bf(a),d=Fc(a)&&b===b&&!pd(b),e=a+"";return a=Oc(a),function(f){if(null==f)return false;var g=e;if(f=Nc(f),!(!c&&d||g in f)){if(f=1==a.length?f:qb(f,Cb(a,0,-1)),null==f)return false;g=Uc(a),f=Nc(f)}return f[g]===b?b!==u||g in f:rb(b,f[g],u,true)}}function wb(a,b,c,d,e){if(!pd(a))return a;var f=Cc(b)&&(Bf(b)||vd(b)),g=f?u:Mf(b);return Ra(g||b,function(h,i){if(g&&(i=h,h=b[i]),n(h)){d||(d=[]),e||(e=[]);a:{for(var j=i,k=d,l=e,m=k.length,o=b[j];m--;)if(k[m]==o){a[j]=l[m];break a}var m=a[j],p=c?c(m,o,j,a,b):u,q=p===u;q&&(p=o,Cc(o)&&(Bf(o)||vd(o))?p=Bf(m)?m:Cc(m)?Qa(m):[]:sd(o)||ld(o)?p=ld(m)?yd(m):sd(m)?m:{}:q=false),k.push(o),l.push(p),q?a[j]=wb(p,o,c,k,l):(p===p?p!==m:m===m)&&(a[j]=p)}}else j=a[i],k=c?c(j,h,i,a,b):u,(l=k===u)&&(k=h),k===u&&(!f||i in a)||!l&&(k===k?k===j:j!==j)||(a[i]=k)}),a}function xb(a){return function(b){return null==b?u:b[a]}}function yb(a){var b=a+"";return a=Oc(a),function(c){return qb(c,a,b)}}function zb(a,b){for(var c=a?b.length:0;c--;){var d=b[c];if(d!=e&&Dc(d)){var e=d;le.call(a,d,1)}}}function Ab(a,b){return a+qe(ye()*(b-a+1))}function Bb(a,b,c,d,e){return e(a,function(a,e,f){c=d?(d=false,a):b(c,a,e,f)}),c}function Cb(a,b,c){var d=-1,e=a.length;for(b=null==b?0:+b||0,0>b&&(b=-b>e?0:e+b),c=c===u||c>e?e:+c||0,0>c&&(c+=e),e=b>c?0:c-b>>>0,b>>>=0,c=Nd(e);++d<e;)c[d]=a[d+b];return c}function Db(a,b){var c;return He(a,function(a,d,e){return c=b(a,d,e),!c}),!!c}function Eb(a,b){var c=a.length;for(a.sort(b);c--;)a[c]=a[c].c;return a}function Fb(b,c,d){var e=tc(),f=-1;return c=Wa(c,function(a){return e(a)}),b=tb(b,function(a){return{a:Wa(c,function(b){return b(a)}),b:++f,c:a}}),Eb(b,function(b,c){var e;a:{for(var f=-1,g=b.a,h=c.a,i=g.length,j=d.length;++f<i;)if(e=a(g[f],h[f])){if(f>=j)break a;f=d[f],e*="asc"===f||true===f?1:-1;break a}e=b.b-c.b}return e})}function Gb(a,b){var c=0;return He(a,function(a,d,e){c+=+b(a,d,e)||0}),c}function Hb(a,b){var d=-1,e=vc(),f=a.length,g=e===c,h=g&&f>=J,i=h&&pe&&je?new Oa((void 0)):null,j=[];i?(e=Pa,g=false):(h=false,i=b?[]:j);a:for(;++d<f;){var k=a[d],l=b?b(k,d,a):k;if(g&&k===k){for(var m=i.length;m--;)if(i[m]===l)continue a;b&&i.push(l),j.push(k)}else 0>e(i,l,0)&&((b||h)&&i.push(l),j.push(k))}return j}function Ib(a,b){for(var c=-1,d=b.length,e=Nd(d);++c<d;)e[c]=a[b[c]];return e}function Jb(a,b,c,d){for(var e=a.length,f=d?e:-1;(d?f--:++f<e)&&b(a[f],f,a););return c?Cb(a,d?0:f,d?f+1:e):Cb(a,d?f+1:0,d?e:f)}function Kb(a,b){var c=a;c instanceof Ma&&(c=c.value());for(var d=-1,e=b.length;++d<e;)var f=b[d],c=f.func.apply(f.thisArg,Xa([c],f.args));return c}function Lb(a,b,c){var d=0,e=a?a.length:d;if(typeof b=="number"&&b===b&&e<=Ce){for(;d<e;){var f=d+e>>>1,g=a[f];(c?g<=b:g<b)&&null!==g?d=f+1:e=f}return e}return Mb(a,b,Id,c)}function Mb(a,b,c,d){b=c(b);for(var e=0,f=a?a.length:0,g=b!==b,h=null===b,i=b===u;e<f;){var j=qe((e+f)/2),k=c(a[j]),l=k!==u,m=k===k;(g?m||d:h?m&&l&&(d||null!=k):i?m&&(d||l):null==k?0:d?k<=b:k<b)?e=j+1:f=j}return ve(f,Be)}function Nb(a,b,c){if(typeof a!="function")return Id;if(b===u)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)};case 5:return function(c,d,e,f,g){return a.call(b,c,d,e,f,g)}}return function(){return a.apply(b,arguments)}}function Ob(a){var b=new ee(a.byteLength);return new me(b).set(new me(a)),b}function Pb(a,b,c){for(var d=c.length,e=-1,f=ue(a.length-d,0),g=-1,h=b.length,i=Nd(h+f);++g<h;)i[g]=b[g];for(;++e<d;)i[c[e]]=a[e];for(;f--;)i[g++]=a[e++];return i}function Qb(a,b,c){for(var d=-1,e=c.length,f=-1,g=ue(a.length-e,0),h=-1,i=b.length,j=Nd(g+i);++f<g;)j[f]=a[f];for(g=f;++h<i;)j[g+h]=b[h];for(;++d<e;)j[g+c[d]]=a[f++];return j}function Rb(a,b){return function(c,d,e){var f=b?b():{};if(d=tc(d,e,3),Bf(c)){e=-1;for(var g=c.length;++e<g;){var h=c[e];a(f,h,d(h,e,c),c)}}else He(c,function(b,c,e){a(f,b,d(b,c,e),e)});return f}}function Sb(a){return jd(function(b,c){var d=-1,e=null==b?0:c.length,f=2<e?c[e-2]:u,g=2<e?c[2]:u,h=1<e?c[e-1]:u;for(typeof f=="function"?(f=Nb(f,h,5),e-=2):(f=typeof h=="function"?h:u,e-=f?1:0),g&&Ec(c[0],c[1],g)&&(f=3>e?u:f,e=1);++d<e;)(g=c[d])&&a(b,g,f);return b})}function Tb(a,b){return function(c,d){var e=c?Ne(c):0;if(!Hc(e))return a(c,d);for(var f=b?e:-1,g=Nc(c);(b?f--:++f<e)&&false!==d(g[f],f,g););return c}}function Ub(a){return function(b,c,d){var e=Nc(b);d=d(b);for(var f=d.length,g=a?f:-1;a?g--:++g<f;){var h=d[g];if(false===c(e[h],h,e))break}return b}}function Vb(a,b){function c(){return(this&&this!==Ua&&this instanceof c?d:a).apply(b,arguments)}var d=Xb(a);return c}function Wb(a){return function(b){var c=-1;b=Gd(Dd(b));for(var d=b.length,e="";++c<d;)e=a(e,b[c],c);return e}}function Xb(a){return function(){var b=arguments;switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var c=Ge(a.prototype),b=a.apply(c,b);return pd(b)?b:c}}function Yb(a){function b(c,d,e){return e&&Ec(c,d,e)&&(d=u),c=pc(c,a,u,u,u,u,u,d),c.placeholder=b.placeholder,c}return b}function Zb(a,b){return jd(function(c){var d=c[0];return null==d?d:(c.push(b),a.apply(u,c))})}function $b(a,b){return function(c,d,e){if(e&&Ec(c,d,e)&&(d=u),d=tc(d,e,3),1==d.length){e=c=Bf(c)?c:Mc(c);for(var f=d,g=-1,h=e.length,i=b,j=i;++g<h;){var k=e[g],l=+f(k);a(l,i)&&(i=l,j=k)}if(e=j,!c.length||e!==b)return e}return ib(c,d,a,b)}}function _b(a,c){return function(d,e,f){return e=tc(e,f,3),Bf(d)?(e=b(d,e,c),-1<e?d[e]:u):kb(d,e,a)}}function ac(a){return function(c,d,e){return c&&c.length?(d=tc(d,e,3),b(c,d,a)):-1}}function bc(a){return function(b,c,d){return c=tc(c,d,3),kb(b,c,a,true)}}function cc(a){return function(){for(var b,c=arguments.length,d=a?c:-1,e=0,f=Nd(c);a?d--:++d<c;){var g=f[e++]=arguments[d];if(typeof g!="function")throw new Wd(M);!b&&La.prototype.thru&&"wrapper"==uc(g)&&(b=new La([],true))}for(d=b?-1:c;++d<c;){var g=f[d],e=uc(g),h="wrapper"==e?Me(g):u;b=h&&Gc(h[0])&&h[1]==(D|z|B|E)&&!h[4].length&&1==h[9]?b[uc(h[0])].apply(b,h[3]):1==g.length&&Gc(g)?b[e]():b.thru(g)}return function(){var a=arguments,d=a[0];if(b&&1==a.length&&Bf(d)&&d.length>=J)return b.plant(d).value();for(var e=0,a=c?f[e].apply(this,a):d;++e<c;)a=f[e].call(this,a);return a}}}function dc(a,b){return function(c,d,e){return typeof d=="function"&&e===u&&Bf(c)?a(c,d):b(c,Nb(d,e,3))}}function ec(a){return function(b,c,d){return(typeof c!="function"||d!==u)&&(c=Nb(c,d,3)),a(b,c,Ad)}}function fc(a){return function(b,c,d){return(typeof c!="function"||d!==u)&&(c=Nb(c,d,3)),a(b,c)}}function gc(a){return function(b,c,d){var e={};return c=tc(c,d,3),nb(b,function(b,d,f){f=c(b,d,f),d=a?f:d,b=a?b:f,e[d]=b}),e}}function hc(a){return function(b,c,d){return b=e(b),(a?b:"")+lc(b,c,d)+(a?"":b)}}function ic(a){var b=jd(function(c,d){var e=p(d,b.placeholder);return pc(c,a,u,d,e)});return b}function jc(a,b){return function(c,d,e,f){var g=3>arguments.length;return typeof d=="function"&&f===u&&Bf(c)?a(c,d,e,g):Bb(c,tc(d,f,4),e,g,b)}}function kc(a,b,c,d,e,f,g,h,i,j){function k(){for(var t=arguments.length,v=t,y=Nd(t);v--;)y[v]=arguments[v];if(d&&(y=Pb(y,d,e)),f&&(y=Qb(y,f,g)),o||r){var v=k.placeholder,z=p(y,v),t=t-z.length;if(t<j){var A=h?Qa(h):u,t=ue(j-t,0),D=o?z:u,z=o?u:z,E=o?y:u,y=o?u:y;return b|=o?B:C,b&=~(o?C:B),q||(b&=~(w|x)),y=[a,b,c,E,D,y,z,A,i,t],A=kc.apply(u,y),Gc(a)&&Oe(A,y),A.placeholder=v,A}}if(v=m?c:this,A=n?v[a]:a,h)for(t=y.length,D=ve(h.length,t),z=Qa(y);D--;)E=h[D],y[D]=Dc(E,t)?z[E]:u;return l&&i<y.length&&(y.length=i),this&&this!==Ua&&this instanceof k&&(A=s||Xb(a)),A.apply(v,y)}var l=b&D,m=b&w,n=b&x,o=b&z,q=b&y,r=b&A,s=n?u:Xb(a);return k}function lc(a,b,c){return a=a.length,b=+b,a<b&&se(b)?(b-=a,c=null==c?" ":c+"",Ed(c,oe(b/c.length)).slice(0,b)):""}function mc(a,b,c,d){function e(){for(var b=-1,h=arguments.length,i=-1,j=d.length,k=Nd(j+h);++i<j;)k[i]=d[i];for(;h--;)k[i++]=arguments[++b];return(this&&this!==Ua&&this instanceof e?g:a).apply(f?c:this,k)}var f=b&w,g=Xb(a);return e}function nc(a){var b=Rd[a];return function(a,c){return(c=c===u?0:+c||0)?(c=he(10,c),b(a*c)/c):b(a)}}function oc(a){return function(b,c,d,e){var f=tc(d);return null==d&&f===db?Lb(b,c,a):Mb(b,c,f(d,e,1),a)}}function pc(a,b,c,d,e,f,g,h){var i=b&x;if(!i&&typeof a!="function")throw new Wd(M);var j=d?d.length:0;if(j||(b&=~(B|C),d=e=u),j-=e?e.length:0,b&C){var k=d,l=e;d=e=u}var m=i?u:Me(a);return c=[a,b,c,d,e,k,l,f,g,h],m&&(d=c[1],b=m[1],h=d|b,e=b==D&&d==z||b==D&&d==E&&c[7].length<=m[8]||b==(D|E)&&d==z,(h<D||e)&&(b&w&&(c[2]=m[2],h|=d&w?0:y),(d=m[3])&&(e=c[3],c[3]=e?Pb(e,d,m[4]):Qa(d),c[4]=e?p(c[3],N):Qa(m[4])),(d=m[5])&&(e=c[5],c[5]=e?Qb(e,d,m[6]):Qa(d),c[6]=e?p(c[5],N):Qa(m[6])),(d=m[7])&&(c[7]=Qa(d)),b&D&&(c[8]=null==c[8]?m[8]:ve(c[8],m[8])),null==c[9]&&(c[9]=m[9]),c[0]=m[0],c[1]=h),b=c[1],h=c[9]),c[9]=null==h?i?0:a.length:ue(h-j,0)||0,(m?Le:Oe)(b==w?Vb(c[0],c[2]):b!=B&&b!=(w|B)||c[4].length?kc.apply(u,c):mc.apply(u,c),c)}function qc(a,b,c,d,e,f,g){var h=-1,i=a.length,j=b.length;if(i!=j&&(!e||j<=i))return false;for(;++h<i;){var k=a[h],j=b[h],l=d?d(e?j:k,e?k:j,h):u;if(l!==u){if(l)continue;return false}if(e){if(!Za(b,function(a){return k===a||c(k,a,d,e,f,g)}))return false}else if(k!==j&&!c(k,j,d,e,f,g))return false}return true}function rc(a,b,c){switch(c){case Q:case R:return+a==+b;case S:return a.name==b.name&&a.message==b.message;case U:return a!=+a?b!=+b:a==+b;case W:case X:return a==b+""}return false}function sc(a,b,c,d,e,f,g){var h=Mf(a),i=h.length,j=Mf(b).length;if(i!=j&&!e)return false;for(j=i;j--;){var k=h[j];if(!(e?k in b:_d.call(b,k)))return false}for(var l=e;++j<i;){var k=h[j],m=a[k],n=b[k],o=d?d(e?n:m,e?m:n,k):u;if(o===u?!c(m,n,d,e,f,g):!o)return false;l||(l="constructor"==k)}return l||(c=a.constructor,d=b.constructor,!(c!=d&&"constructor"in a&&"constructor"in b)||typeof c=="function"&&c instanceof c&&typeof d=="function"&&d instanceof d)?true:false}function tc(a,b,c){var d=Ja.callback||Hd,d=d===Hd?db:d;return c?d(a,b,c):d}function uc(a){for(var b=a.name+"",c=Fe[b],d=c?c.length:0;d--;){var e=c[d],f=e.func;if(null==f||f==a)return e.name}return b}function vc(a,b,d){var e=Ja.indexOf||Tc,e=e===Tc?c:e;return a?e(a,b,d):e}function wc(a){a=Bd(a);for(var b=a.length;b--;){var c=a[b][1];a[b][2]=c===c&&!pd(c)}return a}function xc(a,b){var c=null==a?u:a[b];return qd(c)?c:u}function yc(a){var b=a.length,c=new a.constructor(b);return b&&"string"==typeof a[0]&&_d.call(a,"index")&&(c.index=a.index,c.input=a.input),c}function zc(a){return a=a.constructor,typeof a=="function"&&a instanceof a||(a=Td),new a}function Ac(a,b,c){var d=a.constructor;switch(b){case Y:return Ob(a);case Q:case R:return new d((+a));case Z:case $:case _:case aa:case ba:case ca:case da:case ea:case fa:return b=a.buffer,new d(c?Ob(b):b,a.byteOffset,a.length);case U:case X:return new d(a);case W:var e=new d(a.source,ya.exec(a));e.lastIndex=a.lastIndex}return e}function Bc(a,b,c){return null==a||Fc(b,a)||(b=Oc(b),a=1==b.length?a:qb(a,Cb(b,0,-1)),b=Uc(b)),b=null==a?a:a[b],null==b?u:b.apply(a,c)}function Cc(a){return null!=a&&Hc(Ne(a))}function Dc(a,b){return a=typeof a=="number"||Ba.test(a)?+a:-1,b=null==b?De:b,-1<a&&0==a%1&&a<b}function Ec(a,b,c){if(!pd(c))return false;var d=typeof b;return("number"==d?Cc(c)&&Dc(b,c.length):"string"==d&&b in c)?(b=c[b],a===a?a===b:b!==b):false}function Fc(a,b){var c=typeof a;return"string"==c&&ra.test(a)||"number"==c?true:Bf(a)?false:!qa.test(a)||null!=b&&a in Nc(b)}function Gc(a){var b=uc(a),c=Ja[b];return typeof c=="function"&&b in Ma.prototype?a===c?true:(b=Me(c),!!b&&a===b[0]):false}function Hc(a){return typeof a=="number"&&-1<a&&0==a%1&&a<=De}function Ic(a,b){return a===u?b:Cf(a,b,Ic)}function Jc(a,b){a=Nc(a);for(var c=-1,d=b.length,e={};++c<d;){var f=b[c];f in a&&(e[f]=a[f])}return e}function Kc(a,b){var c={};return mb(a,function(a,d,e){b(a,d,e)&&(c[d]=a)}),c}function Lc(a){for(var b=Ad(a),c=b.length,d=c&&a.length,e=!!d&&Hc(d)&&(Bf(a)||ld(a)),f=-1,g=[];++f<c;){var h=b[f];(e&&Dc(h,d)||_d.call(a,h))&&g.push(h)}return g}function Mc(a){return null==a?[]:Cc(a)?pd(a)?a:Td(a):Cd(a)}function Nc(a){return pd(a)?a:Td(a)}function Oc(a){if(Bf(a))return a;var b=[];return e(a).replace(sa,function(a,c,d,e){b.push(d?e.replace(wa,"$1"):c||a)}),b}function Pc(a){return a instanceof Ma?a.clone():new La(a.__wrapped__,a.__chain__,Qa(a.__actions__))}function Qc(a,b,c){return a&&a.length?((c?Ec(a,b,c):null==b)&&(b=1),Cb(a,0>b?0:b)):[]}function Rc(a,b,c){var d=a?a.length:0;return d?((c?Ec(a,b,c):null==b)&&(b=1),b=d-(+b||0),Cb(a,0,0>b?0:b)):[]}function Sc(a){return a?a[0]:u}function Tc(a,b,d){var e=a?a.length:0;if(!e)return-1;if(typeof d=="number")d=0>d?ue(e+d,0):d;else if(d)return d=Lb(a,b),d<e&&(b===b?b===a[d]:a[d]!==a[d])?d:-1;return c(a,b,d||0)}function Uc(a){var b=a?a.length:0;return b?a[b-1]:u}function Vc(a){return Qc(a,1)}function Wc(a,b,d,e){if(!a||!a.length)return[];null!=b&&typeof b!="boolean"&&(e=d,d=Ec(a,b,e)?u:b,b=false);var f=tc();if((null!=d||f!==db)&&(d=f(d,e,3)),b&&vc()===c){b=d;var g;d=-1,e=a.length;for(var f=-1,h=[];++d<e;){var i=a[d],j=b?b(i,d,a):i;d&&g===j||(g=j,h[++f]=i)}a=h}else a=Hb(a,d);return a}function Xc(a){if(!a||!a.length)return[];var b=-1,c=0;a=Ta(a,function(a){return Cc(a)?(c=ue(a.length,c),true):void 0});for(var d=Nd(c);++b<c;)d[b]=Wa(a,xb(b));return d}function Yc(a,b,c){return a&&a.length?(a=Xc(a),null==b?a:(b=Nb(b,c,4),Wa(a,function(a){return Ya(a,b,u,true)}))):[]}function Zc(a,b){var c=-1,d=a?a.length:0,e={};for(!d||b||Bf(a[0])||(b=[]);++c<d;){var f=a[c];b?e[f]=b[c]:f&&(e[f[0]]=f[1])}return e}function $c(a){return a=Ja(a),a.__chain__=true,a}function _c(a,b,c){return b.call(c,a)}function ad(a,b,c){var d=Bf(a)?Sa:hb;return c&&Ec(a,b,c)&&(b=u),(typeof b!="function"||c!==u)&&(b=tc(b,c,3)),d(a,b)}function bd(a,b,c){var d=Bf(a)?Ta:jb;return b=tc(b,c,3),d(a,b)}function cd(a,b,c,d){var e=a?Ne(a):0;return Hc(e)||(a=Cd(a),e=a.length),c=typeof c!="number"||d&&Ec(b,c,d)?0:0>c?ue(e+c,0):c||0,typeof a=="string"||!Bf(a)&&ud(a)?c<=e&&-1<a.indexOf(b,c):!!e&&-1<vc(a,b,c)}function dd(a,b,c){var d=Bf(a)?Wa:tb;return b=tc(b,c,3),d(a,b)}function ed(a,b,c){if(c?Ec(a,b,c):null==b){a=Mc(a);var d=a.length;return 0<d?a[Ab(0,d-1)]:u}c=-1,a=xd(a);var d=a.length,e=d-1;for(b=ve(0>b?0:+b||0,d);++c<b;){var d=Ab(c,e),f=a[d];a[d]=a[c],a[c]=f}return a.length=b,a}function fd(a,b,c){var d=Bf(a)?Za:Db;return c&&Ec(a,b,c)&&(b=u),(typeof b!="function"||c!==u)&&(b=tc(b,c,3)),d(a,b)}function gd(a,b){var c;if(typeof b!="function"){if(typeof a!="function")throw new Wd(M);var d=a;a=b,b=d}return function(){return 0<--a&&(c=b.apply(this,arguments)),1>=a&&(b=u),c}}function hd(a,b,c){function d(b,c){c&&fe(c),i=m=n=u,b&&(o=nf(),j=a.apply(l,h),m||i||(h=l=u))}function e(){var a=b-(nf()-k);0>=a||a>b?d(n,i):m=ke(e,a)}function f(){d(q,m)}function g(){if(h=arguments,k=nf(),l=this,n=q&&(m||!r),false===p)var c=r&&!m;else{i||r||(o=k);var d=p-(k-o),g=0>=d||d>p;g?(i&&(i=fe(i)),o=k,j=a.apply(l,h)):i||(i=ke(f,d))}return g&&m?m=fe(m):m||b===p||(m=ke(e,b)),c&&(g=true,j=a.apply(l,h)),!g||m||i||(h=l=u),j}var h,i,j,k,l,m,n,o=0,p=false,q=true;if(typeof a!="function")throw new Wd(M);if(b=0>b?0:+b||0,true===c)var r=true,q=false;else pd(c)&&(r=!!c.leading,p="maxWait"in c&&ue(+c.maxWait||0,b),q="trailing"in c?!!c.trailing:q);return g.cancel=function(){m&&fe(m),i&&fe(i),o=0,i=m=n=u},g}function id(a,b){function c(){var d=arguments,e=b?b.apply(this,d):d[0],f=c.cache;return f.has(e)?f.get(e):(d=a.apply(this,d),c.cache=f.set(e,d),d)}if(typeof a!="function"||b&&typeof b!="function")throw new Wd(M);return c.cache=new id.Cache,c}function jd(a,b){if(typeof a!="function")throw new Wd(M);return b=ue(b===u?a.length-1:+b||0,0),function(){for(var c=arguments,d=-1,e=ue(c.length-b,0),f=Nd(e);++d<e;)f[d]=c[b+d];switch(b){case 0:return a.call(this,f);case 1:return a.call(this,c[0],f);case 2:return a.call(this,c[0],c[1],f)}for(e=Nd(b+1),d=-1;++d<b;)e[d]=c[d];return e[b]=f,a.apply(this,e)}}function kd(a,b){return a>b}function ld(a){return n(a)&&Cc(a)&&_d.call(a,"callee")&&!ie.call(a,"callee")}function md(a,b,c,d){return d=(c=typeof c=="function"?Nb(c,d,3):u)?c(a,b):u,d===u?rb(a,b,c):!!d}function nd(a){return n(a)&&typeof a.message=="string"&&be.call(a)==S}function od(a){return pd(a)&&be.call(a)==T}function pd(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function qd(a){return null==a?false:od(a)?de.test($d.call(a)):n(a)&&Aa.test(a)}function rd(a){return typeof a=="number"||n(a)&&be.call(a)==U}function sd(a){var b;if(!n(a)||be.call(a)!=V||ld(a)||!(_d.call(a,"constructor")||(b=a.constructor,typeof b!="function"||b instanceof b)))return false;var c;return mb(a,function(a,b){c=b}),c===u||_d.call(a,c)}function td(a){return pd(a)&&be.call(a)==W}function ud(a){return typeof a=="string"||n(a)&&be.call(a)==X}function vd(a){return n(a)&&Hc(a.length)&&!!Ha[be.call(a)]}function wd(a,b){return a<b}function xd(a){var b=a?Ne(a):0;return Hc(b)?b?Qa(a):[]:Cd(a)}function yd(a){return cb(a,Ad(a))}function zd(a){return pb(a,Ad(a))}function Ad(a){if(null==a)return[];pd(a)||(a=Td(a));for(var b=a.length,b=b&&Hc(b)&&(Bf(a)||ld(a))&&b||0,c=a.constructor,d=-1,c=typeof c=="function"&&c.prototype===a,e=Nd(b),f=0<b;++d<b;)e[d]=d+"";for(var g in a)f&&Dc(g,b)||"constructor"==g&&(c||!_d.call(a,g))||e.push(g);return e}function Bd(a){a=Nc(a);for(var b=-1,c=Mf(a),d=c.length,e=Nd(d);++b<d;){var f=c[b];e[b]=[f,a[f]]}return e}function Cd(a){return Ib(a,Mf(a))}function Dd(a){return(a=e(a))&&a.replace(Ca,i).replace(va,"")}function Ed(a,b){var c="";if(a=e(a),b=+b,1>b||!a||!se(b))return c;do b%2&&(c+=a),b=qe(b/2),a+=a;while(b);return c}function Fd(a,b,c){var d=a;return(a=e(a))?(c?Ec(d,b,c):null==b)?a.slice(q(a),r(a)+1):(b+="",a.slice(f(a,b),g(a,b)+1)):a}function Gd(a,b,c){return c&&Ec(a,b,c)&&(b=u),a=e(a),a.match(b||Fa)||[]}function Hd(a,b,c){return c&&Ec(a,b,c)&&(b=u),n(a)?Jd(a):db(a,b)}function Id(a){return a}function Jd(a){return ub(eb(a,true))}function Kd(a,b,c){if(null==c){var d=pd(b),e=d?Mf(b):u;((e=e&&e.length?pb(b,e):u)?e.length:d)||(e=false,c=b,b=a,a=this)}e||(e=pb(b,Mf(b)));var f=true,d=-1,g=od(a),h=e.length;false===c?f=false:pd(c)&&"chain"in c&&(f=c.chain);for(;++d<h;){c=e[d];var i=b[c];a[c]=i,g&&(a.prototype[c]=function(b){return function(){var c=this.__chain__;if(f||c){var d=a(this.__wrapped__);return(d.__actions__=Qa(this.__actions__)).push({func:b,args:arguments,thisArg:a}),d.__chain__=c,d}return b.apply(a,Xa([this.value()],arguments))}}(i))}return a}function Ld(){}function Md(a){return Fc(a)?xb(a):yb(a)}o=o?Va.defaults(Ua.Object(),o,Va.pick(Ua,Ga)):Ua;var Nd=o.Array,Od=o.Date,Pd=o.Error,Qd=o.Function,Rd=o.Math,Sd=o.Number,Td=o.Object,Ud=o.RegExp,Vd=o.String,Wd=o.TypeError,Xd=Nd.prototype,Yd=Td.prototype,Zd=Vd.prototype,$d=Qd.prototype.toString,_d=Yd.hasOwnProperty,ae=0,be=Yd.toString,ce=Ua._,de=Ud("^"+$d.call(_d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ee=o.ArrayBuffer,fe=o.clearTimeout,ge=o.parseFloat,he=Rd.pow,ie=Yd.propertyIsEnumerable,je=xc(o,"Set"),ke=o.setTimeout,le=Xd.splice,me=o.Uint8Array,ne=xc(o,"WeakMap"),oe=Rd.ceil,pe=xc(Td,"create"),qe=Rd.floor,re=xc(Nd,"isArray"),se=o.isFinite,te=xc(Td,"keys"),ue=Rd.max,ve=Rd.min,we=xc(Od,"now"),xe=o.parseInt,ye=Rd.random,ze=Sd.NEGATIVE_INFINITY,Ae=Sd.POSITIVE_INFINITY,Be=4294967294,Ce=2147483647,De=9007199254740991,Ee=ne&&new ne,Fe={};Ja.support={},Ja.templateSettings={escape:na,evaluate:oa,interpolate:pa,variable:"",imports:{_:Ja}};var Ge=function(){function a(){}return function(b){if(pd(b)){a.prototype=b;var c=new a;a.prototype=u}return c||{}}}(),He=Tb(nb),Ie=Tb(ob,true),Je=Ub(),Ke=Ub(true),Le=Ee?function(a,b){return Ee.set(a,b),a}:Id,Me=Ee?function(a){return Ee.get(a)}:Ld,Ne=xb("length"),Oe=function(){var a=0,b=0;return function(c,d){var e=nf(),f=I-(e-b);if(b=e,0<f){if(++a>=H)return c}else a=0;return Le(c,d)}}(),Pe=jd(function(a,b){return n(a)&&Cc(a)?gb(a,lb(b,false,true)):[]}),Qe=ac(),Re=ac(true),Se=jd(function(a){for(var b=a.length,d=b,e=Nd(k),f=vc(),g=f===c,h=[];d--;){var i=a[d]=Cc(i=a[d])?i:[];e[d]=g&&120<=i.length&&pe&&je?new Oa(d&&i):null}var g=a[0],j=-1,k=g?g.length:0,l=e[0];a:for(;++j<k;)if(i=g[j],0>(l?Pa(l,i):f(h,i,0))){for(d=b;--d;){var m=e[d];if(0>(m?Pa(m,i):f(a[d],i,0)))continue a}l&&l.push(i),h.push(i)}return h}),Te=jd(function(b,c){c=lb(c);var d=bb(b,c);return zb(b,c.sort(a)),d}),Ue=oc(),Ve=oc(true),We=jd(function(a){return Hb(lb(a,false,true))}),Xe=jd(function(a,b){return Cc(a)?gb(a,b):[]}),Ye=jd(Xc),Ze=jd(function(a){var b=a.length,c=2<b?a[b-2]:u,d=1<b?a[b-1]:u;return 2<b&&typeof c=="function"?b-=2:(c=1<b&&typeof d=="function"?(--b,d):u,d=u),a.length=b,Yc(a,c,d)}),$e=jd(function(a){return a=lb(a),this.thru(function(b){b=Bf(b)?b:[Nc(b)];for(var c=a,d=-1,e=b.length,f=-1,g=c.length,h=Nd(e+g);++d<e;)h[d]=b[d];for(;++f<g;)h[d++]=c[f];return h})}),_e=jd(function(a,b){return bb(a,lb(b))}),af=Rb(function(a,b,c){_d.call(a,c)?++a[c]:a[c]=1}),bf=_b(He),cf=_b(Ie,true),df=dc(Ra,He),ef=dc(function(a,b){for(var c=a.length;c--&&false!==b(a[c],c,a););return a},Ie),ff=Rb(function(a,b,c){_d.call(a,c)?a[c].push(b):a[c]=[b]}),gf=Rb(function(a,b,c){a[c]=b}),hf=jd(function(a,b,c){var d=-1,e=typeof b=="function",f=Fc(b),g=Cc(a)?Nd(a.length):[];return He(a,function(a){var h=e?b:f&&null!=a?a[b]:u;g[++d]=h?h.apply(a,c):Bc(a,b,c)}),g}),jf=Rb(function(a,b,c){a[c?0:1].push(b)},function(){return[[],[]]}),kf=jc(Ya,He),lf=jc(function(a,b,c,d){var e=a.length;for(d&&e&&(c=a[--e]);e--;)c=b(c,a[e],e,a);return c},Ie),mf=jd(function(a,b){if(null==a)return[];var c=b[2];return c&&Ec(b[0],b[1],c)&&(b.length=1),Fb(a,lb(b),[])}),nf=we||function(){return(new Od).getTime()},of=jd(function(a,b,c){var d=w;if(c.length)var e=p(c,of.placeholder),d=d|B;return pc(a,d,b,c,e)}),pf=jd(function(a,b){b=b.length?lb(b):zd(a);for(var c=-1,d=b.length;++c<d;){var e=b[c];a[e]=pc(a[e],w,a)}return a}),qf=jd(function(a,b,c){var d=w|x;if(c.length)var e=p(c,qf.placeholder),d=d|B;return pc(b,d,a,c,e)}),rf=Yb(z),sf=Yb(A),tf=jd(function(a,b){return fb(a,1,b)}),uf=jd(function(a,b,c){return fb(a,b,c)}),vf=cc(),wf=cc(true),xf=jd(function(a,b){if(b=lb(b),typeof a!="function"||!Sa(b,d))throw new Wd(M);var c=b.length;return jd(function(d){for(var e=ve(d.length,c);e--;)d[e]=b[e](d[e]);return a.apply(this,d)})}),yf=ic(B),zf=ic(C),Af=jd(function(a,b){return pc(a,E,u,u,u,lb(b))}),Bf=re||function(a){return n(a)&&Hc(a.length)&&be.call(a)==P},Cf=Sb(wb),Df=Sb(function(a,b,c){return c?_a(a,b,c):ab(a,b)}),Ef=Zb(Df,function(a,b){return a===u?b:a}),Ff=Zb(Cf,Ic),Gf=bc(nb),Hf=bc(ob),If=ec(Je),Jf=ec(Ke),Kf=fc(nb),Lf=fc(ob),Mf=te?function(a){var b=null==a?u:a.constructor;return typeof b=="function"&&b.prototype===a||typeof a!="function"&&Cc(a)?Lc(a):pd(a)?te(a):[]}:Lc,Nf=gc(true),Of=gc(),Pf=jd(function(a,b){if(null==a)return{};if("function"!=typeof b[0])return b=Wa(lb(b),Vd),Jc(a,gb(Ad(a),b));var c=Nb(b[0],b[1],3);return Kc(a,function(a,b,d){return!c(a,b,d)})}),Qf=jd(function(a,b){return null==a?{}:"function"==typeof b[0]?Kc(a,Nb(b[0],b[1],3)):Jc(a,lb(b))}),Rf=Wb(function(a,b,c){return b=b.toLowerCase(),a+(c?b.charAt(0).toUpperCase()+b.slice(1):b)}),Sf=Wb(function(a,b,c){return a+(c?"-":"")+b.toLowerCase()}),Tf=hc(),Uf=hc(true),Vf=Wb(function(a,b,c){return a+(c?"_":"")+b.toLowerCase()}),Wf=Wb(function(a,b,c){return a+(c?" ":"")+(b.charAt(0).toUpperCase()+b.slice(1))}),Xf=jd(function(a,b){try{return a.apply(u,b)}catch(c){return nd(c)?c:new Pd(c)}}),Yf=jd(function(a,b){return function(c){return Bc(c,a,b)}}),Zf=jd(function(a,b){return function(c){return Bc(a,c,b)}}),$f=nc("ceil"),_f=nc("floor"),ag=$b(kd,ze),bg=$b(wd,Ae),cg=nc("round");return Ja.prototype=Ka.prototype,La.prototype=Ge(Ka.prototype),La.prototype.constructor=La,Ma.prototype=Ge(Ka.prototype),Ma.prototype.constructor=Ma,Na.prototype["delete"]=function(a){return this.has(a)&&delete this.__data__[a]},Na.prototype.get=function(a){return"__proto__"==a?u:this.__data__[a]},Na.prototype.has=function(a){return"__proto__"!=a&&_d.call(this.__data__,a)},Na.prototype.set=function(a,b){return"__proto__"!=a&&(this.__data__[a]=b),this},Oa.prototype.push=function(a){var b=this.data;typeof a=="string"||pd(a)?b.set.add(a):b.hash[a]=true},id.Cache=Na,Ja.after=function(a,b){if(typeof b!="function"){if(typeof a!="function")throw new Wd(M);var c=a;a=b,b=c}return a=se(a=+a)?a:0,function(){return 1>--a?b.apply(this,arguments):void 0}},Ja.ary=function(a,b,c){return c&&Ec(a,b,c)&&(b=u),b=a&&null==b?a.length:ue(+b||0,0),pc(a,D,u,u,u,u,b)},Ja.assign=Df,Ja.at=_e,Ja.before=gd,Ja.bind=of,Ja.bindAll=pf,Ja.bindKey=qf,Ja.callback=Hd,Ja.chain=$c,Ja.chunk=function(a,b,c){b=(c?Ec(a,b,c):null==b)?1:ue(qe(b)||1,1),c=0;for(var d=a?a.length:0,e=-1,f=Nd(oe(d/b));c<d;)f[++e]=Cb(a,c,c+=b);return f},Ja.compact=function(a){for(var b=-1,c=a?a.length:0,d=-1,e=[];++b<c;){var f=a[b];f&&(e[++d]=f)}return e},Ja.constant=function(a){return function(){return a}},Ja.countBy=af,Ja.create=function(a,b,c){var d=Ge(a);return c&&Ec(a,b,c)&&(b=u),b?ab(d,b):d},Ja.curry=rf,Ja.curryRight=sf,Ja.debounce=hd,Ja.defaults=Ef,Ja.defaultsDeep=Ff,Ja.defer=tf,Ja.delay=uf,Ja.difference=Pe,Ja.drop=Qc,Ja.dropRight=Rc,Ja.dropRightWhile=function(a,b,c){return a&&a.length?Jb(a,tc(b,c,3),true,true):[]},Ja.dropWhile=function(a,b,c){return a&&a.length?Jb(a,tc(b,c,3),true):[]},Ja.fill=function(a,b,c,d){var e=a?a.length:0;if(!e)return[];for(c&&typeof c!="number"&&Ec(a,b,c)&&(c=0,d=e),e=a.length,c=null==c?0:+c||0,0>c&&(c=-c>e?0:e+c),d=d===u||d>e?e:+d||0,0>d&&(d+=e),e=c>d?0:d>>>0,c>>>=0;c<e;)a[c++]=b;return a},Ja.filter=bd,Ja.flatten=function(a,b,c){var d=a?a.length:0;return c&&Ec(a,b,c)&&(b=false),d?lb(a,b):[]},Ja.flattenDeep=function(a){return a&&a.length?lb(a,true):[]},Ja.flow=vf,Ja.flowRight=wf,Ja.forEach=df,Ja.forEachRight=ef,Ja.forIn=If,Ja.forInRight=Jf,Ja.forOwn=Kf,Ja.forOwnRight=Lf,Ja.functions=zd,Ja.groupBy=ff,Ja.indexBy=gf,Ja.initial=function(a){return Rc(a,1)},Ja.intersection=Se,Ja.invert=function(a,b,c){c&&Ec(a,b,c)&&(b=u),c=-1;for(var d=Mf(a),e=d.length,f={};++c<e;){var g=d[c],h=a[g];b?_d.call(f,h)?f[h].push(g):f[h]=[g]:f[h]=g}return f},Ja.invoke=hf,Ja.keys=Mf,Ja.keysIn=Ad,Ja.map=dd,Ja.mapKeys=Nf,Ja.mapValues=Of,Ja.matches=Jd,Ja.matchesProperty=function(a,b){return vb(a,eb(b,true))},Ja.memoize=id,Ja.merge=Cf,Ja.method=Yf,Ja.methodOf=Zf,Ja.mixin=Kd,Ja.modArgs=xf,Ja.negate=function(a){if(typeof a!="function")throw new Wd(M);return function(){return!a.apply(this,arguments)}},Ja.omit=Pf,Ja.once=function(a){return gd(2,a)},Ja.pairs=Bd,Ja.partial=yf,Ja.partialRight=zf,Ja.partition=jf,Ja.pick=Qf,Ja.pluck=function(a,b){return dd(a,Md(b))},Ja.property=Md,Ja.propertyOf=function(a){return function(b){return qb(a,Oc(b),b+"")}},Ja.pull=function(){var a=arguments,b=a[0];if(!b||!b.length)return b;for(var c=0,d=vc(),e=a.length;++c<e;)for(var f=0,g=a[c];-1<(f=d(b,g,f));)le.call(b,f,1);return b},Ja.pullAt=Te,Ja.range=function(a,b,c){c&&Ec(a,b,c)&&(b=c=u),a=+a||0,c=null==c?1:+c||0,null==b?(b=a,a=0):b=+b||0;var d=-1;b=ue(oe((b-a)/(c||1)),0);for(var e=Nd(b);++d<b;)e[d]=a,a+=c;return e},Ja.rearg=Af,Ja.reject=function(a,b,c){var d=Bf(a)?Ta:jb;return b=tc(b,c,3),d(a,function(a,c,d){return!b(a,c,d)})},Ja.remove=function(a,b,c){var d=[];if(!a||!a.length)return d;var e=-1,f=[],g=a.length;for(b=tc(b,c,3);++e<g;)c=a[e],b(c,e,a)&&(d.push(c),f.push(e));return zb(a,f),d},Ja.rest=Vc,Ja.restParam=jd,Ja.set=function(a,b,c){if(null==a)return a;var d=b+"";b=null!=a[d]||Fc(b,a)?[d]:Oc(b);for(var d=-1,e=b.length,f=e-1,g=a;null!=g&&++d<e;){var h=b[d];pd(g)&&(d==f?g[h]=c:null==g[h]&&(g[h]=Dc(b[d+1])?[]:{})),g=g[h]}return a},Ja.shuffle=function(a){return ed(a,Ae)},Ja.slice=function(a,b,c){var d=a?a.length:0;return d?(c&&typeof c!="number"&&Ec(a,b,c)&&(b=0,c=d),Cb(a,b,c)):[]},Ja.sortBy=function(a,b,c){if(null==a)return[];c&&Ec(a,b,c)&&(b=u);var d=-1;return b=tc(b,c,3),a=tb(a,function(a,c,e){return{a:b(a,c,e),b:++d,c:a}}),Eb(a,h)},Ja.sortByAll=mf,Ja.sortByOrder=function(a,b,c,d){return null==a?[]:(d&&Ec(b,c,d)&&(c=u),Bf(b)||(b=null==b?[]:[b]),Bf(c)||(c=null==c?[]:[c]),Fb(a,b,c))},Ja.spread=function(a){if(typeof a!="function")throw new Wd(M);return function(b){return a.apply(this,b)}},Ja.take=function(a,b,c){return a&&a.length?((c?Ec(a,b,c):null==b)&&(b=1),Cb(a,0,0>b?0:b)):[]},Ja.takeRight=function(a,b,c){var d=a?a.length:0;return d?((c?Ec(a,b,c):null==b)&&(b=1),b=d-(+b||0),Cb(a,0>b?0:b)):[]},Ja.takeRightWhile=function(a,b,c){return a&&a.length?Jb(a,tc(b,c,3),false,true):[]},Ja.takeWhile=function(a,b,c){return a&&a.length?Jb(a,tc(b,c,3)):[]},Ja.tap=function(a,b,c){return b.call(c,a),a},Ja.throttle=function(a,b,c){var d=true,e=true;if(typeof a!="function")throw new Wd(M);return false===c?d=false:pd(c)&&(d="leading"in c?!!c.leading:d,e="trailing"in c?!!c.trailing:e),hd(a,b,{leading:d,maxWait:+b,trailing:e})},Ja.thru=_c,Ja.times=function(a,b,c){if(a=qe(a),1>a||!se(a))return[];var d=-1,e=Nd(ve(a,4294967295));for(b=Nb(b,c,1);++d<a;)4294967295>d?e[d]=b(d):b(d);return e},Ja.toArray=xd,Ja.toPlainObject=yd,Ja.transform=function(a,b,c,d){var e=Bf(a)||vd(a);return b=tc(b,d,4),null==c&&(e||pd(a)?(d=a.constructor,c=e?Bf(a)?new d:[]:Ge(od(d)?d.prototype:u)):c={}),(e?Ra:nb)(a,function(a,d,e){return b(c,a,d,e)}),c},Ja.union=We,Ja.uniq=Wc,Ja.unzip=Xc,Ja.unzipWith=Yc,Ja.values=Cd,Ja.valuesIn=function(a){return Ib(a,Ad(a))},Ja.where=function(a,b){return bd(a,ub(b))},Ja.without=Xe,Ja.wrap=function(a,b){return b=null==b?Id:b,pc(b,B,u,[a],[])},Ja.xor=function(){for(var a=-1,b=arguments.length;++a<b;){var c=arguments[a];if(Cc(c))var d=d?Xa(gb(d,c),gb(c,d)):c}return d?Hb(d):[]},Ja.zip=Ye,Ja.zipObject=Zc,Ja.zipWith=Ze,Ja.backflow=wf,Ja.collect=dd,Ja.compose=wf,Ja.each=df,Ja.eachRight=ef,Ja.extend=Df,Ja.iteratee=Hd,Ja.methods=zd,Ja.object=Zc,Ja.select=bd,Ja.tail=Vc,Ja.unique=Wc,Kd(Ja,Ja),Ja.add=function(a,b){return(+a||0)+(+b||0)},Ja.attempt=Xf,Ja.camelCase=Rf,Ja.capitalize=function(a){return(a=e(a))&&a.charAt(0).toUpperCase()+a.slice(1)},Ja.ceil=$f,Ja.clone=function(a,b,c,d){return b&&typeof b!="boolean"&&Ec(a,b,c)?b=false:typeof b=="function"&&(d=c,c=b,b=false),typeof c=="function"?eb(a,b,Nb(c,d,3)):eb(a,b)},Ja.cloneDeep=function(a,b,c){return typeof b=="function"?eb(a,true,Nb(b,c,3)):eb(a,true)},Ja.deburr=Dd,Ja.endsWith=function(a,b,c){a=e(a),b+="";var d=a.length;return c=c===u?d:ve(0>c?0:+c||0,d),c-=b.length,0<=c&&a.indexOf(b,c)==c},Ja.escape=function(a){return(a=e(a))&&ma.test(a)?a.replace(ka,j):a},Ja.escapeRegExp=function(a){return(a=e(a))&&ua.test(a)?a.replace(ta,k):a||"(?:)"},Ja.every=ad,Ja.find=bf,Ja.findIndex=Qe,Ja.findKey=Gf,Ja.findLast=cf,Ja.findLastIndex=Re,Ja.findLastKey=Hf,Ja.findWhere=function(a,b){return bf(a,ub(b))},Ja.first=Sc,Ja.floor=_f,Ja.get=function(a,b,c){return a=null==a?u:qb(a,Oc(b),b+""),a===u?c:a},Ja.gt=kd,Ja.gte=function(a,b){return a>=b},Ja.has=function(a,b){if(null==a)return false;var c=_d.call(a,b);if(!c&&!Fc(b)){if(b=Oc(b),a=1==b.length?a:qb(a,Cb(b,0,-1)),null==a)return false;b=Uc(b),c=_d.call(a,b)}return c||Hc(a.length)&&Dc(b,a.length)&&(Bf(a)||ld(a))},Ja.identity=Id,Ja.includes=cd,Ja.indexOf=Tc,Ja.inRange=function(a,b,c){return b=+b||0,c===u?(c=b,b=0):c=+c||0,a>=ve(b,c)&&a<ue(b,c)},Ja.isArguments=ld,Ja.isArray=Bf,Ja.isBoolean=function(a){return true===a||false===a||n(a)&&be.call(a)==Q},Ja.isDate=function(a){return n(a)&&be.call(a)==R},Ja.isElement=function(a){return!!a&&1===a.nodeType&&n(a)&&!sd(a)},Ja.isEmpty=function(a){return null==a?true:Cc(a)&&(Bf(a)||ud(a)||ld(a)||n(a)&&od(a.splice))?!a.length:!Mf(a).length;
},Ja.isEqual=md,Ja.isError=nd,Ja.isFinite=function(a){return typeof a=="number"&&se(a)},Ja.isFunction=od,Ja.isMatch=function(a,b,c,d){return c=typeof c=="function"?Nb(c,d,3):u,sb(a,wc(b),c)},Ja.isNaN=function(a){return rd(a)&&a!=+a},Ja.isNative=qd,Ja.isNull=function(a){return null===a},Ja.isNumber=rd,Ja.isObject=pd,Ja.isPlainObject=sd,Ja.isRegExp=td,Ja.isString=ud,Ja.isTypedArray=vd,Ja.isUndefined=function(a){return a===u},Ja.kebabCase=Sf,Ja.last=Uc,Ja.lastIndexOf=function(a,b,c){var d=a?a.length:0;if(!d)return-1;var e=d;if(typeof c=="number")e=(0>c?ue(d+c,0):ve(c||0,d-1))+1;else if(c)return e=Lb(a,b,true)-1,a=a[e],(b===b?b===a:a!==a)?e:-1;if(b!==b)return m(a,e,true);for(;e--;)if(a[e]===b)return e;return-1},Ja.lt=wd,Ja.lte=function(a,b){return a<=b},Ja.max=ag,Ja.min=bg,Ja.noConflict=function(){return Ua._=ce,this},Ja.noop=Ld,Ja.now=nf,Ja.pad=function(a,b,c){a=e(a),b=+b;var d=a.length;return d<b&&se(b)?(d=(b-d)/2,b=qe(d),d=oe(d),c=lc("",d,c),c.slice(0,b)+a+c):a},Ja.padLeft=Tf,Ja.padRight=Uf,Ja.parseInt=function(a,b,c){return(c?Ec(a,b,c):null==b)?b=0:b&&(b=+b),a=Fd(a),xe(a,b||(za.test(a)?16:10))},Ja.random=function(a,b,c){c&&Ec(a,b,c)&&(b=c=u);var d=null==a,e=null==b;return null==c&&(e&&typeof a=="boolean"?(c=a,a=1):typeof b=="boolean"&&(c=b,e=true)),d&&e&&(b=1,e=false),a=+a||0,e?(b=a,a=0):b=+b||0,c||a%1||b%1?(c=ye(),ve(a+c*(b-a+ge("1e-"+((c+"").length-1))),b)):Ab(a,b)},Ja.reduce=kf,Ja.reduceRight=lf,Ja.repeat=Ed,Ja.result=function(a,b,c){var d=null==a?u:a[b];return d===u&&(null==a||Fc(b,a)||(b=Oc(b),a=1==b.length?a:qb(a,Cb(b,0,-1)),d=null==a?u:a[Uc(b)]),d=d===u?c:d),od(d)?d.call(a):d},Ja.round=cg,Ja.runInContext=t,Ja.size=function(a){var b=a?Ne(a):0;return Hc(b)?b:Mf(a).length},Ja.snakeCase=Vf,Ja.some=fd,Ja.sortedIndex=Ue,Ja.sortedLastIndex=Ve,Ja.startCase=Wf,Ja.startsWith=function(a,b,c){return a=e(a),c=null==c?0:ve(0>c?0:+c||0,a.length),a.lastIndexOf(b,c)==c},Ja.sum=function(a,b,c){if(c&&Ec(a,b,c)&&(b=u),b=tc(b,c,3),1==b.length){a=Bf(a)?a:Mc(a),c=a.length;for(var d=0;c--;)d+=+b(a[c])||0;a=d}else a=Gb(a,b);return a},Ja.template=function(a,b,c){var d=Ja.templateSettings;c&&Ec(a,b,c)&&(b=c=u),a=e(a),b=_a(ab({},c||b),d,$a),c=_a(ab({},b.imports),d.imports,$a);var f,g,h=Mf(c),i=Ib(c,h),j=0;c=b.interpolate||Da;var k="__p+='";c=Ud((b.escape||Da).source+"|"+c.source+"|"+(c===pa?xa:Da).source+"|"+(b.evaluate||Da).source+"|$","g");var m="sourceURL"in b?"//# sourceURL="+b.sourceURL+"\n":"";if(a.replace(c,function(b,c,d,e,h,i){return d||(d=e),k+=a.slice(j,i).replace(Ea,l),c&&(f=true,k+="'+__e("+c+")+'"),h&&(g=true,k+="';"+h+";\n__p+='"),d&&(k+="'+((__t=("+d+"))==null?'':__t)+'"),j=i+b.length,b}),k+="';",(b=b.variable)||(k="with(obj){"+k+"}"),k=(g?k.replace(ga,""):k).replace(ha,"$1").replace(ia,"$1;"),k="function("+(b||"obj")+"){"+(b?"":"obj||(obj={});")+"var __t,__p=''"+(f?",__e=_.escape":"")+(g?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+k+"return __p}",b=Xf(function(){return Qd(h,m+"return "+k).apply(u,i)}),b.source=k,nd(b))throw b;return b},Ja.trim=Fd,Ja.trimLeft=function(a,b,c){var d=a;return(a=e(a))?a.slice((c?Ec(d,b,c):null==b)?q(a):f(a,b+"")):a},Ja.trimRight=function(a,b,c){var d=a;return(a=e(a))?(c?Ec(d,b,c):null==b)?a.slice(0,r(a)+1):a.slice(0,g(a,b+"")+1):a},Ja.trunc=function(a,b,c){c&&Ec(a,b,c)&&(b=u);var d=F;if(c=G,null!=b)if(pd(b)){var f="separator"in b?b.separator:f,d="length"in b?+b.length||0:d;c="omission"in b?e(b.omission):c}else d=+b||0;if(a=e(a),d>=a.length)return a;if(d-=c.length,1>d)return c;if(b=a.slice(0,d),null==f)return b+c;if(td(f)){if(a.slice(d).search(f)){var g,h=a.slice(0,d);for(f.global||(f=Ud(f.source,(ya.exec(f)||"")+"g")),f.lastIndex=0;a=f.exec(h);)g=a.index;b=b.slice(0,null==g?d:g)}}else a.indexOf(f,d)!=d&&(f=b.lastIndexOf(f),-1<f&&(b=b.slice(0,f)));return b+c},Ja.unescape=function(a){return(a=e(a))&&la.test(a)?a.replace(ja,s):a},Ja.uniqueId=function(a){var b=++ae;return e(a)+b},Ja.words=Gd,Ja.all=ad,Ja.any=fd,Ja.contains=cd,Ja.eq=md,Ja.detect=bf,Ja.foldl=kf,Ja.foldr=lf,Ja.head=Sc,Ja.include=cd,Ja.inject=kf,Kd(Ja,function(){var a={};return nb(Ja,function(b,c){Ja.prototype[c]||(a[c]=b)}),a}(),false),Ja.sample=ed,Ja.prototype.sample=function(a){return this.__chain__||null!=a?this.thru(function(b){return ed(b,a)}):ed(this.value())},Ja.VERSION=v,Ra("bind bindKey curry curryRight partial partialRight".split(" "),function(a){Ja[a].placeholder=Ja}),Ra(["drop","take"],function(a,b){Ma.prototype[a]=function(c){var d=this.__filtered__;if(d&&!b)return new Ma(this);c=null==c?1:ue(qe(c)||0,0);var e=this.clone();return d?e.__takeCount__=ve(e.__takeCount__,c):e.__views__.push({size:c,type:a+(0>e.__dir__?"Right":"")}),e},Ma.prototype[a+"Right"]=function(b){return this.reverse()[a](b).reverse()}}),Ra(["filter","map","takeWhile"],function(a,b){var c=b+1,d=c!=L;Ma.prototype[a]=function(a,b){var e=this.clone();return e.__iteratees__.push({iteratee:tc(a,b,1),type:c}),e.__filtered__=e.__filtered__||d,e}}),Ra(["first","last"],function(a,b){var c="take"+(b?"Right":"");Ma.prototype[a]=function(){return this[c](1).value()[0]}}),Ra(["initial","rest"],function(a,b){var c="drop"+(b?"":"Right");Ma.prototype[a]=function(){return this.__filtered__?new Ma(this):this[c](1)}}),Ra(["pluck","where"],function(a,b){var c=b?"filter":"map",d=b?ub:Md;Ma.prototype[a]=function(a){return this[c](d(a))}}),Ma.prototype.compact=function(){return this.filter(Id)},Ma.prototype.reject=function(a,b){return a=tc(a,b,1),this.filter(function(b){return!a(b)})},Ma.prototype.slice=function(a,b){a=null==a?0:+a||0;var c=this;return c.__filtered__&&(0<a||0>b)?new Ma(c):(0>a?c=c.takeRight(-a):a&&(c=c.drop(a)),b!==u&&(b=+b||0,c=0>b?c.dropRight(-b):c.take(b-a)),c)},Ma.prototype.takeRightWhile=function(a,b){return this.reverse().takeWhile(a,b).reverse()},Ma.prototype.toArray=function(){return this.take(Ae)},nb(Ma.prototype,function(a,b){var c=/^(?:filter|map|reject)|While$/.test(b),d=/^(?:first|last)$/.test(b),e=Ja[d?"take"+("last"==b?"Right":""):b];e&&(Ja.prototype[b]=function(){function b(a){return d&&g?e(a,1)[0]:e.apply(u,Xa([a],f))}var f=d?[1]:arguments,g=this.__chain__,h=this.__wrapped__,i=!!this.__actions__.length,j=h instanceof Ma,k=f[0],l=j||Bf(h);return l&&c&&typeof k=="function"&&1!=k.length&&(j=l=false),k={func:_c,args:[b],thisArg:u},i=j&&!i,d&&!g?i?(h=h.clone(),h.__actions__.push(k),a.call(h)):e.call(u,this.value())[0]:!d&&l?(h=i?h:new Ma(this),h=a.apply(h,f),h.__actions__.push(k),new La(h,g)):this.thru(b)})}),Ra("join pop push replace shift sort splice split unshift".split(" "),function(a){var b=(/^(?:replace|split)$/.test(a)?Zd:Xd)[a],c=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",d=/^(?:join|pop|replace|shift)$/.test(a);Ja.prototype[a]=function(){var a=arguments;return d&&!this.__chain__?b.apply(this.value(),a):this[c](function(c){return b.apply(c,a)})}}),nb(Ma.prototype,function(a,b){var c=Ja[b];if(c){var d=c.name+"";(Fe[d]||(Fe[d]=[])).push({name:b,func:c})}}),Fe[kc(u,x).name]=[{name:"wrapper",func:u}],Ma.prototype.clone=function(){var a=new Ma(this.__wrapped__);return a.__actions__=Qa(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=Qa(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=Qa(this.__views__),a},Ma.prototype.reverse=function(){if(this.__filtered__){var a=new Ma(this);a.__dir__=-1,a.__filtered__=true}else a=this.clone(),a.__dir__*=-1;return a},Ma.prototype.value=function(){var a,b=this.__wrapped__.value(),c=this.__dir__,d=Bf(b),e=0>c,f=d?b.length:0;a=f;for(var g=this.__views__,h=0,i=-1,j=g.length;++i<j;){var k=g[i],l=k.size;switch(k.type){case"drop":h+=l;break;case"dropRight":a-=l;break;case"take":a=ve(a,h+l);break;case"takeRight":h=ue(h,a-l)}}if(a={start:h,end:a},g=a.start,h=a.end,a=h-g,e=e?h:g-1,g=this.__iteratees__,h=g.length,i=0,j=ve(a,this.__takeCount__),!d||f<J||f==a&&j==a)return Kb(b,this.__actions__);d=[];a:for(;a--&&i<j;){for(e+=c,f=-1,k=b[e];++f<h;){var m=g[f],l=m.type,m=m.iteratee(k);if(l==L)k=m;else if(!m){if(l==K)continue a;break a}}d[i++]=k}return d},Ja.prototype.chain=function(){return $c(this)},Ja.prototype.commit=function(){return new La(this.value(),this.__chain__)},Ja.prototype.concat=$e,Ja.prototype.plant=function(a){for(var b,c=this;c instanceof Ka;){var d=Pc(c);b?e.__wrapped__=d:b=d;var e=d,c=c.__wrapped__}return e.__wrapped__=a,b},Ja.prototype.reverse=function(){function a(a){return a.reverse()}var b=this.__wrapped__;return b instanceof Ma?(this.__actions__.length&&(b=new Ma(this)),b=b.reverse(),b.__actions__.push({func:_c,args:[a],thisArg:u}),new La(b,this.__chain__)):this.thru(a)},Ja.prototype.toString=function(){return this.value()+""},Ja.prototype.run=Ja.prototype.toJSON=Ja.prototype.valueOf=Ja.prototype.value=function(){return Kb(this.__wrapped__,this.__actions__)},Ja.prototype.collect=Ja.prototype.map,Ja.prototype.head=Ja.prototype.first,Ja.prototype.select=Ja.prototype.filter,Ja.prototype.tail=Ja.prototype.rest,Ja}var u,v="3.10.1",w=1,x=2,y=4,z=8,A=16,B=32,C=64,D=128,E=256,F=30,G="...",H=150,I=16,J=200,K=1,L=2,M="Expected a function",N="__lodash_placeholder__",O="[object Arguments]",P="[object Array]",Q="[object Boolean]",R="[object Date]",S="[object Error]",T="[object Function]",U="[object Number]",V="[object Object]",W="[object RegExp]",X="[object String]",Y="[object ArrayBuffer]",Z="[object Float32Array]",$="[object Float64Array]",_="[object Int8Array]",aa="[object Int16Array]",ba="[object Int32Array]",ca="[object Uint8Array]",da="[object Uint8ClampedArray]",ea="[object Uint16Array]",fa="[object Uint32Array]",ga=/\b__p\+='';/g,ha=/\b(__p\+=)''\+/g,ia=/(__e\(.*?\)|\b__t\))\+'';/g,ja=/&(?:amp|lt|gt|quot|#39|#96);/g,ka=/[&<>"'`]/g,la=RegExp(ja.source),ma=RegExp(ka.source),na=/<%-([\s\S]+?)%>/g,oa=/<%([\s\S]+?)%>/g,pa=/<%=([\s\S]+?)%>/g,qa=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,ra=/^\w*$/,sa=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,ta=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,ua=RegExp(ta.source),va=/[\u0300-\u036f\ufe20-\ufe23]/g,wa=/\\(\\)?/g,xa=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ya=/\w*$/,za=/^0[xX]/,Aa=/^\[object .+?Constructor\]$/,Ba=/^\d+$/,Ca=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Da=/($^)/,Ea=/['\n\r\u2028\u2029\\]/g,Fa=RegExp("[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?=[A-Z\\xc0-\\xd6\\xd8-\\xde][a-z\\xdf-\\xf6\\xf8-\\xff]+)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+|[A-Z\\xc0-\\xd6\\xd8-\\xde]+|[0-9]+","g"),Ga="Array ArrayBuffer Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Math Number Object RegExp Set String _ clearTimeout isFinite parseFloat parseInt setTimeout TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap".split(" "),Ha={};Ha[Z]=Ha[$]=Ha[_]=Ha[aa]=Ha[ba]=Ha[ca]=Ha[da]=Ha[ea]=Ha[fa]=true,Ha[O]=Ha[P]=Ha[Y]=Ha[Q]=Ha[R]=Ha[S]=Ha[T]=Ha["[object Map]"]=Ha[U]=Ha[V]=Ha[W]=Ha["[object Set]"]=Ha[X]=Ha["[object WeakMap]"]=false;var Ia={};Ia[O]=Ia[P]=Ia[Y]=Ia[Q]=Ia[R]=Ia[Z]=Ia[$]=Ia[_]=Ia[aa]=Ia[ba]=Ia[U]=Ia[V]=Ia[W]=Ia[X]=Ia[ca]=Ia[da]=Ia[ea]=Ia[fa]=true,Ia[S]=Ia[T]=Ia["[object Map]"]=Ia["[object Set]"]=Ia["[object WeakMap]"]=false;var Ja={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},Ka={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},La={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Ma={"function":true,object:true},Na={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Oa={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Pa=Ma[typeof exports]&&exports&&!exports.nodeType&&exports,Qa=Ma[typeof module]&&module&&!module.nodeType&&module,Ra=Ma[typeof self]&&self&&self.Object&&self,Sa=Ma[typeof window]&&window&&window.Object&&window,Ta=Qa&&Qa.exports===Pa&&Pa,Ua=Pa&&Qa&&typeof global=="object"&&global&&global.Object&&global||Sa!==(this&&this.window)&&Sa||Ra||this,Va=t();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(Ua._=Va,define("lodash",[],function(){return Va})):Pa&&Qa?Ta?(Qa.exports=Va)._=Va:Pa._=Va:Ua._=Va}).call(this);(function(a){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=a()}else if(typeof define==="function"&&define.amd){define("dragula",[],a)}else{var b;if(typeof window!=="undefined"){b=window}else if(typeof global!=="undefined"){b=global}else if(typeof self!=="undefined"){b=self}else{b=this}b.dragula=a()}})(function(){var a,b,c;return function d(a,b,c){function e(g,h){if(!b[g]){if(!a[g]){var i=typeof require=="function"&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=b[g]={exports:{}};a[g][0].call(k.exports,function(b){var c=a[g][1][b];return e(c?c:b)},k,k.exports,d,a,b,c)}return b[g].exports}var f=typeof require=="function"&&require;for(var g=0;g<c.length;g++)e(c[g]);return e}({1:[function(a,b,c){"use strict";var d={};var e="(?:^|\\s)";var f="(?:\\s|$)";function g(a){var b=d[a];if(b){b.lastIndex=0}else{d[a]=b=new RegExp(e+a+f,"g")}return b}function h(a,b){var c=a.className;if(!c.length){a.className=b}else if(!g(b).test(c)){a.className+=" "+b}}function i(a,b){a.className=a.className.replace(g(b)," ").trim()}b.exports={add:h,rm:i}},{}],2:[function(a,b,c){(function(c){"use strict";var d=a("contra/emitter");var e=a("crossvent");var f=a("./classes");function g(a,b){var c=arguments.length;if(c===1&&Array.isArray(a)===false){b=a;a=[]}var e=document.body;var g=document.documentElement;var j;var q;var s;var t;var u;var v;var w;var x;var y;var z=null;var A;var B;var C=5;var D;var E;function F(){var a=navigator.userAgent.toLowerCase();var b=a.match(/android\s([0-9\.]*)/);return b?parseInt(b[1],10):false}function G(){var a=navigator.userAgent.toLowerCase();var b=a.match(/mqqbrowser/);return!!b}if(F()=="5"&&G()){E=true}var H=b||{};if(H.moves===void 0){H.moves=m}if(H.accepts===void 0){H.accepts=m}if(H.invalid===void 0){H.invalid=U}if(H.containers===void 0){H.containers=a||[]}if(H.isContainer===void 0){H.isContainer=l}if(H.copy===void 0){H.copy=false}if(H.revertOnSpill===void 0){H.revertOnSpill=false}if(H.removeOnSpill===void 0){H.removeOnSpill=false}if(H.direction===void 0){H.direction="vertical"}if(H.mirrorContainer===void 0){H.mirrorContainer=e}var I=d({containers:H.containers,start:S,end:V,cancel:$,remove:Z,destroy:N,dragging:false});if(H.removeOnSpill===true){I.on("over",da).on("out",ea)}K();return I;function J(a){return I.containers.indexOf(a)!==-1||H.isContainer(a)}function K(a){var b=a?"remove":"add";h(g,b,"mousedown",P);h(g,b,"mouseup",X)}function L(a){var b=a?"remove":"add";h(g,b,"mousemove",Q)}function M(a){var b=a?"remove":"add";h(g,b,"selectstart",O);h(g,b,"click",O)}function N(){K(true);X({})}function O(a){if(A){a.preventDefault()}}function P(a){var b=a.which!==0&&a.which!==1||a.metaKey||a.ctrlKey;if(b){return}var c=a.target;var d=R(c);if(!d){return}A=d;B={x:a.pageX,y:a.pageY};L();if(a.type==="mousedown"){a.preventDefault();if(c.tagName==="INPUT"||c.tagName==="TEXTAREA"){c.focus()}}}function Q(a){if(a.type!=="touchmove"){if(Math.abs(a.pageX-B.x)<C&&Math.abs(a.pageY-B.y)<C){return}}var b=A;L(true);M();V();T(b);var c=i(s);t=r("pageX",a)-c.left;u=r("pageY",a)-c.top;f.add(x||s,"gu-transit");fa();ca(a)}function R(a){if(I.dragging&&j){return}if(J(a)){return}var b=a;while(a.parentElement&&J(a.parentElement)===false){if(H.invalid(a,b)){return}a=a.parentElement;if(!a){return}}var c=a.parentElement;if(!c){return}if(H.invalid(a,b)){return}var d=H.moves(a,c,b);if(!d){return}return{item:a,source:c}}function S(a){var b=R(a);if(b){T(b)}}function T(a){if(ja(a.item,a.source)){x=a.item.cloneNode(true);I.emit("cloned",x,a.item,"copy")}q=a.source;s=a.item;v=w=p(a.item);I.dragging=true;I.emit("drag",s,q)}function U(){return false}function V(){if(!I.dragging){return}var a=x||s;Y(a,a.parentElement)}function W(){A=false;L(true);M(true)}function X(a){if(E&&D){D()}W();if(!I.dragging){return}var b=x||s;var c=r("clientX",a);var d=r("clientY",a);var e=k(j,c,d);var f=ba(e,c,d);if(f&&(!x||f!==q)){Y(b,f)}else if(H.removeOnSpill){Z()}else{$()}}function Y(a,b){if(aa(b)){I.emit("cancel",a,q)}else{I.emit("drop",a,b,q)}_()}function Z(){if(!I.dragging){return}var a=x||s;var b=a.parentElement;if(b){b.removeChild(a)}I.emit(x?"cancel":"remove",a,b);_()}function $(a){if(!I.dragging){return}var b=arguments.length>0?a:H.revertOnSpill;var c=x||s;var d=c.parentElement;if(d===q&&x){d.removeChild(x)}var e=aa(d);if(e===false&&!x&&b){q.insertBefore(c,v)}if(e||b){I.emit("cancel",c,q)}else{I.emit("drop",c,d,q)}_()}function _(){var a=x||s;W();ga();if(a){f.rm(a,"gu-transit")}if(y){clearTimeout(y)}I.dragging=false;I.emit("out",a,z,q);I.emit("dragend",a);q=s=x=v=w=y=z=null}function aa(a,b){var c;if(b!==void 0){c=b}else if(j){c=w}else{c=p(x||s)}return a===q&&c===v}function ba(a,b,c){var d=a;while(d&&!e()){d=d.parentElement}return d;function e(){var e=J(d);if(e===false){return false}var f=ha(d,a);var g=ia(d,f,b,c);var h=aa(d,g);if(h){return true}return H.accepts(s,d,q,g)}}function ca(a){if(!j){return}a.preventDefault();var b=r("clientX",a);var c=r("clientY",a);var d=b-t;var e=c-u;j.style.left=d+"px";j.style.top=e+"px";var f=x||s;var g=k(j,b,c);var h=ba(g,b,c);var i=h!==null&&h!==z;if(i||h===null){y();z=h;o()}if(h===q&&x){if(f.parentElement){f.parentElement.removeChild(f)}return}var l;var m=ha(h,g);if(m!==null){l=ia(h,m,b,c)}else if(H.revertOnSpill===true&&!x){l=v;h=q}else{if(x&&f.parentElement){f.parentElement.removeChild(f)}return}if(l===null||l!==f&&l!==p(f)&&l!==w){w=l;if(E){D=function(){h.insertBefore(f,l);I.emit("shadow",f,h)}}else{h.insertBefore(f,l);I.emit("shadow",f,h)}}function n(a){I.emit(a,f,z,q)}function o(){if(i){n("over")}}function y(){if(z){n("out")}}}function da(a){f.rm(a,"gu-hide")}function ea(a){if(I.dragging){f.add(a,"gu-hide")}}function fa(){if(j){return}var a=s.getBoundingClientRect();j=s.cloneNode(true);j.style.width=n(a)+"px";j.style.height=o(a)+"px";f.rm(j,"gu-transit");f.add(j,"gu-mirror");H.mirrorContainer.appendChild(j);h(g,"add","mousemove",ca);f.add(H.mirrorContainer,"gu-unselectable");I.emit("cloned",j,s,"mirror")}function ga(){if(j){f.rm(H.mirrorContainer,"gu-unselectable");h(g,"remove","mousemove",ca);j.parentElement.removeChild(j);j=null}}function ha(a,b){var c=b;while(c!==a&&c.parentElement!==a){c=c.parentElement}if(c===g){return null}return c}function ia(a,b,c,d){var e=H.direction==="horizontal";var f=b!==a?h():g();return f;function g(){var b=a.children.length;var f;var g;var h;for(f=0;f<b;f++){g=a.children[f];h=g.getBoundingClientRect();if(e&&h.left>c){return g}if(!e&&h.top>d){return g}}return null}function h(){var a=b.getBoundingClientRect();if(e){return i(c>a.left+n(a)/2)}return i(d>a.top+o(a)/2)}function i(a){return a?p(b):b}}function ja(a,b){return typeof H.copy==="boolean"?H.copy:H.copy(a,b)}}function h(a,b,d,f){var g={mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"};var h={mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"};if(c.navigator.msPointerEnabled){e[b](a,h[d],f)}e[b](a,g[d],f);e[b](a,d,f)}function i(a){var b=a.getBoundingClientRect();return{left:b.left+j("scrollLeft","pageXOffset"),top:b.top+j("scrollTop","pageYOffset")}}function j(a,b){if(typeof c[b]!=="undefined"){return c[b]}var d=document.documentElement;if(d.clientHeight){return d[a]}var e=document.body;return e[a]}function k(a,b,c){var d=a||{};var e=d.className;var f;d.className+=" gu-hide";f=document.elementFromPoint(b,c);d.className=e;return f}function l(){return false}function m(){return true}function n(a){return a.width||a.right-a.left}function o(a){return a.height||a.bottom-a.top}function p(a){return a.nextElementSibling||b();function b(){var b=a;do{b=b.nextSibling}while(b&&b.nodeType!==1);return b}}function q(a){if(a.targetTouches&&a.targetTouches.length){return a.targetTouches[0]}if(a.changedTouches&&a.changedTouches.length){return a.changedTouches[0]}return a}function r(a,b){var c=q(b);var d={pageX:"clientX",pageY:"clientY"};if(a in d&&!(a in c)&&d[a]in c){a=d[a]}return c[a]}b.exports=g}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./classes":1,"contra/emitter":4,crossvent:8}],3:[function(a,b,c){"use strict";var d=a("ticky");b.exports=function e(a,b,c){if(!a){return}d(function e(){a.apply(c||null,b||[])})}},{ticky:6}],4:[function(a,b,c){"use strict";var d=a("atoa");var e=a("./debounce");b.exports=function f(a,b){var c=b||{};var f={};if(a===undefined){a={}}a.on=function(b,c){if(!f[b]){f[b]=[c]}else{f[b].push(c)}return a};a.once=function(b,c){c._once=true;a.on(b,c);return a};a.off=function(b,c){var d=arguments.length;if(d===1){delete f[b]}else if(d===0){f={}}else{var e=f[b];if(!e){return a}e.splice(e.indexOf(c),1)}return a};a.emit=function(){var b=d(arguments);return a.emitterSnapshot(b.shift()).apply(this,b)};a.emitterSnapshot=function(b){var g=(f[b]||[]).slice(0);return function(){var f=d(arguments);var h=this||a;if(b==="error"&&c.throws!==false&&!g.length){throw f.length===1?f[0]:f}g.forEach(function i(d){if(c.async){e(d,f,h)}else{d.apply(h,f)}if(d._once){a.off(b,d)}});return a}};return a}},{"./debounce":3,atoa:5}],5:[function(a,b,c){b.exports=function d(a,b){return Array.prototype.slice.call(a,b)}},{}],6:[function(a,b,c){var d=typeof setImmediate==="function",e;if(d){e=function(a){setImmediate(a)}}else{e=function(a){setTimeout(a,0)}}b.exports=e},{}],7:[function(a,b,c){(function(a){var c=a.CustomEvent;function d(){try{var a=new c("cat",{detail:{foo:"bar"}});return"cat"===a.type&&"bar"===a.detail.foo}catch(b){}return false}b.exports=d()?c:"function"===typeof document.createEvent?function e(a,b){var c=document.createEvent("CustomEvent");if(b){c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail)}else{c.initCustomEvent(a,false,false,void 0)}return c}:function f(a,b){var c=document.createEventObject();c.type=a;if(b){c.bubbles=Boolean(b.bubbles);c.cancelable=Boolean(b.cancelable);c.detail=b.detail}else{c.bubbles=false;c.cancelable=false;c.detail=void 0}return c}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],8:[function(a,b,c){(function(c){"use strict";var d=a("custom-event");var e=a("./eventmap");var f=c.document;var g=j;var h=l;var i=[];if(!c.addEventListener){g=k;h=m}b.exports={add:g,remove:h,fabricate:n};function j(a,b,c,d){return a.addEventListener(b,c,d)}function k(a,b,c){return a.attachEvent("on"+b,p(a,b,c))}function l(a,b,c,d){return a.removeEventListener(b,c,d)}function m(a,b,c){var d=q(a,b,c);if(d){return a.detachEvent("on"+b,d)}}function n(a,b,c){var g=e.indexOf(b)===-1?i():h();if(a.dispatchEvent){a.dispatchEvent(g)}else{a.fireEvent("on"+b,g)}function h(){var a;if(f.createEvent){a=f.createEvent("Event");a.initEvent(b,true,true)}else if(f.createEventObject){a=f.createEventObject()}return a}function i(){return new d(b,{detail:c})}}function o(a,b,d){return function e(b){var e=b||c.event;e.target=e.target||e.srcElement;e.preventDefault=e.preventDefault||function f(){e.returnValue=false};e.stopPropagation=e.stopPropagation||function g(){e.cancelBubble=true};e.which=e.which||e.keyCode;d.call(a,e)}}function p(a,b,c){var d=q(a,b,c)||o(a,b,c);i.push({wrapper:d,element:a,type:b,fn:c});return d}function q(a,b,c){var d=r(a,b,c);if(d){var e=i[d].wrapper;i.splice(d,1);return e}}function r(a,b,c){var d,e;for(d=0;d<i.length;d++){e=i[d];if(e.element===a&&e.type===b&&e.fn===c){return d}}}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./eventmap":9,"custom-event":7}],9:[function(a,b,c){(function(a){"use strict";var c=[];var d="";var e=/^on/;for(d in a){if(e.test(d)){c.push(d.slice(2))}}b.exports=c}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}]},{},[2])(2)});define("app/util/animate",["require","scrollIntoViewIfNeeded"],function(a){a("scrollIntoViewIfNeeded");var b={shake:function(a,b){a=$(a);a.scrollIntoViewIfNeeded(a.parent());a.css({position:"relative"});var c=0;var d=setInterval(function(){var e=c%3;var f=[-4,0,4];a.stop().animate({left:f[e]},20);if(c===9){clearInterval(d);a.animate({left:f[1]},20);b&&b()}c++},20)},errorShake:function(a){a=$(a);var c=a.css("border-color");a.css("border-color","#d92424");b.shake(a,function(){setTimeout(function(){a.css("border-color",c)},3e3)})},scrollToTop:function(a,b){var c={speed:300};if(b){$.extend(c,{speed:b})}a=$(a);$(window).scroll(function(){if($(this).scrollTop()>200){a.fadeIn()}else{a.fadeOut()}});a.click(function(a){a.preventDefault();$("body, html").animate({scrollTop:0},c.speed)})}};return b});(function(){if(window.CKEDITOR&&window.CKEDITOR.dom)return;window.CKEDITOR||(window.CKEDITOR=function(){var a=/(^|.*[\\\/])ckeditor\.js(?:\?.*|;.*)?$/i,b={timestamp:"G4CD",version:"4.5.9",revision:"a35abfe",rnd:Math.floor(900*Math.random())+100,_:{pending:[],basePathSrcPattern:a},status:"unloaded",basePath:function(){var b=window.CKEDITOR_BASEPATH||"";if(!b)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var e=c[d].src.match(a);if(e){b=e[1];break}}-1==b.indexOf(":/")&&"//"!=b.slice(0,2)&&(b=0===b.indexOf("/")?location.href.match(/^.*?:\/\/[^\/]*/)[0]+b:location.href.match(/^[^\?]*\/(?:)/)[0]+b);if(!b)throw'The CKEditor installation path could not be automatically detected. Please set the global variable "CKEDITOR_BASEPATH" before creating editor instances.';return b}(),getUrl:function(a){-1==a.indexOf(":/")&&0!==a.indexOf("/")&&(a=this.basePath+a);this.timestamp&&"/"!=a.charAt(a.length-1)&&!/[&?]t=/.test(a)&&(a+=(0<=a.indexOf("?")?"&":"?")+"t="+this.timestamp);return a},domReady:function(){function a(){try{document.addEventListener?(document.removeEventListener("DOMContentLoaded",a,!1),b()):document.attachEvent&&"complete"===document.readyState&&(document.detachEvent("onreadystatechange",a),b())}catch(c){}}function b(){for(var a;a=c.shift();)a()}var c=[];return function(b){function d(){try{document.documentElement.doScroll("left")}catch(b){setTimeout(d,1);return}a()}c.push(b);"complete"===document.readyState&&setTimeout(a,1);if(1==c.length)if(document.addEventListener)document.addEventListener("DOMContentLoaded",a,!1),window.addEventListener("load",a,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",a);window.attachEvent("onload",a);b=!1;try{b=!window.frameElement}catch(e){}document.documentElement.doScroll&&b&&d()}}}()},c=window.CKEDITOR_GETURL;if(c){var d=b.getUrl;b.getUrl=function(a){return c.call(b,a)||d.call(b,a)}}return b}());CKEDITOR.event||(CKEDITOR.event=function(){},CKEDITOR.event.implementOn=function(a){var b=CKEDITOR.event.prototype,c;for(c in b)null==a[c]&&(a[c]=b[c])},CKEDITOR.event.prototype=function(){function a(a){var d=b(this);return d[a]||(d[a]=new c(a))}var b=function(a){a=a.getPrivate&&a.getPrivate()||a._||(a._={});return a.events||(a.events={})},c=function(a){this.name=a;this.listeners=[]};c.prototype={getListenerIndex:function(a){for(var b=0,c=this.listeners;b<c.length;b++)if(c[b].fn==a)return b;return-1}};return{define:function(b,c){var d=a.call(this,b);CKEDITOR.tools.extend(d,c,!0)},on:function(b,c,d,e,f){function g(a,f,g,i){a={name:b,sender:this,editor:a,data:f,listenerData:e,stop:g,cancel:i,removeListener:h};return!1===c.call(d,a)?!1:a.data}function h(){j.removeListener(b,c)}var i=a.call(this,b);if(0>i.getListenerIndex(c)){i=i.listeners;d||(d=this);isNaN(f)&&(f=10);var j=this;g.fn=c;g.priority=f;for(var k=i.length-1;0<=k;k--)if(i[k].priority<=f)return i.splice(k+1,0,g),{removeListener:h};i.unshift(g)}return{removeListener:h}},once:function(){var a=Array.prototype.slice.call(arguments),b=a[1];a[1]=function(a){a.removeListener();return b.apply(this,arguments)};return this.on.apply(this,a)},capture:function(){CKEDITOR.event.useCapture=1;var a=this.on.apply(this,arguments);CKEDITOR.event.useCapture=0;return a},fire:function(){var a=0,c=function(){a=1},d=0,e=function(){d=1};return function(f,g,h){var i=b(this)[f];f=a;var j=d;a=d=0;if(i){var k=i.listeners;if(k.length)for(var k=k.slice(0),l,m=0;m<k.length;m++){if(i.errorProof)try{l=k[m].call(this,h,g,c,e)}catch(n){}else l=k[m].call(this,h,g,c,e);!1===l?d=1:"undefined"!=typeof l&&(g=l);if(a||d)break}}g=d?!1:"undefined"==typeof g?!0:g;a=f;d=j;return g}}(),fireOnce:function(a,c,d){c=this.fire(a,c,d);delete b(this)[a];return c},removeListener:function(a,c){var d=b(this)[a];if(d){var e=d.getListenerIndex(c);0<=e&&d.listeners.splice(e,1)}},removeAllListeners:function(){var a=b(this),c;for(c in a)delete a[c]},hasListeners:function(a){return(a=b(this)[a])&&0<a.listeners.length}}}());CKEDITOR.editor||(CKEDITOR.editor=function(){CKEDITOR._.pending.push([this,arguments]);CKEDITOR.event.call(this)},CKEDITOR.editor.prototype.fire=function(a,b){a in{instanceReady:1,loaded:1}&&(this[a]=!0);return CKEDITOR.event.prototype.fire.call(this,a,b,this)},CKEDITOR.editor.prototype.fireOnce=function(a,b){a in{instanceReady:1,loaded:1}&&(this[a]=!0);return CKEDITOR.event.prototype.fireOnce.call(this,a,b,this)},CKEDITOR.event.implementOn(CKEDITOR.editor.prototype));CKEDITOR.env||(CKEDITOR.env=function(){var a=navigator.userAgent.toLowerCase(),b=a.match(/edge[ \/](\d+.?\d*)/),c=-1<a.indexOf("trident/"),c=!(!b&&!c),c={ie:c,edge:!!b,webkit:!c&&-1<a.indexOf(" applewebkit/"),air:-1<a.indexOf(" adobeair/"),mac:-1<a.indexOf("macintosh"),quirks:"BackCompat"==document.compatMode&&(!document.documentMode||10>document.documentMode),mobile:-1<a.indexOf("mobile"),iOS:/(ipad|iphone|ipod)/.test(a),isCustomDomain:function(){if(!this.ie)return!1;var a=document.domain,b=window.location.hostname;return a!=b&&a!="["+b+"]"},secure:"https:"==location.protocol};c.gecko="Gecko"==navigator.product&&!c.webkit&&!c.ie;c.webkit&&(-1<a.indexOf("chrome")?c.chrome=!0:c.safari=!0);var d=0;c.ie&&(d=b?parseFloat(b[1]):c.quirks||!document.documentMode?parseFloat(a.match(/msie (\d+)/)[1]):document.documentMode,c.ie9Compat=9==d,c.ie8Compat=8==d,c.ie7Compat=7==d,c.ie6Compat=7>d||c.quirks);c.gecko&&(b=a.match(/rv:([\d\.]+)/))&&(b=b[1].split("."),d=1e4*b[0]+100*(b[1]||0)+1*(b[2]||0));c.air&&(d=parseFloat(a.match(/ adobeair\/(\d+)/)[1]));c.webkit&&(d=parseFloat(a.match(/ applewebkit\/(\d+)/)[1]));c.version=d;c.isCompatible=!(c.ie&&7>d)&&!(c.gecko&&4e4>d)&&!(c.webkit&&534>d);c.hidpi=2<=window.devicePixelRatio;c.needsBrFiller=c.gecko||c.webkit||c.ie&&10<d;c.needsNbspFiller=c.ie&&11>d;c.cssClass="cke_browser_"+(c.ie?"ie":c.gecko?"gecko":c.webkit?"webkit":"unknown");c.quirks&&(c.cssClass+=" cke_browser_quirks");c.ie&&(c.cssClass+=" cke_browser_ie"+(c.quirks?"6 cke_browser_iequirks":c.version));c.air&&(c.cssClass+=" cke_browser_air");c.iOS&&(c.cssClass+=" cke_browser_ios");c.hidpi&&(c.cssClass+=" cke_hidpi");return c}());"unloaded"==CKEDITOR.status&&function(){CKEDITOR.event.implementOn(CKEDITOR);CKEDITOR.loadFullCore=function(){if("basic_ready"!=CKEDITOR.status)CKEDITOR.loadFullCore._load=1;else{delete CKEDITOR.loadFullCore;var a=document.createElement("script");a.type="text/javascript";a.src=CKEDITOR.basePath+"ckeditor.js";document.getElementsByTagName("head")[0].appendChild(a)}};CKEDITOR.loadFullCoreTimeout=0;CKEDITOR.add=function(a){(this._.pending||(this._.pending=[])).push(a)};(function(){CKEDITOR.domReady(function(){var a=CKEDITOR.loadFullCore,b=CKEDITOR.loadFullCoreTimeout;a&&(CKEDITOR.status="basic_ready",a&&a._load?a():b&&setTimeout(function(){CKEDITOR.loadFullCore&&CKEDITOR.loadFullCore()},1e3*b))})})();CKEDITOR.status="basic_loaded";
}();"use strict";CKEDITOR.VERBOSITY_WARN=1;CKEDITOR.VERBOSITY_ERROR=2;CKEDITOR.verbosity=CKEDITOR.VERBOSITY_WARN|CKEDITOR.VERBOSITY_ERROR;CKEDITOR.warn=function(a,b){CKEDITOR.verbosity&CKEDITOR.VERBOSITY_WARN&&CKEDITOR.fire("log",{type:"warn",errorCode:a,additionalData:b})};CKEDITOR.error=function(a,b){CKEDITOR.verbosity&CKEDITOR.VERBOSITY_ERROR&&CKEDITOR.fire("log",{type:"error",errorCode:a,additionalData:b})};CKEDITOR.on("log",function(a){if(window.console&&window.console.log){var b=console[a.data.type]?a.data.type:"log",c=a.data.errorCode;if(a=a.data.additionalData)console[b]("[CKEDITOR] Error code: "+c+".",a);else console[b]("[CKEDITOR] Error code: "+c+".");console[b]("[CKEDITOR] For more information about this error go to http://docs.ckeditor.com/#!/guide/dev_errors-section-"+c)}},null,null,999);CKEDITOR.dom={};(function(){var a=[],b=CKEDITOR.env.gecko?"-moz-":CKEDITOR.env.webkit?"-webkit-":CKEDITOR.env.ie?"-ms-":"",c=/&/g,d=/>/g,e=/</g,f=/"/g,g=/&(lt|gt|amp|quot|nbsp|shy|#\d{1,5});/g,h={lt:"<",gt:">",amp:"&",quot:'"',nbsp:"",shy:""},i=function(a,b){return"#"==b[0]?String.fromCharCode(parseInt(b.slice(1),10)):h[b]};CKEDITOR.on("reset",function(){a=[]});CKEDITOR.tools={arrayCompare:function(a,b){if(!a&&!b)return!0;if(!a||!b||a.length!=b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!=b[c])return!1;return!0},getIndex:function(a,b){for(var c=0;c<a.length;++c)if(b(a[c]))return c;return-1},clone:function(a){var b;if(a&&a instanceof Array){b=[];for(var c=0;c<a.length;c++)b[c]=CKEDITOR.tools.clone(a[c]);return b}if(null===a||"object"!=typeof a||a instanceof String||a instanceof Number||a instanceof Boolean||a instanceof Date||a instanceof RegExp||a.nodeType||a.window===a)return a;b=new a.constructor;for(c in a)b[c]=CKEDITOR.tools.clone(a[c]);return b},capitalize:function(a,b){return a.charAt(0).toUpperCase()+(b?a.slice(1):a.slice(1).toLowerCase())},extend:function(a){var b=arguments.length,c,d;"boolean"==typeof(c=arguments[b-1])?b--:"boolean"==typeof(c=arguments[b-2])&&(d=arguments[b-1],b-=2);for(var e=1;e<b;e++){var f=arguments[e],g;for(g in f)if(!0===c||null==a[g])if(!d||g in d)a[g]=f[g]}return a},prototypedCopy:function(a){var b=function(){};b.prototype=a;return new b},copy:function(a){var b={},c;for(c in a)b[c]=a[c];return b},isArray:function(a){return"[object Array]"==Object.prototype.toString.call(a)},isEmpty:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},cssVendorPrefix:function(a,c,d){if(d)return b+a+":"+c+";"+a+":"+c;d={};d[a]=c;d[b+a]=c;return d},cssStyleToDomStyle:function(){var a=document.createElement("div").style,b="undefined"!=typeof a.cssFloat?"cssFloat":"undefined"!=typeof a.styleFloat?"styleFloat":"float";return function(a){return"float"==a?b:a.replace(/-./g,function(a){return a.substr(1).toUpperCase()})}}(),buildStyleHtml:function(a){a=[].concat(a);for(var b,c=[],d=0;d<a.length;d++)if(b=a[d])/@import|[{}]/.test(b)?c.push("<style>"+b+"</style>"):c.push('<link type="text/css" rel=stylesheet href="'+b+'">');return c.join("")},htmlEncode:function(a){return void 0===a||null===a?"":String(a).replace(c,"&amp;").replace(d,"&gt;").replace(e,"&lt;")},htmlDecode:function(a){return a.replace(g,i)},htmlEncodeAttr:function(a){return CKEDITOR.tools.htmlEncode(a).replace(f,"&quot;")},htmlDecodeAttr:function(a){return CKEDITOR.tools.htmlDecode(a)},transformPlainTextToHtml:function(a,b){var c=b==CKEDITOR.ENTER_BR,d=this.htmlEncode(a.replace(/\r\n/g,"\n")),d=d.replace(/\t/g,"&nbsp;&nbsp; &nbsp;"),e=b==CKEDITOR.ENTER_P?"p":"div";if(!c){var f=/\n{2}/g;if(f.test(d))var g="<"+e+">",h="</"+e+">",d=g+d.replace(f,function(){return h+g})+h}d=d.replace(/\n/g,"<br>");c||(d=d.replace(new RegExp("<br>(?=</"+e+">)"),function(a){return CKEDITOR.tools.repeat(a,2)}));d=d.replace(/^ | $/g,"&nbsp;");return d=d.replace(/(>|\s) /g,function(a,b){return b+"&nbsp;"}).replace(/ (?=<)/g,"&nbsp;")},getNextNumber:function(){var a=0;return function(){return++a}}(),getNextId:function(){return"cke_"+this.getNextNumber()},getUniqueId:function(){for(var a="e",b=0;8>b;b++)a+=Math.floor(65536*(1+Math.random())).toString(16).substring(1);return a},override:function(a,b){var c=b(a);c.prototype=a.prototype;return c},setTimeout:function(a,b,c,d,e){e||(e=window);c||(c=e);return e.setTimeout(function(){d?a.apply(c,[].concat(d)):a.apply(c)},b||0)},trim:function(){var a=/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g;return function(b){return b.replace(a,"")}}(),ltrim:function(){var a=/^[ \t\n\r]+/g;return function(b){return b.replace(a,"")}}(),rtrim:function(){var a=/[ \t\n\r]+$/g;return function(b){return b.replace(a,"")}}(),indexOf:function(a,b){if("function"==typeof b)for(var c=0,d=a.length;c<d;c++){if(b(a[c]))return c}else{if(a.indexOf)return a.indexOf(b);c=0;for(d=a.length;c<d;c++)if(a[c]===b)return c}return-1},search:function(a,b){var c=CKEDITOR.tools.indexOf(a,b);return 0<=c?a[c]:null},bind:function(a,b){return function(){return a.apply(b,arguments)}},createClass:function(a){var b=a.$,c=a.base,d=a.privates||a._,e=a.proto;a=a.statics;!b&&(b=function(){c&&this.base.apply(this,arguments)});if(d)var f=b,b=function(){var a=this._||(this._={}),b;for(b in d){var c=d[b];a[b]="function"==typeof c?CKEDITOR.tools.bind(c,this):c}f.apply(this,arguments)};c&&(b.prototype=this.prototypedCopy(c.prototype),b.prototype.constructor=b,b.base=c,b.baseProto=c.prototype,b.prototype.base=function(){this.base=c.prototype.base;c.apply(this,arguments);this.base=arguments.callee});e&&this.extend(b.prototype,e,!0);a&&this.extend(b,a,!0);return b},addFunction:function(b,c){return a.push(function(){return b.apply(c||this,arguments)})-1},removeFunction:function(b){a[b]=null},callFunction:function(b){var c=a[b];return c&&c.apply(window,Array.prototype.slice.call(arguments,1))},cssLength:function(){var a=/^-?\d+\.?\d*px$/,b;return function(c){b=CKEDITOR.tools.trim(c+"")+"px";return a.test(b)?b:c||""}}(),convertToPx:function(){var a;return function(b){a||(a=CKEDITOR.dom.element.createFromHtml('<div style="position:absolute;left:-9999px;top:-9999px;margin:0px;padding:0px;border:0px;"></div>',CKEDITOR.document),CKEDITOR.document.getBody().append(a));return/%$/.test(b)?b:(a.setStyle("width",b),a.$.clientWidth)}}(),repeat:function(a,b){return Array(b+1).join(a)},tryThese:function(){for(var a,b=0,c=arguments.length;b<c;b++){var d=arguments[b];try{a=d();break}catch(e){}}return a},genKey:function(){return Array.prototype.slice.call(arguments).join("-")},defer:function(a){return function(){var b=arguments,c=this;window.setTimeout(function(){a.apply(c,b)},0)}},normalizeCssText:function(a,b){var c=[],d,e=CKEDITOR.tools.parseCssText(a,!0,b);for(d in e)c.push(d+":"+e[d]);c.sort();return c.length?c.join(";")+";":""},convertRgbToHex:function(a){return a.replace(/(?:rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\))/gi,function(a,b,c,d){a=[b,c,d];for(b=0;3>b;b++)a[b]=("0"+parseInt(a[b],10).toString(16)).slice(-2);return"#"+a.join("")})},parseCssText:function(a,b,c){var d={};c&&(c=new CKEDITOR.dom.element("span"),c.setAttribute("style",a),a=CKEDITOR.tools.convertRgbToHex(c.getAttribute("style")||""));if(!a||";"==a)return d;a.replace(/&quot;/g,'"').replace(/\s*([^:;\s]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(a,c,e){b&&(c=c.toLowerCase(),"font-family"==c&&(e=e.toLowerCase().replace(/["']/g,"").replace(/\s*,\s*/g,",")),e=CKEDITOR.tools.trim(e));d[c]=e});return d},writeCssText:function(a,b){var c,d=[];for(c in a)d.push(c+":"+a[c]);b&&d.sort();return d.join("; ")},objectCompare:function(a,b,c){var d;if(!a&&!b)return!0;if(!a||!b)return!1;for(d in a)if(a[d]!=b[d])return!1;if(!c)for(d in b)if(a[d]!=b[d])return!1;return!0},objectKeys:function(a){var b=[],c;for(c in a)b.push(c);return b},convertArrayToObject:function(a,b){var c={};1==arguments.length&&(b=!0);for(var d=0,e=a.length;d<e;++d)c[a[d]]=b;return c},fixDomain:function(){for(var a;;)try{a=window.parent.document.domain;break}catch(b){a=a?a.replace(/.+?(?:\.|$)/,""):document.domain;if(!a)break;document.domain=a}return!!a},eventsBuffer:function(a,b,c){function d(){f=(new Date).getTime();e=!1;c?b.call(c):b()}var e,f=0;return{input:function(){if(!e){var b=(new Date).getTime()-f;b<a?e=setTimeout(d,a-b):d()}},reset:function(){e&&clearTimeout(e);e=f=0}}},enableHtml5Elements:function(a,b){for(var c="abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup main mark meter nav output progress section summary time video".split(" "),d=c.length,e;d--;)e=a.createElement(c[d]),b&&a.appendChild(e)},checkIfAnyArrayItemMatches:function(a,b){for(var c=0,d=a.length;c<d;++c)if(a[c].match(b))return!0;return!1},checkIfAnyObjectPropertyMatches:function(a,b){for(var c in a)if(c.match(b))return!0;return!1},transparentImageData:"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==",getCookie:function(a){a=a.toLowerCase();for(var b=document.cookie.split(";"),c,d,e=0;e<b.length;e++)if(c=b[e].split("="),d=decodeURIComponent(CKEDITOR.tools.trim(c[0]).toLowerCase()),d===a)return decodeURIComponent(1<c.length?c[1]:"");return null},setCookie:function(a,b){document.cookie=encodeURIComponent(a)+"="+encodeURIComponent(b)+";path=/"},getCsrfToken:function(){var a=CKEDITOR.tools.getCookie("ckCsrfToken");if(!a||40!=a.length){var a=[],b="";if(window.crypto&&window.crypto.getRandomValues)a=new Uint8Array(40),window.crypto.getRandomValues(a);else for(var c=0;40>c;c++)a.push(Math.floor(256*Math.random()));for(c=0;c<a.length;c++)var d="abcdefghijklmnopqrstuvwxyz0123456789".charAt(a[c]%36),b=b+(.5<Math.random()?d.toUpperCase():d);a=b;CKEDITOR.tools.setCookie("ckCsrfToken",a)}return a}}})();CKEDITOR.dtd=function(){var a=CKEDITOR.tools.extend,b=function(a,b){for(var c=CKEDITOR.tools.clone(a),d=1;d<arguments.length;d++){b=arguments[d];for(var e in b)delete c[e]}return c},c={},d={},e={address:1,article:1,aside:1,blockquote:1,details:1,div:1,dl:1,fieldset:1,figure:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,hr:1,main:1,menu:1,nav:1,ol:1,p:1,pre:1,section:1,table:1,ul:1},f={command:1,link:1,meta:1,noscript:1,script:1,style:1},g={},h={"#":1},i={center:1,dir:1,noframes:1};a(c,{a:1,abbr:1,area:1,audio:1,b:1,bdi:1,bdo:1,br:1,button:1,canvas:1,cite:1,code:1,command:1,datalist:1,del:1,dfn:1,em:1,embed:1,i:1,iframe:1,img:1,input:1,ins:1,kbd:1,keygen:1,label:1,map:1,mark:1,meter:1,noscript:1,object:1,output:1,progress:1,q:1,ruby:1,s:1,samp:1,script:1,select:1,small:1,span:1,strong:1,sub:1,sup:1,textarea:1,time:1,u:1,"var":1,video:1,wbr:1},h,{acronym:1,applet:1,basefont:1,big:1,font:1,isindex:1,strike:1,style:1,tt:1});a(d,e,c,i);b={a:b(c,{a:1,button:1}),abbr:c,address:d,area:g,article:d,aside:d,audio:a({source:1,track:1},d),b:c,base:g,bdi:c,bdo:c,blockquote:d,body:d,br:g,button:b(c,{a:1,button:1}),canvas:c,caption:d,cite:c,code:c,col:g,colgroup:{col:1},command:g,datalist:a({option:1},c),dd:d,del:c,details:a({summary:1},d),dfn:c,div:d,dl:{dt:1,dd:1},dt:d,em:c,embed:g,fieldset:a({legend:1},d),figcaption:d,figure:a({figcaption:1},d),footer:d,form:d,h1:c,h2:c,h3:c,h4:c,h5:c,h6:c,head:a({title:1,base:1},f),header:d,hgroup:{h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},hr:g,html:a({head:1,body:1},d,f),i:c,iframe:h,img:g,input:g,ins:c,kbd:c,keygen:g,label:c,legend:c,li:d,link:g,main:d,map:d,mark:c,menu:a({li:1},d),meta:g,meter:b(c,{meter:1}),nav:d,noscript:a({link:1,meta:1,style:1},c),object:a({param:1},c),ol:{li:1},optgroup:{option:1},option:h,output:c,p:c,param:g,pre:c,progress:b(c,{progress:1}),q:c,rp:c,rt:c,ruby:a({rp:1,rt:1},c),s:c,samp:c,script:h,section:d,select:{optgroup:1,option:1},small:c,source:g,span:c,strong:c,style:h,sub:c,summary:a({h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},c),sup:c,table:{caption:1,colgroup:1,thead:1,tfoot:1,tbody:1,tr:1},tbody:{tr:1},td:d,textarea:h,tfoot:{tr:1},th:d,thead:{tr:1},time:b(c,{time:1}),title:h,tr:{th:1,td:1},track:g,u:c,ul:{li:1},"var":c,video:a({source:1,track:1},d),wbr:g,acronym:c,applet:a({param:1},d),basefont:g,big:c,center:d,dialog:g,dir:{li:1},font:c,isindex:g,noframes:d,strike:c,tt:c};a(b,{$block:a({audio:1,dd:1,dt:1,figcaption:1,li:1,video:1},e,i),$blockLimit:{article:1,aside:1,audio:1,body:1,caption:1,details:1,dir:1,div:1,dl:1,fieldset:1,figcaption:1,figure:1,footer:1,form:1,header:1,hgroup:1,main:1,menu:1,nav:1,ol:1,section:1,table:1,td:1,th:1,tr:1,ul:1,video:1},$cdata:{script:1,style:1},$editable:{address:1,article:1,aside:1,blockquote:1,body:1,details:1,div:1,fieldset:1,figcaption:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,main:1,nav:1,p:1,pre:1,section:1},$empty:{area:1,base:1,basefont:1,br:1,col:1,command:1,dialog:1,embed:1,hr:1,img:1,input:1,isindex:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1},$inline:c,$list:{dl:1,ol:1,ul:1},$listItem:{dd:1,dt:1,li:1},$nonBodyContent:a({body:1,head:1,html:1},b.head),$nonEditable:{applet:1,audio:1,button:1,embed:1,iframe:1,map:1,object:1,option:1,param:1,script:1,textarea:1,video:1},$object:{applet:1,audio:1,button:1,hr:1,iframe:1,img:1,input:1,object:1,select:1,table:1,textarea:1,video:1},$removeEmpty:{abbr:1,acronym:1,b:1,bdi:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,mark:1,meter:1,output:1,q:1,ruby:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,time:1,tt:1,u:1,"var":1},$tabIndex:{a:1,area:1,button:1,input:1,object:1,select:1,textarea:1},$tableContent:{caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1},$transparent:{a:1,audio:1,canvas:1,del:1,ins:1,map:1,noscript:1,object:1,video:1},$intermediate:{caption:1,colgroup:1,dd:1,dt:1,figcaption:1,legend:1,li:1,optgroup:1,option:1,rp:1,rt:1,summary:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1}});return b}();CKEDITOR.dom.event=function(a){this.$=a};CKEDITOR.dom.event.prototype={getKey:function(){return this.$.keyCode||this.$.which},getKeystroke:function(){var a=this.getKey();if(this.$.ctrlKey||this.$.metaKey)a+=CKEDITOR.CTRL;this.$.shiftKey&&(a+=CKEDITOR.SHIFT);this.$.altKey&&(a+=CKEDITOR.ALT);return a},preventDefault:function(a){var b=this.$;b.preventDefault?b.preventDefault():b.returnValue=!1;a&&this.stopPropagation()},stopPropagation:function(){var a=this.$;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},getTarget:function(){var a=this.$.target||this.$.srcElement;return a?new CKEDITOR.dom.node(a):null},getPhase:function(){return this.$.eventPhase||2},getPageOffset:function(){var a=this.getTarget().getDocument().$;return{x:this.$.pageX||this.$.clientX+(a.documentElement.scrollLeft||a.body.scrollLeft),y:this.$.pageY||this.$.clientY+(a.documentElement.scrollTop||a.body.scrollTop)}}};CKEDITOR.CTRL=1114112;CKEDITOR.SHIFT=2228224;CKEDITOR.ALT=4456448;CKEDITOR.EVENT_PHASE_CAPTURING=1;CKEDITOR.EVENT_PHASE_AT_TARGET=2;CKEDITOR.EVENT_PHASE_BUBBLING=3;CKEDITOR.dom.domObject=function(a){a&&(this.$=a)};CKEDITOR.dom.domObject.prototype=function(){var a=function(a,b){return function(c){"undefined"!=typeof CKEDITOR&&a.fire(b,new CKEDITOR.dom.event(c))}};return{getPrivate:function(){var a;(a=this.getCustomData("_"))||this.setCustomData("_",a={});return a},on:function(b){var c=this.getCustomData("_cke_nativeListeners");c||(c={},this.setCustomData("_cke_nativeListeners",c));c[b]||(c=c[b]=a(this,b),this.$.addEventListener?this.$.addEventListener(b,c,!!CKEDITOR.event.useCapture):this.$.attachEvent&&this.$.attachEvent("on"+b,c));return CKEDITOR.event.prototype.on.apply(this,arguments)},removeListener:function(a){CKEDITOR.event.prototype.removeListener.apply(this,arguments);if(!this.hasListeners(a)){var b=this.getCustomData("_cke_nativeListeners"),c=b&&b[a];c&&(this.$.removeEventListener?this.$.removeEventListener(a,c,!1):this.$.detachEvent&&this.$.detachEvent("on"+a,c),delete b[a])}},removeAllListeners:function(){var a=this.getCustomData("_cke_nativeListeners"),b;for(b in a){var c=a[b];this.$.detachEvent?this.$.detachEvent("on"+b,c):this.$.removeEventListener&&this.$.removeEventListener(b,c,!1);delete a[b]}CKEDITOR.event.prototype.removeAllListeners.call(this)}}}();(function(a){var b={};CKEDITOR.on("reset",function(){b={}});a.equals=function(a){try{return a&&a.$===this.$}catch(b){return!1}};a.setCustomData=function(a,c){var d=this.getUniqueId();(b[d]||(b[d]={}))[a]=c;return this};a.getCustomData=function(a){var c=this.$["data-cke-expando"];return(c=c&&b[c])&&a in c?c[a]:null};a.removeCustomData=function(a){var c=this.$["data-cke-expando"],c=c&&b[c],d,e;c&&(d=c[a],e=a in c,delete c[a]);return e?d:null};a.clearCustomData=function(){this.removeAllListeners();var a=this.$["data-cke-expando"];a&&delete b[a]};a.getUniqueId=function(){return this.$["data-cke-expando"]||(this.$["data-cke-expando"]=CKEDITOR.tools.getNextNumber())};CKEDITOR.event.implementOn(a)})(CKEDITOR.dom.domObject.prototype);CKEDITOR.dom.node=function(a){return a?new CKEDITOR.dom[a.nodeType==CKEDITOR.NODE_DOCUMENT?"document":a.nodeType==CKEDITOR.NODE_ELEMENT?"element":a.nodeType==CKEDITOR.NODE_TEXT?"text":a.nodeType==CKEDITOR.NODE_COMMENT?"comment":a.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT?"documentFragment":"domObject"](a):this};CKEDITOR.dom.node.prototype=new CKEDITOR.dom.domObject;CKEDITOR.NODE_ELEMENT=1;CKEDITOR.NODE_DOCUMENT=9;CKEDITOR.NODE_TEXT=3;CKEDITOR.NODE_COMMENT=8;CKEDITOR.NODE_DOCUMENT_FRAGMENT=11;CKEDITOR.POSITION_IDENTICAL=0;CKEDITOR.POSITION_DISCONNECTED=1;CKEDITOR.POSITION_FOLLOWING=2;CKEDITOR.POSITION_PRECEDING=4;CKEDITOR.POSITION_IS_CONTAINED=8;CKEDITOR.POSITION_CONTAINS=16;CKEDITOR.tools.extend(CKEDITOR.dom.node.prototype,{appendTo:function(a,b){a.append(this,b);return a},clone:function(a,b){function c(d){d["data-cke-expando"]&&(d["data-cke-expando"]=!1);if(d.nodeType==CKEDITOR.NODE_ELEMENT||d.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)if(b||d.nodeType!=CKEDITOR.NODE_ELEMENT||d.removeAttribute("id",!1),a){d=d.childNodes;for(var e=0;e<d.length;e++)c(d[e])}}function d(b){if(b.type==CKEDITOR.NODE_ELEMENT||b.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT){if(b.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var c=b.getName();":"==c[0]&&b.renameNode(c.substring(1))}if(a)for(c=0;c<b.getChildCount();c++)d(b.getChild(c))}}var e=this.$.cloneNode(a);c(e);e=new CKEDITOR.dom.node(e);CKEDITOR.env.ie&&9>CKEDITOR.env.version&&(this.type==CKEDITOR.NODE_ELEMENT||this.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&d(e);return e},hasPrevious:function(){return!!this.$.previousSibling},hasNext:function(){return!!this.$.nextSibling},insertAfter:function(a){a.$.parentNode.insertBefore(this.$,a.$.nextSibling);return a},insertBefore:function(a){a.$.parentNode.insertBefore(this.$,a.$);return a},insertBeforeMe:function(a){this.$.parentNode.insertBefore(a.$,this.$);return a},getAddress:function(a){for(var b=[],c=this.getDocument().$.documentElement,d=this.$;d&&d!=c;){var e=d.parentNode;e&&b.unshift(this.getIndex.call({$:d},a));d=e}return b},getDocument:function(){return new CKEDITOR.dom.document(this.$.ownerDocument||this.$.parentNode.ownerDocument)},getIndex:function(a){function b(a,d){var e=d?a.nextSibling:a.previousSibling;return e&&e.nodeType==CKEDITOR.NODE_TEXT?c(e)?b(e,d):e:null}function c(a){return!a.nodeValue||a.nodeValue==CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE}var d=this.$,e=-1,f;if(!this.$.parentNode||a&&d.nodeType==CKEDITOR.NODE_TEXT&&c(d)&&!b(d)&&!b(d,!0))return-1;do a&&d!=this.$&&d.nodeType==CKEDITOR.NODE_TEXT&&(f||c(d))||(e++,f=d.nodeType==CKEDITOR.NODE_TEXT);while(d=d.previousSibling);return e},getNextSourceNode:function(a,b,c){if(c&&!c.call){var d=c;c=function(a){return!a.equals(d)}}a=!a&&this.getFirst&&this.getFirst();var e;if(!a){if(this.type==CKEDITOR.NODE_ELEMENT&&c&&!1===c(this,!0))return null;a=this.getNext()}for(;!a&&(e=(e||this).getParent());){if(c&&!1===c(e,!0))return null;a=e.getNext()}return!a||c&&!1===c(a)?null:b&&b!=a.type?a.getNextSourceNode(!1,b,c):a},getPreviousSourceNode:function(a,b,c){if(c&&!c.call){var d=c;c=function(a){return!a.equals(d)}}a=!a&&this.getLast&&this.getLast();var e;if(!a){if(this.type==CKEDITOR.NODE_ELEMENT&&c&&!1===c(this,!0))return null;a=this.getPrevious()}for(;!a&&(e=(e||this).getParent());){if(c&&!1===c(e,!0))return null;a=e.getPrevious()}return!a||c&&!1===c(a)?null:b&&a.type!=b?a.getPreviousSourceNode(!1,b,c):a},getPrevious:function(a){var b=this.$,c;do c=(b=b.previousSibling)&&10!=b.nodeType&&new CKEDITOR.dom.node(b);while(c&&a&&!a(c));return c},getNext:function(a){var b=this.$,c;do c=(b=b.nextSibling)&&new CKEDITOR.dom.node(b);while(c&&a&&!a(c));return c},getParent:function(a){var b=this.$.parentNode;return b&&(b.nodeType==CKEDITOR.NODE_ELEMENT||a&&b.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)?new CKEDITOR.dom.node(b):null},getParents:function(a){var b=this,c=[];do c[a?"push":"unshift"](b);while(b=b.getParent());return c},getCommonAncestor:function(a){if(a.equals(this))return this;if(a.contains&&a.contains(this))return a;var b=this.contains?this:this.getParent();do if(b.contains(a))return b;while(b=b.getParent());return null},getPosition:function(a){var b=this.$,c=a.$;if(b.compareDocumentPosition)return b.compareDocumentPosition(c);if(b==c)return CKEDITOR.POSITION_IDENTICAL;if(this.type==CKEDITOR.NODE_ELEMENT&&a.type==CKEDITOR.NODE_ELEMENT){if(b.contains){if(b.contains(c))return CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING;if(c.contains(b))return CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING}if("sourceIndex"in b)return 0>b.sourceIndex||0>c.sourceIndex?CKEDITOR.POSITION_DISCONNECTED:b.sourceIndex<c.sourceIndex?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING}b=this.getAddress();a=a.getAddress();for(var c=Math.min(b.length,a.length),d=0;d<c;d++)if(b[d]!=a[d])return b[d]<a[d]?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING;return b.length<a.length?CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING},getAscendant:function(a,b){var c=this.$,d,e;b||(c=c.parentNode);"function"==typeof a?(e=!0,d=a):(e=!1,d=function(b){b="string"==typeof b.nodeName?b.nodeName.toLowerCase():"";return"string"==typeof a?b==a:b in a});for(;c;){if(d(e?new CKEDITOR.dom.node(c):c))return new CKEDITOR.dom.node(c);try{c=c.parentNode}catch(f){c=null}}return null},hasAscendant:function(a,b){var c=this.$;b||(c=c.parentNode);for(;c;){if(c.nodeName&&c.nodeName.toLowerCase()==a)return!0;c=c.parentNode}return!1},move:function(a,b){a.append(this.remove(),b)},remove:function(a){var b=this.$,c=b.parentNode;if(c){if(a)for(;a=b.firstChild;)c.insertBefore(b.removeChild(a),b);c.removeChild(b)}return this},replace:function(a){this.insertBefore(a);a.remove()},trim:function(){this.ltrim();this.rtrim()},ltrim:function(){for(var a;this.getFirst&&(a=this.getFirst());){if(a.type==CKEDITOR.NODE_TEXT){var b=CKEDITOR.tools.ltrim(a.getText()),c=a.getLength();if(b)b.length<c&&(a.split(c-b.length),this.$.removeChild(this.$.firstChild));else{a.remove();continue}}break}},rtrim:function(){for(var a;this.getLast&&(a=this.getLast());){if(a.type==CKEDITOR.NODE_TEXT){var b=CKEDITOR.tools.rtrim(a.getText()),c=a.getLength();if(b)b.length<c&&(a.split(b.length),this.$.lastChild.parentNode.removeChild(this.$.lastChild));else{a.remove();continue}}break}CKEDITOR.env.needsBrFiller&&(a=this.$.lastChild)&&1==a.type&&"br"==a.nodeName.toLowerCase()&&a.parentNode.removeChild(a)},isReadOnly:function(a){var b=this;this.type!=CKEDITOR.NODE_ELEMENT&&(b=this.getParent());CKEDITOR.env.edge&&b&&b.is("textarea","input")&&(a=!0);if(!a&&b&&"undefined"!=typeof b.$.isContentEditable)return!(b.$.isContentEditable||b.data("cke-editable"));for(;b;){if(b.data("cke-editable"))return!1;if(b.hasAttribute("contenteditable"))return"false"==b.getAttribute("contenteditable");b=b.getParent()}return!0}});CKEDITOR.dom.window=function(a){CKEDITOR.dom.domObject.call(this,a)};CKEDITOR.dom.window.prototype=new CKEDITOR.dom.domObject;CKEDITOR.tools.extend(CKEDITOR.dom.window.prototype,{focus:function(){this.$.focus()},getViewPaneSize:function(){var a=this.$.document,b="CSS1Compat"==a.compatMode;return{width:(b?a.documentElement.clientWidth:a.body.clientWidth)||0,height:(b?a.documentElement.clientHeight:a.body.clientHeight)||0}},getScrollPosition:function(){var a=this.$;if("pageXOffset"in a)return{x:a.pageXOffset||0,y:a.pageYOffset||0};a=a.document;return{x:a.documentElement.scrollLeft||a.body.scrollLeft||0,y:a.documentElement.scrollTop||a.body.scrollTop||0}},getFrame:function(){var a=this.$.frameElement;return a?new CKEDITOR.dom.element.get(a):null}});CKEDITOR.dom.document=function(a){CKEDITOR.dom.domObject.call(this,a)};CKEDITOR.dom.document.prototype=new CKEDITOR.dom.domObject;CKEDITOR.tools.extend(CKEDITOR.dom.document.prototype,{type:CKEDITOR.NODE_DOCUMENT,appendStyleSheet:function(a){if(this.$.createStyleSheet)this.$.createStyleSheet(a);else{var b=new CKEDITOR.dom.element("link");b.setAttributes({rel:"stylesheet",type:"text/css",href:a});this.getHead().append(b)}},appendStyleText:function(a){if(this.$.createStyleSheet){var b=this.$.createStyleSheet("");b.cssText=a}else{var c=new CKEDITOR.dom.element("style",this);c.append(new CKEDITOR.dom.text(a,this));this.getHead().append(c)}return b||c.$.sheet},createElement:function(a,b){var c=new CKEDITOR.dom.element(a,this);b&&(b.attributes&&c.setAttributes(b.attributes),b.styles&&c.setStyles(b.styles));return c},createText:function(a){return new CKEDITOR.dom.text(a,this)},focus:function(){this.getWindow().focus()},getActive:function(){var a;try{a=this.$.activeElement}catch(b){return null}return new CKEDITOR.dom.element(a)},getById:function(a){return(a=this.$.getElementById(a))?new CKEDITOR.dom.element(a):null},getByAddress:function(a,b){for(var c=this.$.documentElement,d=0;c&&d<a.length;d++){var e=a[d];if(b)for(var f=-1,g=0;g<c.childNodes.length;g++){var h=c.childNodes[g];if(!0!==b||3!=h.nodeType||!h.previousSibling||3!=h.previousSibling.nodeType)if(f++,f==e){c=h;break}}else c=c.childNodes[e]}return c?new CKEDITOR.dom.node(c):null},getElementsByTag:function(a,b){CKEDITOR.env.ie&&8>=document.documentMode||!b||(a=b+":"+a);return new CKEDITOR.dom.nodeList(this.$.getElementsByTagName(a))},getHead:function(){var a=this.$.getElementsByTagName("head")[0];return a=a?new CKEDITOR.dom.element(a):this.getDocumentElement().append(new CKEDITOR.dom.element("head"),!0)},getBody:function(){return new CKEDITOR.dom.element(this.$.body)},getDocumentElement:function(){return new CKEDITOR.dom.element(this.$.documentElement)},getWindow:function(){return new CKEDITOR.dom.window(this.$.parentWindow||this.$.defaultView)},write:function(a){this.$.open("text/html","replace");CKEDITOR.env.ie&&(a=a.replace(/(?:^\s*<!DOCTYPE[^>]*?>)|^/i,'$&\n<script data-cke-temp="1">('+CKEDITOR.tools.fixDomain+")();</script>"));this.$.write(a);this.$.close()},find:function(a){return new CKEDITOR.dom.nodeList(this.$.querySelectorAll(a))},findOne:function(a){return(a=this.$.querySelector(a))?new CKEDITOR.dom.element(a):null},_getHtml5ShivFrag:function(){var a=this.getCustomData("html5ShivFrag");a||(a=this.$.createDocumentFragment(),CKEDITOR.tools.enableHtml5Elements(a,!0),this.setCustomData("html5ShivFrag",a));return a}});CKEDITOR.dom.nodeList=function(a){this.$=a};CKEDITOR.dom.nodeList.prototype={count:function(){return this.$.length},getItem:function(a){return 0>a||a>=this.$.length?null:(a=this.$[a])?new CKEDITOR.dom.node(a):null}};CKEDITOR.dom.element=function(a,b){"string"==typeof a&&(a=(b?b.$:document).createElement(a));CKEDITOR.dom.domObject.call(this,a)};CKEDITOR.dom.element.get=function(a){return(a="string"==typeof a?document.getElementById(a)||document.getElementsByName(a)[0]:a)&&(a.$?a:new CKEDITOR.dom.element(a))};CKEDITOR.dom.element.prototype=new CKEDITOR.dom.node;CKEDITOR.dom.element.createFromHtml=function(a,b){var c=new CKEDITOR.dom.element("div",b);c.setHtml(a);return c.getFirst().remove()};CKEDITOR.dom.element.setMarker=function(a,b,c,d){var e=b.getCustomData("list_marker_id")||b.setCustomData("list_marker_id",CKEDITOR.tools.getNextNumber()).getCustomData("list_marker_id"),f=b.getCustomData("list_marker_names")||b.setCustomData("list_marker_names",{}).getCustomData("list_marker_names");a[e]=b;f[c]=1;return b.setCustomData(c,d)};CKEDITOR.dom.element.clearAllMarkers=function(a){for(var b in a)CKEDITOR.dom.element.clearMarkers(a,a[b],1)};CKEDITOR.dom.element.clearMarkers=function(a,b,c){var d=b.getCustomData("list_marker_names"),e=b.getCustomData("list_marker_id"),f;for(f in d)b.removeCustomData(f);b.removeCustomData("list_marker_names");c&&(b.removeCustomData("list_marker_id"),delete a[e])};(function(){function a(a,b){return-1<(" "+a+" ").replace(f," ").indexOf(" "+b+" ")}function b(a){var b=!0;a.$.id||(a.$.id="cke_tmp_"+CKEDITOR.tools.getNextNumber(),b=!1);return function(){b||a.removeAttribute("id")}}function c(a,b){return"#"+a.$.id+" "+b.split(/,\s*/).join(", #"+a.$.id+" ")}function d(a){for(var b=0,c=0,d=g[a].length;c<d;c++)b+=parseInt(this.getComputedStyle(g[a][c])||0,10)||0;return b}var e=document.createElement("_").classList,e="undefined"!==typeof e&&null!==String(e.add).match(/\[Native code\]/gi),f=/[\n\t\r]/g;CKEDITOR.tools.extend(CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_ELEMENT,addClass:e?function(a){this.$.classList.add(a);return this}:function(b){var c=this.$.className;c&&(a(c,b)||(c+=" "+b));this.$.className=c||b;return this},removeClass:e?function(a){var b=this.$;b.classList.remove(a);b.className||b.removeAttribute("class");return this}:function(b){var c=this.getAttribute("class");c&&a(c,b)&&((c=c.replace(new RegExp("(?:^|\\s+)"+b+"(?=\\s|$)"),"").replace(/^\s+/,""))?this.setAttribute("class",c):this.removeAttribute("class"));return this},hasClass:function(b){return a(this.$.className,b)},append:function(a,b){"string"==typeof a&&(a=this.getDocument().createElement(a));b?this.$.insertBefore(a.$,this.$.firstChild):this.$.appendChild(a.$);return a},appendHtml:function(a){if(this.$.childNodes.length){var b=new CKEDITOR.dom.element("div",this.getDocument());b.setHtml(a);b.moveChildren(this)}else this.setHtml(a)},appendText:function(a){null!=this.$.text&&CKEDITOR.env.ie&&9>CKEDITOR.env.version?this.$.text+=a:this.append(new CKEDITOR.dom.text(a))},appendBogus:function(a){if(a||CKEDITOR.env.needsBrFiller){for(a=this.getLast();a&&a.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.rtrim(a.getText());)a=a.getPrevious();a&&a.is&&a.is("br")||(a=this.getDocument().createElement("br"),CKEDITOR.env.gecko&&a.setAttribute("type","_moz"),this.append(a))}},breakParent:function(a,b){var c=new CKEDITOR.dom.range(this.getDocument());c.setStartAfter(this);c.setEndAfter(a);var d=c.extractContents(!1,b||!1);c.insertNode(this.remove());d.insertAfterNode(this)},contains:document.compareDocumentPosition?function(a){return!!(this.$.compareDocumentPosition(a.$)&16)}:function(a){var b=this.$;return a.type!=CKEDITOR.NODE_ELEMENT?b.contains(a.getParent().$):b!=a.$&&b.contains(a.$)},focus:function(){function a(){try{this.$.focus()}catch(a){}}return function(b){b?CKEDITOR.tools.setTimeout(a,100,this):a.call(this)}}(),getHtml:function(){var a=this.$.innerHTML;return CKEDITOR.env.ie?a.replace(/<\?[^>]*>/g,""):a},getOuterHtml:function(){if(this.$.outerHTML)return this.$.outerHTML.replace(/<\?[^>]*>/,"");var a=this.$.ownerDocument.createElement("div");a.appendChild(this.$.cloneNode(!0));return a.innerHTML},getClientRect:function(){var a=CKEDITOR.tools.extend({},this.$.getBoundingClientRect());!a.width&&(a.width=a.right-a.left);!a.height&&(a.height=a.bottom-a.top);return a},setHtml:CKEDITOR.env.ie&&9>CKEDITOR.env.version?function(a){try{var b=this.$;if(this.getParent())return b.innerHTML=a;var c=this.getDocument()._getHtml5ShivFrag();c.appendChild(b);b.innerHTML=a;c.removeChild(b);return a}catch(d){this.$.innerHTML="";b=new CKEDITOR.dom.element("body",this.getDocument());b.$.innerHTML=a;for(b=b.getChildren();b.count();)this.append(b.getItem(0));return a}}:function(a){return this.$.innerHTML=a},setText:function(){var a=document.createElement("p");a.innerHTML="x";a=a.textContent;return function(b){this.$[a?"textContent":"innerText"]=b}}(),getAttribute:function(){var a=function(a){return this.$.getAttribute(a,2)};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(a){switch(a){case"class":a="className";break;case"http-equiv":a="httpEquiv";break;case"name":return this.$.name;case"tabindex":return a=this.$.getAttribute(a,2),
0!==a&&0===this.$.tabIndex&&(a=null),a;case"checked":return a=this.$.attributes.getNamedItem(a),(a.specified?a.nodeValue:this.$.checked)?"checked":null;case"hspace":case"value":return this.$[a];case"style":return this.$.style.cssText;case"contenteditable":case"contentEditable":return this.$.attributes.getNamedItem("contentEditable").specified?this.$.getAttribute("contentEditable"):null}return this.$.getAttribute(a,2)}:a}(),getAttributes:function(a){var b={},c=this.$.attributes,d;a=CKEDITOR.tools.isArray(a)?a:[];for(d=0;d<c.length;d++)-1===CKEDITOR.tools.indexOf(a,c[d].name)&&(b[c[d].name]=c[d].value);return b},getChildren:function(){return new CKEDITOR.dom.nodeList(this.$.childNodes)},getComputedStyle:document.defaultView&&document.defaultView.getComputedStyle?function(a){var b=this.getWindow().$.getComputedStyle(this.$,null);return b?b.getPropertyValue(a):""}:function(a){return this.$.currentStyle[CKEDITOR.tools.cssStyleToDomStyle(a)]},getDtd:function(){var a=CKEDITOR.dtd[this.getName()];this.getDtd=function(){return a};return a},getElementsByTag:CKEDITOR.dom.document.prototype.getElementsByTag,getTabIndex:function(){var a=this.$.tabIndex;return 0!==a||CKEDITOR.dtd.$tabIndex[this.getName()]||0===parseInt(this.getAttribute("tabindex"),10)?a:-1},getText:function(){return this.$.textContent||this.$.innerText||""},getWindow:function(){return this.getDocument().getWindow()},getId:function(){return this.$.id||null},getNameAtt:function(){return this.$.name||null},getName:function(){var a=this.$.nodeName.toLowerCase();if(CKEDITOR.env.ie&&8>=document.documentMode){var b=this.$.scopeName;"HTML"!=b&&(a=b.toLowerCase()+":"+a)}this.getName=function(){return a};return this.getName()},getValue:function(){return this.$.value},getFirst:function(a){var b=this.$.firstChild;(b=b&&new CKEDITOR.dom.node(b))&&a&&!a(b)&&(b=b.getNext(a));return b},getLast:function(a){var b=this.$.lastChild;(b=b&&new CKEDITOR.dom.node(b))&&a&&!a(b)&&(b=b.getPrevious(a));return b},getStyle:function(a){return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(a)]},is:function(){var a=this.getName();if("object"==typeof arguments[0])return!!arguments[0][a];for(var b=0;b<arguments.length;b++)if(arguments[b]==a)return!0;return!1},isEditable:function(a){var b=this.getName();return this.isReadOnly()||"none"==this.getComputedStyle("display")||"hidden"==this.getComputedStyle("visibility")||CKEDITOR.dtd.$nonEditable[b]||CKEDITOR.dtd.$empty[b]||this.is("a")&&(this.data("cke-saved-name")||this.hasAttribute("name"))&&!this.getChildCount()?!1:!1!==a?(a=CKEDITOR.dtd[b]||CKEDITOR.dtd.span,!(!a||!a["#"])):!0},isIdentical:function(a){var b=this.clone(0,1);a=a.clone(0,1);b.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]);a.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]);if(b.$.isEqualNode)return b.$.style.cssText=CKEDITOR.tools.normalizeCssText(b.$.style.cssText),a.$.style.cssText=CKEDITOR.tools.normalizeCssText(a.$.style.cssText),b.$.isEqualNode(a.$);b=b.getOuterHtml();a=a.getOuterHtml();if(CKEDITOR.env.ie&&9>CKEDITOR.env.version&&this.is("a")){var c=this.getParent();c.type==CKEDITOR.NODE_ELEMENT&&(c=c.clone(),c.setHtml(b),b=c.getHtml(),c.setHtml(a),a=c.getHtml())}return b==a},isVisible:function(){var a=(this.$.offsetHeight||this.$.offsetWidth)&&"hidden"!=this.getComputedStyle("visibility"),b,c;a&&CKEDITOR.env.webkit&&(b=this.getWindow(),!b.equals(CKEDITOR.document.getWindow())&&(c=b.$.frameElement)&&(a=new CKEDITOR.dom.element(c).isVisible()));return!!a},isEmptyInlineRemoveable:function(){if(!CKEDITOR.dtd.$removeEmpty[this.getName()])return!1;for(var a=this.getChildren(),b=0,c=a.count();b<c;b++){var d=a.getItem(b);if(d.type!=CKEDITOR.NODE_ELEMENT||!d.data("cke-bookmark"))if(d.type==CKEDITOR.NODE_ELEMENT&&!d.isEmptyInlineRemoveable()||d.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(d.getText()))return!1}return!0},hasAttributes:CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(){for(var a=this.$.attributes,b=0;b<a.length;b++){var c=a[b];switch(c.nodeName){case"class":if(this.getAttribute("class"))return!0;case"data-cke-expando":continue;default:if(c.specified)return!0}}return!1}:function(){var a=this.$.attributes,b=a.length,c={"data-cke-expando":1,_moz_dirty:1};return 0<b&&(2<b||!c[a[0].nodeName]||2==b&&!c[a[1].nodeName])},hasAttribute:function(){function a(a){var b=this.$.attributes.getNamedItem(a);if("input"==this.getName())switch(a){case"class":return 0<this.$.className.length;case"checked":return!!this.$.checked;case"value":return a=this.getAttribute("type"),"checkbox"==a||"radio"==a?"on"!=this.$.value:!!this.$.value}return b?b.specified:!1}return CKEDITOR.env.ie?8>CKEDITOR.env.version?function(b){return"name"==b?!!this.$.name:a.call(this,b)}:a:function(a){return!!this.$.attributes.getNamedItem(a)}}(),hide:function(){this.setStyle("display","none")},moveChildren:function(a,b){var c=this.$;a=a.$;if(c!=a){var d;if(b)for(;d=c.lastChild;)a.insertBefore(c.removeChild(d),a.firstChild);else for(;d=c.firstChild;)a.appendChild(c.removeChild(d))}},mergeSiblings:function(){function a(a,b,c){if(b&&b.type==CKEDITOR.NODE_ELEMENT){for(var d=[];b.data("cke-bookmark")||b.isEmptyInlineRemoveable();)if(d.push(b),b=c?b.getNext():b.getPrevious(),!b||b.type!=CKEDITOR.NODE_ELEMENT)return;if(a.isIdentical(b)){for(var e=c?a.getLast():a.getFirst();d.length;)d.shift().move(a,!c);b.moveChildren(a,!c);b.remove();e&&e.type==CKEDITOR.NODE_ELEMENT&&e.mergeSiblings()}}}return function(b){if(!1===b||CKEDITOR.dtd.$removeEmpty[this.getName()]||this.is("a"))a(this,this.getNext(),!0),a(this,this.getPrevious())}}(),show:function(){this.setStyles({display:"",visibility:""})},setAttribute:function(){var a=function(a,b){this.$.setAttribute(a,b);return this};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(b,c){"class"==b?this.$.className=c:"style"==b?this.$.style.cssText=c:"tabindex"==b?this.$.tabIndex=c:"checked"==b?this.$.checked=c:"contenteditable"==b?a.call(this,"contentEditable",c):a.apply(this,arguments);return this}:CKEDITOR.env.ie8Compat&&CKEDITOR.env.secure?function(b,c){if("src"==b&&c.match(/^http:\/\//))try{a.apply(this,arguments)}catch(d){}else a.apply(this,arguments);return this}:a}(),setAttributes:function(a){for(var b in a)this.setAttribute(b,a[b]);return this},setValue:function(a){this.$.value=a;return this},removeAttribute:function(){var a=function(a){this.$.removeAttribute(a)};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(a){"class"==a?a="className":"tabindex"==a?a="tabIndex":"contenteditable"==a&&(a="contentEditable");this.$.removeAttribute(a)}:a}(),removeAttributes:function(a){if(CKEDITOR.tools.isArray(a))for(var b=0;b<a.length;b++)this.removeAttribute(a[b]);else for(b in a=a||this.getAttributes(),a)a.hasOwnProperty(b)&&this.removeAttribute(b)},removeStyle:function(a){var b=this.$.style;if(b.removeProperty||"border"!=a&&"margin"!=a&&"padding"!=a)b.removeProperty?b.removeProperty(a):b.removeAttribute(CKEDITOR.tools.cssStyleToDomStyle(a)),this.$.style.cssText||this.removeAttribute("style");else{var c=["top","left","right","bottom"],d;"border"==a&&(d=["color","style","width"]);for(var b=[],e=0;e<c.length;e++)if(d)for(var f=0;f<d.length;f++)b.push([a,c[e],d[f]].join("-"));else b.push([a,c[e]].join("-"));for(a=0;a<b.length;a++)this.removeStyle(b[a])}},setStyle:function(a,b){this.$.style[CKEDITOR.tools.cssStyleToDomStyle(a)]=b;return this},setStyles:function(a){for(var b in a)this.setStyle(b,a[b]);return this},setOpacity:function(a){CKEDITOR.env.ie&&9>CKEDITOR.env.version?(a=Math.round(100*a),this.setStyle("filter",100<=a?"":"progid:DXImageTransform.Microsoft.Alpha(opacity="+a+")")):this.setStyle("opacity",a)},unselectable:function(){this.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select","none"));if(CKEDITOR.env.ie){this.setAttribute("unselectable","on");for(var a,b=this.getElementsByTag("*"),c=0,d=b.count();c<d;c++)a=b.getItem(c),a.setAttribute("unselectable","on")}},getPositionedAncestor:function(){for(var a=this;"html"!=a.getName();){if("static"!=a.getComputedStyle("position"))return a;a=a.getParent()}return null},getDocumentPosition:function(a){var b=0,c=0,d=this.getDocument(),e=d.getBody(),f="BackCompat"==d.$.compatMode;if(document.documentElement.getBoundingClientRect){var g=this.$.getBoundingClientRect(),h=d.$.documentElement,i=h.clientTop||e.$.clientTop||0,j=h.clientLeft||e.$.clientLeft||0,k=!0;CKEDITOR.env.ie&&(k=d.getDocumentElement().contains(this),d=d.getBody().contains(this),k=f&&d||!f&&k);k&&(CKEDITOR.env.webkit||CKEDITOR.env.ie&&12<=CKEDITOR.env.version?(b=e.$.scrollLeft||h.scrollLeft,c=e.$.scrollTop||h.scrollTop):(c=f?e.$:h,b=c.scrollLeft,c=c.scrollTop),b=g.left+b-j,c=g.top+c-i)}else for(i=this,j=null;i&&"body"!=i.getName()&&"html"!=i.getName();){b+=i.$.offsetLeft-i.$.scrollLeft;c+=i.$.offsetTop-i.$.scrollTop;i.equals(this)||(b+=i.$.clientLeft||0,c+=i.$.clientTop||0);for(;j&&!j.equals(i);)b-=j.$.scrollLeft,c-=j.$.scrollTop,j=j.getParent();j=i;i=(g=i.$.offsetParent)?new CKEDITOR.dom.element(g):null}a&&(g=this.getWindow(),i=a.getWindow(),!g.equals(i)&&g.$.frameElement&&(a=new CKEDITOR.dom.element(g.$.frameElement).getDocumentPosition(a),b+=a.x,c+=a.y));document.documentElement.getBoundingClientRect||!CKEDITOR.env.gecko||f||(b+=this.$.clientLeft?1:0,c+=this.$.clientTop?1:0);return{x:b,y:c}},scrollIntoView:function(a){var b=this.getParent();if(b){do if((b.$.clientWidth&&b.$.clientWidth<b.$.scrollWidth||b.$.clientHeight&&b.$.clientHeight<b.$.scrollHeight)&&!b.is("body")&&this.scrollIntoParent(b,a,1),b.is("html")){var c=b.getWindow();try{var d=c.$.frameElement;d&&(b=new CKEDITOR.dom.element(d))}catch(e){}}while(b=b.getParent())}},scrollIntoParent:function(a,b,c){var d,e,f,g;function h(b,c){/body|html/.test(a.getName())?a.getWindow().$.scrollBy(b,c):(a.$.scrollLeft+=b,a.$.scrollTop+=c)}function i(a,b){var c={x:0,y:0};if(!a.is(k?"body":"html")){var d=a.$.getBoundingClientRect();c.x=d.left;c.y=d.top}d=a.getWindow();d.equals(b)||(d=i(CKEDITOR.dom.element.get(d.$.frameElement),b),c.x+=d.x,c.y+=d.y);return c}function j(a,b){return parseInt(a.getComputedStyle("margin-"+b)||0,10)||0}!a&&(a=this.getWindow());f=a.getDocument();var k="BackCompat"==f.$.compatMode;a instanceof CKEDITOR.dom.window&&(a=k?f.getBody():f.getDocumentElement());f=a.getWindow();e=i(this,f);var l=i(a,f),m=this.$.offsetHeight;d=this.$.offsetWidth;var n=a.$.clientHeight,o=a.$.clientWidth;f=e.x-j(this,"left")-l.x||0;g=e.y-j(this,"top")-l.y||0;d=e.x+d+j(this,"right")-(l.x+o)||0;e=e.y+m+j(this,"bottom")-(l.y+n)||0;(0>g||0<e)&&h(0,!0===b?g:!1===b?e:0>g?g:e);c&&(0>f||0<d)&&h(0>f?f:d,0)},setState:function(a,b,c){b=b||"cke";switch(a){case CKEDITOR.TRISTATE_ON:this.addClass(b+"_on");this.removeClass(b+"_off");this.removeClass(b+"_disabled");c&&this.setAttribute("aria-pressed",!0);c&&this.removeAttribute("aria-disabled");break;case CKEDITOR.TRISTATE_DISABLED:this.addClass(b+"_disabled");this.removeClass(b+"_off");this.removeClass(b+"_on");c&&this.setAttribute("aria-disabled",!0);c&&this.removeAttribute("aria-pressed");break;default:this.addClass(b+"_off"),this.removeClass(b+"_on"),this.removeClass(b+"_disabled"),c&&this.removeAttribute("aria-pressed"),c&&this.removeAttribute("aria-disabled")}},getFrameDocument:function(){var a=this.$;try{a.contentWindow.document}catch(b){a.src=a.src}return a&&new CKEDITOR.dom.document(a.contentWindow.document)},copyAttributes:function(a,b){var c=this.$.attributes;b=b||{};for(var d=0;d<c.length;d++){var e=c[d],f=e.nodeName.toLowerCase(),g;if(!(f in b))if("checked"==f&&(g=this.getAttribute(f)))a.setAttribute(f,g);else if(!CKEDITOR.env.ie||this.hasAttribute(f))g=this.getAttribute(f),null===g&&(g=e.nodeValue),a.setAttribute(f,g)}""!==this.$.style.cssText&&(a.$.style.cssText=this.$.style.cssText)},renameNode:function(a){if(this.getName()!=a){var b=this.getDocument();a=new CKEDITOR.dom.element(a,b);this.copyAttributes(a);this.moveChildren(a);this.getParent(!0)&&this.$.parentNode.replaceChild(a.$,this.$);a.$["data-cke-expando"]=this.$["data-cke-expando"];this.$=a.$;delete this.getName}},getChild:function(){function a(a,b){var c=a.childNodes;if(0<=b&&b<c.length)return c[b]}return function(b){var c=this.$;if(b.slice)for(b=b.slice();0<b.length&&c;)c=a(c,b.shift());else c=a(c,b);return c?new CKEDITOR.dom.node(c):null}}(),getChildCount:function(){return this.$.childNodes.length},disableContextMenu:function(){function a(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasClass("cke_enable_context_menu")}this.on("contextmenu",function(b){b.data.getTarget().getAscendant(a,!0)||b.data.preventDefault()})},getDirection:function(a){return a?this.getComputedStyle("direction")||this.getDirection()||this.getParent()&&this.getParent().getDirection(1)||this.getDocument().$.dir||"ltr":this.getStyle("direction")||this.getAttribute("dir")},data:function(a,b){a="data-"+a;if(void 0===b)return this.getAttribute(a);!1===b?this.removeAttribute(a):this.setAttribute(a,b);return null},getEditor:function(){var a=CKEDITOR.instances,b,c;for(b in a)if(c=a[b],c.element.equals(this)&&c.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO)return c;return null},find:function(a){var d=b(this);a=new CKEDITOR.dom.nodeList(this.$.querySelectorAll(c(this,a)));d();return a},findOne:function(a){var d=b(this);a=this.$.querySelector(c(this,a));d();return a?new CKEDITOR.dom.element(a):null},forEach:function(a,b,c){if(!(c||b&&this.type!=b))var d=a(this);if(!1!==d){c=this.getChildren();for(var e=0;e<c.count();e++)d=c.getItem(e),d.type==CKEDITOR.NODE_ELEMENT?d.forEach(a,b):b&&d.type!=b||a(d)}}});var g={width:["border-left-width","border-right-width","padding-left","padding-right"],height:["border-top-width","border-bottom-width","padding-top","padding-bottom"]};CKEDITOR.dom.element.prototype.setSize=function(a,b,c){"number"==typeof b&&(!c||CKEDITOR.env.ie&&CKEDITOR.env.quirks||(b-=d.call(this,a)),this.setStyle(a,b+"px"))};CKEDITOR.dom.element.prototype.getSize=function(a,b){var c=Math.max(this.$["offset"+CKEDITOR.tools.capitalize(a)],this.$["client"+CKEDITOR.tools.capitalize(a)])||0;b&&(c-=d.call(this,a));return c}})();CKEDITOR.dom.documentFragment=function(a){a=a||CKEDITOR.document;this.$=a.type==CKEDITOR.NODE_DOCUMENT?a.$.createDocumentFragment():a};CKEDITOR.tools.extend(CKEDITOR.dom.documentFragment.prototype,CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,insertAfterNode:function(a){a=a.$;a.parentNode.insertBefore(this.$,a.nextSibling)},getHtml:function(){var a=new CKEDITOR.dom.element("div");this.clone(1,1).appendTo(a);return a.getHtml().replace(/\s*data-cke-expando=".*?"/g,"")}},!0,{append:1,appendBogus:1,clone:1,getFirst:1,getHtml:1,getLast:1,getParent:1,getNext:1,getPrevious:1,appendTo:1,moveChildren:1,insertBefore:1,insertAfterNode:1,replace:1,trim:1,type:1,ltrim:1,rtrim:1,getDocument:1,getChildCount:1,getChild:1,getChildren:1});(function(){function a(a,b){var c=this.range;if(this._.end)return null;if(!this._.start){this._.start=1;if(c.collapsed)return this.end(),null;c.optimize()}var d,e=c.startContainer;d=c.endContainer;var f=c.startOffset,g=c.endOffset,h,i=this.guard,j=this.type,k=a?"getPreviousSourceNode":"getNextSourceNode";if(!a&&!this._.guardLTR){var l=d.type==CKEDITOR.NODE_ELEMENT?d:d.getParent(),m=d.type==CKEDITOR.NODE_ELEMENT?d.getChild(g):d.getNext();this._.guardLTR=function(a,b){return(!b||!l.equals(a))&&(!m||!a.equals(m))&&(a.type!=CKEDITOR.NODE_ELEMENT||!b||!a.equals(c.root))}}if(a&&!this._.guardRTL){var n=e.type==CKEDITOR.NODE_ELEMENT?e:e.getParent(),o=e.type==CKEDITOR.NODE_ELEMENT?f?e.getChild(f-1):null:e.getPrevious();this._.guardRTL=function(a,b){return(!b||!n.equals(a))&&(!o||!a.equals(o))&&(a.type!=CKEDITOR.NODE_ELEMENT||!b||!a.equals(c.root))}}var p=a?this._.guardRTL:this._.guardLTR;h=i?function(a,b){return!1===p(a,b)?!1:i(a,b)}:p;this.current?d=this.current[k](!1,j,h):(a?d.type==CKEDITOR.NODE_ELEMENT&&(d=0<g?d.getChild(g-1):!1===h(d,!0)?null:d.getPreviousSourceNode(!0,j,h)):(d=e,d.type==CKEDITOR.NODE_ELEMENT&&((d=d.getChild(f))||(d=!1===h(e,!0)?null:e.getNextSourceNode(!0,j,h)))),d&&!1===h(d)&&(d=null));for(;d&&!this._.end;){this.current=d;if(!this.evaluator||!1!==this.evaluator(d)){if(!b)return d}else if(b&&this.evaluator)return!1;d=d[k](!1,j,h)}this.end();return this.current=null}function b(b){for(var c,d=null;c=a.call(this,b);)d=c;return d}CKEDITOR.dom.walker=CKEDITOR.tools.createClass({$:function(a){this.range=a;this._={}},proto:{end:function(){this._.end=1},next:function(){return a.call(this)},previous:function(){return a.call(this,1)},checkForward:function(){return!1!==a.call(this,0,1)},checkBackward:function(){return!1!==a.call(this,1,1)},lastForward:function(){return b.call(this)},lastBackward:function(){return b.call(this,1)},reset:function(){delete this.current;this._={}}}});var c={block:1,"list-item":1,table:1,"table-row-group":1,"table-header-group":1,"table-footer-group":1,"table-row":1,"table-column-group":1,"table-column":1,"table-cell":1,"table-caption":1},d={absolute:1,fixed:1};CKEDITOR.dom.element.prototype.isBlockBoundary=function(a){return"none"!=this.getComputedStyle("float")||this.getComputedStyle("position")in d||!c[this.getComputedStyle("display")]?!!(this.is(CKEDITOR.dtd.$block)||a&&this.is(a)):!0};CKEDITOR.dom.walker.blockBoundary=function(a){return function(b){return!(b.type==CKEDITOR.NODE_ELEMENT&&b.isBlockBoundary(a))}};CKEDITOR.dom.walker.listItemBoundary=function(){return this.blockBoundary({br:1})};CKEDITOR.dom.walker.bookmark=function(a,b){function c(a){return a&&a.getName&&"span"==a.getName()&&a.data("cke-bookmark")}return function(d){var e,f;e=d&&d.type!=CKEDITOR.NODE_ELEMENT&&(f=d.getParent())&&c(f);e=a?e:e||c(d);return!!(b^e)}};CKEDITOR.dom.walker.whitespaces=function(a){return function(b){var c;b&&b.type==CKEDITOR.NODE_TEXT&&(c=!CKEDITOR.tools.trim(b.getText())||CKEDITOR.env.webkit&&b.getText()==CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE);return!!(a^c)}};CKEDITOR.dom.walker.invisible=function(a){var b=CKEDITOR.dom.walker.whitespaces(),c=CKEDITOR.env.webkit?1:0;return function(d){b(d)?d=1:(d.type==CKEDITOR.NODE_TEXT&&(d=d.getParent()),d=d.$.offsetWidth<=c);return!!(a^d)}};CKEDITOR.dom.walker.nodeType=function(a,b){return function(c){return!!(b^c.type==a)}};CKEDITOR.dom.walker.bogus=function(a){function b(a){return!f(a)&&!g(a)}return function(c){var d=CKEDITOR.env.needsBrFiller?c.is&&c.is("br"):c.getText&&e.test(c.getText());d&&(d=c.getParent(),c=c.getNext(b),d=d.isBlockBoundary()&&(!c||c.type==CKEDITOR.NODE_ELEMENT&&c.isBlockBoundary()));return!!(a^d)}};CKEDITOR.dom.walker.temp=function(a){return function(b){b.type!=CKEDITOR.NODE_ELEMENT&&(b=b.getParent());b=b&&b.hasAttribute("data-cke-temp");return!!(a^b)}};var e=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,f=CKEDITOR.dom.walker.whitespaces(),g=CKEDITOR.dom.walker.bookmark(),h=CKEDITOR.dom.walker.temp(),i=function(a){return g(a)||f(a)||a.type==CKEDITOR.NODE_ELEMENT&&a.is(CKEDITOR.dtd.$inline)&&!a.is(CKEDITOR.dtd.$empty)};CKEDITOR.dom.walker.ignored=function(a){return function(b){b=f(b)||g(b)||h(b);return!!(a^b)}};var j=CKEDITOR.dom.walker.ignored();CKEDITOR.dom.walker.empty=function(a){return function(b){for(var c=0,d=b.getChildCount();c<d;++c)if(!j(b.getChild(c)))return!!a;return!a}};var k=CKEDITOR.dom.walker.empty(),l=CKEDITOR.dom.walker.validEmptyBlockContainers=CKEDITOR.tools.extend(function(a){var b={},c;for(c in a)CKEDITOR.dtd[c]["#"]&&(b[c]=1);return b}(CKEDITOR.dtd.$block),{caption:1,td:1,th:1});CKEDITOR.dom.walker.editable=function(a){return function(b){b=j(b)?!1:b.type==CKEDITOR.NODE_TEXT||b.type==CKEDITOR.NODE_ELEMENT&&(b.is(CKEDITOR.dtd.$inline)||b.is("hr")||"false"==b.getAttribute("contenteditable")||!CKEDITOR.env.needsBrFiller&&b.is(l)&&k(b))?!0:!1;return!!(a^b)}};CKEDITOR.dom.element.prototype.getBogus=function(){var a=this;do a=a.getPreviousSourceNode();while(i(a));return a&&(CKEDITOR.env.needsBrFiller?a.is&&a.is("br"):a.getText&&e.test(a.getText()))?a:!1}})();CKEDITOR.dom.range=function(a){this.endOffset=this.endContainer=this.startOffset=this.startContainer=null;this.collapsed=!0;var b=a instanceof CKEDITOR.dom.document;this.document=b?a:a.getDocument();this.root=b?a.getBody():a};(function(){function a(a){a.collapsed=a.startContainer&&a.endContainer&&a.startContainer.equals(a.endContainer)&&a.startOffset==a.endOffset}function b(a,b,c,d,e){function f(a,b,c,d){var f=c?a.getPrevious():a.getNext();if(d&&i)return f;k||d?b.append(a.clone(!0,e),c):(a.remove(),j&&b.append(a));return f}function g(){var a,b,c,d=Math.min(v.length,w.length);for(a=0;a<d;a++)if(b=v[a],c=w[a],!b.equals(c))return a;return a-1}function h(){var b=x-1,c=r&&s&&!l.equals(m);b<y-1||b<z-1||c?(c?a.moveToPosition(m,CKEDITOR.POSITION_BEFORE_START):z==b+1&&q?a.moveToPosition(w[b],CKEDITOR.POSITION_BEFORE_END):a.moveToPosition(w[b+1],CKEDITOR.POSITION_BEFORE_START),d&&(b=v[b+1])&&b.type==CKEDITOR.NODE_ELEMENT&&(c=CKEDITOR.dom.element.createFromHtml('<span data-cke-bookmark="1" style="display:none">&nbsp;</span>',a.document),c.insertAfter(b),b.mergeSiblings(!1),a.moveToBookmark({startNode:c}))):a.collapse(!0)}a.optimizeBookmark();var i=0===b,j=1==b,k=2==b;b=k||j;var l=a.startContainer,m=a.endContainer,n=a.startOffset,o=a.endOffset,p,q,r,s,t,u;if(k&&m.type==CKEDITOR.NODE_TEXT&&l.equals(m))l=a.document.createText(l.substring(n,o)),c.append(l);else{m.type==CKEDITOR.NODE_TEXT?k?u=!0:m=m.split(o):0<m.getChildCount()?o>=m.getChildCount()?(m=m.getChild(o-1),q=!0):m=m.getChild(o):s=q=!0;l.type==CKEDITOR.NODE_TEXT?k?t=!0:l.split(n):0<l.getChildCount()?0===n?(l=l.getChild(n),p=!0):l=l.getChild(n-1):r=p=!0;for(var v=l.getParents(),w=m.getParents(),x=g(),y=v.length-1,z=w.length-1,A=c,B,C,D,E=-1,F=x;F<=y;F++){C=v[F];D=C.getNext();for(F!=y||C.equals(w[F])&&y<z?b&&(B=A.append(C.clone(0,e))):p?f(C,A,!1,r):t&&A.append(a.document.createText(C.substring(n)));D;){if(D.equals(w[F])){E=F;break}D=f(D,A)}A=B}A=c;for(F=x;F<=z;F++)if(c=w[F],D=c.getPrevious(),c.equals(v[F]))b&&(A=A.getChild(0));else{F!=z||c.equals(v[F])&&z<y?b&&(B=A.append(c.clone(0,e))):q?f(c,A,!1,s):u&&A.append(a.document.createText(c.substring(0,o)));if(F>E)for(;D;)D=f(D,A,!0);A=B}k||h()}}function c(){var a=!1,b=CKEDITOR.dom.walker.whitespaces(),c=CKEDITOR.dom.walker.bookmark(!0),d=CKEDITOR.dom.walker.bogus();return function(e){return c(e)||b(e)?!0:d(e)&&!a?a=!0:e.type==CKEDITOR.NODE_TEXT&&(e.hasAscendant("pre")||CKEDITOR.tools.trim(e.getText()).length)||e.type==CKEDITOR.NODE_ELEMENT&&!e.is(f)?!1:!0}}function d(a){var b=CKEDITOR.dom.walker.whitespaces(),c=CKEDITOR.dom.walker.bookmark(1);return function(d){return c(d)||b(d)?!0:!a&&g(d)||d.type==CKEDITOR.NODE_ELEMENT&&d.is(CKEDITOR.dtd.$removeEmpty)}}function e(a){return function(){var b;return this[a?"getPreviousNode":"getNextNode"](function(a){!b&&j(a)&&(b=a);return i(a)&&!(g(a)&&a.equals(b))})}}var f={abbr:1,acronym:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,"var":1},g=CKEDITOR.dom.walker.bogus(),h=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,i=CKEDITOR.dom.walker.editable(),j=CKEDITOR.dom.walker.ignored(!0);CKEDITOR.dom.range.prototype={clone:function(){var a=new CKEDITOR.dom.range(this.root);a._setStartContainer(this.startContainer);a.startOffset=this.startOffset;a._setEndContainer(this.endContainer);a.endOffset=this.endOffset;a.collapsed=this.collapsed;return a},collapse:function(a){a?(this._setEndContainer(this.startContainer),this.endOffset=this.startOffset):(this._setStartContainer(this.endContainer),this.startOffset=this.endOffset);this.collapsed=!0},cloneContents:function(a){var c=new CKEDITOR.dom.documentFragment(this.document);this.collapsed||b(this,2,c,!1,"undefined"==typeof a?!0:a);return c},deleteContents:function(a){this.collapsed||b(this,0,null,a)},extractContents:function(a,c){var d=new CKEDITOR.dom.documentFragment(this.document);this.collapsed||b(this,1,d,a,"undefined"==typeof c?!0:c);return d},createBookmark:function(a){var b,c,d,e,f=this.collapsed;b=this.document.createElement("span");b.data("cke-bookmark",1);b.setStyle("display","none");b.setHtml("&nbsp;");a&&(d="cke_bm_"+CKEDITOR.tools.getNextNumber(),b.setAttribute("id",d+(f?"C":"S")));f||(c=b.clone(),c.setHtml("&nbsp;"),a&&c.setAttribute("id",d+"E"),e=this.clone(),e.collapse(),e.insertNode(c));e=this.clone();e.collapse(!0);e.insertNode(b);c?(this.setStartAfter(b),this.setEndBefore(c)):this.moveToPosition(b,CKEDITOR.POSITION_AFTER_END);return{startNode:a?d+(f?"C":"S"):b,endNode:a?d+"E":c,serializable:a,collapsed:f}},createBookmark2:function(){function a(a){var b=a.container,d=a.offset,e;e=b;var f=d;e=e.type!=CKEDITOR.NODE_ELEMENT||0===f||f==e.getChildCount()?0:e.getChild(f-1).type==CKEDITOR.NODE_TEXT&&e.getChild(f).type==CKEDITOR.NODE_TEXT;e&&(b=b.getChild(d-1),d=b.getLength());if(b.type==CKEDITOR.NODE_ELEMENT&&0<d){a:{for(e=b;d--;)if(f=e.getChild(d).getIndex(!0),0<=f){d=f;break a}d=-1}d+=1}if(b.type==CKEDITOR.NODE_TEXT){e=b;for(f=0;(e=e.getPrevious())&&e.type==CKEDITOR.NODE_TEXT;)f+=e.getText().replace(CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE,"").length;e=f;b.getText()?d+=e:(f=b.getPrevious(c),e?(d=e,b=f?f.getNext():b.getParent().getFirst()):(b=b.getParent(),d=f?f.getIndex(!0)+1:0))}a.container=b;a.offset=d}function b(a,b){var c=b.getCustomData("cke-fillingChar");if(c){var d=a.container;c.equals(d)&&(a.offset-=CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE.length,0>=a.offset&&(a.offset=d.getIndex(),a.container=d.getParent()))}}var c=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_TEXT,!0);return function(c){var d=this.collapsed,e={container:this.startContainer,offset:this.startOffset},f={container:this.endContainer,offset:this.endOffset};c&&(a(e),b(e,this.root),d||(a(f),b(f,this.root)));return{start:e.container.getAddress(c),end:d?null:f.container.getAddress(c),startOffset:e.offset,endOffset:f.offset,normalized:c,collapsed:d,is2:!0}}}(),moveToBookmark:function(a){if(a.is2){var b=this.document.getByAddress(a.start,a.normalized),c=a.startOffset,d=a.end&&this.document.getByAddress(a.end,a.normalized);a=a.endOffset;this.setStart(b,c);d?this.setEnd(d,a):this.collapse(!0)}else b=(c=a.serializable)?this.document.getById(a.startNode):a.startNode,a=c?this.document.getById(a.endNode):a.endNode,this.setStartBefore(b),b.remove(),a?(this.setEndBefore(a),a.remove()):this.collapse(!0)},getBoundaryNodes:function(){var a=this.startContainer,b=this.endContainer,c=this.startOffset,d=this.endOffset,e;if(a.type==CKEDITOR.NODE_ELEMENT)if(e=a.getChildCount(),e>c)a=a.getChild(c);else if(1>e)a=a.getPreviousSourceNode();else{for(a=a.$;a.lastChild;)a=a.lastChild;a=new CKEDITOR.dom.node(a);a=a.getNextSourceNode()||a}if(b.type==CKEDITOR.NODE_ELEMENT)if(e=b.getChildCount(),e>d)b=b.getChild(d).getPreviousSourceNode(!0);else if(1>e)b=b.getPreviousSourceNode();else{for(b=b.$;b.lastChild;)b=b.lastChild;b=new CKEDITOR.dom.node(b)}a.getPosition(b)&CKEDITOR.POSITION_FOLLOWING&&(a=b);return{startNode:a,endNode:b}},getCommonAncestor:function(a,b){var c=this.startContainer,d=this.endContainer,c=c.equals(d)?a&&c.type==CKEDITOR.NODE_ELEMENT&&this.startOffset==this.endOffset-1?c.getChild(this.startOffset):c:c.getCommonAncestor(d);return b&&!c.is?c.getParent():c},optimize:function(){var a=this.startContainer,b=this.startOffset;a.type!=CKEDITOR.NODE_ELEMENT&&(b?b>=a.getLength()&&this.setStartAfter(a):this.setStartBefore(a));a=this.endContainer;b=this.endOffset;a.type!=CKEDITOR.NODE_ELEMENT&&(b?b>=a.getLength()&&this.setEndAfter(a):this.setEndBefore(a))},optimizeBookmark:function(){var a=this.startContainer,b=this.endContainer;a.is&&a.is("span")&&a.data("cke-bookmark")&&this.setStartAt(a,CKEDITOR.POSITION_BEFORE_START);b&&b.is&&b.is("span")&&b.data("cke-bookmark")&&this.setEndAt(b,CKEDITOR.POSITION_AFTER_END)},trim:function(a,b){var c=this.startContainer,d=this.startOffset,e=this.collapsed;if((!a||e)&&c&&c.type==CKEDITOR.NODE_TEXT){if(d)if(d>=c.getLength())d=c.getIndex()+1,c=c.getParent();else{var f=c.split(d),d=c.getIndex()+1,c=c.getParent();this.startContainer.equals(this.endContainer)?this.setEnd(f,this.endOffset-this.startOffset):c.equals(this.endContainer)&&(this.endOffset+=1)}else d=c.getIndex(),c=c.getParent();this.setStart(c,d);if(e){this.collapse(!0);return}}c=this.endContainer;d=this.endOffset;b||e||!c||c.type!=CKEDITOR.NODE_TEXT||(d?(d>=c.getLength()||c.split(d),d=c.getIndex()+1):d=c.getIndex(),c=c.getParent(),this.setEnd(c,d))},enlarge:function(a,b){function c(a){return a&&a.type==CKEDITOR.NODE_ELEMENT&&a.hasAttribute("contenteditable")?null:a}var d=new RegExp(/[^\s\ufeff]/);switch(a){case CKEDITOR.ENLARGE_INLINE:var e=1;case CKEDITOR.ENLARGE_ELEMENT:var f=function(a,b){var c=new CKEDITOR.dom.range(h);c.setStart(a,b);c.setEndAt(h,CKEDITOR.POSITION_BEFORE_END);var c=new CKEDITOR.dom.walker(c),e;for(c.guard=function(a){return!(a.type==CKEDITOR.NODE_ELEMENT&&a.isBlockBoundary())};e=c.next();){if(e.type!=CKEDITOR.NODE_TEXT)return!1;p=e!=a?e.getText():e.substring(b);if(d.test(p))return!1}return!0};if(this.collapsed)break;var g=this.getCommonAncestor(),h=this.root,i,j,k,l,m,n=!1,o,p;o=this.startContainer;var q=this.startOffset;o.type==CKEDITOR.NODE_TEXT?(q&&(o=!CKEDITOR.tools.trim(o.substring(0,q)).length&&o,n=!!o),o&&((l=o.getPrevious())||(k=o.getParent()))):(q&&(l=o.getChild(q-1)||o.getLast()),l||(k=o));for(k=c(k);k||l;){if(k&&!l){!m&&k.equals(g)&&(m=!0);if(e?k.isBlockBoundary():!h.contains(k))break;n&&"inline"==k.getComputedStyle("display")||(n=!1,m?i=k:this.setStartBefore(k));l=k.getPrevious()}for(;l;)if(o=!1,l.type==CKEDITOR.NODE_COMMENT)l=l.getPrevious();else{if(l.type==CKEDITOR.NODE_TEXT)p=l.getText(),d.test(p)&&(l=null),o=/[\s\ufeff]$/.test(p);else if((l.$.offsetWidth>(CKEDITOR.env.webkit?1:0)||b&&l.is("br"))&&!l.data("cke-bookmark"))if(n&&CKEDITOR.dtd.$removeEmpty[l.getName()]){p=l.getText();if(d.test(p))l=null;else for(var q=l.$.getElementsByTagName("*"),r=0,s;s=q[r++];)if(!CKEDITOR.dtd.$removeEmpty[s.nodeName.toLowerCase()]){l=null;break}l&&(o=!!p.length)}else l=null;o&&(n?m?i=k:k&&this.setStartBefore(k):n=!0);if(l){o=l.getPrevious();if(!k&&!o){k=l;l=null;break}l=o}else k=null}k&&(k=c(k.getParent()))}o=this.endContainer;q=this.endOffset;k=l=null;m=n=!1;o.type==CKEDITOR.NODE_TEXT?CKEDITOR.tools.trim(o.substring(q)).length?n=!0:(n=!o.getLength(),q==o.getLength()?(l=o.getNext())||(k=o.getParent()):f(o,q)&&(k=o.getParent())):(l=o.getChild(q))||(k=o);for(;k||l;){if(k&&!l){!m&&k.equals(g)&&(m=!0);if(e?k.isBlockBoundary():!h.contains(k))break;n&&"inline"==k.getComputedStyle("display")||(n=!1,m?j=k:k&&this.setEndAfter(k));l=k.getNext()}for(;l;){o=!1;if(l.type==CKEDITOR.NODE_TEXT)p=l.getText(),f(l,0)||(l=null),o=/^[\s\ufeff]/.test(p);else if(l.type==CKEDITOR.NODE_ELEMENT){if((0<l.$.offsetWidth||b&&l.is("br"))&&!l.data("cke-bookmark"))if(n&&CKEDITOR.dtd.$removeEmpty[l.getName()]){p=l.getText();if(d.test(p))l=null;else for(q=l.$.getElementsByTagName("*"),r=0;s=q[r++];)if(!CKEDITOR.dtd.$removeEmpty[s.nodeName.toLowerCase()]){l=null;break}l&&(o=!!p.length)}else l=null}else o=1;o&&n&&(m?j=k:this.setEndAfter(k));if(l){o=l.getNext();if(!k&&!o){k=l;l=null;break}l=o}else k=null}k&&(k=c(k.getParent()))}i&&j&&(g=i.contains(j)?j:i,this.setStartBefore(g),this.setEndAfter(g));break;case CKEDITOR.ENLARGE_BLOCK_CONTENTS:case CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:k=new CKEDITOR.dom.range(this.root);h=this.root;k.setStartAt(h,CKEDITOR.POSITION_AFTER_START);k.setEnd(this.startContainer,this.startOffset);k=new CKEDITOR.dom.walker(k);var t,u,v=CKEDITOR.dom.walker.blockBoundary(a==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?{br:1}:null),w=null,x=function(a){if(a.type==CKEDITOR.NODE_ELEMENT&&"false"==a.getAttribute("contenteditable"))if(w){if(w.equals(a)){w=null;return}}else w=a;else if(w)return;var b=v(a);b||(t=a);return b},e=function(a){var b=x(a);!b&&a.is&&a.is("br")&&(u=a);return b};k.guard=x;k=k.lastBackward();t=t||h;this.setStartAt(t,!t.is("br")&&(!k&&this.checkStartOfBlock()||k&&t.contains(k))?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_AFTER_END);if(a==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS){k=this.clone();k=new CKEDITOR.dom.walker(k);var y=CKEDITOR.dom.walker.whitespaces(),z=CKEDITOR.dom.walker.bookmark();
k.evaluator=function(a){return!y(a)&&!z(a)};if((k=k.previous())&&k.type==CKEDITOR.NODE_ELEMENT&&k.is("br"))break}k=this.clone();k.collapse();k.setEndAt(h,CKEDITOR.POSITION_BEFORE_END);k=new CKEDITOR.dom.walker(k);k.guard=a==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?e:x;t=w=u=null;k=k.lastForward();t=t||h;this.setEndAt(t,!k&&this.checkEndOfBlock()||k&&t.contains(k)?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_BEFORE_START);u&&this.setEndAfter(u)}},shrink:function(a,b,c){if(!this.collapsed){a=a||CKEDITOR.SHRINK_TEXT;var d=this.clone(),e=this.startContainer,f=this.endContainer,g=this.startOffset,h=this.endOffset,i=1,j=1;e&&e.type==CKEDITOR.NODE_TEXT&&(g?g>=e.getLength()?d.setStartAfter(e):(d.setStartBefore(e),i=0):d.setStartBefore(e));f&&f.type==CKEDITOR.NODE_TEXT&&(h?h>=f.getLength()?d.setEndAfter(f):(d.setEndAfter(f),j=0):d.setEndBefore(f));var d=new CKEDITOR.dom.walker(d),k=CKEDITOR.dom.walker.bookmark();d.evaluator=function(b){return b.type==(a==CKEDITOR.SHRINK_ELEMENT?CKEDITOR.NODE_ELEMENT:CKEDITOR.NODE_TEXT)};var l;d.guard=function(b,d){if(k(b))return!0;if(a==CKEDITOR.SHRINK_ELEMENT&&b.type==CKEDITOR.NODE_TEXT||d&&b.equals(l)||!1===c&&b.type==CKEDITOR.NODE_ELEMENT&&b.isBlockBoundary()||b.type==CKEDITOR.NODE_ELEMENT&&b.hasAttribute("contenteditable"))return!1;d||b.type!=CKEDITOR.NODE_ELEMENT||(l=b);return!0};i&&(e=d[a==CKEDITOR.SHRINK_ELEMENT?"lastForward":"next"]())&&this.setStartAt(e,b?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_START);j&&(d.reset(),(d=d[a==CKEDITOR.SHRINK_ELEMENT?"lastBackward":"previous"]())&&this.setEndAt(d,b?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_END));return!(!i&&!j)}},insertNode:function(a){this.optimizeBookmark();this.trim(!1,!0);var b=this.startContainer,c=b.getChild(this.startOffset);c?a.insertBefore(c):b.append(a);a.getParent()&&a.getParent().equals(this.endContainer)&&this.endOffset++;this.setStartBefore(a)},moveToPosition:function(a,b){this.setStartAt(a,b);this.collapse(!0)},moveToRange:function(a){this.setStart(a.startContainer,a.startOffset);this.setEnd(a.endContainer,a.endOffset)},selectNodeContents:function(a){this.setStart(a,0);this.setEnd(a,a.type==CKEDITOR.NODE_TEXT?a.getLength():a.getChildCount())},setStart:function(b,c){b.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[b.getName()]&&(c=b.getIndex(),b=b.getParent());this._setStartContainer(b);this.startOffset=c;this.endContainer||(this._setEndContainer(b),this.endOffset=c);a(this)},setEnd:function(b,c){b.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[b.getName()]&&(c=b.getIndex()+1,b=b.getParent());this._setEndContainer(b);this.endOffset=c;this.startContainer||(this._setStartContainer(b),this.startOffset=c);a(this)},setStartAfter:function(a){this.setStart(a.getParent(),a.getIndex()+1)},setStartBefore:function(a){this.setStart(a.getParent(),a.getIndex())},setEndAfter:function(a){this.setEnd(a.getParent(),a.getIndex()+1)},setEndBefore:function(a){this.setEnd(a.getParent(),a.getIndex())},setStartAt:function(b,c){switch(c){case CKEDITOR.POSITION_AFTER_START:this.setStart(b,0);break;case CKEDITOR.POSITION_BEFORE_END:b.type==CKEDITOR.NODE_TEXT?this.setStart(b,b.getLength()):this.setStart(b,b.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setStartBefore(b);break;case CKEDITOR.POSITION_AFTER_END:this.setStartAfter(b)}a(this)},setEndAt:function(b,c){switch(c){case CKEDITOR.POSITION_AFTER_START:this.setEnd(b,0);break;case CKEDITOR.POSITION_BEFORE_END:b.type==CKEDITOR.NODE_TEXT?this.setEnd(b,b.getLength()):this.setEnd(b,b.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setEndBefore(b);break;case CKEDITOR.POSITION_AFTER_END:this.setEndAfter(b)}a(this)},fixBlock:function(a,b){var c=this.createBookmark(),d=this.document.createElement(b);this.collapse(a);this.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS);this.extractContents().appendTo(d);d.trim();this.insertNode(d);var e=d.getBogus();e&&e.remove();d.appendBogus();this.moveToBookmark(c);return d},splitBlock:function(a,b){var c=new CKEDITOR.dom.elementPath(this.startContainer,this.root),d=new CKEDITOR.dom.elementPath(this.endContainer,this.root),e=c.block,f=d.block,g=null;if(!c.blockLimit.equals(d.blockLimit))return null;"br"!=a&&(e||(e=this.fixBlock(!0,a),f=new CKEDITOR.dom.elementPath(this.endContainer,this.root).block),f||(f=this.fixBlock(!1,a)));c=e&&this.checkStartOfBlock();d=f&&this.checkEndOfBlock();this.deleteContents();e&&e.equals(f)&&(d?(g=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(f,CKEDITOR.POSITION_AFTER_END),f=null):c?(g=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(e,CKEDITOR.POSITION_BEFORE_START),e=null):(f=this.splitElement(e,b||!1),e.is("ul","ol")||e.appendBogus()));return{previousBlock:e,nextBlock:f,wasStartOfBlock:c,wasEndOfBlock:d,elementPath:g}},splitElement:function(a,b){if(!this.collapsed)return null;this.setEndAt(a,CKEDITOR.POSITION_BEFORE_END);var c=this.extractContents(!1,b||!1),d=a.clone(!1,b||!1);c.appendTo(d);d.insertAfter(a);this.moveToPosition(a,CKEDITOR.POSITION_AFTER_END);return d},removeEmptyBlocksAtEnd:function(){function a(a){return function(d){return b(d)||c(d)||d.type==CKEDITOR.NODE_ELEMENT&&d.isEmptyInlineRemoveable()||a.is("table")&&d.is("caption")?!1:!0}}var b=CKEDITOR.dom.walker.whitespaces(),c=CKEDITOR.dom.walker.bookmark(!1);return function(b){for(var c=this.createBookmark(),d=this[b?"endPath":"startPath"](),e=d.block||d.blockLimit,f;e&&!e.equals(d.root)&&!e.getFirst(a(e));)f=e.getParent(),this[b?"setEndAt":"setStartAt"](e,CKEDITOR.POSITION_AFTER_END),e.remove(1),e=f;this.moveToBookmark(c)}}(),startPath:function(){return new CKEDITOR.dom.elementPath(this.startContainer,this.root)},endPath:function(){return new CKEDITOR.dom.elementPath(this.endContainer,this.root)},checkBoundaryOfElement:function(a,b){var c=b==CKEDITOR.START,e=this.clone();e.collapse(c);e[c?"setStartAt":"setEndAt"](a,c?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END);e=new CKEDITOR.dom.walker(e);e.evaluator=d(c);return e[c?"checkBackward":"checkForward"]()},checkStartOfBlock:function(){var a=this.startContainer,b=this.startOffset;CKEDITOR.env.ie&&b&&a.type==CKEDITOR.NODE_TEXT&&(a=CKEDITOR.tools.ltrim(a.substring(0,b)),h.test(a)&&this.trim(0,1));this.trim();a=new CKEDITOR.dom.elementPath(this.startContainer,this.root);b=this.clone();b.collapse(!0);b.setStartAt(a.block||a.blockLimit,CKEDITOR.POSITION_AFTER_START);a=new CKEDITOR.dom.walker(b);a.evaluator=c();return a.checkBackward()},checkEndOfBlock:function(){var a=this.endContainer,b=this.endOffset;CKEDITOR.env.ie&&a.type==CKEDITOR.NODE_TEXT&&(a=CKEDITOR.tools.rtrim(a.substring(b)),h.test(a)&&this.trim(1,0));this.trim();a=new CKEDITOR.dom.elementPath(this.endContainer,this.root);b=this.clone();b.collapse(!1);b.setEndAt(a.block||a.blockLimit,CKEDITOR.POSITION_BEFORE_END);a=new CKEDITOR.dom.walker(b);a.evaluator=c();return a.checkForward()},getPreviousNode:function(a,b,c){var d=this.clone();d.collapse(1);d.setStartAt(c||this.root,CKEDITOR.POSITION_AFTER_START);c=new CKEDITOR.dom.walker(d);c.evaluator=a;c.guard=b;return c.previous()},getNextNode:function(a,b,c){var d=this.clone();d.collapse();d.setEndAt(c||this.root,CKEDITOR.POSITION_BEFORE_END);c=new CKEDITOR.dom.walker(d);c.evaluator=a;c.guard=b;return c.next()},checkReadOnly:function(){function a(a,b){for(;a;){if(a.type==CKEDITOR.NODE_ELEMENT){if("false"==a.getAttribute("contentEditable")&&!a.data("cke-editable"))return 0;if(a.is("html")||"true"==a.getAttribute("contentEditable")&&(a.contains(b)||a.equals(b)))break}a=a.getParent()}return 1}return function(){var b=this.startContainer,c=this.endContainer;return!(a(b,c)&&a(c,b))}}(),moveToElementEditablePosition:function(a,b){if(a.type==CKEDITOR.NODE_ELEMENT&&!a.isEditable(!1))return this.moveToPosition(a,b?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START),!0;for(var c=0;a;){if(a.type==CKEDITOR.NODE_TEXT){b&&this.endContainer&&this.checkEndOfBlock()&&h.test(a.getText())?this.moveToPosition(a,CKEDITOR.POSITION_BEFORE_START):this.moveToPosition(a,b?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START);c=1;break}if(a.type==CKEDITOR.NODE_ELEMENT)if(a.isEditable())this.moveToPosition(a,b?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_START),c=1;else if(b&&a.is("br")&&this.endContainer&&this.checkEndOfBlock())this.moveToPosition(a,CKEDITOR.POSITION_BEFORE_START);else if("false"==a.getAttribute("contenteditable")&&a.is(CKEDITOR.dtd.$block))return this.setStartBefore(a),this.setEndAfter(a),!0;var d=a,e=c,f=void 0;d.type==CKEDITOR.NODE_ELEMENT&&d.isEditable(!1)&&(f=d[b?"getLast":"getFirst"](j));e||f||(f=d[b?"getPrevious":"getNext"](j));a=f}return!!c},moveToClosestEditablePosition:function(a,b){var c,d=0,e,f,g=[CKEDITOR.POSITION_AFTER_END,CKEDITOR.POSITION_BEFORE_START];a?(c=new CKEDITOR.dom.range(this.root),c.moveToPosition(a,g[b?0:1])):c=this.clone();if(a&&!a.is(CKEDITOR.dtd.$block))d=1;else if(e=c[b?"getNextEditableNode":"getPreviousEditableNode"]())d=1,(f=e.type==CKEDITOR.NODE_ELEMENT)&&e.is(CKEDITOR.dtd.$block)&&"false"==e.getAttribute("contenteditable")?(c.setStartAt(e,CKEDITOR.POSITION_BEFORE_START),c.setEndAt(e,CKEDITOR.POSITION_AFTER_END)):!CKEDITOR.env.needsBrFiller&&f&&e.is(CKEDITOR.dom.walker.validEmptyBlockContainers)?(c.setEnd(e,0),c.collapse()):c.moveToPosition(e,g[b?1:0]);d&&this.moveToRange(c);return!!d},moveToElementEditStart:function(a){return this.moveToElementEditablePosition(a)},moveToElementEditEnd:function(a){return this.moveToElementEditablePosition(a,!0)},getEnclosedNode:function(){var a=this.clone();a.optimize();if(a.startContainer.type!=CKEDITOR.NODE_ELEMENT||a.endContainer.type!=CKEDITOR.NODE_ELEMENT)return null;var a=new CKEDITOR.dom.walker(a),b=CKEDITOR.dom.walker.bookmark(!1,!0),c=CKEDITOR.dom.walker.whitespaces(!0);a.evaluator=function(a){return c(a)&&b(a)};var d=a.next();a.reset();return d&&d.equals(a.previous())?d:null},getTouchedStartNode:function(){var a=this.startContainer;return this.collapsed||a.type!=CKEDITOR.NODE_ELEMENT?a:a.getChild(this.startOffset)||a},getTouchedEndNode:function(){var a=this.endContainer;return this.collapsed||a.type!=CKEDITOR.NODE_ELEMENT?a:a.getChild(this.endOffset-1)||a},getNextEditableNode:e(),getPreviousEditableNode:e(1),scrollIntoView:function(){var a=new CKEDITOR.dom.element.createFromHtml("<span>&nbsp;</span>",this.document),b,c,d,e=this.clone();e.optimize();(d=e.startContainer.type==CKEDITOR.NODE_TEXT)?(c=e.startContainer.getText(),b=e.startContainer.split(e.startOffset),a.insertAfter(e.startContainer)):e.insertNode(a);a.scrollIntoView();d&&(e.startContainer.setText(c),b.remove());a.remove()},_setStartContainer:function(a){this.startContainer=a},_setEndContainer:function(a){this.endContainer=a}}})();CKEDITOR.POSITION_AFTER_START=1;CKEDITOR.POSITION_BEFORE_END=2;CKEDITOR.POSITION_BEFORE_START=3;CKEDITOR.POSITION_AFTER_END=4;CKEDITOR.ENLARGE_ELEMENT=1;CKEDITOR.ENLARGE_BLOCK_CONTENTS=2;CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS=3;CKEDITOR.ENLARGE_INLINE=4;CKEDITOR.START=1;CKEDITOR.END=2;CKEDITOR.SHRINK_ELEMENT=1;CKEDITOR.SHRINK_TEXT=2;"use strict";(function(){function a(a){1>arguments.length||(this.range=a,this.forceBrBreak=0,this.enlargeBr=1,this.enforceRealBlocks=0,this._||(this._={}))}function b(a){var b=[];a.forEach(function(a){if("true"==a.getAttribute("contenteditable"))return b.push(a),!1},CKEDITOR.NODE_ELEMENT,!0);return b}function c(a,d,e,f){a:{null==f&&(f=b(e));for(var g;g=f.shift();)if(g.getDtd().p){f={element:g,remaining:f};break a}f=null}if(!f)return 0;if((g=CKEDITOR.filter.instances[f.element.data("cke-filter")])&&!g.check(d))return c(a,d,e,f.remaining);d=new CKEDITOR.dom.range(f.element);d.selectNodeContents(f.element);d=d.createIterator();d.enlargeBr=a.enlargeBr;d.enforceRealBlocks=a.enforceRealBlocks;d.activeFilter=d.filter=g;a._.nestedEditable={element:f.element,container:e,remaining:f.remaining,iterator:d};return 1}function d(a,b,c){if(!b)return!1;a=a.clone();a.collapse(!c);return a.checkBoundaryOfElement(b,c?CKEDITOR.START:CKEDITOR.END)}var e=/^[\r\n\t ]+$/,f=CKEDITOR.dom.walker.bookmark(!1,!0),g=CKEDITOR.dom.walker.whitespaces(!0),h=function(a){return f(a)&&g(a)},i={dd:1,dt:1,li:1};a.prototype={getNextParagraph:function(a){var b,g,j,k,l;a=a||"p";if(this._.nestedEditable){if(b=this._.nestedEditable.iterator.getNextParagraph(a))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,b;this.activeFilter=this.filter;if(c(this,a,this._.nestedEditable.container,this._.nestedEditable.remaining))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,this._.nestedEditable.iterator.getNextParagraph(a);this._.nestedEditable=null}if(!this.range.root.getDtd()[a])return null;if(!this._.started){var m=this.range.clone();g=m.startPath();var n=m.endPath(),o=!m.collapsed&&d(m,g.block),p=!m.collapsed&&d(m,n.block,1);m.shrink(CKEDITOR.SHRINK_ELEMENT,!0);o&&m.setStartAt(g.block,CKEDITOR.POSITION_BEFORE_END);p&&m.setEndAt(n.block,CKEDITOR.POSITION_AFTER_START);g=m.endContainer.hasAscendant("pre",!0)||m.startContainer.hasAscendant("pre",!0);m.enlarge(this.forceBrBreak&&!g||!this.enlargeBr?CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:CKEDITOR.ENLARGE_BLOCK_CONTENTS);m.collapsed||(g=new CKEDITOR.dom.walker(m.clone()),n=CKEDITOR.dom.walker.bookmark(!0,!0),g.evaluator=n,this._.nextNode=g.next(),g=new CKEDITOR.dom.walker(m.clone()),g.evaluator=n,g=g.previous(),this._.lastNode=g.getNextSourceNode(!0,null,m.root),this._.lastNode&&this._.lastNode.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(this._.lastNode.getText())&&this._.lastNode.getParent().isBlockBoundary()&&(n=this.range.clone(),n.moveToPosition(this._.lastNode,CKEDITOR.POSITION_AFTER_END),n.checkEndOfBlock()&&(n=new CKEDITOR.dom.elementPath(n.endContainer,n.root),this._.lastNode=(n.block||n.blockLimit).getNextSourceNode(!0))),this._.lastNode&&m.root.contains(this._.lastNode)||(this._.lastNode=this._.docEndMarker=m.document.createText(""),this._.lastNode.insertAfter(g)),m=null);this._.started=1;g=m}n=this._.nextNode;m=this._.lastNode;for(this._.nextNode=null;n;){var o=0,p=n.hasAscendant("pre"),q=n.type!=CKEDITOR.NODE_ELEMENT,r=0;if(q)n.type==CKEDITOR.NODE_TEXT&&e.test(n.getText())&&(q=0);else{var s=n.getName();if(CKEDITOR.dtd.$block[s]&&"false"==n.getAttribute("contenteditable")){b=n;c(this,a,b);break}else if(n.isBlockBoundary(this.forceBrBreak&&!p&&{br:1})){if("br"==s)q=1;else if(!g&&!n.getChildCount()&&"hr"!=s){b=n;j=n.equals(m);break}g&&(g.setEndAt(n,CKEDITOR.POSITION_BEFORE_START),"br"!=s&&(this._.nextNode=n));o=1}else{if(n.getFirst()){g||(g=this.range.clone(),g.setStartAt(n,CKEDITOR.POSITION_BEFORE_START));n=n.getFirst();continue}q=1}}q&&!g&&(g=this.range.clone(),g.setStartAt(n,CKEDITOR.POSITION_BEFORE_START));j=(!o||q)&&n.equals(m);if(g&&!o)for(;!n.getNext(h)&&!j;){s=n.getParent();if(s.isBlockBoundary(this.forceBrBreak&&!p&&{br:1})){o=1;q=0;j||s.equals(m);g.setEndAt(s,CKEDITOR.POSITION_BEFORE_END);break}n=s;q=1;j=n.equals(m);r=1}q&&g.setEndAt(n,CKEDITOR.POSITION_AFTER_END);n=this._getNextSourceNode(n,r,m);if((j=!n)||o&&g)break}if(!b){if(!g)return this._.docEndMarker&&this._.docEndMarker.remove(),this._.nextNode=null;b=new CKEDITOR.dom.elementPath(g.startContainer,g.root);n=b.blockLimit;o={div:1,th:1,td:1};b=b.block;!b&&n&&!this.enforceRealBlocks&&o[n.getName()]&&g.checkStartOfBlock()&&g.checkEndOfBlock()&&!n.equals(g.root)?b=n:!b||this.enforceRealBlocks&&b.is(i)?(b=this.range.document.createElement(a),g.extractContents().appendTo(b),b.trim(),g.insertNode(b),k=l=!0):"li"!=b.getName()?g.checkStartOfBlock()&&g.checkEndOfBlock()||(b=b.clone(!1),g.extractContents().appendTo(b),b.trim(),l=g.splitBlock(),k=!l.wasStartOfBlock,l=!l.wasEndOfBlock,g.insertNode(b)):j||(this._.nextNode=b.equals(m)?null:this._getNextSourceNode(g.getBoundaryNodes().endNode,1,m))}k&&(k=b.getPrevious())&&k.type==CKEDITOR.NODE_ELEMENT&&("br"==k.getName()?k.remove():k.getLast()&&"br"==k.getLast().$.nodeName.toLowerCase()&&k.getLast().remove());l&&(k=b.getLast())&&k.type==CKEDITOR.NODE_ELEMENT&&"br"==k.getName()&&(!CKEDITOR.env.needsBrFiller||k.getPrevious(f)||k.getNext(f))&&k.remove();this._.nextNode||(this._.nextNode=j||b.equals(m)||!m?null:this._getNextSourceNode(b,1,m));return b},_getNextSourceNode:function(a,b,c){function d(a){return!(a.equals(c)||a.equals(e))}var e=this.range.root;for(a=a.getNextSourceNode(b,null,d);!f(a);)a=a.getNextSourceNode(b,null,d);return a}};CKEDITOR.dom.range.prototype.createIterator=function(){return new a(this)}})();CKEDITOR.command=function(a,b){this.uiItems=[];this.exec=function(c){if(this.state==CKEDITOR.TRISTATE_DISABLED||!this.checkAllowed())return!1;this.editorFocus&&a.focus();return!1===this.fire("exec")?!0:!1!==b.exec.call(this,a,c)};this.refresh=function(a,c){if(!this.readOnly&&a.readOnly)return!0;if(this.context&&!c.isContextFor(this.context)||!this.checkAllowed(!0))return this.disable(),!0;this.startDisabled||this.enable();this.modes&&!this.modes[a.mode]&&this.disable();return!1===this.fire("refresh",{editor:a,path:c})?!0:b.refresh&&!1!==b.refresh.apply(this,arguments)};var c;this.checkAllowed=function(b){return b||"boolean"!=typeof c?c=a.activeFilter.checkFeature(this):c};CKEDITOR.tools.extend(this,b,{modes:{wysiwyg:1},editorFocus:1,contextSensitive:!!b.context,state:CKEDITOR.TRISTATE_DISABLED});CKEDITOR.event.call(this)};CKEDITOR.command.prototype={enable:function(){this.state==CKEDITOR.TRISTATE_DISABLED&&this.checkAllowed()&&this.setState(this.preserveState&&"undefined"!=typeof this.previousState?this.previousState:CKEDITOR.TRISTATE_OFF)},disable:function(){this.setState(CKEDITOR.TRISTATE_DISABLED)},setState:function(a){if(this.state==a||a!=CKEDITOR.TRISTATE_DISABLED&&!this.checkAllowed())return!1;this.previousState=this.state;this.state=a;this.fire("state");return!0},toggleState:function(){this.state==CKEDITOR.TRISTATE_OFF?this.setState(CKEDITOR.TRISTATE_ON):this.state==CKEDITOR.TRISTATE_ON&&this.setState(CKEDITOR.TRISTATE_OFF)}};CKEDITOR.event.implementOn(CKEDITOR.command.prototype);CKEDITOR.ENTER_P=1;CKEDITOR.ENTER_BR=2;CKEDITOR.ENTER_DIV=3;CKEDITOR.config={customConfig:"config.js",autoUpdateElement:!0,language:"",defaultLanguage:"en",contentsLangDirection:"",enterMode:CKEDITOR.ENTER_P,forceEnterMode:!1,shiftEnterMode:CKEDITOR.ENTER_BR,docType:"<!DOCTYPE html>",bodyId:"",bodyClass:"",fullPage:!1,height:200,contentsCss:CKEDITOR.getUrl("contents.css"),extraPlugins:"",removePlugins:"",protectedSource:[],tabIndex:0,width:"",baseFloatZIndex:1e4,blockedKeystrokes:[CKEDITOR.CTRL+66,CKEDITOR.CTRL+73,CKEDITOR.CTRL+85]};(function(){function a(a,b,c,d,e){var f,h;a=[];for(f in b){h=b[f];h="boolean"==typeof h?{}:"function"==typeof h?{match:h}:B(h);"$"!=f.charAt(0)&&(h.elements=f);c&&(h.featureName=c.toLowerCase());var i=h;i.elements=g(i.elements,/\s+/)||null;i.propertiesOnly=i.propertiesOnly||!0===i.elements;var j=/\s*,\s*/,k=void 0;for(k in E){i[k]=g(i[k],j)||null;var l=i,m=F[k],n=g(i[F[k]],j),o=i[k],p=[],q=!0,s=void 0;n?q=!1:n={};for(s in o)"!"==s.charAt(0)&&(s=s.slice(1),p.push(s),n[s]=!0,q=!1);for(;s=p.pop();)o[s]=o["!"+s],delete o["!"+s];l[m]=(q?!1:n)||null}i.match=i.match||null;d.push(h);a.push(h)}b=e.elements;e=e.generic;var t;c=0;for(d=a.length;c<d;++c){f=B(a[c]);h=!0===f.classes||!0===f.styles||!0===f.attributes;i=f;k=m=j=void 0;for(j in E)i[j]=r(i[j]);l=!0;for(k in F){j=F[k];m=i[j];n=[];o=void 0;for(o in m)-1<o.indexOf("*")?n.push(new RegExp("^"+o.replace(/\*/g,".*")+"$")):n.push(o);m=n;m.length&&(i[j]=m,l=!1)}i.nothingRequired=l;i.noProperties=!(i.attributes||i.classes||i.styles);if(!0===f.elements||null===f.elements)e[h?"unshift":"push"](f);else for(t in i=f.elements,delete f.elements,i)if(b[t])b[t][h?"unshift":"push"](f);else b[t]=[f]}}function b(a,b,d,e){if(!a.match||a.match(b))if(e||h(a,b))if(a.propertiesOnly||(d.valid=!0),d.allAttributes||(d.allAttributes=c(a.attributes,b.attributes,d.validAttributes)),d.allStyles||(d.allStyles=c(a.styles,b.styles,d.validStyles)),!d.allClasses){a=a.classes;b=b.classes;e=d.validClasses;if(a)if(!0===a)a=!0;else{for(var f=0,g=b.length,i;f<g;++f)i=b[f],e[i]||(e[i]=a(i));a=!1}else a=!1;d.allClasses=a}}function c(a,b,c){if(!a)return!1;if(!0===a)return!0;for(var d in b)c[d]||(c[d]=a(d));return!1}function d(a,b,c){if(!a.match||a.match(b)){if(a.noProperties)return!1;c.hadInvalidAttribute=e(a.attributes,b.attributes)||c.hadInvalidAttribute;c.hadInvalidStyle=e(a.styles,b.styles)||c.hadInvalidStyle;a=a.classes;b=b.classes;if(a){for(var d=!1,f=!0===a,g=b.length;g--;)if(f||a(b[g]))b.splice(g,1),d=!0;a=d}else a=!1;c.hadInvalidClass=a||c.hadInvalidClass}}function e(a,b){if(!a)return!1;var c=!1,d=!0===a,e;for(e in b)if(d||a(e))delete b[e],c=!0;return c}function f(a,b,c){if(a.disabled||a.customConfig&&!c||!b)return!1;a._.cachedChecks={};return!0}function g(a,b){if(!a)return!1;if(!0===a)return a;if("string"==typeof a)return a=C(a),"*"==a?!0:CKEDITOR.tools.convertArrayToObject(a.split(b));if(CKEDITOR.tools.isArray(a))return a.length?CKEDITOR.tools.convertArrayToObject(a):!1;var c={},d=0,e;for(e in a)c[e]=a[e],d++;return d?c:!1}function h(a,b){if(a.nothingRequired)return!0;var c,d,e,f;if(e=a.requiredClasses)for(f=b.classes,c=0;c<e.length;++c)if(d=e[c],"string"==typeof d){if(-1==CKEDITOR.tools.indexOf(f,d))return!1}else if(!CKEDITOR.tools.checkIfAnyArrayItemMatches(f,d))return!1;return i(b.styles,a.requiredStyles)&&i(b.attributes,a.requiredAttributes)}function i(a,b){if(!b)return!0;for(var c=0,d;c<b.length;++c)if(d=b[c],"string"==typeof d){if(!(d in a))return!1}else if(!CKEDITOR.tools.checkIfAnyObjectPropertyMatches(a,d))return!1;return!0}function j(a){if(!a)return{};a=a.split(/\s*,\s*/).sort();for(var b={};a.length;)b[a.shift()]="cke-test";return b}function k(a){var b,c,d,e,f={},g=1;for(a=C(a);b=a.match(G);)(c=b[2])?(d=l(c,"styles"),e=l(c,"attrs"),c=l(c,"classes")):d=e=c=null,f["$"+g++]={elements:b[1],classes:c,styles:d,attributes:e},a=a.slice(b[0].length);return f}function l(a,b){var c=a.match(H[b]);return c?C(c[1]):null}function m(a){var b=a.styleBackup=a.attributes.style,c=a.classBackup=a.attributes["class"];a.styles||(a.styles=CKEDITOR.tools.parseCssText(b||"",1));a.classes||(a.classes=c?c.split(/\s+/):[])}function n(a,c,e,f){var g=0,h;f.toHtml&&(c.name=c.name.replace(I,"$1"));if(f.doCallbacks&&a.elementCallbacks){a:{h=a.elementCallbacks;for(var i=0,j=h.length,k;i<j;++i)if(k=h[i](c)){h=k;break a}h=void 0}if(h)return h}if(f.doTransform&&(h=a._.transformations[c.name])){m(c);for(i=0;i<h.length;++i)v(a,c,h[i]);p(c)}if(f.doFilter){a:{i=c.name;j=a._;a=j.allowedRules.elements[i];h=j.allowedRules.generic;i=j.disallowedRules.elements[i];j=j.disallowedRules.generic;k=f.skipRequired;var l={valid:!1,validAttributes:{},validClasses:{},validStyles:{},allAttributes:!1,allClasses:!1,allStyles:!1,hadInvalidAttribute:!1,hadInvalidClass:!1,hadInvalidStyle:!1},n,o;if(a||h){m(c);if(i)for(n=0,o=i.length;n<o;++n)if(!1===d(i[n],c,l)){a=null;break a}if(j)for(n=0,o=j.length;n<o;++n)d(j[n],c,l);if(a)for(n=0,o=a.length;n<o;++n)b(a[n],c,l,k);if(h)for(n=0,o=h.length;n<o;++n)b(h[n],c,l,k);a=l}else a=null}if(!a||!a.valid)return e.push(c),1;o=a.validAttributes;var r=a.validStyles;h=a.validClasses;var i=c.attributes,s=c.styles,j=c.classes;k=c.classBackup;var t=c.styleBackup,u,w,x=[],l=[],y=/^data-cke-/;n=!1;delete i.style;delete i["class"];delete c.classBackup;delete c.styleBackup;if(!a.allAttributes)for(u in i)o[u]||(y.test(u)?u==(w=u.replace(/^data-cke-saved-/,""))||o[w]||(delete i[u],n=!0):(delete i[u],n=!0));if(!a.allStyles||a.hadInvalidStyle){for(u in s)a.allStyles||r[u]?x.push(u+":"+s[u]):n=!0;x.length&&(i.style=x.sort().join("; "))}else t&&(i.style=t);if(!a.allClasses||a.hadInvalidClass){for(u=0;u<j.length;++u)(a.allClasses||h[j[u]])&&l.push(j[u]);l.length&&(i["class"]=l.sort().join(" "));k&&l.length<k.split(/\s+/).length&&(n=!0)}else k&&(i["class"]=k);n&&(g=1);if(!f.skipFinalValidation&&!q(c))return e.push(c),1}f.toHtml&&(c.name=c.name.replace(J,"cke:$1"));return g}function o(a){var b=[],c;for(c in a)-1<c.indexOf("*")&&b.push(c.replace(/\*/g,".*"));return b.length?new RegExp("^(?:"+b.join("|")+")$"):null}function p(a){var b=a.attributes,c;delete b.style;delete b["class"];if(c=CKEDITOR.tools.writeCssText(a.styles,!0))b.style=c;a.classes.length&&(b["class"]=a.classes.sort().join(" "))}function q(a){switch(a.name){case"a":if(!(a.children.length||a.attributes.name||a.attributes.id))return!1;break;case"img":if(!a.attributes.src)return!1}return!0}function r(a){if(!a)return!1;if(!0===a)return!0;var b=o(a);return function(c){return c in a||b&&c.match(b)}}function s(){return new CKEDITOR.htmlParser.element("br")}function t(a){return a.type==CKEDITOR.NODE_ELEMENT&&("br"==a.name||A.$block[a.name])}function u(a,b,c){var d=a.name;if(A.$empty[d]||!a.children.length)"hr"==d&&"br"==b?a.replaceWith(s()):(a.parent&&c.push({check:"it",el:a.parent}),a.remove());else if(A.$block[d]||"tr"==d)if("br"==b)a.previous&&!t(a.previous)&&(b=s(),b.insertBefore(a)),a.next&&!t(a.next)&&(b=s(),b.insertAfter(a)),a.replaceWithChildren();else{var d=a.children,e;a:{e=A[b];for(var f=0,g=d.length,h;f<g;++f)if(h=d[f],h.type==CKEDITOR.NODE_ELEMENT&&!e[h.name]){e=!1;break a}e=!0}if(e)a.name=b,a.attributes={},c.push({check:"parent-down",el:a});else{e=a.parent;for(var f=e.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||"body"==e.name,i,j,g=d.length;0<g;)h=d[--g],f&&(h.type==CKEDITOR.NODE_TEXT||h.type==CKEDITOR.NODE_ELEMENT&&A.$inline[h.name])?(i||(i=new CKEDITOR.htmlParser.element(b),i.insertAfter(a),c.push({check:"parent-down",el:i})),i.add(h,0)):(i=null,j=A[e.name]||A.span,h.insertAfter(a),e.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||h.type!=CKEDITOR.NODE_ELEMENT||j[h.name]||c.push({check:"el-up",el:h}));a.remove()}}else d in{style:1,script:1}?a.remove():(a.parent&&c.push({check:"it",el:a.parent}),a.replaceWithChildren())}function v(a,b,c){var d,e;for(d=0;d<c.length;++d)if(e=c[d],!(e.check&&!a.check(e.check,!1)||e.left&&!e.left(b))){e.right(b,K);break}}function w(a,b){var c=b.getDefinition(),d=c.attributes,e=c.styles,f,g,h,i;if(a.name!=c.element)return!1;for(f in d)if("class"==f)for(c=d[f].split(/\s+/),h=a.classes.join("|");i=c.pop();){if(-1==h.indexOf(i))return!1}else if(a.attributes[f]!=d[f])return!1;for(g in e)if(a.styles[g]!=e[g])return!1;return!0}function x(a,b){var c,d;"string"==typeof a?c=a:a instanceof CKEDITOR.style?d=a:(c=a[0],d=a[1]);return[{element:c,left:d,right:function(a,c){c.transform(a,b)}}]}function y(a){return function(b){return w(b,a)}}function z(a){return function(b,c){c[a](b)}}var A=CKEDITOR.dtd,B=CKEDITOR.tools.copy,C=CKEDITOR.tools.trim,D=["","p","br","div"];CKEDITOR.FILTER_SKIP_TREE=2;CKEDITOR.filter=function(a){this.allowedContent=[];this.disallowedContent=[];this.elementCallbacks=null;this.disabled=!1;this.editor=null;this.id=CKEDITOR.tools.getNextNumber();this._={allowedRules:{elements:{},generic:[]},disallowedRules:{elements:{},generic:[]},transformations:{},cachedTests:{}};CKEDITOR.filter.instances[this.id]=this;if(a instanceof CKEDITOR.editor){a=this.editor=a;this.customConfig=!0;var b=a.config.allowedContent;!0===b?this.disabled=!0:(b||(this.customConfig=!1),this.allow(b,"config",1),this.allow(a.config.extraAllowedContent,"extra",1),this.allow(D[a.enterMode]+" "+D[a.shiftEnterMode],"default",1),this.disallow(a.config.disallowedContent))}else this.customConfig=!1,this.allow(a,"default",1)};CKEDITOR.filter.instances={};CKEDITOR.filter.prototype={allow:function(b,c,d){if(!f(this,b,d))return!1;var e,g;if("string"==typeof b)b=k(b);else if(b instanceof CKEDITOR.style){if(b.toAllowedContentRules)return this.allow(b.toAllowedContentRules(this.editor),c,d);e=b.getDefinition();b={};d=e.attributes;b[e.element]=e={styles:e.styles,requiredStyles:e.styles&&CKEDITOR.tools.objectKeys(e.styles)};d&&(d=B(d),e.classes=d["class"]?d["class"].split(/\s+/):null,e.requiredClasses=e.classes,delete d["class"],e.attributes=d,e.requiredAttributes=d&&CKEDITOR.tools.objectKeys(d))}else if(CKEDITOR.tools.isArray(b)){for(e=0;e<b.length;++e)g=this.allow(b[e],c,d);return g}a(this,b,c,this.allowedContent,this._.allowedRules);return!0},applyTo:function(a,b,c,d){if(this.disabled)return!1;var e=this,f=[],g=this.editor&&this.editor.config.protectedSource,h,i=!1,j={doFilter:!c,doTransform:!0,doCallbacks:!0,toHtml:b};a.forEach(function(a){if(a.type==CKEDITOR.NODE_ELEMENT){if("off"==a.attributes["data-cke-filter"])return!1;if(!b||"span"!=a.name||!~CKEDITOR.tools.objectKeys(a.attributes).join("|").indexOf("data-cke-"))if(h=n(e,a,f,j),h&1)i=!0;else if(h&2)return!1}else if(a.type==CKEDITOR.NODE_COMMENT&&a.value.match(/^\{cke_protected\}(?!\{C\})/)){var c;a:{var d=decodeURIComponent(a.value.replace(/^\{cke_protected\}/,""));c=[];var k,l,m;if(g)for(l=0;l<g.length;++l)if((m=d.match(g[l]))&&m[0].length==d.length){c=!0;break a}d=CKEDITOR.htmlParser.fragment.fromHtml(d);1==d.children.length&&(k=d.children[0]).type==CKEDITOR.NODE_ELEMENT&&n(e,k,c,j);c=!c.length}c||f.push(a)}},null,!0);f.length&&(i=!0);var k;a=[];d=D[d||(this.editor?this.editor.enterMode:CKEDITOR.ENTER_P)];for(var l;c=f.pop();)c.type==CKEDITOR.NODE_ELEMENT?u(c,d,a):c.remove();for(;k=a.pop();)if(c=k.el,c.parent)switch(l=A[c.parent.name]||A.span,k.check){case"it":A.$removeEmpty[c.name]&&!c.children.length?u(c,d,a):q(c)||u(c,d,a);break;case"el-up":c.parent.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||l[c.name]||u(c,d,a);break;case"parent-down":c.parent.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||l[c.name]||u(c.parent,d,a)}return i},checkFeature:function(a){if(this.disabled||!a)return!0;a.toFeature&&(a=a.toFeature(this.editor));return!a.requiredContent||this.check(a.requiredContent)},disable:function(){this.disabled=!0},disallow:function(b){if(!f(this,b,!0))return!1;"string"==typeof b&&(b=k(b));a(this,b,null,this.disallowedContent,this._.disallowedRules);return!0},addContentForms:function(a){if(!this.disabled&&a){var b,c,d=[],e;for(b=0;b<a.length&&!e;++b)c=a[b],("string"==typeof c||c instanceof CKEDITOR.style)&&this.check(c)&&(e=c);if(e){for(b=0;b<a.length;++b)d.push(x(a[b],e));this.addTransformations(d)}}},addElementCallback:function(a){this.elementCallbacks||(this.elementCallbacks=[]);this.elementCallbacks.push(a)},addFeature:function(a){if(this.disabled||!a)return!0;a.toFeature&&(a=a.toFeature(this.editor));this.allow(a.allowedContent,a.name);this.addTransformations(a.contentTransformations);this.addContentForms(a.contentForms);return a.requiredContent&&(this.customConfig||this.disallowedContent.length)?this.check(a.requiredContent):!0},addTransformations:function(a){var b,c;if(!this.disabled&&a){var d=this._.transformations,e;for(e=0;e<a.length;++e){b=a[e];var f=void 0,g=void 0,h=void 0,i=void 0,j=void 0,k=void 0;c=[];for(g=0;g<b.length;++g)h=b[g],"string"==typeof h?(h=h.split(/\s*:\s*/),i=h[0],j=null,k=h[1]):(i=h.check,j=h.left,k=h.right),f||(f=h,f=f.element?f.element:i?i.match(/^([a-z0-9]+)/i)[0]:f.left.getDefinition().element),j instanceof CKEDITOR.style&&(j=y(j)),c.push({check:i==f?null:i,left:j,right:"string"==typeof k?z(k):k});b=f;d[b]||(d[b]=[]);d[b].push(c)}}},check:function(a,b,c){if(this.disabled)return!0;if(CKEDITOR.tools.isArray(a)){for(var d=a.length;d--;)if(this.check(a[d],b,c))return!0;return!1}var e,f;if("string"==typeof a){f=a+"<"+(!1===b?"0":"1")+(c?"1":"0")+">";if(f in this._.cachedChecks)return this._.cachedChecks[f];d=k(a).$1;e=d.styles;var g=d.classes;d.name=d.elements;d.classes=g=g?g.split(/\s*,\s*/):[];d.styles=j(e);d.attributes=j(d.attributes);d.children=[];g.length&&(d.attributes["class"]=g.join(" "));e&&(d.attributes.style=CKEDITOR.tools.writeCssText(d.styles));e=d}else d=a.getDefinition(),e=d.styles,g=d.attributes||{},e&&!CKEDITOR.tools.isEmpty(e)?(e=B(e),g.style=CKEDITOR.tools.writeCssText(e,!0)):e={},e={name:d.element,attributes:g,classes:g["class"]?g["class"].split(/\s+/):[],styles:e,children:[]};var g=CKEDITOR.tools.clone(e),h=[],i;if(!1!==b&&(i=this._.transformations[e.name])){for(d=0;d<i.length;++d)v(this,e,i[d]);p(e)}n(this,g,h,{doFilter:!0,doTransform:!1!==b,skipRequired:!c,skipFinalValidation:!c});b=0<h.length?!1:CKEDITOR.tools.objectCompare(e.attributes,g.attributes,!0)?!0:!1;"string"==typeof a&&(this._.cachedChecks[f]=b);return b},getAllowedEnterMode:function(){var a=["p","div","br"],b={p:CKEDITOR.ENTER_P,
div:CKEDITOR.ENTER_DIV,br:CKEDITOR.ENTER_BR};return function(c,d){var e=a.slice(),f;if(this.check(D[c]))return c;for(d||(e=e.reverse());f=e.pop();)if(this.check(f))return b[f];return CKEDITOR.ENTER_BR}}(),destroy:function(){delete CKEDITOR.filter.instances[this.id];delete this._;delete this.allowedContent;delete this.disallowedContent}};var E={styles:1,attributes:1,classes:1},F={styles:"requiredStyles",attributes:"requiredAttributes",classes:"requiredClasses"},G=/^([a-z0-9\-*\s]+)((?:\s*\{[!\w\-,\s\*]+\}\s*|\s*\[[!\w\-,\s\*]+\]\s*|\s*\([!\w\-,\s\*]+\)\s*){0,3})(?:;\s*|$)/i,H={styles:/{([^}]+)}/,attrs:/\[([^\]]+)\]/,classes:/\(([^\)]+)\)/},I=/^cke:(object|embed|param)$/,J=/^(object|embed|param)$/,K;K=CKEDITOR.filter.transformationsTools={sizeToStyle:function(a){this.lengthToStyle(a,"width");this.lengthToStyle(a,"height")},sizeToAttribute:function(a){this.lengthToAttribute(a,"width");this.lengthToAttribute(a,"height")},lengthToStyle:function(a,b,c){c=c||b;if(!(c in a.styles)){var d=a.attributes[b];d&&(/^\d+$/.test(d)&&(d+="px"),a.styles[c]=d)}delete a.attributes[b]},lengthToAttribute:function(a,b,c){c=c||b;if(!(c in a.attributes)){var d=a.styles[b],e=d&&d.match(/^(\d+)(?:\.\d*)?px$/);e?a.attributes[c]=e[1]:"cke-test"==d&&(a.attributes[c]="cke-test")}delete a.styles[b]},alignmentToStyle:function(a){if(!("float"in a.styles)){var b=a.attributes.align;if("left"==b||"right"==b)a.styles["float"]=b}delete a.attributes.align},alignmentToAttribute:function(a){if(!("align"in a.attributes)){var b=a.styles["float"];if("left"==b||"right"==b)a.attributes.align=b}delete a.styles["float"]},matchesStyle:w,transform:function(a,b){if("string"==typeof b)a.name=b;else{var c=b.getDefinition(),d=c.styles,e=c.attributes,f,g,h,i;a.name=c.element;for(f in e)if("class"==f)for(c=a.classes.join("|"),h=e[f].split(/\s+/);i=h.pop();)-1==c.indexOf(i)&&a.classes.push(i);else a.attributes[f]=e[f];for(g in d)a.styles[g]=d[g]}}}})();(function(){CKEDITOR.focusManager=function(a){if(a.focusManager)return a.focusManager;this.hasFocus=!1;this.currentActive=null;this._={editor:a};return this};CKEDITOR.focusManager._={blurDelay:200};CKEDITOR.focusManager.prototype={focus:function(a){this._.timer&&clearTimeout(this._.timer);a&&(this.currentActive=a);this.hasFocus||this._.locked||((a=CKEDITOR.currentInstance)&&a.focusManager.blur(1),this.hasFocus=!0,(a=this._.editor.container)&&a.addClass("cke_focus"),this._.editor.fire("focus"))},lock:function(){this._.locked=1},unlock:function(){delete this._.locked},blur:function(a){function b(){if(this.hasFocus){this.hasFocus=!1;var a=this._.editor.container;a&&a.removeClass("cke_focus");this._.editor.fire("blur")}}if(!this._.locked){this._.timer&&clearTimeout(this._.timer);var c=CKEDITOR.focusManager._.blurDelay;a||!c?b.call(this):this._.timer=CKEDITOR.tools.setTimeout(function(){delete this._.timer;b.call(this)},c,this)}},add:function(a,b){var c=a.getCustomData("focusmanager");if(!c||c!=this){c&&c.remove(a);var c="focus",d="blur";b&&(CKEDITOR.env.ie?(c="focusin",d="focusout"):CKEDITOR.event.useCapture=1);var e={blur:function(){a.equals(this.currentActive)&&this.blur()},focus:function(){this.focus(a)}};a.on(c,e.focus,this);a.on(d,e.blur,this);b&&(CKEDITOR.event.useCapture=0);a.setCustomData("focusmanager",this);a.setCustomData("focusmanager_handlers",e)}},remove:function(a){a.removeCustomData("focusmanager");var b=a.removeCustomData("focusmanager_handlers");a.removeListener("blur",b.blur);a.removeListener("focus",b.focus)}}})();CKEDITOR.keystrokeHandler=function(a){if(a.keystrokeHandler)return a.keystrokeHandler;this.keystrokes={};this.blockedKeystrokes={};this._={editor:a};return this};(function(){var a,b=function(b){b=b.data;var c=b.getKeystroke(),d=this.keystrokes[c],e=this._.editor;a=!1===e.fire("key",{keyCode:c,domEvent:b});a||(d&&(a=!1!==e.execCommand(d,{from:"keystrokeHandler"})),a||(a=!!this.blockedKeystrokes[c]));a&&b.preventDefault(!0);return!a},c=function(b){a&&(a=!1,b.data.preventDefault(!0))};CKEDITOR.keystrokeHandler.prototype={attach:function(a){a.on("keydown",b,this);if(CKEDITOR.env.gecko&&CKEDITOR.env.mac)a.on("keypress",c,this)}}})();(function(){CKEDITOR.lang={languages:{af:1,ar:1,bg:1,bn:1,bs:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,"en-au":1,"en-ca":1,"en-gb":1,en:1,eo:1,es:1,et:1,eu:1,fa:1,fi:1,fo:1,"fr-ca":1,fr:1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,is:1,it:1,ja:1,ka:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,ms:1,nb:1,nl:1,no:1,pl:1,"pt-br":1,pt:1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,"sr-latn":1,sr:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,"zh-cn":1,zh:1},rtl:{ar:1,fa:1,he:1,ku:1,ug:1},load:function(a,b,c){a&&CKEDITOR.lang.languages[a]||(a=this.detect(b,a));var d=this;b=function(){d[a].dir=d.rtl[a]?"rtl":"ltr";c(a,d[a])};this[a]?b():CKEDITOR.scriptLoader.load(CKEDITOR.getUrl("lang/"+a+".js"),b,this)},detect:function(a,b){var c=this.languages;b=b||navigator.userLanguage||navigator.language||a;var d=b.toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/),e=d[1],d=d[2];c[e+"-"+d]?e=e+"-"+d:c[e]||(e=null);CKEDITOR.lang.detect=e?function(){return e}:function(a){return a};return e||a}}})();CKEDITOR.scriptLoader=function(){var a={},b={};return{load:function(c,d,e,f){var g="string"==typeof c;g&&(c=[c]);e||(e=CKEDITOR);var h=c.length,i=[],j=[],k=function(a){d&&(g?d.call(e,a):d.call(e,i,j))};if(0===h)k(!0);else{var l=function(a,b){(b?i:j).push(a);0>=--h&&(f&&CKEDITOR.document.getDocumentElement().removeStyle("cursor"),k(b))},m=function(c,d){a[c]=1;var e=b[c];delete b[c];for(var f=0;f<e.length;f++)e[f](c,d)},n=function(c){if(a[c])l(c,!0);else{var e=b[c]||(b[c]=[]);e.push(l);if(!(1<e.length)){var f=new CKEDITOR.dom.element("script");f.setAttributes({type:"text/javascript",src:c});d&&(CKEDITOR.env.ie&&11>CKEDITOR.env.version?f.$.onreadystatechange=function(){if("loaded"==f.$.readyState||"complete"==f.$.readyState)f.$.onreadystatechange=null,m(c,!0)}:(f.$.onload=function(){setTimeout(function(){m(c,!0)},0)},f.$.onerror=function(){m(c,!1)}));f.appendTo(CKEDITOR.document.getHead())}}};f&&CKEDITOR.document.getDocumentElement().setStyle("cursor","wait");for(var o=0;o<h;o++)n(c[o])}},queue:function(){function a(){var a;(a=b[0])&&this.load(a.scriptUrl,a.callback,CKEDITOR,0)}var b=[];return function(c,d){var e=this;b.push({scriptUrl:c,callback:function(){d&&d.apply(this,arguments);b.shift();a.call(e)}});1==b.length&&a.call(this)}}()}}();CKEDITOR.resourceManager=function(a,b){this.basePath=a;this.fileName=b;this.registered={};this.loaded={};this.externals={};this._={waitingList:{}}};CKEDITOR.resourceManager.prototype={add:function(a,b){if(this.registered[a])throw Error('[CKEDITOR.resourceManager.add] The resource name "'+a+'" is already registered.');var c=this.registered[a]=b||{};c.name=a;c.path=this.getPath(a);CKEDITOR.fire(a+CKEDITOR.tools.capitalize(this.fileName)+"Ready",c);return this.get(a)},get:function(a){return this.registered[a]||null},getPath:function(a){var b=this.externals[a];return CKEDITOR.getUrl(b&&b.dir||this.basePath+a+"/")},getFilePath:function(a){var b=this.externals[a];return CKEDITOR.getUrl(this.getPath(a)+(b?b.file:this.fileName+".js"))},addExternal:function(a,b,c){a=a.split(",");for(var d=0;d<a.length;d++){var e=a[d];c||(b=b.replace(/[^\/]+$/,function(a){c=a;return""}));this.externals[e]={dir:b,file:c||this.fileName+".js"}}},load:function(a,b,c){CKEDITOR.tools.isArray(a)||(a=a?[a]:[]);for(var d=this.loaded,e=this.registered,f=[],g={},h={},i=0;i<a.length;i++){var j=a[i];if(j)if(d[j]||e[j])h[j]=this.get(j);else{var k=this.getFilePath(j);f.push(k);k in g||(g[k]=[]);g[k].push(j)}}CKEDITOR.scriptLoader.load(f,function(a,e){if(e.length)throw Error('[CKEDITOR.resourceManager.load] Resource name "'+g[e[0]].join(",")+'" was not found at "'+e[0]+'".');for(var f=0;f<a.length;f++)for(var i=g[a[f]],j=0;j<i.length;j++){var k=i[j];h[k]=this.get(k);d[k]=1}b.call(c,h)},this)}};CKEDITOR.plugins=new CKEDITOR.resourceManager("plugins/","plugin");CKEDITOR.plugins.load=CKEDITOR.tools.override(CKEDITOR.plugins.load,function(a){var b={};return function(c,d,e){var f={},g=function(c){a.call(this,c,function(a){CKEDITOR.tools.extend(f,a);var c=[],h;for(h in a){var i=a[h],j=i&&i.requires;if(!b[h]){if(i.icons)for(var k=i.icons.split(","),l=k.length;l--;)CKEDITOR.skin.addIcon(k[l],i.path+"icons/"+(CKEDITOR.env.hidpi&&i.hidpi?"hidpi/":"")+k[l]+".png");b[h]=1}if(j)for(j.split&&(j=j.split(",")),i=0;i<j.length;i++)f[j[i]]||c.push(j[i])}if(c.length)g.call(this,c);else{for(h in f)i=f[h],i.onLoad&&!i.onLoad._called&&(!1===i.onLoad()&&delete f[h],i.onLoad._called=1);d&&d.call(e||window,f)}},this)};g.call(this,c)}});CKEDITOR.plugins.setLang=function(a,b,c){var d=this.get(a);a=d.langEntries||(d.langEntries={});d=d.lang||(d.lang=[]);d.split&&(d=d.split(","));-1==CKEDITOR.tools.indexOf(d,b)&&d.push(b);a[b]=c};CKEDITOR.ui=function(a){if(a.ui)return a.ui;this.items={};this.instances={};this.editor=a;this._={handlers:{}};return this};CKEDITOR.ui.prototype={add:function(a,b,c){c.name=a.toLowerCase();var d=this.items[a]={type:b,command:c.command||null,args:Array.prototype.slice.call(arguments,2)};CKEDITOR.tools.extend(d,c)},get:function(a){return this.instances[a]},create:function(a){var b=this.items[a],c=b&&this._.handlers[b.type],d=b&&b.command&&this.editor.getCommand(b.command),c=c&&c.create.apply(this,b.args);this.instances[a]=c;d&&d.uiItems.push(c);c&&!c.type&&(c.type=b.type);return c},addHandler:function(a,b){this._.handlers[a]=b},space:function(a){return CKEDITOR.document.getById(this.spaceId(a))},spaceId:function(a){return this.editor.id+"_"+a}};CKEDITOR.event.implementOn(CKEDITOR.ui);(function(){function a(a,e,g){CKEDITOR.event.call(this);a=a&&CKEDITOR.tools.clone(a);if(void 0!==e){if(!(e instanceof CKEDITOR.dom.element))throw Error("Expect element of type CKEDITOR.dom.element.");if(!g)throw Error("One of the element modes must be specified.");if(CKEDITOR.env.ie&&CKEDITOR.env.quirks&&g==CKEDITOR.ELEMENT_MODE_INLINE)throw Error("Inline element mode is not supported on IE quirks.");if(!c(e,g))throw Error('The specified element mode is not supported on element: "'+e.getName()+'".');this.element=e;this.elementMode=g;this.name=this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO&&(e.getId()||e.getNameAtt())}else this.elementMode=CKEDITOR.ELEMENT_MODE_NONE;this._={};this.commands={};this.templates={};this.name=this.name||b();this.id=CKEDITOR.tools.getNextId();this.status="unloaded";this.config=CKEDITOR.tools.prototypedCopy(CKEDITOR.config);this.ui=new CKEDITOR.ui(this);this.focusManager=new CKEDITOR.focusManager(this);this.keystrokeHandler=new CKEDITOR.keystrokeHandler(this);this.on("readOnly",d);this.on("selectionChange",function(a){f(this,a.data.path)});this.on("activeFilterChange",function(){f(this,this.elementPath(),!0)});this.on("mode",d);this.on("instanceReady",function(){this.config.startupFocus&&this.focus()});CKEDITOR.fire("instanceCreated",null,this);CKEDITOR.add(this);CKEDITOR.tools.setTimeout(function(){"destroyed"!==this.status?h(this,a):CKEDITOR.warn("editor-incorrect-destroy")},0,this)}function b(){do var a="editor"+ ++n;while(CKEDITOR.instances[a]);return a}function c(a,b){return b==CKEDITOR.ELEMENT_MODE_INLINE?a.is(CKEDITOR.dtd.$editable)||a.is("textarea"):b==CKEDITOR.ELEMENT_MODE_REPLACE?!a.is(CKEDITOR.dtd.$nonBodyContent):1}function d(){var a=this.commands,b;for(b in a)e(this,a[b])}function e(a,b){b[b.startDisabled?"disable":a.readOnly&&!b.readOnly?"disable":b.modes[a.mode]?"enable":"disable"]()}function f(a,b,c){if(b){var d,e,f=a.commands;for(e in f)d=f[e],(c||d.contextSensitive)&&d.refresh(a,b)}}function g(a){var b=a.config.customConfig;if(!b)return!1;var b=CKEDITOR.getUrl(b),c=o[b]||(o[b]={});c.fn?(c.fn.call(a,a.config),CKEDITOR.getUrl(a.config.customConfig)!=b&&g(a)||a.fireOnce("customConfigLoaded")):CKEDITOR.scriptLoader.queue(b,function(){c.fn=CKEDITOR.editorConfig?CKEDITOR.editorConfig:function(){};g(a)});return!0}function h(a,b){a.on("customConfigLoaded",function(){if(b){if(b.on)for(var c in b.on)a.on(c,b.on[c]);CKEDITOR.tools.extend(a.config,b,!0);delete a.config.on}c=a.config;a.readOnly=c.readOnly?!0:a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?a.element.is("textarea")?a.element.hasAttribute("disabled")||a.element.hasAttribute("readonly"):a.element.isReadOnly():a.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?a.element.hasAttribute("disabled")||a.element.hasAttribute("readonly"):!1;a.blockless=a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?!(a.element.is("textarea")||CKEDITOR.dtd[a.element.getName()].p):!1;a.tabIndex=c.tabIndex||a.element&&a.element.getAttribute("tabindex")||0;a.activeEnterMode=a.enterMode=a.blockless?CKEDITOR.ENTER_BR:c.enterMode;a.activeShiftEnterMode=a.shiftEnterMode=a.blockless?CKEDITOR.ENTER_BR:c.shiftEnterMode;c.skin&&(CKEDITOR.skinName=c.skin);a.fireOnce("configLoaded");a.dataProcessor=new CKEDITOR.htmlDataProcessor(a);a.filter=a.activeFilter=new CKEDITOR.filter(a);i(a)});b&&null!=b.customConfig&&(a.config.customConfig=b.customConfig);g(a)||a.fireOnce("customConfigLoaded")}function i(a){CKEDITOR.skin.loadPart("editor",function(){j(a)})}function j(a){CKEDITOR.lang.load(a.config.language,a.config.defaultLanguage,function(b,c){var d=a.config.title;a.langCode=b;a.lang=CKEDITOR.tools.prototypedCopy(c);a.title="string"==typeof d||!1===d?d:[a.lang.editor,a.name].join(", ");a.config.contentsLangDirection||(a.config.contentsLangDirection=a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?a.element.getDirection(1):a.lang.dir);a.fire("langLoaded");k(a)})}function k(a){a.getStylesSet(function(b){a.once("loaded",function(){a.fire("stylesSet",{styles:b})},null,null,1);l(a)})}function l(a){var b=a.config,c=b.plugins,d=b.extraPlugins,e=b.removePlugins;if(d)var f=new RegExp("(?:^|,)(?:"+d.replace(/\s*,\s*/g,"|")+")(?=,|$)","g"),c=c.replace(f,""),c=c+(","+d);if(e)var g=new RegExp("(?:^|,)(?:"+e.replace(/\s*,\s*/g,"|")+")(?=,|$)","g"),c=c.replace(g,"");CKEDITOR.env.air&&(c+=",adobeair");CKEDITOR.plugins.load(c.split(","),function(c){var d=[],e=[],f=[];a.plugins=c;for(var h in c){var i=c[h],j=i.lang,k=null,l=i.requires,m;CKEDITOR.tools.isArray(l)&&(l=l.join(","));if(l&&(m=l.match(g)))for(;l=m.pop();)CKEDITOR.error("editor-plugin-required",{plugin:l.replace(",",""),requiredBy:h});j&&!a.lang[h]&&(j.split&&(j=j.split(",")),0<=CKEDITOR.tools.indexOf(j,a.langCode)?k=a.langCode:(k=a.langCode.replace(/-.*/,""),k=k!=a.langCode&&0<=CKEDITOR.tools.indexOf(j,k)?k:0<=CKEDITOR.tools.indexOf(j,"en")?"en":j[0]),i.langEntries&&i.langEntries[k]?(a.lang[h]=i.langEntries[k],k=null):f.push(CKEDITOR.getUrl(i.path+"lang/"+k+".js")));e.push(k);d.push(i)}CKEDITOR.scriptLoader.load(f,function(){for(var c=["beforeInit","init","afterInit"],f=0;f<c.length;f++)for(var g=0;g<d.length;g++){var h=d[g];0===f&&e[g]&&h.lang&&h.langEntries&&(a.lang[h.name]=h.langEntries[e[g]]);if(h[c[f]])h[c[f]](a)}a.fireOnce("pluginsLoaded");b.keystrokes&&a.setKeystroke(a.config.keystrokes);for(g=0;g<a.config.blockedKeystrokes.length;g++)a.keystrokeHandler.blockedKeystrokes[a.config.blockedKeystrokes[g]]=1;a.status="loaded";a.fireOnce("loaded");CKEDITOR.fire("instanceLoaded",null,a)})})}function m(){var a=this.element;if(a&&this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO){var b=this.getData();this.config.htmlEncodeOutput&&(b=CKEDITOR.tools.htmlEncode(b));a.is("textarea")?a.setValue(b):a.setHtml(b);return!0}return!1}a.prototype=CKEDITOR.editor.prototype;CKEDITOR.editor=a;var n=0,o={};CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{addCommand:function(a,b){b.name=a.toLowerCase();var c=new CKEDITOR.command(this,b);this.mode&&e(this,c);return this.commands[a]=c},_attachToForm:function(){function a(a){c.updateElement();c._.required&&!d.getValue()&&!1===c.fire("required")&&a.data.preventDefault()}function b(a){return!!(a&&a.call&&a.apply)}var c=this,d=c.element,e=new CKEDITOR.dom.element(d.$.form);d.is("textarea")&&e&&(e.on("submit",a),b(e.$.submit)&&(e.$.submit=CKEDITOR.tools.override(e.$.submit,function(b){return function(){a();b.apply?b.apply(this):b()}})),c.on("destroy",function(){e.removeListener("submit",a)}))},destroy:function(a){this.fire("beforeDestroy");!a&&m.call(this);this.editable(null);this.filter&&(this.filter.destroy(),delete this.filter);delete this.activeFilter;this.status="destroyed";this.fire("destroy");this.removeAllListeners();CKEDITOR.remove(this);CKEDITOR.fire("instanceDestroyed",null,this)},elementPath:function(a){if(!a){a=this.getSelection();if(!a)return null;a=a.getStartElement()}return a?new CKEDITOR.dom.elementPath(a,this.editable()):null},createRange:function(){var a=this.editable();return a?new CKEDITOR.dom.range(a):null},execCommand:function(a,b){var c=this.getCommand(a),d={name:a,commandData:b,command:c};return c&&c.state!=CKEDITOR.TRISTATE_DISABLED&&!1!==this.fire("beforeCommandExec",d)&&(d.returnValue=c.exec(d.commandData),!c.async&&!1!==this.fire("afterCommandExec",d))?d.returnValue:!1},getCommand:function(a){return this.commands[a]},getData:function(a){!a&&this.fire("beforeGetData");var b=this._.data;"string"!=typeof b&&(b=(b=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?b.is("textarea")?b.getValue():b.getHtml():"");b={dataValue:b};!a&&this.fire("getData",b);return b.dataValue},getSnapshot:function(){var a=this.fire("getSnapshot");"string"!=typeof a&&(a=(a=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?a.is("textarea")?a.getValue():a.getHtml():"");return a},loadSnapshot:function(a){this.fire("loadSnapshot",a)},setData:function(a,b,c){var d=!0,e=b;b&&"object"==typeof b&&(c=b.internal,e=b.callback,d=!b.noSnapshot);!c&&d&&this.fire("saveSnapshot");if(e||!c)this.once("dataReady",function(a){!c&&d&&this.fire("saveSnapshot");e&&e.call(a.editor)});a={dataValue:a};!c&&this.fire("setData",a);this._.data=a.dataValue;!c&&this.fire("afterSetData",a)},setReadOnly:function(a){a=null==a||a;this.readOnly!=a&&(this.readOnly=a,this.keystrokeHandler.blockedKeystrokes[8]=+a,this.editable().setReadOnly(a),this.fire("readOnly"))},insertHtml:function(a,b,c){this.fire("insertHtml",{dataValue:a,mode:b,range:c})},insertText:function(a){this.fire("insertText",a)},insertElement:function(a){this.fire("insertElement",a)},getSelectedHtml:function(a){var b=this.editable(),c=this.getSelection(),c=c&&c.getRanges();if(!b||!c||0===c.length)return null;for(var d=new CKEDITOR.dom.documentFragment,e,f,g,h=0;h<c.length;h++){var i=c[h],j=i.startContainer;j.getName&&"tr"==j.getName()?(e||(e=j.getAscendant("table").clone(),e.append(j.getAscendant("tbody").clone()),d.append(e),e=e.findOne("tbody")),f&&f.equals(j)||(f=j,g=j.clone(),e.append(g)),g.append(i.cloneContents())):d.append(i.cloneContents())}b=e?d:b.getHtmlFromRange(c[0]);return a?b.getHtml():b},extractSelectedHtml:function(a,b){var c=this.editable(),d=this.getSelection().getRanges();if(!c||0===d.length)return null;d=d[0];c=c.extractHtmlFromRange(d,b);b||this.getSelection().selectRanges([d]);return a?c.getHtml():c},focus:function(){this.fire("beforeFocus")},checkDirty:function(){return"ready"==this.status&&this._.previousValue!==this.getSnapshot()},resetDirty:function(){this._.previousValue=this.getSnapshot()},updateElement:function(){return m.call(this)},setKeystroke:function(){for(var a=this.keystrokeHandler.keystrokes,b=CKEDITOR.tools.isArray(arguments[0])?arguments[0]:[[].slice.call(arguments,0)],c,d,e=b.length;e--;)c=b[e],d=0,CKEDITOR.tools.isArray(c)&&(d=c[1],c=c[0]),d?a[c]=d:delete a[c]},addFeature:function(a){return this.filter.addFeature(a)},setActiveFilter:function(a){a||(a=this.filter);this.activeFilter!==a&&(this.activeFilter=a,this.fire("activeFilterChange"),a===this.filter?this.setActiveEnterMode(null,null):this.setActiveEnterMode(a.getAllowedEnterMode(this.enterMode),a.getAllowedEnterMode(this.shiftEnterMode,!0)))},setActiveEnterMode:function(a,b){a=a?this.blockless?CKEDITOR.ENTER_BR:a:this.enterMode;b=b?this.blockless?CKEDITOR.ENTER_BR:b:this.shiftEnterMode;if(this.activeEnterMode!=a||this.activeShiftEnterMode!=b)this.activeEnterMode=a,this.activeShiftEnterMode=b,this.fire("activeEnterModeChange")},showNotification:function(a){alert(a)}})})();CKEDITOR.ELEMENT_MODE_NONE=0;CKEDITOR.ELEMENT_MODE_REPLACE=1;CKEDITOR.ELEMENT_MODE_APPENDTO=2;CKEDITOR.ELEMENT_MODE_INLINE=3;CKEDITOR.htmlParser=function(){this._={htmlPartsRegex:/<(?:(?:\/([^>]+)>)|(?:!--([\S|\s]*?)--\x3e)|(?:([^\/\s>]+)((?:\s+[\w\-:.]+(?:\s*=\s*?(?:(?:"[^"]*")|(?:'[^']*')|[^\s"'\/>]+))?)*)[\S\s]*?(\/?)>))/g}};(function(){var a=/([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g,b={checked:1,compact:1,declare:1,defer:1,disabled:1,ismap:1,multiple:1,nohref:1,noresize:1,noshade:1,nowrap:1,readonly:1,selected:1};CKEDITOR.htmlParser.prototype={onTagOpen:function(){},onTagClose:function(){},onText:function(){},onCDATA:function(){},onComment:function(){},parse:function(c){for(var d,e,f=0,g;d=this._.htmlPartsRegex.exec(c);){e=d.index;if(e>f)if(f=c.substring(f,e),g)g.push(f);else this.onText(f);f=this._.htmlPartsRegex.lastIndex;if(e=d[1])if(e=e.toLowerCase(),g&&CKEDITOR.dtd.$cdata[e]&&(this.onCDATA(g.join("")),g=null),!g){this.onTagClose(e);continue}if(g)g.push(d[0]);else if(e=d[3]){if(e=e.toLowerCase(),!/="/.test(e)){var h={},i,j=d[4];d=!!d[5];if(j)for(;i=a.exec(j);){var k=i[1].toLowerCase();i=i[2]||i[3]||i[4]||"";h[k]=!i&&b[k]?k:CKEDITOR.tools.htmlDecodeAttr(i)}this.onTagOpen(e,h,d);!g&&CKEDITOR.dtd.$cdata[e]&&(g=[])}}else if(e=d[2])this.onComment(e)}if(c.length>f)this.onText(c.substring(f,c.length))}}})();CKEDITOR.htmlParser.basicWriter=CKEDITOR.tools.createClass({$:function(){this._={output:[]}},proto:{openTag:function(a){this._.output.push("<",a)},openTagClose:function(a,b){b?this._.output.push(" />"):this._.output.push(">")},attribute:function(a,b){"string"==typeof b&&(b=CKEDITOR.tools.htmlEncodeAttr(b));this._.output.push(" ",a,'="',b,'"')},closeTag:function(a){this._.output.push("</",a,">")},text:function(a){this._.output.push(a)},comment:function(a){this._.output.push("<!--",a,"-->")},write:function(a){this._.output.push(a)},reset:function(){this._.output=[];this._.indent=!1},getHtml:function(a){var b=this._.output.join("");a&&this.reset();return b}}});"use strict";(function(){CKEDITOR.htmlParser.node=function(){};CKEDITOR.htmlParser.node.prototype={remove:function(){var a=this.parent.children,b=CKEDITOR.tools.indexOf(a,this),c=this.previous,d=this.next;c&&(c.next=d);d&&(d.previous=c);a.splice(b,1);this.parent=null},replaceWith:function(a){var b=this.parent.children,c=CKEDITOR.tools.indexOf(b,this),d=a.previous=this.previous,e=a.next=this.next;d&&(d.next=a);e&&(e.previous=a);b[c]=a;a.parent=this.parent;this.parent=null},insertAfter:function(a){var b=a.parent.children,c=CKEDITOR.tools.indexOf(b,a),d=a.next;b.splice(c+1,0,this);this.next=a.next;this.previous=a;a.next=this;d&&(d.previous=this);this.parent=a.parent},insertBefore:function(a){var b=a.parent.children,c=CKEDITOR.tools.indexOf(b,a);b.splice(c,0,this);this.next=a;(this.previous=a.previous)&&(a.previous.next=this);a.previous=this;this.parent=a.parent},getAscendant:function(a){var b="function"==typeof a?a:"string"==typeof a?function(b){return b.name==a}:function(b){return b.name in a},c=this.parent;for(;c&&c.type==CKEDITOR.NODE_ELEMENT;){if(b(c))return c;c=c.parent}return null},wrapWith:function(a){this.replaceWith(a);a.add(this);return a},getIndex:function(){return CKEDITOR.tools.indexOf(this.parent.children,this)},getFilterContext:function(a){return a||{}}}})();"use strict";CKEDITOR.htmlParser.comment=function(a){this.value=a;this._={isBlockLike:!1}};CKEDITOR.htmlParser.comment.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_COMMENT,filter:function(a,b){var c=this.value;if(!(c=a.onComment(b,c,this)))return this.remove(),!1;if("string"!=typeof c)return this.replaceWith(c),!1;this.value=c;return!0},writeHtml:function(a,b){b&&this.filter(b);a.comment(this.value)}});"use strict";(function(){CKEDITOR.htmlParser.text=function(a){this.value=a;this._={isBlockLike:!1}};CKEDITOR.htmlParser.text.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(a,b){if(!(this.value=a.onText(b,this.value,this)))return this.remove(),!1},writeHtml:function(a,b){b&&this.filter(b);a.text(this.value)}})})();"use strict";(function(){CKEDITOR.htmlParser.cdata=function(a){this.value=a};CKEDITOR.htmlParser.cdata.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(){},writeHtml:function(a){a.write(this.value)}})})();"use strict";CKEDITOR.htmlParser.fragment=function(){this.children=[];this.parent=null;this._={isBlockLike:!0,hasInlineStarted:!1}};(function(){function a(a){return a.attributes["data-cke-survive"]?!1:"a"==a.name&&a.attributes.href||CKEDITOR.dtd.$removeEmpty[a.name]}var b=CKEDITOR.tools.extend({table:1,ul:1,ol:1,dl:1},CKEDITOR.dtd.table,CKEDITOR.dtd.ul,CKEDITOR.dtd.ol,CKEDITOR.dtd.dl),c={ol:1,ul:1},d=CKEDITOR.tools.extend({},{html:1},CKEDITOR.dtd.html,CKEDITOR.dtd.body,CKEDITOR.dtd.head,{style:1,script:1}),e={ul:"li",ol:"li",dl:"dd",table:"tbody",tbody:"tr",thead:"tr",tfoot:"tr",tr:"td"};CKEDITOR.htmlParser.fragment.fromHtml=function(f,g,h){function i(a){var b;if(0<q.length)for(var c=0;c<q.length;c++){var d=q[c],e=d.name,f=CKEDITOR.dtd[e],g=s.name&&CKEDITOR.dtd[s.name];g&&!g[e]||a&&f&&!f[a]&&CKEDITOR.dtd[a]?e==s.name&&(l(s,s.parent,1),c--):(b||(j(),b=1),d=d.clone(),d.parent=s,s=d,q.splice(c,1),c--)}}function j(){for(;r.length;)l(r.shift(),s)}function k(a){if(a._.isBlockLike&&"pre"!=a.name&&"textarea"!=a.name){var b=a.children.length,c=a.children[b-1],d;c&&c.type==CKEDITOR.NODE_TEXT&&((d=CKEDITOR.tools.rtrim(c.value))?c.value=d:a.children.length=b-1)}}function l(b,c,d){c=c||s||p;var e=s;void 0===b.previous&&(m(c,b)&&(s=c,o.onTagOpen(h,{}),b.returnPoint=c=s),k(b),a(b)&&!b.children.length||c.add(b),"pre"==b.name&&(u=!1),"textarea"==b.name&&(t=!1));b.returnPoint?(s=b.returnPoint,delete b.returnPoint):s=d?c:e}function m(a,b){if((a==p||"body"==a.name)&&h&&(!a.name||CKEDITOR.dtd[a.name][h])){var c,d;return(c=b.attributes&&(d=b.attributes["data-cke-real-element-type"])?d:b.name)&&c in CKEDITOR.dtd.$inline&&!(c in CKEDITOR.dtd.head)&&!b.isOrphan||b.type==CKEDITOR.NODE_TEXT}}function n(a,b){return a in CKEDITOR.dtd.$listItem||a in CKEDITOR.dtd.$tableContent?a==b||"dt"==a&&"dd"==b||"dd"==a&&"dt"==b:!1}var o=new CKEDITOR.htmlParser,p=g instanceof CKEDITOR.htmlParser.element?g:"string"==typeof g?new CKEDITOR.htmlParser.element(g):new CKEDITOR.htmlParser.fragment,q=[],r=[],s=p,t="textarea"==p.name,u="pre"==p.name;o.onTagOpen=function(e,f,g,h){f=new CKEDITOR.htmlParser.element(e,f);f.isUnknown&&g&&(f.isEmpty=!0);f.isOptionalClose=h;if(a(f))q.push(f);else{if("pre"==e)u=!0;else{if("br"==e&&u){s.add(new CKEDITOR.htmlParser.text("\n"));return}"textarea"==e&&(t=!0)}if("br"==e)r.push(f);else{for(;!(h=(g=s.name)?CKEDITOR.dtd[g]||(s._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):d,f.isUnknown||s.isUnknown||h[e]);)if(s.isOptionalClose)o.onTagClose(g);else if(e in c&&g in c)g=s.children,(g=g[g.length-1])&&"li"==g.name||l(g=new CKEDITOR.htmlParser.element("li"),s),!f.returnPoint&&(f.returnPoint=s),s=g;else if(e in CKEDITOR.dtd.$listItem&&!n(e,g))o.onTagOpen("li"==e?"ul":"dl",{},0,1);else if(g in b&&!n(e,g))!f.returnPoint&&(f.returnPoint=s),s=s.parent;else if(g in CKEDITOR.dtd.$inline&&q.unshift(s),s.parent)l(s,s.parent,1);else{f.isOrphan=1;break}i(e);j();f.parent=s;f.isEmpty?l(f):s=f}}};o.onTagClose=function(a){for(var b=q.length-1;0<=b;b--)if(a==q[b].name){q.splice(b,1);return}for(var c=[],d=[],e=s;e!=p&&e.name!=a;)e._.isBlockLike||d.unshift(e),c.push(e),e=e.returnPoint||e.parent;if(e!=p){for(b=0;b<c.length;b++){var f=c[b];l(f,f.parent)}s=e;e._.isBlockLike&&j();l(e,e.parent);e==s&&(s=s.parent);q=q.concat(d)}"body"==a&&(h=!1)};o.onText=function(a){if(!(s._.hasInlineStarted&&!r.length||u||t)&&(a=CKEDITOR.tools.ltrim(a),0===a.length))return;var c=s.name,f=c?CKEDITOR.dtd[c]||(s._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):d;if(!t&&!f["#"]&&c in b)o.onTagOpen(e[c]||""),o.onText(a);else{j();i();u||t||(a=a.replace(/[\t\r\n ]{2,}|[\t\r\n]/g," "));a=new CKEDITOR.htmlParser.text(a);if(m(s,a))this.onTagOpen(h,{},0,1);s.add(a)}};o.onCDATA=function(a){s.add(new CKEDITOR.htmlParser.cdata(a))};o.onComment=function(a){j();i();s.add(new CKEDITOR.htmlParser.comment(a))};o.parse(f);for(j();s!=p;)l(s,s.parent,1);k(p);return p};CKEDITOR.htmlParser.fragment.prototype={type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,add:function(a,b){isNaN(b)&&(b=this.children.length);var c=0<b?this.children[b-1]:null;if(c){if(a._.isBlockLike&&c.type==CKEDITOR.NODE_TEXT&&(c.value=CKEDITOR.tools.rtrim(c.value),0===c.value.length)){this.children.pop();this.add(a);return}c.next=a}a.previous=c;a.parent=this;this.children.splice(b,0,a);this._.hasInlineStarted||(this._.hasInlineStarted=a.type==CKEDITOR.NODE_TEXT||a.type==CKEDITOR.NODE_ELEMENT&&!a._.isBlockLike)},filter:function(a,b){b=this.getFilterContext(b);a.onRoot(b,this);this.filterChildren(a,!1,b)},filterChildren:function(a,b,c){if(this.childrenFilteredBy!=a.id){c=this.getFilterContext(c);if(b&&!this.parent)a.onRoot(c,this);this.childrenFilteredBy=a.id;for(b=0;b<this.children.length;b++)!1===this.children[b].filter(a,c)&&b--}},writeHtml:function(a,b){b&&this.filter(b);this.writeChildrenHtml(a)},writeChildrenHtml:function(a,b,c){var d=this.getFilterContext();if(c&&!this.parent&&b)b.onRoot(d,this);b&&this.filterChildren(b,!1,d);b=0;c=this.children;for(d=c.length;b<d;b++)c[b].writeHtml(a)},forEach:function(a,b,c){if(!(c||b&&this.type!=b))var d=a(this);if(!1!==d){c=this.children;for(var e=0;e<c.length;e++)d=c[e],d.type==CKEDITOR.NODE_ELEMENT?d.forEach(a,b):b&&d.type!=b||a(d)}},getFilterContext:function(a){return a||{}}}})();"use strict";(function(){function a(){this.rules=[]}function b(b,c,d,e){var f,g;for(f in c)(g=b[f])||(g=b[f]=new a),g.add(c[f],d,e)}CKEDITOR.htmlParser.filter=CKEDITOR.tools.createClass({$:function(b){this.id=CKEDITOR.tools.getNextNumber();this.elementNameRules=new a;this.attributeNameRules=new a;this.elementsRules={};this.attributesRules={};this.textRules=new a;this.commentRules=new a;this.rootRules=new a;b&&this.addRules(b,10)},proto:{addRules:function(a,c){var d;"number"==typeof c?d=c:c&&"priority"in c&&(d=c.priority);"number"!=typeof d&&(d=10);"object"!=typeof c&&(c={});a.elementNames&&this.elementNameRules.addMany(a.elementNames,d,c);a.attributeNames&&this.attributeNameRules.addMany(a.attributeNames,d,c);a.elements&&b(this.elementsRules,a.elements,d,c);a.attributes&&b(this.attributesRules,a.attributes,d,c);a.text&&this.textRules.add(a.text,d,c);a.comment&&this.commentRules.add(a.comment,d,c);a.root&&this.rootRules.add(a.root,d,c)},applyTo:function(a){a.filter(this)},onElementName:function(a,b){return this.elementNameRules.execOnName(a,b)},onAttributeName:function(a,b){return this.attributeNameRules.execOnName(a,b)},onText:function(a,b,c){return this.textRules.exec(a,b,c)},onComment:function(a,b,c){return this.commentRules.exec(a,b,c)},onRoot:function(a,b){return this.rootRules.exec(a,b)},onElement:function(a,b){for(var c=[this.elementsRules["^"],this.elementsRules[b.name],this.elementsRules.$],d,e=0;3>e;e++)if(d=c[e]){d=d.exec(a,b,this);if(!1===d)return null;if(d&&d!=b)return this.onNode(a,d);if(b.parent&&!b.name)break}return b},onNode:function(a,b){var c=b.type;return c==CKEDITOR.NODE_ELEMENT?this.onElement(a,b):c==CKEDITOR.NODE_TEXT?new CKEDITOR.htmlParser.text(this.onText(a,b.value)):c==CKEDITOR.NODE_COMMENT?new CKEDITOR.htmlParser.comment(this.onComment(a,b.value)):null},onAttribute:function(a,b,c,d){return(c=this.attributesRules[c])?c.exec(a,d,b,this):d}}});CKEDITOR.htmlParser.filterRulesGroup=a;a.prototype={add:function(a,b,c){this.rules.splice(this.findIndex(b),0,{value:a,priority:b,options:c})},addMany:function(a,b,c){for(var d=[this.findIndex(b),0],e=0,f=a.length;e<f;e++)d.push({value:a[e],priority:b,options:c});this.rules.splice.apply(this.rules,d)},findIndex:function(a){for(var b=this.rules,c=b.length-1;0<=c&&a<b[c].priority;)c--;return c+1},exec:function(a,b){var c=b instanceof CKEDITOR.htmlParser.node||b instanceof CKEDITOR.htmlParser.fragment,d=Array.prototype.slice.call(arguments,1),e=this.rules,f=e.length,g,h,i,j;
for(j=0;j<f;j++)if(c&&(g=b.type,h=b.name),i=e[j],!(a.nonEditable&&!i.options.applyToAll||a.nestedEditable&&i.options.excludeNestedEditable)){i=i.value.apply(null,d);if(!1===i||c&&i&&(i.name!=h||i.type!=g))return i;null!=i&&(d[0]=b=i)}return b},execOnName:function(a,b){for(var c=0,d=this.rules,e=d.length,f;b&&c<e;c++)f=d[c],a.nonEditable&&!f.options.applyToAll||a.nestedEditable&&f.options.excludeNestedEditable||(b=b.replace(f.value[0],f.value[1]));return b}}})();(function(){function a(a,b){function h(a){return a||CKEDITOR.env.needsNbspFiller?new CKEDITOR.htmlParser.text(""):new CKEDITOR.htmlParser.element("br",{"data-cke-bogus":1})}function i(a,b){return function(e){if(e.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var g=[],i=c(e),k,m;if(i)for(j(i,1)&&g.push(i);i;)f(i)&&(k=d(i))&&j(k)&&((m=d(k))&&!f(m)?g.push(k):(h(l).insertAfter(k),k.remove())),i=i.previous;for(i=0;i<g.length;i++)g[i].remove();if(g=!a||!1!==("function"==typeof b?b(e):b))l||CKEDITOR.env.needsBrFiller||e.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT?l||CKEDITOR.env.needsBrFiller||!(7<document.documentMode||e.name in CKEDITOR.dtd.tr||e.name in CKEDITOR.dtd.$listItem)?(g=c(e),g=!g||"form"==e.name&&"input"==g.name):g=!1:g=!1;g&&e.add(h(a))}}}function j(a,b){if((!l||CKEDITOR.env.needsBrFiller)&&a.type==CKEDITOR.NODE_ELEMENT&&"br"==a.name&&!a.attributes["data-cke-eol"])return!0;var c;return a.type==CKEDITOR.NODE_TEXT&&(c=a.value.match(q))&&(c.index&&(new CKEDITOR.htmlParser.text(a.value.substring(0,c.index)).insertBefore(a),a.value=c[0]),!CKEDITOR.env.needsBrFiller&&l&&(!b||a.parent.name in m)||!l&&((c=a.previous)&&"br"==c.name||!c||f(c)))?!0:!1}var k={elements:{}},l="html"==b,m=CKEDITOR.tools.extend({},u),n;for(n in m)"#"in s[n]||delete m[n];for(n in m)k.elements[n]=i(l,a.config.fillEmptyBlocks);k.root=i(l,!1);k.elements.br=function(a){return function(b){if(b.parent.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var c=b.attributes;if("data-cke-bogus"in c||"data-cke-eol"in c)delete c["data-cke-bogus"];else{for(c=b.next;c&&e(c);)c=c.next;var i=d(b);!c&&f(b.parent)?g(b.parent,h(a)):f(c)&&i&&!f(i)&&h(a).insertBefore(c)}}}}(l);return k}function b(a,b){return a!=CKEDITOR.ENTER_BR&&!1!==b?a==CKEDITOR.ENTER_DIV?"div":"p":!1}function c(a){for(a=a.children[a.children.length-1];a&&e(a);)a=a.previous;return a}function d(a){for(a=a.previous;a&&e(a);)a=a.previous;return a}function e(a){return a.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(a.value)||a.type==CKEDITOR.NODE_ELEMENT&&a.attributes["data-cke-bookmark"]}function f(a){return a&&(a.type==CKEDITOR.NODE_ELEMENT&&a.name in u||a.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)}function g(a,b){var c=a.children[a.children.length-1];a.children.push(b);b.parent=a;c&&(c.next=b,b.previous=c)}function h(a){a=a.attributes;"false"!=a.contenteditable&&(a["data-cke-editable"]=a.contenteditable?"true":1);a.contenteditable="false"}function i(a){a=a.attributes;switch(a["data-cke-editable"]){case"true":a.contenteditable="true";break;case"1":delete a.contenteditable}}function j(a){return a.replace(z,function(a,b,c){return"<"+b+c.replace(A,function(a,b){return B.test(b)&&-1==c.indexOf("data-cke-saved-"+b)?" data-cke-saved-"+a+" data-cke-"+CKEDITOR.rnd+"-"+a:a})+">"})}function k(a,b){return a.replace(b,function(a,b,c){0===a.indexOf("<textarea")&&(a=b+n(c).replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</textarea>");return"<cke:encoded>"+encodeURIComponent(a)+"</cke:encoded>"})}function l(a){return a.replace(E,function(a,b){return decodeURIComponent(b)})}function m(a){return a.replace(/\x3c!--(?!{cke_protected})[\s\S]+?--\x3e/g,function(a){return"<!--"+r+"{C}"+encodeURIComponent(a).replace(/--/g,"%2D%2D")+"-->"})}function n(a){return a.replace(/\x3c!--\{cke_protected\}\{C\}([\s\S]+?)--\x3e/g,function(a,b){return decodeURIComponent(b)})}function o(a,b){var c=b._.dataStore;return a.replace(/\x3c!--\{cke_protected\}([\s\S]+?)--\x3e/g,function(a,b){return decodeURIComponent(b)}).replace(/\{cke_protected_(\d+)\}/g,function(a,b){return c&&c[b]||""})}function p(a,b){var c=[],d=b.config.protectedSource,e=b._.dataStore||(b._.dataStore={id:1}),f=/<\!--\{cke_temp(comment)?\}(\d*?)--\x3e/g,d=[/<script[\s\S]*?(<\/script>|$)/gi,/<noscript[\s\S]*?<\/noscript>/gi,/<meta[\s\S]*?\/?>/gi].concat(d);a=a.replace(/\x3c!--[\s\S]*?--\x3e/g,function(a){return"<!--{cke_tempcomment}"+(c.push(a)-1)+"-->"});for(var g=0;g<d.length;g++)a=a.replace(d[g],function(a){a=a.replace(f,function(a,b,d){return c[d]});return/cke_temp(comment)?/.test(a)?a:"<!--{cke_temp}"+(c.push(a)-1)+"-->"});a=a.replace(f,function(a,b,d){return"<!--"+r+(b?"{C}":"")+encodeURIComponent(c[d]).replace(/--/g,"%2D%2D")+"-->"});a=a.replace(/<\w+(?:\s+(?:(?:[^\s=>]+\s*=\s*(?:[^'"\s>]+|'[^']*'|"[^"]*"))|[^\s=\/>]+))+\s*\/?>/g,function(a){return a.replace(/\x3c!--\{cke_protected\}([^>]*)--\x3e/g,function(a,b){e[e.id]=decodeURIComponent(b);return"{cke_protected_"+e.id++ +"}"})});return a=a.replace(/<(title|iframe|textarea)([^>]*)>([\s\S]*?)<\/\1>/g,function(a,c,d,e){return"<"+c+d+">"+o(n(e),b)+"</"+c+">"})}CKEDITOR.htmlDataProcessor=function(c){var d,e,f=this;this.editor=c;this.dataFilter=d=new CKEDITOR.htmlParser.filter;this.htmlFilter=e=new CKEDITOR.htmlParser.filter;this.writer=new CKEDITOR.htmlParser.basicWriter;d.addRules(v);d.addRules(w,{applyToAll:!0});d.addRules(a(c,"data"),{applyToAll:!0});e.addRules(x);e.addRules(y,{applyToAll:!0});e.addRules(a(c,"html"),{applyToAll:!0});c.on("toHtml",function(a){a=a.data;var d=a.dataValue,e,d=p(d,c),d=k(d,D),d=j(d),d=k(d,C),d=d.replace(F,"$1cke:$2"),d=d.replace(H,"<cke:$1$2></cke:$1>"),d=d.replace(/(<pre\b[^>]*>)(\r\n|\n)/g,"$1$2$2"),d=d.replace(/([^a-z0-9<\-])(on\w{3,})(?!>)/gi,"$1data-cke-"+CKEDITOR.rnd+"-$2");e=a.context||c.editable().getName();var f;CKEDITOR.env.ie&&9>CKEDITOR.env.version&&"pre"==e&&(e="div",d="<pre>"+d+"</pre>",f=1);e=c.document.createElement(e);e.setHtml("a"+d);d=e.getHtml().substr(1);d=d.replace(new RegExp("data-cke-"+CKEDITOR.rnd+"-","ig"),"");f&&(d=d.replace(/^<pre>|<\/pre>$/gi,""));d=d.replace(G,"$1$2");d=l(d);d=n(d);e=!1===a.fixForBody?!1:b(a.enterMode,c.config.autoParagraph);d=CKEDITOR.htmlParser.fragment.fromHtml(d,a.context,e);e&&(f=d,!f.children.length&&CKEDITOR.dtd[f.name][e]&&(e=new CKEDITOR.htmlParser.element(e),f.add(e)));a.dataValue=d},null,null,5);c.on("toHtml",function(a){a.data.filter.applyTo(a.data.dataValue,!0,a.data.dontFilter,a.data.enterMode)&&c.fire("dataFiltered")},null,null,6);c.on("toHtml",function(a){a.data.dataValue.filterChildren(f.dataFilter,!0)},null,null,10);c.on("toHtml",function(a){a=a.data;var b=a.dataValue,c=new CKEDITOR.htmlParser.basicWriter;b.writeChildrenHtml(c);b=c.getHtml(!0);a.dataValue=m(b)},null,null,15);c.on("toDataFormat",function(a){var d=a.data.dataValue;a.data.enterMode!=CKEDITOR.ENTER_BR&&(d=d.replace(/^<br *\/?>/i,""));a.data.dataValue=CKEDITOR.htmlParser.fragment.fromHtml(d,a.data.context,b(a.data.enterMode,c.config.autoParagraph))},null,null,5);c.on("toDataFormat",function(a){a.data.dataValue.filterChildren(f.htmlFilter,!0)},null,null,10);c.on("toDataFormat",function(a){a.data.filter.applyTo(a.data.dataValue,!1,!0)},null,null,11);c.on("toDataFormat",function(a){var b=a.data.dataValue,d=f.writer;d.reset();b.writeChildrenHtml(d);b=d.getHtml(!0);b=n(b);b=o(b,c);a.data.dataValue=b},null,null,15)};CKEDITOR.htmlDataProcessor.prototype={toHtml:function(a,b,c,d){var e=this.editor,f,g,h,i;b&&"object"==typeof b?(f=b.context,c=b.fixForBody,d=b.dontFilter,g=b.filter,h=b.enterMode,i=b.protectedWhitespaces):f=b;f||null===f||(f=e.editable().getName());return e.fire("toHtml",{dataValue:a,context:f,fixForBody:c,dontFilter:d,filter:g||e.filter,enterMode:h||e.enterMode,protectedWhitespaces:i}).dataValue},toDataFormat:function(a,b){var c,d,e;b&&(c=b.context,d=b.filter,e=b.enterMode);c||null===c||(c=this.editor.editable().getName());return this.editor.fire("toDataFormat",{dataValue:a,filter:d||this.editor.filter,context:c,enterMode:e||this.editor.enterMode}).dataValue}};var q=/(?:&nbsp;|\xa0)$/,r="{cke_protected}",s=CKEDITOR.dtd,t="caption colgroup col thead tfoot tbody".split(" "),u=CKEDITOR.tools.extend({},s.$blockLimit,s.$block),v={elements:{input:h,textarea:h}},w={attributeNames:[[/^on/,"data-cke-pa-on"],[/^data-cke-expando$/,""]]},x={elements:{embed:function(a){var b=a.parent;if(b&&"object"==b.name){var c=b.attributes.width,b=b.attributes.height;c&&(a.attributes.width=c);b&&(a.attributes.height=b)}},a:function(a){var b=a.attributes;if(!(a.children.length||b.name||b.id||a.attributes["data-cke-saved-name"]))return!1}}},y={elementNames:[[/^cke:/,""],[/^\?xml:namespace$/,""]],attributeNames:[[/^data-cke-(saved|pa)-/,""],[/^data-cke-.*/,""],["hidefocus",""]],elements:{$:function(a){var b=a.attributes;if(b){if(b["data-cke-temp"])return!1;for(var c=["name","href","src"],d,e=0;e<c.length;e++)d="data-cke-saved-"+c[e],d in b&&delete b[c[e]]}return a},table:function(a){a.children.slice(0).sort(function(a,b){var c,d;a.type==CKEDITOR.NODE_ELEMENT&&b.type==a.type&&(c=CKEDITOR.tools.indexOf(t,a.name),d=CKEDITOR.tools.indexOf(t,b.name));-1<c&&-1<d&&c!=d||(c=a.parent?a.getIndex():-1,d=b.parent?b.getIndex():-1);return c>d?1:-1})},param:function(a){a.children=[];a.isEmpty=!0;return a},span:function(a){"Apple-style-span"==a.attributes["class"]&&delete a.name},html:function(a){delete a.attributes.contenteditable;delete a.attributes["class"]},body:function(a){delete a.attributes.spellcheck;delete a.attributes.contenteditable},style:function(a){var b=a.children[0];b&&b.value&&(b.value=CKEDITOR.tools.trim(b.value));a.attributes.type||(a.attributes.type="text/css")},title:function(a){var b=a.children[0];!b&&g(a,b=new CKEDITOR.htmlParser.text);b.value=a.attributes["data-cke-title"]||""},input:i,textarea:i},attributes:{"class":function(a){return CKEDITOR.tools.ltrim(a.replace(/(?:^|\s+)cke_[^\s]*/g,""))||!1}}};CKEDITOR.env.ie&&(y.attributes.style=function(a){return a.replace(/(^|;)([^\:]+)/g,function(a){return a.toLowerCase()})});var z=/<(a|area|img|input|source)\b([^>]*)>/gi,A=/([\w-:]+)\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|(?:[^ "'>]+))/gi,B=/^(href|src|name)$/i,C=/(?:<style(?=[ >])[^>]*>[\s\S]*?<\/style>)|(?:<(:?link|meta|base)[^>]*>)/gi,D=/(<textarea(?=[ >])[^>]*>)([\s\S]*?)(?:<\/textarea>)/gi,E=/<cke:encoded>([^<]*)<\/cke:encoded>/gi,F=/(<\/?)((?:object|embed|param|html|body|head|title)[^>]*>)/gi,G=/(<\/?)cke:((?:html|body|head|title)[^>]*>)/gi,H=/<cke:(param|embed)([^>]*?)\/?>(?!\s*<\/cke:\1)/gi})();"use strict";CKEDITOR.htmlParser.element=function(a,b){this.name=a;this.attributes=b||{};this.children=[];var c=a||"",d=c.match(/^cke:(.*)/);d&&(c=d[1]);c=!!(CKEDITOR.dtd.$nonBodyContent[c]||CKEDITOR.dtd.$block[c]||CKEDITOR.dtd.$listItem[c]||CKEDITOR.dtd.$tableContent[c]||CKEDITOR.dtd.$nonEditable[c]||"br"==c);this.isEmpty=!!CKEDITOR.dtd.$empty[a];this.isUnknown=!CKEDITOR.dtd[a];this._={isBlockLike:c,hasInlineStarted:this.isEmpty||!c}};CKEDITOR.htmlParser.cssStyle=function(a){var b={};((a instanceof CKEDITOR.htmlParser.element?a.attributes.style:a)||"").replace(/&quot;/g,'"').replace(/\s*([^ :;]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(a,c,d){"font-family"==c&&(d=d.replace(/["']/g,""));b[c.toLowerCase()]=d});return{rules:b,populate:function(a){var b=this.toString();b&&(a instanceof CKEDITOR.dom.element?a.setAttribute("style",b):a instanceof CKEDITOR.htmlParser.element?a.attributes.style=b:a.style=b)},toString:function(){var a=[],c;for(c in b)b[c]&&a.push(c,":",b[c],";");return a.join("")}}};(function(){function a(a){return function(b){return b.type==CKEDITOR.NODE_ELEMENT&&("string"==typeof a?b.name==a:b.name in a)}}var b=function(a,b){a=a[0];b=b[0];return a<b?-1:a>b?1:0},c=CKEDITOR.htmlParser.fragment.prototype;CKEDITOR.htmlParser.element.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_ELEMENT,add:c.add,clone:function(){return new CKEDITOR.htmlParser.element(this.name,this.attributes)},filter:function(a,b){var c=this,d,e;b=c.getFilterContext(b);if(b.off)return!0;if(!c.parent)a.onRoot(b,c);for(;;){d=c.name;if(!(e=a.onElementName(b,d)))return this.remove(),!1;c.name=e;if(!(c=a.onElement(b,c)))return this.remove(),!1;if(c!==this)return this.replaceWith(c),!1;if(c.name==d)break;if(c.type!=CKEDITOR.NODE_ELEMENT)return this.replaceWith(c),!1;if(!c.name)return this.replaceWithChildren(),!1}d=c.attributes;var f,g;for(f in d){for(e=d[f];;)if(g=a.onAttributeName(b,f))if(g!=f)delete d[f],f=g;else break;else{delete d[f];break}g&&(!1===(e=a.onAttribute(b,c,g,e))?delete d[g]:d[g]=e)}c.isEmpty||this.filterChildren(a,!1,b);return!0},filterChildren:c.filterChildren,writeHtml:function(a,c){c&&this.filter(c);var d=this.name,e=[],f=this.attributes,g,h;a.openTag(d,f);for(g in f)e.push([g,f[g]]);a.sortAttributes&&e.sort(b);g=0;for(h=e.length;g<h;g++)f=e[g],a.attribute(f[0],f[1]);a.openTagClose(d,this.isEmpty);this.writeChildrenHtml(a);this.isEmpty||a.closeTag(d)},writeChildrenHtml:c.writeChildrenHtml,replaceWithChildren:function(){for(var a=this.children,b=a.length;b;)a[--b].insertAfter(this);this.remove()},forEach:c.forEach,getFirst:function(b){if(!b)return this.children.length?this.children[0]:null;"function"!=typeof b&&(b=a(b));for(var c=0,d=this.children.length;c<d;++c)if(b(this.children[c]))return this.children[c];return null},getHtml:function(){var a=new CKEDITOR.htmlParser.basicWriter;this.writeChildrenHtml(a);return a.getHtml()},setHtml:function(a){a=this.children=CKEDITOR.htmlParser.fragment.fromHtml(a).children;for(var b=0,c=a.length;b<c;++b)a[b].parent=this},getOuterHtml:function(){var a=new CKEDITOR.htmlParser.basicWriter;this.writeHtml(a);return a.getHtml()},split:function(a){for(var b=this.children.splice(a,this.children.length-a),c=this.clone(),d=0;d<b.length;++d)b[d].parent=c;c.children=b;b[0]&&(b[0].previous=null);0<a&&(this.children[a-1].next=null);this.parent.add(c,this.getIndex()+1);return c},addClass:function(a){if(!this.hasClass(a)){var b=this.attributes["class"]||"";this.attributes["class"]=b+(b?" ":"")+a}},removeClass:function(a){var b=this.attributes["class"];b&&((b=CKEDITOR.tools.trim(b.replace(new RegExp("(?:\\s+|^)"+a+"(?:\\s+|$)")," ")))?this.attributes["class"]=b:delete this.attributes["class"])},hasClass:function(a){var b=this.attributes["class"];return b?new RegExp("(?:^|\\s)"+a+"(?=\\s|$)").test(b):!1},getFilterContext:function(a){var b=[];a||(a={off:!1,nonEditable:!1,nestedEditable:!1});a.off||"off"!=this.attributes["data-cke-processor"]||b.push("off",!0);a.nonEditable||"false"!=this.attributes.contenteditable?a.nonEditable&&!a.nestedEditable&&"true"==this.attributes.contenteditable&&b.push("nestedEditable",!0):b.push("nonEditable",!0);if(b.length){a=CKEDITOR.tools.copy(a);for(var c=0;c<b.length;c+=2)a[b[c]]=b[c+1]}return a}},!0)})();(function(){var a={},b=/{([^}]+)}/g,c=/([\\'])/g,d=/\n/g,e=/\r/g;CKEDITOR.template=function(f){if(a[f])this.output=a[f];else{var g=f.replace(c,"\\$1").replace(d,"\\n").replace(e,"\\r").replace(b,function(a,b){return"',data['"+b+"']==undefined?'{"+b+"}':data['"+b+"'],'"});this.output=a[f]=Function("data","buffer","return buffer?buffer.push('"+g+"'):['"+g+"'].join('');")}}})();delete CKEDITOR.loadFullCore;CKEDITOR.instances={};CKEDITOR.document=new CKEDITOR.dom.document(document);CKEDITOR.add=function(a){CKEDITOR.instances[a.name]=a;a.on("focus",function(){CKEDITOR.currentInstance!=a&&(CKEDITOR.currentInstance=a,CKEDITOR.fire("currentInstance"))});a.on("blur",function(){CKEDITOR.currentInstance==a&&(CKEDITOR.currentInstance=null,CKEDITOR.fire("currentInstance"))});CKEDITOR.fire("instance",null,a)};CKEDITOR.remove=function(a){delete CKEDITOR.instances[a.name]};(function(){var a={};CKEDITOR.addTemplate=function(b,c){var d=a[b];if(d)return d;d={name:b,source:c};CKEDITOR.fire("template",d);return a[b]=new CKEDITOR.template(d.source)};CKEDITOR.getTemplate=function(b){return a[b]}})();(function(){var a=[];CKEDITOR.addCss=function(b){a.push(b)};CKEDITOR.getCss=function(){return a.join("\n")}})();CKEDITOR.on("instanceDestroyed",function(){CKEDITOR.tools.isEmpty(this.instances)&&CKEDITOR.fire("reset")});CKEDITOR.TRISTATE_ON=1;CKEDITOR.TRISTATE_OFF=2;CKEDITOR.TRISTATE_DISABLED=0;(function(){CKEDITOR.inline=function(a,b){if(!CKEDITOR.env.isCompatible)return null;a=CKEDITOR.dom.element.get(a);if(a.getEditor())throw'The editor instance "'+a.getEditor().name+'" is already attached to the provided element.';var c=new CKEDITOR.editor(b,a,CKEDITOR.ELEMENT_MODE_INLINE),d=a.is("textarea")?a:null;d?(c.setData(d.getValue(),null,!0),a=CKEDITOR.dom.element.createFromHtml('<div contenteditable="'+!!c.readOnly+'" class="cke_textarea_inline">'+d.getValue()+"</div>",CKEDITOR.document),a.insertAfter(d),d.hide(),d.$.form&&c._attachToForm()):c.setData(a.getHtml(),null,!0);c.on("loaded",function(){c.fire("uiReady");c.editable(a);c.container=a;c.ui.contentsElement=a;c.setData(c.getData(1));c.resetDirty();c.fire("contentDom");c.mode="wysiwyg";c.fire("mode");c.status="ready";c.fireOnce("instanceReady");CKEDITOR.fire("instanceReady",null,c)},null,null,1e4);c.on("destroy",function(){d&&(c.container.clearCustomData(),c.container.remove(),d.show());c.element.clearCustomData();delete c.element});return c};CKEDITOR.inlineAll=function(){var a,b,c;for(c in CKEDITOR.dtd.$editable)for(var d=CKEDITOR.document.getElementsByTag(c),e=0,f=d.count();e<f;e++)a=d.getItem(e),"true"==a.getAttribute("contenteditable")&&(b={element:a,config:{}},!1!==CKEDITOR.fire("inline",b)&&CKEDITOR.inline(a,b.config))};CKEDITOR.domReady(function(){!CKEDITOR.disableAutoInline&&CKEDITOR.inlineAll()})})();CKEDITOR.replaceClass="ckeditor";(function(){function a(a,d,e,f){if(!CKEDITOR.env.isCompatible)return null;a=CKEDITOR.dom.element.get(a);if(a.getEditor())throw'The editor instance "'+a.getEditor().name+'" is already attached to the provided element.';var g=new CKEDITOR.editor(d,a,f);f==CKEDITOR.ELEMENT_MODE_REPLACE&&(a.setStyle("visibility","hidden"),g._.required=a.hasAttribute("required"),a.removeAttribute("required"));e&&g.setData(e,null,!0);g.on("loaded",function(){c(g);f==CKEDITOR.ELEMENT_MODE_REPLACE&&g.config.autoUpdateElement&&a.$.form&&g._attachToForm();g.setMode(g.config.startupMode,function(){g.resetDirty();g.status="ready";g.fireOnce("instanceReady");CKEDITOR.fire("instanceReady",null,g)})});g.on("destroy",b);return g}function b(){var a=this.container,b=this.element;a&&(a.clearCustomData(),a.remove());b&&(b.clearCustomData(),this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(b.show(),this._.required&&b.setAttribute("required","required")),delete this.element)}function c(a){var b=a.name,c=a.element,d=a.elementMode,e=a.fire("uiSpace",{space:"top",html:""}).html,f=a.fire("uiSpace",{space:"bottom",html:""}).html,g=new CKEDITOR.template('<{outerEl} id="cke_{name}" class="{id} cke cke_reset cke_chrome cke_editor_{name} cke_{langDir} '+CKEDITOR.env.cssClass+'"  dir="{langDir}" lang="{langCode}" role="application"'+(a.title?' aria-labelledby="cke_{name}_arialbl"':"")+">"+(a.title?'<span id="cke_{name}_arialbl" class="cke_voice_label">{voiceLabel}</span>':"")+'<{outerEl} class="cke_inner cke_reset" role="presentation">{topHtml}<{outerEl} id="{contentId}" class="cke_contents cke_reset" role="presentation"></{outerEl}>{bottomHtml}</{outerEl}></{outerEl}>'),b=CKEDITOR.dom.element.createFromHtml(g.output({id:a.id,name:b,langDir:a.lang.dir,langCode:a.langCode,voiceLabel:a.title,topHtml:e?'<span id="'+a.ui.spaceId("top")+'" class="cke_top cke_reset_all" role="presentation" style="height:auto">'+e+"</span>":"",contentId:a.ui.spaceId("contents"),bottomHtml:f?'<span id="'+a.ui.spaceId("bottom")+'" class="cke_bottom cke_reset_all" role="presentation">'+f+"</span>":"",outerEl:CKEDITOR.env.ie?"span":"div"}));d==CKEDITOR.ELEMENT_MODE_REPLACE?(c.hide(),b.insertAfter(c)):c.append(b);a.container=b;a.ui.contentsElement=a.ui.space("contents");e&&a.ui.space("top").unselectable();f&&a.ui.space("bottom").unselectable();c=a.config.width;d=a.config.height;c&&b.setStyle("width",CKEDITOR.tools.cssLength(c));d&&a.ui.space("contents").setStyle("height",CKEDITOR.tools.cssLength(d));b.disableContextMenu();CKEDITOR.env.webkit&&b.on("focus",function(){a.focus()});a.fireOnce("uiReady")}CKEDITOR.replace=function(b,c){return a(b,c,null,CKEDITOR.ELEMENT_MODE_REPLACE)};CKEDITOR.appendTo=function(b,c,d){return a(b,c,d,CKEDITOR.ELEMENT_MODE_APPENDTO)};CKEDITOR.replaceAll=function(){for(var a=document.getElementsByTagName("textarea"),b=0;b<a.length;b++){var c=null,d=a[b];if(d.name||d.id){if("string"==typeof arguments[0]){if(!new RegExp("(?:^|\\s)"+arguments[0]+"(?:$|\\s)").test(d.className))continue}else if("function"==typeof arguments[0]&&(c={},!1===arguments[0](d,c)))continue;this.replace(d,c)}}};CKEDITOR.editor.prototype.addMode=function(a,b){(this._.modes||(this._.modes={}))[a]=b};CKEDITOR.editor.prototype.setMode=function(a,b){var c=this,d=this._.modes;if(a!=c.mode&&d&&d[a]){c.fire("beforeSetMode",a);if(c.mode){var e=c.checkDirty(),d=c._.previousModeData,f,g=0;c.fire("beforeModeUnload");c.editable(0);c._.previousMode=c.mode;c._.previousModeData=f=c.getData(1);"source"==c.mode&&d==f&&(c.fire("lockSnapshot",{forceUpdate:!0}),g=1);c.ui.space("contents").setHtml("");c.mode=""}else c._.previousModeData=c.getData(1);this._.modes[a](function(){c.mode=a;void 0!==e&&!e&&c.resetDirty();g?c.fire("unlockSnapshot"):"wysiwyg"==a&&c.fire("saveSnapshot");setTimeout(function(){c.fire("mode");b&&b.call(c)},0)})}};CKEDITOR.editor.prototype.resize=function(a,b,c,d){var e=this.container,f=this.ui.space("contents"),g=CKEDITOR.env.webkit&&this.document&&this.document.getWindow().$.frameElement;d=d?this.container.getFirst(function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasClass("cke_inner")}):e;d.setSize("width",a,!0);g&&(g.style.width="1%");var h=(d.$.offsetHeight||0)-(f.$.clientHeight||0),e=Math.max(b-(c?0:h),0);b=c?b+h:b;f.setStyle("height",e+"px");g&&(g.style.width="100%");this.fire("resize",{outerHeight:b,contentsHeight:e,outerWidth:a||d.getSize("width")})};CKEDITOR.editor.prototype.getResizable=function(a){return a?this.ui.space("contents"):this.container};CKEDITOR.domReady(function(){CKEDITOR.replaceClass&&CKEDITOR.replaceAll(CKEDITOR.replaceClass)})})();CKEDITOR.config.startupMode="wysiwyg";(function(){function a(a){var c=a.editor,e=a.data.path,f=e.blockLimit,h=a.data.selection,i=h.getRanges()[0],j;if(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller)if(h=b(h,e))h.appendBogus(),j=CKEDITOR.env.ie;g(c,e.block,f)&&i.collapsed&&!i.getCommonAncestor().isReadOnly()&&(e=i.clone(),e.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS),f=new CKEDITOR.dom.walker(e),f.guard=function(a){return!d(a)||a.type==CKEDITOR.NODE_COMMENT||a.isReadOnly()},!f.checkForward()||e.checkStartOfBlock()&&e.checkEndOfBlock())&&(c=i.fixBlock(!0,c.activeEnterMode==CKEDITOR.ENTER_DIV?"div":"p"),CKEDITOR.env.needsBrFiller||(c=c.getFirst(d))&&c.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(c.getText()).match(/^(?:&nbsp;|\xa0)$/)&&c.remove(),j=1,a.cancel());j&&i.select()}function b(a,b){if(a.isFake)return 0;var c=b.block||b.blockLimit,e=c&&c.getLast(d);if(!(!c||!c.isBlockBoundary()||e&&e.type==CKEDITOR.NODE_ELEMENT&&e.isBlockBoundary()||c.is("pre")||c.getBogus()))return c}function c(a){var b=a.data.getTarget();b.is("input")&&(b=b.getAttribute("type"),"submit"!=b&&"reset"!=b||a.data.preventDefault())}function d(a){return k(a)&&l(a)}function e(a,b){return function(c){var d=c.data.$.toElement||c.data.$.fromElement||c.data.$.relatedTarget;(d=d&&d.nodeType==CKEDITOR.NODE_ELEMENT?new CKEDITOR.dom.element(d):null)&&(b.equals(d)||b.contains(d))||a.call(this,c)}}function f(a){function b(a){return function(b,e){e&&b.type==CKEDITOR.NODE_ELEMENT&&b.is(f)&&(c=b);if(!(e||!d(b)||a&&n(b)))return!1}}var c,e=a.getRanges()[0];a=a.root;var f={table:1,ul:1,ol:1,dl:1};if(e.startPath().contains(f)){var g=e.clone();g.collapse(1);g.setStartAt(a,CKEDITOR.POSITION_AFTER_START);a=new CKEDITOR.dom.walker(g);a.guard=b();a.checkBackward();if(c)return g=e.clone(),g.collapse(),g.setEndAt(c,CKEDITOR.POSITION_AFTER_END),a=new CKEDITOR.dom.walker(g),a.guard=b(!0),c=!1,a.checkForward(),c}return null}function g(a,b,c){return!1!==a.config.autoParagraph&&a.activeEnterMode!=CKEDITOR.ENTER_BR&&(a.editable().equals(c)&&!b||b&&"true"==b.getAttribute("contenteditable"))}function h(a){return a.activeEnterMode!=CKEDITOR.ENTER_BR&&!1!==a.config.autoParagraph?a.activeEnterMode==CKEDITOR.ENTER_DIV?"div":"p":!1}function i(a){var b=a.editor;b.getSelection().scrollIntoView();setTimeout(function(){b.fire("saveSnapshot")},0)}function j(a,b,c){var d=a.getCommonAncestor(b);for(b=a=c?b:a;(a=a.getParent())&&!d.equals(a)&&1==a.getChildCount();)b=a;b.remove()}var k,l,m,n,o,p,q,r,s;CKEDITOR.editable=CKEDITOR.tools.createClass({base:CKEDITOR.dom.element,$:function(a,b){this.base(b.$||b);this.editor=a;this.status="unloaded";this.hasFocus=!1;this.setup()},proto:{focus:function(){var a;if(CKEDITOR.env.webkit&&!this.hasFocus&&(a=this.editor._.previousActive||this.getDocument().getActive(),this.contains(a))){a.focus();return}try{this.$[CKEDITOR.env.ie&&this.getDocument().equals(CKEDITOR.document)?"setActive":"focus"]()}catch(b){if(!CKEDITOR.env.ie)throw b}CKEDITOR.env.safari&&!this.isInline()&&(a=CKEDITOR.document.getActive(),a.equals(this.getWindow().getFrame())||this.getWindow().focus())},on:function(a,b){var c=Array.prototype.slice.call(arguments,0);CKEDITOR.env.ie&&/^focus|blur$/.exec(a)&&(a="focus"==a?"focusin":"focusout",b=e(b,this),c[0]=a,c[1]=b);return CKEDITOR.dom.element.prototype.on.apply(this,c)},attachListener:function(a){!this._.listeners&&(this._.listeners=[]);var b=Array.prototype.slice.call(arguments,1),b=a.on.apply(a,b);this._.listeners.push(b);return b},clearListeners:function(){var a=this._.listeners;try{for(;a.length;)a.pop().removeListener()}catch(b){}},restoreAttrs:function(){var a=this._.attrChanges,b,c;for(c in a)a.hasOwnProperty(c)&&(b=a[c],null!==b?this.setAttribute(c,b):this.removeAttribute(c))},attachClass:function(a){var b=this.getCustomData("classes");this.hasClass(a)||(!b&&(b=[]),b.push(a),this.setCustomData("classes",b),this.addClass(a))},changeAttr:function(a,b){var c=this.getAttribute(a);b!==c&&(!this._.attrChanges&&(this._.attrChanges={}),a in this._.attrChanges||(this._.attrChanges[a]=c),this.setAttribute(a,b))},insertText:function(a){this.editor.focus();this.insertHtml(this.transformPlainTextToHtml(a),"text")},transformPlainTextToHtml:function(a){var b=this.editor.getSelection().getStartElement().hasAscendant("pre",!0)?CKEDITOR.ENTER_BR:this.editor.activeEnterMode;return CKEDITOR.tools.transformPlainTextToHtml(a,b)},insertHtml:function(a,b,c){var d=this.editor;d.focus();d.fire("saveSnapshot");c||(c=d.getSelection().getRanges()[0]);p(this,b||"html",a,c);c.select();i(this);this.editor.fire("afterInsertHtml",{})},insertHtmlIntoRange:function(a,b,c){p(this,c||"html",a,b);this.editor.fire("afterInsertHtml",{intoRange:b})},insertElement:function(a,b){var c=this.editor;c.focus();c.fire("saveSnapshot");var e=c.activeEnterMode,c=c.getSelection(),f=a.getName(),f=CKEDITOR.dtd.$block[f];b||(b=c.getRanges()[0]);this.insertElementIntoRange(a,b)&&(b.moveToPosition(a,CKEDITOR.POSITION_AFTER_END),f&&((f=a.getNext(function(a){return d(a)&&!n(a)}))&&f.type==CKEDITOR.NODE_ELEMENT&&f.is(CKEDITOR.dtd.$block)?f.getDtd()["#"]?b.moveToElementEditStart(f):b.moveToElementEditEnd(a):f||e==CKEDITOR.ENTER_BR||(f=b.fixBlock(!0,e==CKEDITOR.ENTER_DIV?"div":"p"),b.moveToElementEditStart(f))));c.selectRanges([b]);i(this)},insertElementIntoSelection:function(a){this.insertElement(a)},insertElementIntoRange:function(a,b){var c=this.editor,d=c.config.enterMode,e=a.getName(),f=CKEDITOR.dtd.$block[e];if(b.checkReadOnly())return!1;b.deleteContents(1);b.startContainer.type==CKEDITOR.NODE_ELEMENT&&b.startContainer.is({tr:1,table:1,tbody:1,thead:1,tfoot:1})&&q(b);var g,h;if(f)for(;(g=b.getCommonAncestor(0,1))&&(h=CKEDITOR.dtd[g.getName()])&&(!h||!h[e]);)g.getName()in CKEDITOR.dtd.span?b.splitElement(g):b.checkStartOfBlock()&&b.checkEndOfBlock()?(b.setStartBefore(g),b.collapse(!0),g.remove()):b.splitBlock(d==CKEDITOR.ENTER_DIV?"div":"p",c.editable());b.insertNode(a);return!0},setData:function(a,b){b||(a=this.editor.dataProcessor.toHtml(a));this.setHtml(a);this.fixInitialSelection();"unloaded"==this.status&&(this.status="ready");this.editor.fire("dataReady")},getData:function(a){var b=this.getHtml();a||(b=this.editor.dataProcessor.toDataFormat(b));return b},setReadOnly:function(a){this.setAttribute("contenteditable",!a)},detach:function(){this.removeClass("cke_editable");this.status="detached";var a=this.editor;this._.detach();delete a.document;delete a.window},isInline:function(){return this.getDocument().equals(CKEDITOR.document)},fixInitialSelection:function(){function a(){var a=c.getDocument().$,b=a.getSelection(),d;a:if(b.anchorNode&&b.anchorNode==c.$)d=!0;else{if(CKEDITOR.env.webkit&&(d=c.getDocument().getActive())&&d.equals(c)&&!b.anchorNode){d=!0;break a}d=void 0}d&&(d=new CKEDITOR.dom.range(c),d.moveToElementEditStart(c),a=a.createRange(),a.setStart(d.startContainer.$,d.startOffset),a.collapse(!0),b.removeAllRanges(),b.addRange(a))}function b(){var a=c.getDocument().$,b=a.selection,d=c.getDocument().getActive();"None"==b.type&&d.equals(c)&&(b=new CKEDITOR.dom.range(c),a=a.body.createTextRange(),b.moveToElementEditStart(c),b=b.startContainer,b.type!=CKEDITOR.NODE_ELEMENT&&(b=b.getParent()),a.moveToElementText(b.$),a.collapse(!0),a.select())}var c=this;if(CKEDITOR.env.ie&&(9>CKEDITOR.env.version||CKEDITOR.env.quirks))this.hasFocus&&(this.focus(),b());else if(this.hasFocus)this.focus(),a();else this.once("focus",function(){a()},null,null,-999)},getHtmlFromRange:function(a){if(a.collapsed)return new CKEDITOR.dom.documentFragment(a.document);a={doc:this.getDocument(),range:a.clone()};r.eol.detect(a,this);r.bogus.exclude(a);r.cell.shrink(a);a.fragment=a.range.cloneContents();r.tree.rebuild(a,this);r.eol.fix(a,this);return new CKEDITOR.dom.documentFragment(a.fragment.$)},extractHtmlFromRange:function(a,b){var c=s,d={range:a,doc:a.document},e=this.getHtmlFromRange(a);if(a.collapsed)return a.optimize(),e;a.enlarge(CKEDITOR.ENLARGE_INLINE,1);c.table.detectPurge(d);d.bookmark=a.createBookmark();delete d.range;var f=this.editor.createRange();f.moveToPosition(d.bookmark.startNode,CKEDITOR.POSITION_BEFORE_START);d.targetBookmark=f.createBookmark();c.list.detectMerge(d,this);c.table.detectRanges(d,this);c.block.detectMerge(d,this);d.tableContentsRanges?(c.table.deleteRanges(d),a.moveToBookmark(d.bookmark),d.range=a):(a.moveToBookmark(d.bookmark),d.range=a,a.extractContents(c.detectExtractMerge(d)));a.moveToBookmark(d.targetBookmark);a.optimize();c.fixUneditableRangePosition(a);c.list.merge(d,this);c.table.purge(d,this);c.block.merge(d,this);if(b){c=a.startPath();if(d=a.checkStartOfBlock()&&a.checkEndOfBlock()&&c.block&&!a.root.equals(c.block)){a:{var d=c.block.getElementsByTag("span"),f=0,g;if(d)for(;g=d.getItem(f++);)if(!l(g)){d=!0;break a}d=!1}d=!d}d&&(a.moveToPosition(c.block,CKEDITOR.POSITION_BEFORE_START),c.block.remove())}else c.autoParagraph(this.editor,a),m(a.startContainer)&&a.startContainer.appendBogus();a.startContainer.mergeSiblings();return e},setup:function(){var a=this.editor;this.attachListener(a,"beforeGetData",function(){var b=this.getData();this.is("textarea")||!1!==a.config.ignoreEmptyParagraph&&(b=b.replace(o,function(a,b){return b}));a.setData(b,null,1)},this);this.attachListener(a,"getSnapshot",function(a){a.data=this.getData(1)},this);this.attachListener(a,"afterSetData",function(){this.setData(a.getData(1))},this);this.attachListener(a,"loadSnapshot",function(a){this.setData(a.data,1)},this);this.attachListener(a,"beforeFocus",function(){var b=a.getSelection();(b=b&&b.getNative())&&"Control"==b.type||this.focus()},this);this.attachListener(a,"insertHtml",function(a){this.insertHtml(a.data.dataValue,a.data.mode,a.data.range)},this);this.attachListener(a,"insertElement",function(a){this.insertElement(a.data)},this);this.attachListener(a,"insertText",function(a){this.insertText(a.data)},this);this.setReadOnly(a.readOnly);this.attachClass("cke_editable");a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?this.attachClass("cke_editable_inline"):a.elementMode!=CKEDITOR.ELEMENT_MODE_REPLACE&&a.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO||this.attachClass("cke_editable_themed");
this.attachClass("cke_contents_"+a.config.contentsLangDirection);a.keystrokeHandler.blockedKeystrokes[8]=+a.readOnly;a.keystrokeHandler.attach(this);this.on("blur",function(){this.hasFocus=!1},null,null,-1);this.on("focus",function(){this.hasFocus=!0},null,null,-1);a.focusManager.add(this);this.equals(CKEDITOR.document.getActive())&&(this.hasFocus=!0,a.once("contentDom",function(){a.focusManager.focus(this)},this));this.isInline()&&this.changeAttr("tabindex",a.tabIndex);if(!this.is("textarea")){a.document=this.getDocument();a.window=this.getWindow();var b=a.document;this.changeAttr("spellcheck",!a.config.disableNativeSpellChecker);var e=a.config.contentsLangDirection;this.getDirection(1)!=e&&this.changeAttr("dir",e);var g=CKEDITOR.getCss();if(g){var e=b.getHead(),h=e.getCustomData("stylesheet");h?g!=h.getText()&&(CKEDITOR.env.ie&&9>CKEDITOR.env.version?h.$.styleSheet.cssText=g:h.setText(g)):(g=b.appendStyleText(g),g=new CKEDITOR.dom.element(g.ownerNode||g.owningElement),e.setCustomData("stylesheet",g),g.data("cke-temp",1))}e=b.getCustomData("stylesheet_ref")||0;b.setCustomData("stylesheet_ref",e+1);this.setCustomData("cke_includeReadonly",!a.config.disableReadonlyStyling);this.attachListener(this,"click",function(a){a=a.data;var b=new CKEDITOR.dom.elementPath(a.getTarget(),this).contains("a");b&&2!=a.$.button&&b.isReadOnly()&&a.preventDefault()});var i={8:1,46:1};this.attachListener(a,"key",function(b){if(a.readOnly)return!0;var c=b.data.domEvent.getKey(),d;if(c in i){b=a.getSelection();var e,g=b.getRanges()[0],h=g.startPath(),j,l,m,c=8==c;CKEDITOR.env.ie&&11>CKEDITOR.env.version&&(e=b.getSelectedElement())||(e=f(b))?(a.fire("saveSnapshot"),g.moveToPosition(e,CKEDITOR.POSITION_BEFORE_START),e.remove(),g.select(),a.fire("saveSnapshot"),d=1):g.collapsed&&((j=h.block)&&(m=j[c?"getPrevious":"getNext"](k))&&m.type==CKEDITOR.NODE_ELEMENT&&m.is("table")&&g[c?"checkStartOfBlock":"checkEndOfBlock"]()?(a.fire("saveSnapshot"),g[c?"checkEndOfBlock":"checkStartOfBlock"]()&&j.remove(),g["moveToElementEdit"+(c?"End":"Start")](m),g.select(),a.fire("saveSnapshot"),d=1):h.blockLimit&&h.blockLimit.is("td")&&(l=h.blockLimit.getAscendant("table"))&&g.checkBoundaryOfElement(l,c?CKEDITOR.START:CKEDITOR.END)&&(m=l[c?"getPrevious":"getNext"](k))?(a.fire("saveSnapshot"),g["moveToElementEdit"+(c?"End":"Start")](m),g.checkStartOfBlock()&&g.checkEndOfBlock()?m.remove():g.select(),a.fire("saveSnapshot"),d=1):(l=h.contains(["td","th","caption"]))&&g.checkBoundaryOfElement(l,c?CKEDITOR.START:CKEDITOR.END)&&(d=1))}return!d});a.blockless&&CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller&&this.attachListener(this,"keyup",function(b){b.data.getKeystroke()in i&&!this.getFirst(d)&&(this.appendBogus(),b=a.createRange(),b.moveToPosition(this,CKEDITOR.POSITION_AFTER_START),b.select())});this.attachListener(this,"dblclick",function(b){if(a.readOnly)return!1;b={element:b.data.getTarget()};a.fire("doubleclick",b)});CKEDITOR.env.ie&&this.attachListener(this,"click",c);CKEDITOR.env.ie&&!CKEDITOR.env.edge||this.attachListener(this,"mousedown",function(b){var c=b.data.getTarget();c.is("img","hr","input","textarea","select")&&!c.isReadOnly()&&(a.getSelection().selectElement(c),c.is("input","textarea","select")&&b.data.preventDefault())});CKEDITOR.env.edge&&this.attachListener(this,"mouseup",function(b){(b=b.data.getTarget())&&b.is("img")&&a.getSelection().selectElement(b)});CKEDITOR.env.gecko&&this.attachListener(this,"mouseup",function(b){if(2==b.data.$.button&&(b=b.data.getTarget(),!b.getOuterHtml().replace(o,""))){var c=a.createRange();c.moveToElementEditStart(b);c.select(!0)}});CKEDITOR.env.webkit&&(this.attachListener(this,"click",function(a){a.data.getTarget().is("input","select")&&a.data.preventDefault()}),this.attachListener(this,"mouseup",function(a){a.data.getTarget().is("input","textarea")&&a.data.preventDefault()}));CKEDITOR.env.webkit&&this.attachListener(a,"key",function(b){if(a.readOnly)return!0;b=b.data.domEvent.getKey();if(b in i){var c=8==b,d=a.getSelection().getRanges()[0];b=d.startPath();if(d.collapsed)a:{var e=b.block;if(e&&d[c?"checkStartOfBlock":"checkEndOfBlock"]()&&d.moveToClosestEditablePosition(e,!c)&&d.collapsed){if(d.startContainer.type==CKEDITOR.NODE_ELEMENT){var f=d.startContainer.getChild(d.startOffset-(c?1:0));if(f&&f.type==CKEDITOR.NODE_ELEMENT&&f.is("hr")){a.fire("saveSnapshot");f.remove();b=!0;break a}}d=d.startPath().block;if(!d||d&&d.contains(e))b=void 0;else{a.fire("saveSnapshot");var g;(g=(c?d:e).getBogus())&&g.remove();g=a.getSelection();f=g.createBookmarks();(c?e:d).moveChildren(c?d:e,!1);b.lastElement.mergeSiblings();j(e,d,!c);g.selectBookmarks(f);b=!0}}else b=!1}else c=d,g=b.block,d=c.endPath().block,g&&d&&!g.equals(d)?(a.fire("saveSnapshot"),(e=g.getBogus())&&e.remove(),c.enlarge(CKEDITOR.ENLARGE_INLINE),c.deleteContents(),d.getParent()&&(d.moveChildren(g,!1),b.lastElement.mergeSiblings(),j(g,d,!0)),c=a.getSelection().getRanges()[0],c.collapse(1),c.optimize(),""===c.startContainer.getHtml()&&c.startContainer.appendBogus(),c.select(),b=!0):b=!1;if(!b)return;a.getSelection().scrollIntoView();a.fire("saveSnapshot");return!1}},this,null,100)}}},_:{detach:function(){this.editor.setData(this.editor.getData(),0,1);this.clearListeners();this.restoreAttrs();var a;if(a=this.removeCustomData("classes"))for(;a.length;)this.removeClass(a.pop());if(!this.is("textarea")){a=this.getDocument();var b=a.getHead();if(b.getCustomData("stylesheet")){var c=a.getCustomData("stylesheet_ref");--c?a.setCustomData("stylesheet_ref",c):(a.removeCustomData("stylesheet_ref"),b.removeCustomData("stylesheet").remove())}}this.editor.fire("contentDomUnload");delete this.editor}}});CKEDITOR.editor.prototype.editable=function(a){var b=this._.editable;if(b&&a)return 0;arguments.length&&(b=this._.editable=a?a instanceof CKEDITOR.editable?a:new CKEDITOR.editable(this,a):(b&&b.detach(),null));return b};CKEDITOR.on("instanceLoaded",function(b){var c=b.editor;c.on("insertElement",function(a){a=a.data;a.type==CKEDITOR.NODE_ELEMENT&&(a.is("input")||a.is("textarea"))&&("false"!=a.getAttribute("contentEditable")&&a.data("cke-editable",a.hasAttribute("contenteditable")?"true":"1"),a.setAttribute("contentEditable",!1))});c.on("selectionChange",function(b){if(!c.readOnly){var d=c.getSelection();d&&!d.isLocked&&(d=c.checkDirty(),c.fire("lockSnapshot"),a(b),c.fire("unlockSnapshot"),!d&&c.resetDirty())}})});CKEDITOR.on("instanceCreated",function(a){var b=a.editor;b.on("mode",function(){var a=b.editable();if(a&&a.isInline()){var c=b.title;a.changeAttr("role","textbox");a.changeAttr("aria-label",c);c&&a.changeAttr("title",c);var d=b.fire("ariaEditorHelpLabel",{}).label;if(d&&(c=this.ui.space(this.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?"top":"contents"))){var e=CKEDITOR.tools.getNextId(),d=CKEDITOR.dom.element.createFromHtml('<span id="'+e+'" class="cke_voice_label">'+d+"</span>");c.append(d);a.changeAttr("aria-describedby",e)}}})});CKEDITOR.addCss(".cke_editable{cursor:text}.cke_editable img,.cke_editable input,.cke_editable textarea{cursor:default}");k=CKEDITOR.dom.walker.whitespaces(!0);l=CKEDITOR.dom.walker.bookmark(!1,!0);m=CKEDITOR.dom.walker.empty();n=CKEDITOR.dom.walker.bogus();o=/(^|<body\b[^>]*>)\s*<(p|div|address|h\d|center|pre)[^>]*>\s*(?:<br[^>]*>|&nbsp;|\u00A0|&#160;)?\s*(:?<\/\2>)?\s*(?=$|<\/body>)/gi;p=function(){function a(a){return a.type==CKEDITOR.NODE_ELEMENT}function b(c,d){var e,f,g,h,i=[],j=d.range.startContainer;e=d.range.startPath();for(var j=k[j.getName()],l=0,m=c.getChildren(),n=m.count(),o=-1,p=-1,q=0,r=e.contains(k.$list);l<n;++l)e=m.getItem(l),a(e)?(g=e.getName(),r&&g in CKEDITOR.dtd.$list?i=i.concat(b(e,d)):(h=!!j[g],"br"!=g||!e.data("cke-eol")||l&&l!=n-1||(q=(f=l?i[l-1].node:m.getItem(l+1))&&(!a(f)||!f.is("br")),f=f&&a(f)&&k.$block[f.getName()]),-1!=o||h||(o=l),h||(p=l),i.push({isElement:1,isLineBreak:q,isBlock:e.isBlockBoundary(),hasBlockSibling:f,node:e,name:g,allowed:h}),f=q=0)):i.push({isElement:0,node:e,allowed:1});-1<o&&(i[o].firstNotAllowed=1);-1<p&&(i[p].lastNotAllowed=1);return i}function c(b,d){var e=[],f=b.getChildren(),g=f.count(),h,i=0,j=k[d],l=!b.is(k.$inline)||b.is("br");for(l&&e.push(" ");i<g;i++)h=f.getItem(i),a(h)&&!h.is(j)?e=e.concat(c(h,d)):e.push(h);l&&e.push(" ");return e}function e(b){return a(b.startContainer)&&b.startContainer.getChild(b.startOffset-1)}function f(b){return b&&a(b)&&(b.is(k.$removeEmpty)||b.is("a")&&!b.isBlockBoundary())}function i(b,c,d,e){var f=b.clone(),g,h;f.setEndAt(c,CKEDITOR.POSITION_BEFORE_END);(g=new CKEDITOR.dom.walker(f).next())&&a(g)&&l[g.getName()]&&(h=g.getPrevious())&&a(h)&&!h.getParent().equals(b.startContainer)&&d.contains(h)&&e.contains(g)&&g.isIdentical(h)&&(g.moveChildren(h),g.remove(),i(b,c,d,e))}function j(b,c){function d(b,c){if(c.isBlock&&c.isElement&&!c.node.is("br")&&a(b)&&b.is("br"))return b.remove(),1}var e=c.endContainer.getChild(c.endOffset),f=c.endContainer.getChild(c.endOffset-1);e&&d(e,b[b.length-1]);f&&d(f,b[0])&&(c.setEnd(c.endContainer,c.endOffset-1),c.collapse())}var k=CKEDITOR.dtd,l={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,ul:1,ol:1,li:1,pre:1,dl:1,blockquote:1},m={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},n=CKEDITOR.tools.extend({},k.$inline);delete n.br;return function(l,o,p,q){var r=l.editor,s=!1;"unfiltered_html"==o&&(o="html",s=!0);if(!q.checkReadOnly()){var t=new CKEDITOR.dom.elementPath(q.startContainer,q.root).blockLimit||q.root;l={type:o,dontFilter:s,editable:l,editor:r,range:q,blockLimit:t,mergeCandidates:[],zombies:[]};o=l.range;q=l.mergeCandidates;var u,v;"text"==l.type&&o.shrink(CKEDITOR.SHRINK_ELEMENT,!0,!1)&&(u=CKEDITOR.dom.element.createFromHtml("<span>&nbsp;</span>",o.document),o.insertNode(u),o.setStartAfter(u));s=new CKEDITOR.dom.elementPath(o.startContainer);l.endPath=t=new CKEDITOR.dom.elementPath(o.endContainer);if(!o.collapsed){var r=t.block||t.blockLimit,w=o.getCommonAncestor();r&&!r.equals(w)&&!r.contains(w)&&o.checkEndOfBlock()&&l.zombies.push(r);o.deleteContents()}for(;(v=e(o))&&a(v)&&v.isBlockBoundary()&&s.contains(v);)o.moveToPosition(v,CKEDITOR.POSITION_BEFORE_END);i(o,l.blockLimit,s,t);u&&(o.setEndBefore(u),o.collapse(),u.remove());u=o.startPath();if(r=u.contains(f,!1,1))o.splitElement(r),l.inlineStylesRoot=r,l.inlineStylesPeak=u.lastElement;u=o.createBookmark();(r=u.startNode.getPrevious(d))&&a(r)&&f(r)&&q.push(r);(r=u.startNode.getNext(d))&&a(r)&&f(r)&&q.push(r);for(r=u.startNode;(r=r.getParent())&&f(r);)q.push(r);o.moveToBookmark(u);if(u=p){u=l.range;if("text"==l.type&&l.inlineStylesRoot){v=l.inlineStylesPeak;o=v.getDocument().createText("{cke-peak}");for(q=l.inlineStylesRoot.getParent();!v.equals(q);)o=o.appendTo(v.clone()),v=v.getParent();p=o.getOuterHtml().split("{cke-peak}").join(p)}v=l.blockLimit.getName();if(/^\s+|\s+$/.test(p)&&"span"in CKEDITOR.dtd[v]){var x='<span data-cke-marker="1">&nbsp;</span>';p=x+p+x}p=l.editor.dataProcessor.toHtml(p,{context:null,fixForBody:!1,protectedWhitespaces:!!x,dontFilter:l.dontFilter,filter:l.editor.activeFilter,enterMode:l.editor.activeEnterMode});v=u.document.createElement("body");v.setHtml(p);x&&(v.getFirst().remove(),v.getLast().remove());if((x=u.startPath().block)&&(1!=x.getChildCount()||!x.getBogus()))a:{var y;if(1==v.getChildCount()&&a(y=v.getFirst())&&y.is(m)&&!y.hasAttribute("contenteditable")){x=y.getElementsByTag("*");u=0;for(q=x.count();u<q;u++)if(o=x.getItem(u),!o.is(n))break a;y.moveChildren(y.getParent(1));y.remove()}}l.dataWrapper=v;u=p}if(u){y=l.range;u=y.document;var z;v=l.blockLimit;q=0;var A,x=[],B,C;p=r=0;var D,E;o=y.startContainer;var s=l.endPath.elements[0],F,t=s.getPosition(o),w=!!s.getCommonAncestor(o)&&t!=CKEDITOR.POSITION_IDENTICAL&&!(t&CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED);o=b(l.dataWrapper,l);for(j(o,y);q<o.length;q++){t=o[q];if(z=t.isLineBreak){z=y;D=v;var G=void 0,H=void 0;t.hasBlockSibling?z=1:(G=z.startContainer.getAscendant(k.$block,1))&&G.is({div:1,p:1})?(H=G.getPosition(D),H==CKEDITOR.POSITION_IDENTICAL||H==CKEDITOR.POSITION_CONTAINS?z=0:(D=z.splitElement(G),z.moveToPosition(D,CKEDITOR.POSITION_AFTER_START),z=1)):z=0}if(z)p=0<q;else{z=y.startPath();!t.isBlock&&g(l.editor,z.block,z.blockLimit)&&(C=h(l.editor))&&(C=u.createElement(C),C.appendBogus(),y.insertNode(C),CKEDITOR.env.needsBrFiller&&(A=C.getBogus())&&A.remove(),y.moveToPosition(C,CKEDITOR.POSITION_BEFORE_END));if((z=y.startPath().block)&&!z.equals(B)){if(A=z.getBogus())A.remove(),x.push(z);B=z}t.firstNotAllowed&&(r=1);if(r&&t.isElement){z=y.startContainer;for(D=null;z&&!k[z.getName()][t.name];){if(z.equals(v)){z=null;break}D=z;z=z.getParent()}if(z)D&&(E=y.splitElement(D),l.zombies.push(E),l.zombies.push(D));else{D=v.getName();F=!q;z=q==o.length-1;D=c(t.node,D);for(var G=[],H=D.length,I=0,J=void 0,K=0,L=-1;I<H;I++)J=D[I]," "==J?(K||F&&!I||(G.push(new CKEDITOR.dom.text(" ")),L=G.length),K=1):(G.push(J),K=0);z&&L==G.length&&G.pop();F=G}}if(F){for(;z=F.pop();)y.insertNode(z);F=0}else y.insertNode(t.node);t.lastNotAllowed&&q<o.length-1&&((E=w?s:E)&&y.setEndAt(E,CKEDITOR.POSITION_AFTER_START),r=0);y.collapse()}}1!=o.length?A=!1:(A=o[0],A=A.isElement&&"false"==A.node.getAttribute("contenteditable"));A&&(p=!0,z=o[0].node,y.setStartAt(z,CKEDITOR.POSITION_BEFORE_START),y.setEndAt(z,CKEDITOR.POSITION_AFTER_END));l.dontMoveCaret=p;l.bogusNeededBlocks=x}A=l.range;var M;E=l.bogusNeededBlocks;for(F=A.createBookmark();B=l.zombies.pop();)B.getParent()&&(C=A.clone(),C.moveToElementEditStart(B),C.removeEmptyBlocksAtEnd());if(E)for(;B=E.pop();)CKEDITOR.env.needsBrFiller?B.appendBogus():B.append(A.document.createText(""));for(;B=l.mergeCandidates.pop();)B.mergeSiblings();A.moveToBookmark(F);if(!l.dontMoveCaret){for(B=e(A);B&&a(B)&&!B.is(k.$empty);){if(B.isBlockBoundary())A.moveToPosition(B,CKEDITOR.POSITION_BEFORE_END);else{if(f(B)&&B.getHtml().match(/(\s|&nbsp;)$/g)){M=null;break}M=A.clone();M.moveToPosition(B,CKEDITOR.POSITION_BEFORE_END)}B=B.getLast(d)}M&&A.moveToRange(M)}}}}();q=function(){function a(a){a=new CKEDITOR.dom.walker(a);a.guard=function(a,b){if(b)return!1;if(a.type==CKEDITOR.NODE_ELEMENT)return a.is(CKEDITOR.dtd.$tableContent)};a.evaluator=function(a){return a.type==CKEDITOR.NODE_ELEMENT};return a}function b(a,b,c){b=a.getDocument().createElement(b);a.append(b,c);return b}function c(a){var b=a.count(),c;for(b;0<b--;)c=a.getItem(b),CKEDITOR.tools.trim(c.getHtml())||(c.appendBogus(),CKEDITOR.env.ie&&9>CKEDITOR.env.version&&c.getChildCount()&&c.getFirst().remove())}return function(d){var e=d.startContainer,f=e.getAscendant("table",1),g=!1;c(f.getElementsByTag("td"));c(f.getElementsByTag("th"));f=d.clone();f.setStart(e,0);f=a(f).lastBackward();f||(f=d.clone(),f.setEndAt(e,CKEDITOR.POSITION_BEFORE_END),f=a(f).lastForward(),g=!0);f||(f=e);f.is("table")?(d.setStartAt(f,CKEDITOR.POSITION_BEFORE_START),d.collapse(!0),f.remove()):(f.is({tbody:1,thead:1,tfoot:1})&&(f=b(f,"tr",g)),f.is("tr")&&(f=b(f,f.getParent().is("thead")?"th":"td",g)),(e=f.getBogus())&&e.remove(),d.moveToPosition(f,g?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END))}}();r={eol:{detect:function(a,b){var c=a.range,d=c.clone(),e=c.clone(),f=new CKEDITOR.dom.elementPath(c.startContainer,b),g=new CKEDITOR.dom.elementPath(c.endContainer,b);d.collapse(1);e.collapse();f.block&&d.checkBoundaryOfElement(f.block,CKEDITOR.END)&&(c.setStartAfter(f.block),a.prependEolBr=1);g.block&&e.checkBoundaryOfElement(g.block,CKEDITOR.START)&&(c.setEndBefore(g.block),a.appendEolBr=1)},fix:function(a,b){var c=b.getDocument(),d;a.appendEolBr&&(d=this.createEolBr(c),a.fragment.append(d));!a.prependEolBr||d&&!d.getPrevious()||a.fragment.append(this.createEolBr(c),1)},createEolBr:function(a){return a.createElement("br",{attributes:{"data-cke-eol":1}})}},bogus:{exclude:function(a){var b=a.range.getBoundaryNodes(),c=b.startNode,b=b.endNode;!b||!n(b)||c&&c.equals(b)||a.range.setEndBefore(b)}},tree:{rebuild:function(a,b){var c=a.range,d=c.getCommonAncestor(),e=new CKEDITOR.dom.elementPath(d,b),f=new CKEDITOR.dom.elementPath(c.startContainer,b),c=new CKEDITOR.dom.elementPath(c.endContainer,b),g;d.type==CKEDITOR.NODE_TEXT&&(d=d.getParent());if(e.blockLimit.is({tr:1,table:1})){var h=e.contains("table").getParent();g=function(a){return!a.equals(h)}}else if(e.block&&e.block.is(CKEDITOR.dtd.$listItem)&&(f=f.contains(CKEDITOR.dtd.$list),c=c.contains(CKEDITOR.dtd.$list),!f.equals(c))){var i=e.contains(CKEDITOR.dtd.$list).getParent();g=function(a){return!a.equals(i)}}g||(g=function(a){return!a.equals(e.block)&&!a.equals(e.blockLimit)});this.rebuildFragment(a,b,d,g)},rebuildFragment:function(a,b,c,d){for(var e;c&&!c.equals(b)&&d(c);)e=c.clone(0,1),a.fragment.appendTo(e),a.fragment=e,c=c.getParent()}},cell:{shrink:function(a){a=a.range;var b=a.startContainer,c=a.endContainer,d=a.startOffset,e=a.endOffset;b.type==CKEDITOR.NODE_ELEMENT&&b.equals(c)&&b.is("tr")&&++d==e&&a.shrink(CKEDITOR.SHRINK_TEXT)}}};s=function(){function a(a,b){var c=a.getParent();if(c.is(CKEDITOR.dtd.$inline))a[b?"insertBefore":"insertAfter"](c)}function b(b,c,d){a(c);a(d,1);for(var e;e=d.getNext();)e.insertAfter(c),c=e;m(b)&&b.remove()}function c(a,b){var c=new CKEDITOR.dom.range(a);c.setStartAfter(b.startNode);c.setEndBefore(b.endNode);return c}return{list:{detectMerge:function(a,b){var d=c(b,a.bookmark),e=d.startPath(),f=d.endPath(),g=e.contains(CKEDITOR.dtd.$list),h=f.contains(CKEDITOR.dtd.$list);a.mergeList=g&&h&&g.getParent().equals(h.getParent())&&!g.equals(h);a.mergeListItems=e.block&&f.block&&e.block.is(CKEDITOR.dtd.$listItem)&&f.block.is(CKEDITOR.dtd.$listItem);if(a.mergeList||a.mergeListItems)d=d.clone(),d.setStartBefore(a.bookmark.startNode),d.setEndAfter(a.bookmark.endNode),a.mergeListBookmark=d.createBookmark()},merge:function(a,c){if(a.mergeListBookmark){var d=a.mergeListBookmark.startNode,e=a.mergeListBookmark.endNode,f=new CKEDITOR.dom.elementPath(d,c),g=new CKEDITOR.dom.elementPath(e,c);if(a.mergeList){var h=f.contains(CKEDITOR.dtd.$list),i=g.contains(CKEDITOR.dtd.$list);h.equals(i)||(i.moveChildren(h),i.remove())}a.mergeListItems&&(f=f.contains(CKEDITOR.dtd.$listItem),g=g.contains(CKEDITOR.dtd.$listItem),f.equals(g)||b(g,d,e));d.remove();e.remove()}}},block:{detectMerge:function(a,b){if(!a.tableContentsRanges&&!a.mergeListBookmark){var c=new CKEDITOR.dom.range(b);c.setStartBefore(a.bookmark.startNode);c.setEndAfter(a.bookmark.endNode);a.mergeBlockBookmark=c.createBookmark()}},merge:function(a,c){if(a.mergeBlockBookmark&&!a.purgeTableBookmark){var d=a.mergeBlockBookmark.startNode,e=a.mergeBlockBookmark.endNode,f=new CKEDITOR.dom.elementPath(d,c),g=new CKEDITOR.dom.elementPath(e,c),f=f.block,g=g.block;f&&g&&!f.equals(g)&&b(g,d,e);d.remove();e.remove()}}},table:function(){function a(a){var c=[],e,f=new CKEDITOR.dom.walker(a),g=a.startPath().contains(d),h=a.endPath().contains(d),i={};f.guard=function(f,j){if(f.type==CKEDITOR.NODE_ELEMENT){var k="visited_"+(j?"out":"in");if(f.getCustomData(k))return;CKEDITOR.dom.element.setMarker(i,f,k,1)}if(j&&g&&f.equals(g))e=a.clone(),e.setEndAt(g,CKEDITOR.POSITION_BEFORE_END),c.push(e);else if(!j&&h&&f.equals(h))e=a.clone(),e.setStartAt(h,CKEDITOR.POSITION_AFTER_START),c.push(e);else{if(k=!j)k=f.type==CKEDITOR.NODE_ELEMENT&&f.is(d)&&(!g||b(f,g))&&(!h||b(f,h));k&&(e=a.clone(),e.selectNodeContents(f),c.push(e))}};f.lastForward();CKEDITOR.dom.element.clearAllMarkers(i);return c}function b(a,b){var c=CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED,d=a.getPosition(b);return d===CKEDITOR.POSITION_IDENTICAL?!1:0===(d&c)}var d={td:1,th:1,caption:1};return{detectPurge:function(a){var b=a.range,c=b.clone();c.enlarge(CKEDITOR.ENLARGE_ELEMENT);var c=new CKEDITOR.dom.walker(c),e=0;c.evaluator=function(a){a.type==CKEDITOR.NODE_ELEMENT&&a.is(d)&&++e};c.checkForward();if(1<e){var c=b.startPath().contains("table"),f=b.endPath().contains("table");c&&f&&b.checkBoundaryOfElement(c,CKEDITOR.START)&&b.checkBoundaryOfElement(f,CKEDITOR.END)&&(b=a.range.clone(),b.setStartBefore(c),b.setEndAfter(f),a.purgeTableBookmark=b.createBookmark())}},detectRanges:function(e,f){var g=c(f,e.bookmark),h=g.clone(),i,j,k=g.getCommonAncestor();k.is(CKEDITOR.dtd.$tableContent)&&!k.is(d)&&(k=k.getAscendant("table",!0));j=k;k=new CKEDITOR.dom.elementPath(g.startContainer,j);j=new CKEDITOR.dom.elementPath(g.endContainer,j);k=k.contains("table");j=j.contains("table");if(k||j)k&&j&&b(k,j)?(e.tableSurroundingRange=h,h.setStartAt(k,CKEDITOR.POSITION_AFTER_END),h.setEndAt(j,CKEDITOR.POSITION_BEFORE_START),h=g.clone(),h.setEndAt(k,CKEDITOR.POSITION_AFTER_END),i=g.clone(),i.setStartAt(j,CKEDITOR.POSITION_BEFORE_START),i=a(h).concat(a(i))):k?j||(e.tableSurroundingRange=h,h.setStartAt(k,CKEDITOR.POSITION_AFTER_END),g.setEndAt(k,CKEDITOR.POSITION_AFTER_END)):(e.tableSurroundingRange=h,h.setEndAt(j,CKEDITOR.POSITION_BEFORE_START),g.setStartAt(j,CKEDITOR.POSITION_AFTER_START)),e.tableContentsRanges=i?i:a(g)},deleteRanges:function(a){for(var b;b=a.tableContentsRanges.pop();)b.extractContents(),m(b.startContainer)&&b.startContainer.appendBogus();a.tableSurroundingRange&&a.tableSurroundingRange.extractContents()},purge:function(a){if(a.purgeTableBookmark){var b=a.doc,c=a.range.clone(),b=b.createElement("p");b.insertBefore(a.purgeTableBookmark.startNode);c.moveToBookmark(a.purgeTableBookmark);c.deleteContents();a.range.moveToPosition(b,CKEDITOR.POSITION_AFTER_START)}}}}(),detectExtractMerge:function(a){return!(a.range.startPath().contains(CKEDITOR.dtd.$listItem)&&a.range.endPath().contains(CKEDITOR.dtd.$listItem))},fixUneditableRangePosition:function(a){a.startContainer.getDtd()["#"]||a.moveToClosestEditablePosition(null,!0)},autoParagraph:function(a,b){var c=b.startPath(),d;g(a,c.block,c.blockLimit)&&(d=h(a))&&(d=b.document.createElement(d),d.appendBogus(),b.insertNode(d),b.moveToPosition(d,CKEDITOR.POSITION_AFTER_START))}}}()})();(function(){function a(){var a=this._.fakeSelection,b;a&&(b=this.getSelection(1),b&&b.isHidden()||(a.reset(),a=0));if(!a&&(a=b||this.getSelection(1),!a||a.getType()==CKEDITOR.SELECTION_NONE))return;this.fire("selectionCheck",a);b=this.elementPath();b.compare(this._.selectionPreviousPath)||(CKEDITOR.env.webkit&&(this._.previousActive=this.document.getActive()),this._.selectionPreviousPath=b,this.fire("selectionChange",{selection:a,path:b}))}function b(){m=!0;l||(c.call(this),l=CKEDITOR.tools.setTimeout(c,200,this))}function c(){l=null;m&&(CKEDITOR.tools.setTimeout(a,0,this),m=!1)}function d(a){return n(a)||a.type==CKEDITOR.NODE_ELEMENT&&!a.is(CKEDITOR.dtd.$empty)?!0:!1}function e(a){function b(b,c){return b&&b.type!=CKEDITOR.NODE_TEXT?a.clone()["moveToElementEdit"+(c?"End":"Start")](b):!1}if(!(a.root instanceof CKEDITOR.editable))return!1;var c=a.startContainer,e=a.getPreviousNode(d,null,c),f=a.getNextNode(d,null,c);return b(e)||b(f,1)||!(e||f||c.type==CKEDITOR.NODE_ELEMENT&&c.isBlockBoundary()&&c.getBogus())?!0:!1}function f(a){g(a,!1);var b=a.getDocument().createText(s);a.setCustomData("cke-fillingChar",b);return b}function g(a,b){var c=a&&a.removeCustomData("cke-fillingChar");if(c){if(!1!==b){var d=a.getDocument().getSelection().getNative(),e=d&&"None"!=d.type&&d.getRangeAt(0),f=s.length;if(c.getLength()>f&&e&&e.intersectsNode(c.$)){var g=[{node:d.anchorNode,offset:d.anchorOffset},{node:d.focusNode,offset:d.focusOffset}];d.anchorNode==c.$&&d.anchorOffset>f&&(g[0].offset-=f);d.focusNode==c.$&&d.focusOffset>f&&(g[1].offset-=f)}}c.setText(h(c.getText(),1));g&&(c=a.getDocument().$,d=c.getSelection(),c=c.createRange(),c.setStart(g[0].node,g[0].offset),c.collapse(!0),d.removeAllRanges(),d.addRange(c),d.extend(g[1].node,g[1].offset))}}function h(a,b){return b?a.replace(t,function(a,b){return b?"":""}):a.replace(s,"")}function i(a){var b=CKEDITOR.dom.element.createFromHtml('<div data-cke-hidden-sel="1" data-cke-temp="1" style="'+(CKEDITOR.env.ie?"display:none":"position:fixed;top:0;left:-1000px")+'">&nbsp;</div>',a.document);a.fire("lockSnapshot");a.editable().append(b);var c=a.getSelection(1),d=a.createRange(),e=c.root.on("selectionchange",function(a){a.cancel()},null,null,0);d.setStartAt(b,CKEDITOR.POSITION_AFTER_START);d.setEndAt(b,CKEDITOR.POSITION_BEFORE_END);c.selectRanges([d]);e.removeListener();a.fire("unlockSnapshot");a._.hiddenSelectionContainer=b}function j(a){var b={37:1,39:1,8:1,46:1};return function(c){var d=c.data.getKeystroke();if(b[d]){var e=a.getSelection().getRanges(),f=e[0];1==e.length&&f.collapsed&&(d=f[38>d?"getPreviousEditableNode":"getNextEditableNode"]())&&d.type==CKEDITOR.NODE_ELEMENT&&"false"==d.getAttribute("contenteditable")&&(a.getSelection().fake(d),c.data.preventDefault(),c.cancel())}}}function k(a){for(var b=0;b<a.length;b++){var c=a[b];c.getCommonAncestor().isReadOnly()&&a.splice(b,1);if(!c.collapsed){if(c.startContainer.isReadOnly())for(var d=c.startContainer,e;d&&!((e=d.type==CKEDITOR.NODE_ELEMENT)&&d.is("body")||!d.isReadOnly());)e&&"false"==d.getAttribute("contentEditable")&&c.setStartAfter(d),d=d.getParent();d=c.startContainer;e=c.endContainer;var f=c.startOffset,g=c.endOffset,h=c.clone();d&&d.type==CKEDITOR.NODE_TEXT&&(f>=d.getLength()?h.setStartAfter(d):h.setStartBefore(d));e&&e.type==CKEDITOR.NODE_TEXT&&(g?h.setEndAfter(e):h.setEndBefore(e));d=new CKEDITOR.dom.walker(h);d.evaluator=function(d){if(d.type==CKEDITOR.NODE_ELEMENT&&d.isReadOnly()){var e=c.clone();c.setEndBefore(d);c.collapsed&&a.splice(b--,1);d.getPosition(h.endContainer)&CKEDITOR.POSITION_CONTAINS||(e.setStartAfter(d),e.collapsed||a.splice(b+1,0,e));return!0}return!1};d.next()}}return a}var l,m,n=CKEDITOR.dom.walker.invisible(1),o=function(){function a(a){return function(b){var c=b.editor.createRange();c.moveToClosestEditablePosition(b.selected,a)&&b.editor.getSelection().selectRanges([c]);return!1}}function b(a){return function(b){var c=b.editor,d=c.createRange(),e;(e=d.moveToClosestEditablePosition(b.selected,a))||(e=d.moveToClosestEditablePosition(b.selected,!a));e&&c.getSelection().selectRanges([d]);c.fire("saveSnapshot");b.selected.remove();e||(d.moveToElementEditablePosition(c.editable()),c.getSelection().selectRanges([d]));c.fire("saveSnapshot");return!1}}var c=a(),d=a(1);return{37:c,38:c,39:d,40:d,8:b(),46:b(1)}}();CKEDITOR.on("instanceCreated",function(c){function d(){var a=e.getSelection();a&&a.removeAllRanges()}var e=c.editor;e.on("contentDom",function(){function c(){o=new CKEDITOR.dom.selection(e.getSelection());o.lock()}function d(){h.removeListener("mouseup",d);l.removeListener("mouseup",d);var a=CKEDITOR.document.$.selection,b=a.createRange();"None"!=a.type&&b.parentElement().ownerDocument==f.$&&b.select()}var f=e.document,h=CKEDITOR.document,i=e.editable(),k=f.getBody(),l=f.getDocumentElement(),m=i.isInline(),n,o;CKEDITOR.env.gecko&&i.attachListener(i,"focus",function(a){a.removeListener();0!==n&&(a=e.getSelection().getNative())&&a.isCollapsed&&a.anchorNode==i.$&&(a=e.createRange(),a.moveToElementEditStart(i),a.select())},null,null,-2);i.attachListener(i,CKEDITOR.env.webkit?"DOMFocusIn":"focus",function(){n&&CKEDITOR.env.webkit&&(n=e._.previousActive&&e._.previousActive.equals(f.getActive()));e.unlockSelection(n);n=0},null,null,-1);i.attachListener(i,"mousedown",function(){n=0});if(CKEDITOR.env.ie||m)p?i.attachListener(i,"beforedeactivate",c,null,null,-1):i.attachListener(e,"selectionCheck",c,null,null,-1),i.attachListener(i,CKEDITOR.env.webkit?"DOMFocusOut":"blur",function(){e.lockSelection(o);n=1},null,null,-1),i.attachListener(i,"mousedown",function(){n=0});if(CKEDITOR.env.ie&&!m){var q;i.attachListener(i,"mousedown",function(a){2==a.data.$.button&&((a=e.document.getSelection())&&a.getType()!=CKEDITOR.SELECTION_NONE||(q=e.window.getScrollPosition()))});i.attachListener(i,"mouseup",function(a){2==a.data.$.button&&q&&(e.document.$.documentElement.scrollLeft=q.x,e.document.$.documentElement.scrollTop=q.y);q=null});if("BackCompat"!=f.$.compatMode){if(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)l.on("mousedown",function(a){function b(a){a=a.data.$;if(d){var b=k.$.createTextRange();try{b.moveToPoint(a.clientX,a.clientY)}catch(c){}d.setEndPoint(0>f.compareEndPoints("StartToStart",b)?"EndToEnd":"StartToStart",b);d.select()}}function c(){l.removeListener("mousemove",b);h.removeListener("mouseup",c);l.removeListener("mouseup",c);d.select()}a=a.data;if(a.getTarget().is("html")&&a.$.y<l.$.clientHeight&&a.$.x<l.$.clientWidth){var d=k.$.createTextRange();try{d.moveToPoint(a.$.clientX,a.$.clientY)}catch(e){}var f=d.duplicate();l.on("mousemove",b);h.on("mouseup",c);l.on("mouseup",c)}});if(7<CKEDITOR.env.version&&11>CKEDITOR.env.version)l.on("mousedown",function(a){a.data.getTarget().is("html")&&(h.on("mouseup",d),l.on("mouseup",d))})}}i.attachListener(i,"selectionchange",a,e);i.attachListener(i,"keyup",b,e);i.attachListener(i,CKEDITOR.env.webkit?"DOMFocusIn":"focus",function(){e.forceNextSelectionCheck();e.selectionChange(1)});if(m&&(CKEDITOR.env.webkit||CKEDITOR.env.gecko)){var r;i.attachListener(i,"mousedown",function(){r=1});i.attachListener(f.getDocumentElement(),"mouseup",function(){r&&b.call(e);r=0})}else i.attachListener(CKEDITOR.env.ie?i:f.getDocumentElement(),"mouseup",b,e);CKEDITOR.env.webkit&&i.attachListener(f,"keydown",function(a){switch(a.data.getKey()){case 13:case 33:case 34:case 35:case 36:case 37:case 39:case 8:case 45:case 46:g(i)}},null,null,-1);i.attachListener(i,"keydown",j(e),null,null,-1)});e.on("setData",function(){e.unlockSelection();CKEDITOR.env.webkit&&d()});e.on("contentDomUnload",function(){e.unlockSelection()});if(CKEDITOR.env.ie9Compat)e.on("beforeDestroy",d,null,null,9);e.on("dataReady",function(){delete e._.fakeSelection;delete e._.hiddenSelectionContainer;e.selectionChange(1)});e.on("loadSnapshot",function(){var a=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT),b=e.editable().getLast(a);b&&b.hasAttribute("data-cke-hidden-sel")&&(b.remove(),CKEDITOR.env.gecko&&(a=e.editable().getFirst(a))&&a.is("br")&&a.getAttribute("_moz_editor_bogus_node")&&a.remove())},null,null,100);e.on("key",function(a){if("wysiwyg"==e.mode){var b=e.getSelection();if(b.isFake){var c=o[a.data.keyCode];if(c)return c({editor:e,selected:b.getSelectedElement(),selection:b,keyEvent:a})}}})});if(CKEDITOR.env.webkit)CKEDITOR.on("instanceReady",function(a){var b=a.editor;b.on("selectionChange",function(){var a=b.editable(),c=a.getCustomData("cke-fillingChar");c&&(c.getCustomData("ready")?g(a):c.setCustomData("ready",1))},null,null,-1);b.on("beforeSetMode",function(){g(b.editable())},null,null,-1);b.on("getSnapshot",function(a){a.data&&(a.data=h(a.data))},b,null,20);b.on("toDataFormat",function(a){a.data.dataValue=h(a.data.dataValue)},null,null,0)});CKEDITOR.editor.prototype.selectionChange=function(c){(c?a:b).call(this)};CKEDITOR.editor.prototype.getSelection=function(a){return!this._.savedSelection&&!this._.fakeSelection||a?(a=this.editable())&&"wysiwyg"==this.mode?new CKEDITOR.dom.selection(a):null:this._.savedSelection||this._.fakeSelection};CKEDITOR.editor.prototype.lockSelection=function(a){a=a||this.getSelection(1);return a.getType()!=CKEDITOR.SELECTION_NONE?(!a.isLocked&&a.lock(),this._.savedSelection=a,!0):!1};CKEDITOR.editor.prototype.unlockSelection=function(a){var b=this._.savedSelection;return b?(b.unlock(a),delete this._.savedSelection,!0):!1};CKEDITOR.editor.prototype.forceNextSelectionCheck=function(){delete this._.selectionPreviousPath};CKEDITOR.dom.document.prototype.getSelection=function(){return new CKEDITOR.dom.selection(this)};CKEDITOR.dom.range.prototype.select=function(){var a=this.root instanceof CKEDITOR.editable?this.root.editor.getSelection():new CKEDITOR.dom.selection(this.root);a.selectRanges([this]);return a};CKEDITOR.SELECTION_NONE=1;CKEDITOR.SELECTION_TEXT=2;CKEDITOR.SELECTION_ELEMENT=3;var p="function"!=typeof window.getSelection,q=1;CKEDITOR.dom.selection=function(a){if(a instanceof CKEDITOR.dom.selection){var b=a;a=a.root}var c=a instanceof CKEDITOR.dom.element;this.rev=b?b.rev:q++;this.document=a instanceof CKEDITOR.dom.document?a:a.getDocument();this.root=c?a:this.document.getBody();this.isLocked=0;this._={cache:{}};if(b)return CKEDITOR.tools.extend(this._.cache,b._.cache),this.isFake=b.isFake,this.isLocked=b.isLocked,this;a=this.getNative();var d,e;if(a)if(a.getRangeAt)d=(e=a.rangeCount&&a.getRangeAt(0))&&new CKEDITOR.dom.node(e.commonAncestorContainer);else{
try{e=a.createRange()}catch(f){}d=e&&CKEDITOR.dom.element.get(e.item&&e.item(0)||e.parentElement())}if(!d||d.type!=CKEDITOR.NODE_ELEMENT&&d.type!=CKEDITOR.NODE_TEXT||!this.root.equals(d)&&!this.root.contains(d))this._.cache.type=CKEDITOR.SELECTION_NONE,this._.cache.startElement=null,this._.cache.selectedElement=null,this._.cache.selectedText="",this._.cache.ranges=new CKEDITOR.dom.rangeList;return this};var r={img:1,hr:1,li:1,table:1,tr:1,td:1,th:1,embed:1,object:1,ol:1,ul:1,a:1,input:1,form:1,select:1,textarea:1,button:1,fieldset:1,thead:1,tfoot:1},s=CKEDITOR.tools.repeat("",7),t=new RegExp(s+"( )?","g");CKEDITOR.tools.extend(CKEDITOR.dom.selection,{_removeFillingCharSequenceString:h,_createFillingCharSequenceNode:f,FILLING_CHAR_SEQUENCE:s});CKEDITOR.dom.selection.prototype={getNative:function(){return void 0!==this._.cache.nativeSel?this._.cache.nativeSel:this._.cache.nativeSel=p?this.document.$.selection:this.document.getWindow().$.getSelection()},getType:p?function(){var a=this._.cache;if(a.type)return a.type;var b=CKEDITOR.SELECTION_NONE;try{var c=this.getNative(),d=c.type;"Text"==d&&(b=CKEDITOR.SELECTION_TEXT);"Control"==d&&(b=CKEDITOR.SELECTION_ELEMENT);c.createRange().parentElement()&&(b=CKEDITOR.SELECTION_TEXT)}catch(e){}return a.type=b}:function(){var a=this._.cache;if(a.type)return a.type;var b=CKEDITOR.SELECTION_TEXT,c=this.getNative();if(!c||!c.rangeCount)b=CKEDITOR.SELECTION_NONE;else if(1==c.rangeCount){var c=c.getRangeAt(0),d=c.startContainer;d==c.endContainer&&1==d.nodeType&&1==c.endOffset-c.startOffset&&r[d.childNodes[c.startOffset].nodeName.toLowerCase()]&&(b=CKEDITOR.SELECTION_ELEMENT)}return a.type=b},getRanges:function(){var a=p?function(){function a(a){return new CKEDITOR.dom.node(a).getIndex()}var b=function(b,c){b=b.duplicate();b.collapse(c);var d=b.parentElement();if(!d.hasChildNodes())return{container:d,offset:0};for(var e=d.children,f,g,h=b.duplicate(),i=0,j=e.length-1,k=-1,l,m;i<=j;)if(k=Math.floor((i+j)/2),f=e[k],h.moveToElementText(f),l=h.compareEndPoints("StartToStart",b),0<l)j=k-1;else if(0>l)i=k+1;else return{container:d,offset:a(f)};if(-1==k||k==e.length-1&&0>l){h.moveToElementText(d);h.setEndPoint("StartToStart",b);h=h.text.replace(/(\r\n|\r)/g,"\n").length;e=d.childNodes;if(!h)return f=e[e.length-1],f.nodeType!=CKEDITOR.NODE_TEXT?{container:d,offset:e.length}:{container:f,offset:f.nodeValue.length};for(d=e.length;0<h&&0<d;)g=e[--d],g.nodeType==CKEDITOR.NODE_TEXT&&(m=g,h-=g.nodeValue.length);return{container:m,offset:-h}}h.collapse(0<l?!0:!1);h.setEndPoint(0<l?"StartToStart":"EndToStart",b);h=h.text.replace(/(\r\n|\r)/g,"\n").length;if(!h)return{container:d,offset:a(f)+(0<l?0:1)};for(;0<h;)try{g=f[0<l?"previousSibling":"nextSibling"],g.nodeType==CKEDITOR.NODE_TEXT&&(h-=g.nodeValue.length,m=g),f=g}catch(n){return{container:d,offset:a(f)}}return{container:m,offset:0<l?-h:m.nodeValue.length+h}};return function(){var a=this.getNative(),c=a&&a.createRange(),d=this.getType();if(!a)return[];if(d==CKEDITOR.SELECTION_TEXT)return a=new CKEDITOR.dom.range(this.root),d=b(c,!0),a.setStart(new CKEDITOR.dom.node(d.container),d.offset),d=b(c),a.setEnd(new CKEDITOR.dom.node(d.container),d.offset),a.endContainer.getPosition(a.startContainer)&CKEDITOR.POSITION_PRECEDING&&a.endOffset<=a.startContainer.getIndex()&&a.collapse(),[a];if(d==CKEDITOR.SELECTION_ELEMENT){for(var d=[],e=0;e<c.length;e++){for(var f=c.item(e),g=f.parentNode,h=0,a=new CKEDITOR.dom.range(this.root);h<g.childNodes.length&&g.childNodes[h]!=f;h++);a.setStart(new CKEDITOR.dom.node(g),h);a.setEnd(new CKEDITOR.dom.node(g),h+1);d.push(a)}return d}return[]}}():function(){var a=[],b,c=this.getNative();if(!c)return a;for(var d=0;d<c.rangeCount;d++){var e=c.getRangeAt(d);b=new CKEDITOR.dom.range(this.root);b.setStart(new CKEDITOR.dom.node(e.startContainer),e.startOffset);b.setEnd(new CKEDITOR.dom.node(e.endContainer),e.endOffset);a.push(b)}return a};return function(b){var c=this._.cache,d=c.ranges;d||(c.ranges=d=new CKEDITOR.dom.rangeList(a.call(this)));return b?k(new CKEDITOR.dom.rangeList(d.slice())):d}}(),getStartElement:function(){var a=this._.cache;if(void 0!==a.startElement)return a.startElement;var b;switch(this.getType()){case CKEDITOR.SELECTION_ELEMENT:return this.getSelectedElement();case CKEDITOR.SELECTION_TEXT:var c=this.getRanges()[0];if(c){if(c.collapsed)b=c.startContainer,b.type!=CKEDITOR.NODE_ELEMENT&&(b=b.getParent());else{for(c.optimize();b=c.startContainer,c.startOffset==(b.getChildCount?b.getChildCount():b.getLength())&&!b.isBlockBoundary();)c.setStartAfter(b);b=c.startContainer;if(b.type!=CKEDITOR.NODE_ELEMENT)return b.getParent();if((b=b.getChild(c.startOffset))&&b.type==CKEDITOR.NODE_ELEMENT)for(c=b.getFirst();c&&c.type==CKEDITOR.NODE_ELEMENT;)b=c,c=c.getFirst();else b=c.startContainer}b=b.$}}return a.startElement=b?new CKEDITOR.dom.element(b):null},getSelectedElement:function(){var a=this._.cache;if(void 0!==a.selectedElement)return a.selectedElement;var b=this,c=CKEDITOR.tools.tryThese(function(){return b.getNative().createRange().item(0)},function(){for(var a=b.getRanges()[0].clone(),c,d,e=2;e&&!((c=a.getEnclosedNode())&&c.type==CKEDITOR.NODE_ELEMENT&&r[c.getName()]&&(d=c));e--)a.shrink(CKEDITOR.SHRINK_ELEMENT);return d&&d.$});return a.selectedElement=c?new CKEDITOR.dom.element(c):null},getSelectedText:function(){var a=this._.cache;if(void 0!==a.selectedText)return a.selectedText;var b=this.getNative(),b=p?"Control"==b.type?"":b.createRange().text:b.toString();return a.selectedText=b},lock:function(){this.getRanges();this.getStartElement();this.getSelectedElement();this.getSelectedText();this._.cache.nativeSel=null;this.isLocked=1},unlock:function(a){if(this.isLocked){if(a)var b=this.getSelectedElement(),c=!b&&this.getRanges(),d=this.isFake;this.isLocked=0;this.reset();a&&(a=b||c[0]&&c[0].getCommonAncestor())&&a.getAscendant("body",1)&&(d?this.fake(b):b?this.selectElement(b):this.selectRanges(c))}},reset:function(){this._.cache={};this.isFake=0;var a=this.root.editor;if(a&&a._.fakeSelection)if(this.rev==a._.fakeSelection.rev){delete a._.fakeSelection;var b=a._.hiddenSelectionContainer;if(b){var c=a.checkDirty();a.fire("lockSnapshot");b.remove();a.fire("unlockSnapshot");!c&&a.resetDirty()}delete a._.hiddenSelectionContainer}else CKEDITOR.warn("selection-fake-reset");this.rev=q++},selectElement:function(a){var b=new CKEDITOR.dom.range(this.root);b.setStartBefore(a);b.setEndAfter(a);this.selectRanges([b])},selectRanges:function(a){var b=this.root.editor,b=b&&b._.hiddenSelectionContainer;this.reset();if(b)for(var b=this.root,c,d=0;d<a.length;++d)c=a[d],c.endContainer.equals(b)&&(c.endOffset=Math.min(c.endOffset,b.getChildCount()));if(a.length)if(this.isLocked){var h=CKEDITOR.document.getActive();this.unlock();this.selectRanges(a);this.lock();h&&!h.equals(this.root)&&h.focus()}else{var i;a:{var j,k;if(1==a.length&&!(k=a[0]).collapsed&&(i=k.getEnclosedNode())&&i.type==CKEDITOR.NODE_ELEMENT&&(k=k.clone(),k.shrink(CKEDITOR.SHRINK_ELEMENT,!0),(j=k.getEnclosedNode())&&j.type==CKEDITOR.NODE_ELEMENT&&(i=j),"false"==i.getAttribute("contenteditable")))break a;i=void 0}if(i)this.fake(i);else{if(p){k=CKEDITOR.dom.walker.whitespaces(!0);j=/\ufeff|\u00a0/;b={table:1,tbody:1,tr:1};1<a.length&&(i=a[a.length-1],a[0].setEnd(i.endContainer,i.endOffset));i=a[0];a=i.collapsed;var l,m,n;if((c=i.getEnclosedNode())&&c.type==CKEDITOR.NODE_ELEMENT&&c.getName()in r&&(!c.is("a")||!c.getText()))try{n=c.$.createControlRange();n.addElement(c.$);n.select();return}catch(o){}if(i.startContainer.type==CKEDITOR.NODE_ELEMENT&&i.startContainer.getName()in b||i.endContainer.type==CKEDITOR.NODE_ELEMENT&&i.endContainer.getName()in b)i.shrink(CKEDITOR.NODE_ELEMENT,!0),a=i.collapsed;n=i.createBookmark();b=n.startNode;a||(h=n.endNode);n=i.document.$.body.createTextRange();n.moveToElementText(b.$);n.moveStart("character",1);h?(j=i.document.$.body.createTextRange(),j.moveToElementText(h.$),n.setEndPoint("EndToEnd",j),n.moveEnd("character",-1)):(l=b.getNext(k),m=b.hasAscendant("pre"),l=!(l&&l.getText&&l.getText().match(j))&&(m||!b.hasPrevious()||b.getPrevious().is&&b.getPrevious().is("br")),m=i.document.createElement("span"),m.setHtml("&#65279;"),m.insertBefore(b),l&&i.document.createText("\ufeff").insertBefore(b));i.setStartBefore(b);b.remove();a?(l?(n.moveStart("character",-1),n.select(),i.document.$.selection.clear()):n.select(),i.moveToPosition(m,CKEDITOR.POSITION_BEFORE_START),m.remove()):(i.setEndBefore(h),h.remove(),n.select())}else{h=this.getNative();if(!h)return;this.removeAllRanges();for(n=0;n<a.length;n++){if(n<a.length-1&&(l=a[n],m=a[n+1],j=l.clone(),j.setStart(l.endContainer,l.endOffset),j.setEnd(m.startContainer,m.startOffset),!j.collapsed&&(j.shrink(CKEDITOR.NODE_ELEMENT,!0),i=j.getCommonAncestor(),j=j.getEnclosedNode(),i.isReadOnly()||j&&j.isReadOnly()))){m.setStart(l.startContainer,l.startOffset);a.splice(n--,1);continue}i=a[n];m=this.document.$.createRange();i.collapsed&&CKEDITOR.env.webkit&&e(i)&&(j=f(this.root),i.insertNode(j),(l=j.getNext())&&!j.getPrevious()&&l.type==CKEDITOR.NODE_ELEMENT&&"br"==l.getName()?(g(this.root),i.moveToPosition(l,CKEDITOR.POSITION_BEFORE_START)):i.moveToPosition(j,CKEDITOR.POSITION_AFTER_END));m.setStart(i.startContainer.$,i.startOffset);try{m.setEnd(i.endContainer.$,i.endOffset)}catch(q){if(0<=q.toString().indexOf("NS_ERROR_ILLEGAL_VALUE"))i.collapse(1),m.setEnd(i.endContainer.$,i.endOffset);else throw q}h.addRange(m)}}this.reset();this.root.fire("selectionchange")}}},fake:function(a){var b=this.root.editor;this.reset();i(b);var c=this._.cache,d=new CKEDITOR.dom.range(this.root);d.setStartBefore(a);d.setEndAfter(a);c.ranges=new CKEDITOR.dom.rangeList(d);c.selectedElement=c.startElement=a;c.type=CKEDITOR.SELECTION_ELEMENT;c.selectedText=c.nativeSel=null;this.isFake=1;this.rev=q++;b._.fakeSelection=this;this.root.fire("selectionchange")},isHidden:function(){var a=this.getCommonAncestor();a&&a.type==CKEDITOR.NODE_TEXT&&(a=a.getParent());return!(!a||!a.data("cke-hidden-sel"))},createBookmarks:function(a){a=this.getRanges().createBookmarks(a);this.isFake&&(a.isFake=1);return a},createBookmarks2:function(a){a=this.getRanges().createBookmarks2(a);this.isFake&&(a.isFake=1);return a},selectBookmarks:function(a){for(var b=[],c,d=0;d<a.length;d++){var e=new CKEDITOR.dom.range(this.root);e.moveToBookmark(a[d]);b.push(e)}a.isFake&&(c=b[0].getEnclosedNode(),c&&c.type==CKEDITOR.NODE_ELEMENT||(CKEDITOR.warn("selection-not-fake"),a.isFake=0));a.isFake?this.fake(c):this.selectRanges(b);return this},getCommonAncestor:function(){var a=this.getRanges();return a.length?a[0].startContainer.getCommonAncestor(a[a.length-1].endContainer):null},scrollIntoView:function(){this.type!=CKEDITOR.SELECTION_NONE&&this.getRanges()[0].scrollIntoView()},removeAllRanges:function(){if(this.getType()!=CKEDITOR.SELECTION_NONE){var a=this.getNative();try{a&&a[p?"empty":"removeAllRanges"]()}catch(b){}this.reset()}}}})();"use strict";CKEDITOR.STYLE_BLOCK=1;CKEDITOR.STYLE_INLINE=2;CKEDITOR.STYLE_OBJECT=3;(function(){function a(a,b){for(var c,d;(a=a.getParent())&&!a.equals(b);)if(a.getAttribute("data-nostyle"))c=a;else if(!d){var e=a.getAttribute("contentEditable");"false"==e?c=a:"true"==e&&(d=1)}return c}function b(a,b,c,d){return(a.getPosition(b)|d)==d&&(!c.childRule||c.childRule(a))}function c(d){var f=d.document;if(d.collapsed)f=r(this,f),d.insertNode(f),d.moveToPosition(f,CKEDITOR.POSITION_BEFORE_END);else{var g=this.element,h=this._.definition,i,j=h.ignoreReadonly,k=j||h.includeReadonly;null==k&&(k=d.root.getCustomData("cke_includeReadonly"));var l=CKEDITOR.dtd[g];l||(i=!0,l=CKEDITOR.dtd.span);d.enlarge(CKEDITOR.ENLARGE_INLINE,1);d.trim();var m=d.createBookmark(),n=m.startNode,p=m.endNode,q=n,s;if(!j){var t=d.getCommonAncestor(),j=a(n,t),t=a(p,t);j&&(q=j.getNextSourceNode(!0));t&&(p=t)}for(q.getPosition(p)==CKEDITOR.POSITION_FOLLOWING&&(q=0);q;){j=!1;if(q.equals(p))q=null,j=!0;else{var u=q.type==CKEDITOR.NODE_ELEMENT?q.getName():null,t=u&&"false"==q.getAttribute("contentEditable"),v=u&&q.getAttribute("data-nostyle");if(u&&q.data("cke-bookmark")){q=q.getNextSourceNode(!0);continue}if(t&&k&&CKEDITOR.dtd.$block[u])for(var w=q,x=e(w),y=void 0,z=x.length,A=0,w=z&&new CKEDITOR.dom.range(w.getDocument());A<z;++A){var y=x[A],C=CKEDITOR.filter.instances[y.data("cke-filter")];if(C?C.check(this):1)w.selectNodeContents(y),c.call(this,w)}x=u?!l[u]||v?0:t&&!k?0:b(q,p,h,D):1;if(x)if(y=q.getParent(),x=h,z=g,A=i,!y||!(y.getDtd()||CKEDITOR.dtd.span)[z]&&!A||x.parentRule&&!x.parentRule(y))j=!0;else{if(s||u&&CKEDITOR.dtd.$removeEmpty[u]&&(q.getPosition(p)|D)!=D||(s=d.clone(),s.setStartBefore(q)),u=q.type,u==CKEDITOR.NODE_TEXT||t||u==CKEDITOR.NODE_ELEMENT&&!q.getChildCount()){for(var u=q,F;(j=!u.getNext(B))&&(F=u.getParent(),l[F.getName()])&&b(F,n,h,E);)u=F;s.setEndAfter(u)}}else j=!0;q=q.getNextSourceNode(v||t)}if(j&&s&&!s.collapsed){for(var j=r(this,f),t=j.hasAttributes(),v=s.getCommonAncestor(),u={},x={},y={},z={},G,H,I;j&&v;){if(v.getName()==g){for(G in h.attributes)!z[G]&&(I=v.getAttribute(H))&&(j.getAttribute(G)==I?x[G]=1:z[G]=1);for(H in h.styles)!y[H]&&(I=v.getStyle(H))&&(j.getStyle(H)==I?u[H]=1:y[H]=1)}v=v.getParent()}for(G in x)j.removeAttribute(G);for(H in u)j.removeStyle(H);t&&!j.hasAttributes()&&(j=null);j?(s.extractContents().appendTo(j),s.insertNode(j),o.call(this,j),j.mergeSiblings(),CKEDITOR.env.ie||j.$.normalize()):(j=new CKEDITOR.dom.element("span"),s.extractContents().appendTo(j),s.insertNode(j),o.call(this,j),j.remove(!0));s=null}}d.moveToBookmark(m);d.shrink(CKEDITOR.SHRINK_TEXT);d.shrink(CKEDITOR.NODE_ELEMENT,!0)}}function d(a){function b(){for(var a=new CKEDITOR.dom.elementPath(d.getParent()),b=new CKEDITOR.dom.elementPath(j.getParent()),c=null,e=null,f=0;f<a.elements.length;f++){var g=a.elements[f];if(g==a.block||g==a.blockLimit)break;k.checkElementRemovable(g,!0)&&(c=g)}for(f=0;f<b.elements.length;f++){g=b.elements[f];if(g==b.block||g==b.blockLimit)break;k.checkElementRemovable(g,!0)&&(e=g)}e&&j.breakParent(e);c&&d.breakParent(c)}a.enlarge(CKEDITOR.ENLARGE_INLINE,1);var c=a.createBookmark(),d=c.startNode;if(a.collapsed){for(var e=new CKEDITOR.dom.elementPath(d.getParent(),a.root),f,g=0,h;g<e.elements.length&&(h=e.elements[g])&&h!=e.block&&h!=e.blockLimit;g++)if(this.checkElementRemovable(h)){var i;a.collapsed&&(a.checkBoundaryOfElement(h,CKEDITOR.END)||(i=a.checkBoundaryOfElement(h,CKEDITOR.START)))?(f=h,f.match=i?"start":"end"):(h.mergeSiblings(),h.is(this.element)?n.call(this,h):p(h,u(this)[h.getName()]))}if(f){h=d;for(g=0;;g++){i=e.elements[g];if(i.equals(f))break;else if(i.match)continue;else i=i.clone();i.append(h);h=i}h["start"==f.match?"insertBefore":"insertAfter"](f)}}else{var j=c.endNode,k=this;b();for(e=d;!e.equals(j);)f=e.getNextSourceNode(),e.type==CKEDITOR.NODE_ELEMENT&&this.checkElementRemovable(e)&&(e.getName()==this.element?n.call(this,e):p(e,u(this)[e.getName()]),f.type==CKEDITOR.NODE_ELEMENT&&f.contains(d)&&(b(),f=d.getNext())),e=f}a.moveToBookmark(c);a.shrink(CKEDITOR.NODE_ELEMENT,!0)}function e(a){var b=[];a.forEach(function(a){if("true"==a.getAttribute("contenteditable"))return b.push(a),!1},CKEDITOR.NODE_ELEMENT,!0);return b}function f(a){var b=a.getEnclosedNode()||a.getCommonAncestor(!1,!0);(a=new CKEDITOR.dom.elementPath(b,a.root).contains(this.element,1))&&!a.isReadOnly()&&s(a,this)}function g(a){var b=a.getCommonAncestor(!0,!0);if(a=new CKEDITOR.dom.elementPath(b,a.root).contains(this.element,1)){var b=this._.definition,c=b.attributes;if(c)for(var d in c)a.removeAttribute(d,c[d]);if(b.styles)for(var e in b.styles)b.styles.hasOwnProperty(e)&&a.removeStyle(e)}}function h(a){var b=a.createBookmark(!0),c=a.createIterator();c.enforceRealBlocks=!0;this._.enterMode&&(c.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR);for(var d,e=a.document,f;d=c.getNextParagraph();)!d.isReadOnly()&&(c.activeFilter?c.activeFilter.check(this):1)&&(f=r(this,e,d),j(d,f));a.moveToBookmark(b)}function i(a){var b=a.createBookmark(1),c=a.createIterator();c.enforceRealBlocks=!0;c.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR;for(var d,e;d=c.getNextParagraph();)this.checkElementRemovable(d)&&(d.is("pre")?((e=this._.enterMode==CKEDITOR.ENTER_BR?null:a.document.createElement(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"))&&d.copyAttributes(e),j(d,e)):n.call(this,d));a.moveToBookmark(b)}function j(a,b){var c=!b;c&&(b=a.getDocument().createElement("div"),a.copyAttributes(b));var d=b&&b.is("pre"),e=a.is("pre"),f=!d&&e;if(d&&!e){e=b;(f=a.getBogus())&&f.remove();f=a.getHtml();f=l(f,/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g,"");f=f.replace(/[ \t\r\n]*(<br[^>]*>)[ \t\r\n]*/gi,"$1");f=f.replace(/([ \t\n\r]+|&nbsp;)/g," ");f=f.replace(/<br\b[^>]*>/gi,"\n");if(CKEDITOR.env.ie){var g=a.getDocument().createElement("div");g.append(e);e.$.outerHTML="<pre>"+f+"</pre>";e.copyAttributes(g.getFirst());e=g.getFirst().remove()}else e.setHtml(f);b=e}else f?b=m(c?[a.getHtml()]:k(a),b):a.moveChildren(b);b.replace(a);if(d){var c=b,h;(h=c.getPrevious(C))&&h.type==CKEDITOR.NODE_ELEMENT&&h.is("pre")&&(d=l(h.getHtml(),/\n$/,"")+"\n\n"+l(c.getHtml(),/^\n/,""),CKEDITOR.env.ie?c.$.outerHTML="<pre>"+d+"</pre>":c.setHtml(d),h.remove())}else c&&q(b)}function k(a){var b=[];l(a.getOuterHtml(),/(\S\s*)\n(?:\s|(<span[^>]+data-cke-bookmark.*?\/span>))*\n(?!$)/gi,function(a,b,c){return b+"</pre>"+c+"<pre>"}).replace(/<pre\b.*?>([\s\S]*?)<\/pre>/gi,function(a,c){b.push(c)});return b}function l(a,b,c){var d="",e="";a=a.replace(/(^<span[^>]+data-cke-bookmark.*?\/span>)|(<span[^>]+data-cke-bookmark.*?\/span>$)/gi,function(a,b,c){b&&(d=b);c&&(e=c);return""});return d+a.replace(b,c)+e}function m(a,b){var c;1<a.length&&(c=new CKEDITOR.dom.documentFragment(b.getDocument()));for(var d=0;d<a.length;d++){var e=a[d],e=e.replace(/(\r\n|\r)/g,"\n"),e=l(e,/^[ \t]*\n/,""),e=l(e,/\n$/,""),e=l(e,/^[ \t]+|[ \t]+$/g,function(a,b){return 1==a.length?"&nbsp;":b?" "+CKEDITOR.tools.repeat("&nbsp;",a.length-1):CKEDITOR.tools.repeat("&nbsp;",a.length-1)+" "}),e=e.replace(/\n/g,"<br>"),e=e.replace(/[ \t]{2,}/g,function(a){return CKEDITOR.tools.repeat("&nbsp;",a.length-1)+" "});if(c){var f=b.clone();f.setHtml(e);c.append(f)}else b.setHtml(e)}return c||b}function n(a,b){var c=this._.definition,d=c.attributes,c=c.styles,e=u(this)[a.getName()],f=CKEDITOR.tools.isEmpty(d)&&CKEDITOR.tools.isEmpty(c),g;for(g in d)if("class"!=g&&!this._.definition.fullMatch||a.getAttribute(g)==v(g,d[g]))b&&"data-"==g.slice(0,5)||(f=a.hasAttribute(g),a.removeAttribute(g));for(var h in c)this._.definition.fullMatch&&a.getStyle(h)!=v(h,c[h],!0)||(f=f||!!a.getStyle(h),a.removeStyle(h));p(a,e,x[a.getName()]);f&&(this._.definition.alwaysRemoveElement?q(a,1):!CKEDITOR.dtd.$block[a.getName()]||this._.enterMode==CKEDITOR.ENTER_BR&&!a.hasAttributes()?q(a):a.renameNode(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"))}function o(a){for(var b=u(this),c=a.getElementsByTag(this.element),d,e=c.count();0<=--e;)d=c.getItem(e),d.isReadOnly()||n.call(this,d,!0);for(var f in b)if(f!=this.element)for(c=a.getElementsByTag(f),e=c.count()-1;0<=e;e--)d=c.getItem(e),d.isReadOnly()||p(d,b[f])}function p(a,b,c){if(b=b&&b.attributes)for(var d=0;d<b.length;d++){var e=b[d][0],f;if(f=a.getAttribute(e)){var g=b[d][1];(null===g||g.test&&g.test(f)||"string"==typeof g&&f==g)&&a.removeAttribute(e)}}c||q(a)}function q(a,b){if(!a.hasAttributes()||b)if(CKEDITOR.dtd.$block[a.getName()]){var c=a.getPrevious(C),d=a.getNext(C);!c||c.type!=CKEDITOR.NODE_TEXT&&c.isBlockBoundary({br:1})||a.append("br",1);!d||d.type!=CKEDITOR.NODE_TEXT&&d.isBlockBoundary({br:1})||a.append("br");a.remove(!0)}else c=a.getFirst(),d=a.getLast(),a.remove(!0),c&&(c.type==CKEDITOR.NODE_ELEMENT&&c.mergeSiblings(),d&&!c.equals(d)&&d.type==CKEDITOR.NODE_ELEMENT&&d.mergeSiblings())}function r(a,b,c){var d;d=a.element;"*"==d&&(d="span");d=new CKEDITOR.dom.element(d,b);c&&c.copyAttributes(d);d=s(d,a);b.getCustomData("doc_processing_style")&&d.hasAttribute("id")?d.removeAttribute("id"):b.setCustomData("doc_processing_style",1);return d}function s(a,b){var c=b._.definition,d=c.attributes,c=CKEDITOR.style.getStyleText(c);if(d)for(var e in d)a.setAttribute(e,d[e]);c&&a.setAttribute("style",c);return a}function t(a,b){for(var c in a)a[c]=a[c].replace(A,function(a,c){return b[c]})}function u(a){if(a._.overrides)return a._.overrides;var b=a._.overrides={},c=a._.definition.overrides;if(c){CKEDITOR.tools.isArray(c)||(c=[c]);for(var d=0;d<c.length;d++){var e=c[d],f,g;"string"==typeof e?f=e.toLowerCase():(f=e.element?e.element.toLowerCase():a.element,g=e.attributes);e=b[f]||(b[f]={});if(g){var e=e.attributes=e.attributes||[],h;for(h in g)e.push([h.toLowerCase(),g[h]])}}}return b}function v(a,b,c){var d=new CKEDITOR.dom.element("span");d[c?"setStyle":"setAttribute"](a,b);return d[c?"getStyle":"getAttribute"](a)}function w(a,b,c){var d=a.document,e=a.getRanges();b=b?this.removeFromRange:this.applyToRange;for(var f,g=e.createIterator();f=g.getNextRange();)b.call(this,f,c);a.selectRanges(e);d.removeCustomData("doc_processing_style")}var x={address:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1,section:1,header:1,footer:1,nav:1,article:1,aside:1,figure:1,dialog:1,hgroup:1,time:1,meter:1,menu:1,command:1,keygen:1,output:1,progress:1,details:1,datagrid:1,datalist:1},y={a:1,blockquote:1,embed:1,hr:1,img:1,li:1,object:1,ol:1,table:1,td:1,tr:1,th:1,ul:1,dl:1,dt:1,dd:1,form:1,audio:1,video:1},z=/\s*(?:;\s*|$)/,A=/#\((.+?)\)/g,B=CKEDITOR.dom.walker.bookmark(0,1),C=CKEDITOR.dom.walker.whitespaces(1);CKEDITOR.style=function(a,b){if("string"==typeof a.type)return new CKEDITOR.style.customHandlers[a.type](a);var c=a.attributes;c&&c.style&&(a.styles=CKEDITOR.tools.extend({},a.styles,CKEDITOR.tools.parseCssText(c.style)),delete c.style);b&&(a=CKEDITOR.tools.clone(a),t(a.attributes,b),t(a.styles,b));c=this.element=a.element?"string"==typeof a.element?a.element.toLowerCase():a.element:"*";this.type=a.type||(x[c]?CKEDITOR.STYLE_BLOCK:y[c]?CKEDITOR.STYLE_OBJECT:CKEDITOR.STYLE_INLINE);"object"==typeof this.element&&(this.type=CKEDITOR.STYLE_OBJECT);this._={definition:a}};CKEDITOR.style.prototype={apply:function(a){if(a instanceof CKEDITOR.dom.document)return w.call(this,a.getSelection());if(this.checkApplicable(a.elementPath(),a)){var b=this._.enterMode;b||(this._.enterMode=a.activeEnterMode);w.call(this,a.getSelection(),0,a);this._.enterMode=b}},remove:function(a){if(a instanceof CKEDITOR.dom.document)return w.call(this,a.getSelection(),1);if(this.checkApplicable(a.elementPath(),a)){var b=this._.enterMode;b||(this._.enterMode=a.activeEnterMode);w.call(this,a.getSelection(),1,a);this._.enterMode=b}},applyToRange:function(a){this.applyToRange=this.type==CKEDITOR.STYLE_INLINE?c:this.type==CKEDITOR.STYLE_BLOCK?h:this.type==CKEDITOR.STYLE_OBJECT?f:null;return this.applyToRange(a)},removeFromRange:function(a){this.removeFromRange=this.type==CKEDITOR.STYLE_INLINE?d:this.type==CKEDITOR.STYLE_BLOCK?i:this.type==CKEDITOR.STYLE_OBJECT?g:null;return this.removeFromRange(a)},applyToObject:function(a){s(a,this)},checkActive:function(a,b){switch(this.type){case CKEDITOR.STYLE_BLOCK:return this.checkElementRemovable(a.block||a.blockLimit,!0,b);case CKEDITOR.STYLE_OBJECT:case CKEDITOR.STYLE_INLINE:for(var c=a.elements,d=0,e;d<c.length;d++)if(e=c[d],this.type!=CKEDITOR.STYLE_INLINE||e!=a.block&&e!=a.blockLimit){if(this.type==CKEDITOR.STYLE_OBJECT){var f=e.getName();if(!("string"==typeof this.element?f==this.element:f in this.element))continue}if(this.checkElementRemovable(e,!0,b))return!0}}return!1},checkApplicable:function(a,b,c){b&&b instanceof CKEDITOR.filter&&(c=b);if(c&&!c.check(this))return!1;switch(this.type){case CKEDITOR.STYLE_OBJECT:return!!a.contains(this.element);case CKEDITOR.STYLE_BLOCK:return!!a.blockLimit.getDtd()[this.element]}return!0},checkElementMatch:function(a,b){var c=this._.definition;if(!a||!c.ignoreReadonly&&a.isReadOnly())return!1;var d=a.getName();if("string"==typeof this.element?d==this.element:d in this.element){if(!b&&!a.hasAttributes())return!0;if(d=c._AC)c=d;else{var d={},e=0,f=c.attributes;if(f)for(var g in f)e++,d[g]=f[g];if(g=CKEDITOR.style.getStyleText(c))d.style||e++,d.style=g;d._length=e;c=c._AC=d}if(c._length){for(var h in c)if("_length"!=h){e=a.getAttribute(h)||"";if("style"==h)a:{d=c[h];"string"==typeof d&&(d=CKEDITOR.tools.parseCssText(d));"string"==typeof e&&(e=CKEDITOR.tools.parseCssText(e,!0));g=void 0;for(g in d)if(!(g in e)||e[g]!=d[g]&&"inherit"!=d[g]&&"inherit"!=e[g]){d=!1;break a}d=!0}else d=c[h]==e;if(d){if(!b)return!0}else if(b)return!1}if(b)return!0}else return!0}return!1},checkElementRemovable:function(a,b,c){if(this.checkElementMatch(a,b,c))return!0;if(b=u(this)[a.getName()]){var d;if(!(b=b.attributes))return!0;for(c=0;c<b.length;c++)if(d=b[c][0],d=a.getAttribute(d)){var e=b[c][1];if(null===e)return!0;if("string"==typeof e){if(d==e)return!0}else if(e.test(d))return!0}}return!1},buildPreview:function(a){var b=this._.definition,c=[],d=b.element;"bdo"==d&&(d="span");var c=["<",d],e=b.attributes;if(e)for(var f in e)c.push(" ",f,'="',e[f],'"');(e=CKEDITOR.style.getStyleText(b))&&c.push(' style="',e,'"');c.push(">",a||b.name,"</",d,">");return c.join("")},getDefinition:function(){return this._.definition}};CKEDITOR.style.getStyleText=function(a){var b=a._ST;if(b)return b;var b=a.styles,c=a.attributes&&a.attributes.style||"",d="";c.length&&(c=c.replace(z,";"));for(var e in b){var f=b[e],g=(e+":"+f).replace(z,";");"inherit"==f?d+=g:c+=g}c.length&&(c=CKEDITOR.tools.normalizeCssText(c,!0));return a._ST=c+d};CKEDITOR.style.customHandlers={};CKEDITOR.style.addCustomHandler=function(a){var b=function(a){this._={definition:a};this.setup&&this.setup(a)};b.prototype=CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.style.prototype),{assignedTo:CKEDITOR.STYLE_OBJECT},a,!0);return this.customHandlers[a.type]=b};var D=CKEDITOR.POSITION_PRECEDING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED,E=CKEDITOR.POSITION_FOLLOWING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED})();CKEDITOR.styleCommand=function(a,b){this.requiredContent=this.allowedContent=this.style=a;CKEDITOR.tools.extend(this,b,!0)};CKEDITOR.styleCommand.prototype.exec=function(a){a.focus();this.state==CKEDITOR.TRISTATE_OFF?a.applyStyle(this.style):this.state==CKEDITOR.TRISTATE_ON&&a.removeStyle(this.style)};CKEDITOR.stylesSet=new CKEDITOR.resourceManager("","stylesSet");CKEDITOR.addStylesSet=CKEDITOR.tools.bind(CKEDITOR.stylesSet.add,CKEDITOR.stylesSet);CKEDITOR.loadStylesSet=function(a,b,c){CKEDITOR.stylesSet.addExternal(a,b,"");CKEDITOR.stylesSet.load(a,c)};CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{attachStyleStateChange:function(a,b){var c=this._.styleStateChangeCallbacks;c||(c=this._.styleStateChangeCallbacks=[],this.on("selectionChange",function(a){for(var b=0;b<c.length;b++){var d=c[b],e=d.style.checkActive(a.data.path,this)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF;d.fn.call(this,e)}}));c.push({style:a,fn:b})},applyStyle:function(a){a.apply(this)},removeStyle:function(a){a.remove(this)},getStylesSet:function(a){if(this._.stylesDefinitions)a(this._.stylesDefinitions);else{var b=this,c=b.config.stylesCombo_stylesSet||b.config.stylesSet;if(!1===c)a(null);else if(c instanceof Array)b._.stylesDefinitions=c,a(c);else{c||(c="default");var c=c.split(":"),d=c[0];CKEDITOR.stylesSet.addExternal(d,c[1]?c.slice(1).join(":"):CKEDITOR.getUrl("styles.js"),"");CKEDITOR.stylesSet.load(d,function(c){b._.stylesDefinitions=c[d];a(b._.stylesDefinitions)})}}}});CKEDITOR.dom.comment=function(a,b){"string"==typeof a&&(a=(b?b.$:document).createComment(a));CKEDITOR.dom.domObject.call(this,a)};CKEDITOR.dom.comment.prototype=new CKEDITOR.dom.node;CKEDITOR.tools.extend(CKEDITOR.dom.comment.prototype,{type:CKEDITOR.NODE_COMMENT,getOuterHtml:function(){return"<!--"+this.$.nodeValue+"-->"}});"use strict";(function(){var a={},b={},c;for(c in CKEDITOR.dtd.$blockLimit)c in CKEDITOR.dtd.$list||(a[c]=1);for(c in CKEDITOR.dtd.$block)c in CKEDITOR.dtd.$blockLimit||c in CKEDITOR.dtd.$empty||(b[c]=1);CKEDITOR.dom.elementPath=function(c,d){var e=null,f=null,g=[],h=c,i;d=d||c.getDocument().getBody();do if(h.type==CKEDITOR.NODE_ELEMENT){g.push(h);if(!this.lastElement&&(this.lastElement=h,h.is(CKEDITOR.dtd.$object)||"false"==h.getAttribute("contenteditable")))continue;if(h.equals(d))break;if(!f&&(i=h.getName(),"true"==h.getAttribute("contenteditable")?f=h:!e&&b[i]&&(e=h),a[i])){if(i=!e&&"div"==i){a:{i=h.getChildren();for(var j=0,k=i.count();j<k;j++){var l=i.getItem(j);if(l.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$block[l.getName()]){i=!0;break a}}i=!1}i=!i}i?e=h:f=h}}while(h=h.getParent());f||(f=d);this.block=e;this.blockLimit=f;this.root=d;this.elements=g}})();CKEDITOR.dom.elementPath.prototype={compare:function(a){var b=this.elements;a=a&&a.elements;if(!a||b.length!=a.length)return!1;for(var c=0;c<b.length;c++)if(!b[c].equals(a[c]))return!1;return!0},contains:function(a,b,c){var d;"string"==typeof a&&(d=function(b){return b.getName()==a});a instanceof CKEDITOR.dom.element?d=function(b){return b.equals(a)}:CKEDITOR.tools.isArray(a)?d=function(b){return-1<CKEDITOR.tools.indexOf(a,b.getName())}:"function"==typeof a?d=a:"object"==typeof a&&(d=function(b){return b.getName()in a});var e=this.elements,f=e.length;b&&f--;c&&(e=Array.prototype.slice.call(e,0),e.reverse());for(b=0;b<f;b++)if(d(e[b]))return e[b];return null},isContextFor:function(a){var b;return a in CKEDITOR.dtd.$block?(b=this.contains(CKEDITOR.dtd.$intermediate)||this.root.equals(this.block)&&this.block||this.blockLimit,!!b.getDtd()[a]):!0},direction:function(){return(this.block||this.blockLimit||this.root).getDirection(1)}};CKEDITOR.dom.text=function(a,b){"string"==typeof a&&(a=(b?b.$:document).createTextNode(a));this.$=a};CKEDITOR.dom.text.prototype=new CKEDITOR.dom.node;CKEDITOR.tools.extend(CKEDITOR.dom.text.prototype,{type:CKEDITOR.NODE_TEXT,getLength:function(){return this.$.nodeValue.length},getText:function(){return this.$.nodeValue},setText:function(a){this.$.nodeValue=a},split:function(a){var b=this.$.parentNode,c=b.childNodes.length,d=this.getLength(),e=this.getDocument(),f=new CKEDITOR.dom.text(this.$.splitText(a),e);b.childNodes.length==c&&(a>=d?(f=e.createText(""),f.insertAfter(this)):(a=e.createText(""),a.insertAfter(f),a.remove()));return f},substring:function(a,b){return"number"!=typeof b?this.$.nodeValue.substr(a):this.$.nodeValue.substring(a,b)}});(function(){function a(a,b,c){var d=a.serializable,e=b[c?"endContainer":"startContainer"],f=c?"endOffset":"startOffset",g=d?b.document.getById(a.startNode):a.startNode;a=d?b.document.getById(a.endNode):a.endNode;e.equals(g.getPrevious())?(b.startOffset=b.startOffset-e.getLength()-a.getPrevious().getLength(),e=a.getNext()):e.equals(a.getPrevious())&&(b.startOffset-=e.getLength(),e=a.getNext());e.equals(g.getParent())&&b[f]++;e.equals(a.getParent())&&b[f]++;b[c?"endContainer":"startContainer"]=e;return b}CKEDITOR.dom.rangeList=function(a){if(a instanceof CKEDITOR.dom.rangeList)return a;a?a instanceof CKEDITOR.dom.range&&(a=[a]):a=[];return CKEDITOR.tools.extend(a,b)};var b={createIterator:function(){var a=this,b=CKEDITOR.dom.walker.bookmark(),c=[],d;return{getNextRange:function(e){d=void 0===d?0:d+1;var f=a[d];if(f&&1<a.length){if(!d)for(var g=a.length-1;0<=g;g--)c.unshift(a[g].createBookmark(!0));if(e)for(var h=0;a[d+h+1];){var i=f.document;e=0;g=i.getById(c[h].endNode);for(i=i.getById(c[h+1].startNode);;){g=g.getNextSourceNode(!1);if(i.equals(g))e=1;else if(b(g)||g.type==CKEDITOR.NODE_ELEMENT&&g.isBlockBoundary())continue;break}if(!e)break;h++}for(f.moveToBookmark(c.shift());h--;)g=a[++d],g.moveToBookmark(c.shift()),f.setEnd(g.endContainer,g.endOffset)}return f}}},createBookmarks:function(b){for(var c=[],d,e=0;e<this.length;e++){c.push(d=this[e].createBookmark(b,!0));for(var f=e+1;f<this.length;f++)this[f]=a(d,this[f]),this[f]=a(d,this[f],!0)}return c},createBookmarks2:function(a){for(var b=[],c=0;c<this.length;c++)b.push(this[c].createBookmark2(a));return b},moveToBookmarks:function(a){for(var b=0;b<this.length;b++)this[b].moveToBookmark(a[b])}}})();(function(){function a(){return CKEDITOR.getUrl(CKEDITOR.skinName.split(",")[1]||"skins/"+CKEDITOR.skinName.split(",")[0]+"/");
}function b(b){var c=CKEDITOR.skin["ua_"+b],d=CKEDITOR.env;if(c)for(var c=c.split(",").sort(function(a,b){return a>b?-1:1}),e=0,f;e<c.length;e++)if(f=c[e],d.ie&&(f.replace(/^ie/,"")==d.version||d.quirks&&"iequirks"==f)&&(f="ie"),d[f]){b+="_"+c[e];break}return CKEDITOR.getUrl(a()+b+".css")}function c(a,c){f[a]||(CKEDITOR.document.appendStyleSheet(b(a)),f[a]=1);c&&c()}function d(a){var b=a.getById(g);b||(b=a.getHead().append("style"),b.setAttribute("id",g),b.setAttribute("type","text/css"));return b}function e(a,b,c){var d,e,f;if(CKEDITOR.env.webkit)for(b=b.split("}").slice(0,-1),e=0;e<b.length;e++)b[e]=b[e].split("{");for(var g=0;g<a.length;g++)if(CKEDITOR.env.webkit)for(e=0;e<b.length;e++){f=b[e][1];for(d=0;d<c.length;d++)f=f.replace(c[d][0],c[d][1]);a[g].$.sheet.addRule(b[e][0],f)}else{f=b;for(d=0;d<c.length;d++)f=f.replace(c[d][0],c[d][1]);CKEDITOR.env.ie&&11>CKEDITOR.env.version?a[g].$.styleSheet.cssText+=f:a[g].$.innerHTML+=f}}var f={};CKEDITOR.skin={path:a,loadPart:function(b,d){CKEDITOR.skin.name!=CKEDITOR.skinName.split(",")[0]?CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(a()+"skin.js"),function(){c(b,d)}):c(b,d)},getPath:function(a){return CKEDITOR.getUrl(b(a))},icons:{},addIcon:function(a,b,c,d){a=a.toLowerCase();this.icons[a]||(this.icons[a]={path:b,offset:c||0,bgsize:d||"16px"})},getIconStyle:function(a,b,c,d,e){var f;a&&(a=a.toLowerCase(),b&&(f=this.icons[a+"-rtl"]),f||(f=this.icons[a]));a=c||f&&f.path||"";d=d||f&&f.offset;e=e||f&&f.bgsize||"16px";a&&(a=a.replace(/'/g,"\\'"));return a&&"background-image:url('"+CKEDITOR.getUrl(a)+"');background-position:0 "+d+"px;background-size:"+e+";"}};CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{getUiColor:function(){return this.uiColor},setUiColor:function(a){var b=d(CKEDITOR.document);return(this.setUiColor=function(a){this.uiColor=a;var c=CKEDITOR.skin.chameleon,d="",f="";"function"==typeof c&&(d=c(this,"editor"),f=c(this,"panel"));a=[[i,a]];e([b],d,a);e(h,f,a)}).call(this,a)}});var g="cke_ui_color",h=[],i=/\$color/g;CKEDITOR.on("instanceLoaded",function(a){if(!CKEDITOR.env.ie||!CKEDITOR.env.quirks){var b=a.editor;a=function(a){a=(a.data[0]||a.data).element.getElementsByTag("iframe").getItem(0).getFrameDocument();if(!a.getById("cke_ui_color")){a=d(a);h.push(a);var c=b.getUiColor();c&&e([a],CKEDITOR.skin.chameleon(b,"panel"),[[i,c]])}};b.on("panelShow",a);b.on("menuShow",a);b.config.uiColor&&b.setUiColor(b.config.uiColor)}})})();(function(){if(CKEDITOR.env.webkit)CKEDITOR.env.hc=!1;else{var a=CKEDITOR.dom.element.createFromHtml('<div style="width:0;height:0;position:absolute;left:-10000px;border:1px solid;border-color:red blue"></div>',CKEDITOR.document);a.appendTo(CKEDITOR.document.getHead());try{var b=a.getComputedStyle("border-top-color"),c=a.getComputedStyle("border-right-color");CKEDITOR.env.hc=!(!b||b!=c)}catch(d){CKEDITOR.env.hc=!1}a.remove()}CKEDITOR.env.hc&&(CKEDITOR.env.cssClass+=" cke_hc");CKEDITOR.document.appendStyleText(".cke{visibility:hidden;}");CKEDITOR.status="loaded";CKEDITOR.fireOnce("loaded");if(a=CKEDITOR._.pending)for(delete CKEDITOR._.pending,b=0;b<a.length;b++)CKEDITOR.editor.prototype.constructor.apply(a[b][0],a[b][1]),CKEDITOR.add(a[b][0])})();CKEDITOR.skin.name="moono";CKEDITOR.skin.ua_editor="ie,iequirks,ie7,ie8,gecko";CKEDITOR.skin.ua_dialog="ie,iequirks,ie7,ie8";CKEDITOR.skin.chameleon=function(){var a=function(){return function(a,b){for(var c=a.match(/[^#]./g),d=0;3>d;d++){var e=d,f;f=parseInt(c[d],16);f=("0"+(0>b?0|f*(1+b):0|f+(255-f)*b).toString(16)).slice(-2);c[e]=f}return"#"+c.join("")}}(),b=function(){var a=new CKEDITOR.template("background:#{to};background-image:linear-gradient(to bottom,{from},{to});filter:progid:DXImageTransform.Microsoft.gradient(gradientType=0,startColorstr='{from}',endColorstr='{to}');");return function(b,c){return a.output({from:b,to:c})}}(),c={editor:new CKEDITOR.template("{id}.cke_chrome [border-color:{defaultBorder};] {id} .cke_top [ {defaultGradient}border-bottom-color:{defaultBorder};] {id} .cke_bottom [{defaultGradient}border-top-color:{defaultBorder};] {id} .cke_resizer [border-right-color:{ckeResizer}] {id} .cke_dialog_title [{defaultGradient}border-bottom-color:{defaultBorder};] {id} .cke_dialog_footer [{defaultGradient}outline-color:{defaultBorder};border-top-color:{defaultBorder};] {id} .cke_dialog_tab [{lightGradient}border-color:{defaultBorder};] {id} .cke_dialog_tab:hover [{mediumGradient}] {id} .cke_dialog_contents [border-top-color:{defaultBorder};] {id} .cke_dialog_tab_selected, {id} .cke_dialog_tab_selected:hover [background:{dialogTabSelected};border-bottom-color:{dialogTabSelectedBorder};] {id} .cke_dialog_body [background:{dialogBody};border-color:{defaultBorder};] {id} .cke_toolgroup [{lightGradient}border-color:{defaultBorder};] {id} a.cke_button_off:hover, {id} a.cke_button_off:focus, {id} a.cke_button_off:active [{mediumGradient}] {id} .cke_button_on [{ckeButtonOn}] {id} .cke_toolbar_separator [background-color: {ckeToolbarSeparator};] {id} .cke_combo_button [border-color:{defaultBorder};{lightGradient}] {id} a.cke_combo_button:hover, {id} a.cke_combo_button:focus, {id} .cke_combo_on a.cke_combo_button [border-color:{defaultBorder};{mediumGradient}] {id} .cke_path_item [color:{elementsPathColor};] {id} a.cke_path_item:hover, {id} a.cke_path_item:focus, {id} a.cke_path_item:active [background-color:{elementsPathBg};] {id}.cke_panel [border-color:{defaultBorder};] "),panel:new CKEDITOR.template(".cke_panel_grouptitle [{lightGradient}border-color:{defaultBorder};] .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menubutton:hover .cke_menubutton_icon, .cke_menubutton:focus .cke_menubutton_icon, .cke_menubutton:active .cke_menubutton_icon [background-color:{menubuttonIconHover};] .cke_menuseparator [background-color:{menubuttonIcon};] a:hover.cke_colorbox, a:focus.cke_colorbox, a:active.cke_colorbox [border-color:{defaultBorder};] a:hover.cke_colorauto, a:hover.cke_colormore, a:focus.cke_colorauto, a:focus.cke_colormore, a:active.cke_colorauto, a:active.cke_colormore [background-color:{ckeColorauto};border-color:{defaultBorder};] ")};return function(d,e){var f=d.uiColor,f={id:"."+d.id,defaultBorder:a(f,-.1),defaultGradient:b(a(f,.9),f),lightGradient:b(a(f,1),a(f,.7)),mediumGradient:b(a(f,.8),a(f,.5)),ckeButtonOn:b(a(f,.6),a(f,.7)),ckeResizer:a(f,-.4),ckeToolbarSeparator:a(f,.5),ckeColorauto:a(f,.8),dialogBody:a(f,.7),dialogTabSelected:b("#FFFFFF","#FFFFFF"),dialogTabSelectedBorder:"#FFF",elementsPathColor:a(f,-.6),elementsPathBg:f,menubuttonIcon:a(f,.5),menubuttonIconHover:a(f,.3)};return c[e].output(f).replace(/\[/g,"{").replace(/\]/g,"}")}}();CKEDITOR.plugins.add("dialogui",{onLoad:function(){var a=function(a){this._||(this._={});this._["default"]=this._.initValue=a["default"]||"";this._.required=a.required||!1;for(var b=[this._],c=1;c<arguments.length;c++)b.push(arguments[c]);b.push(!0);CKEDITOR.tools.extend.apply(CKEDITOR.tools,b);return this._},b={build:function(a,b,c){return new CKEDITOR.ui.dialog.textInput(a,b,c)}},c={build:function(a,b,c){return new CKEDITOR.ui.dialog[b.type](a,b,c)}},d={isChanged:function(){return this.getValue()!=this.getInitValue()},reset:function(a){this.setValue(this.getInitValue(),a)},setInitValue:function(){this._.initValue=this.getValue()},resetInitValue:function(){this._.initValue=this._["default"]},getInitValue:function(){return this._.initValue}},e=CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onChange:function(a,b){this._.domOnChangeRegistered||(a.on("load",function(){this.getInputElement().on("change",function(){a.parts.dialog.isVisible()&&this.fire("change",{value:this.getValue()})},this)},this),this._.domOnChangeRegistered=!0);this.on("change",b)}},!0),f=/^on([A-Z]\w+)/,g=function(a){for(var b in a)(f.test(b)||"title"==b||"type"==b)&&delete a[b];return a},h=function(a){a=a.data.getKeystroke();a==CKEDITOR.SHIFT+CKEDITOR.ALT+36?this.setDirectionMarker("ltr"):a==CKEDITOR.SHIFT+CKEDITOR.ALT+35&&this.setDirectionMarker("rtl")};CKEDITOR.tools.extend(CKEDITOR.ui.dialog,{labeledElement:function(b,c,d,e){if(!(4>arguments.length)){var f=a.call(this,c);f.labelId=CKEDITOR.tools.getNextId()+"_label";this._.children=[];var g={role:c.role||"presentation"};c.includeLabel&&(g["aria-labelledby"]=f.labelId);CKEDITOR.ui.dialog.uiElement.call(this,b,c,d,"div",null,g,function(){var a=[],d=c.required?" cke_required":"";"horizontal"!=c.labelLayout?a.push('<label class="cke_dialog_ui_labeled_label'+d+'" ',' id="'+f.labelId+'"',f.inputId?' for="'+f.inputId+'"':"",(c.labelStyle?' style="'+c.labelStyle+'"':"")+">",c.label,"</label>",'<div class="cke_dialog_ui_labeled_content"',c.controlStyle?' style="'+c.controlStyle+'"':"",' role="presentation">',e.call(this,b,c),"</div>"):(d={type:"hbox",widths:c.widths,padding:0,children:[{type:"html",html:'<label class="cke_dialog_ui_labeled_label'+d+'" id="'+f.labelId+'" for="'+f.inputId+'"'+(c.labelStyle?' style="'+c.labelStyle+'"':"")+">"+CKEDITOR.tools.htmlEncode(c.label)+"</label>"},{type:"html",html:'<span class="cke_dialog_ui_labeled_content"'+(c.controlStyle?' style="'+c.controlStyle+'"':"")+">"+e.call(this,b,c)+"</span>"}]},CKEDITOR.dialog._.uiElementBuilders.hbox.build(b,d,a));return a.join("")})}},textInput:function(b,c,d){if(!(3>arguments.length)){a.call(this,c);var e=this._.inputId=CKEDITOR.tools.getNextId()+"_textInput",f={"class":"cke_dialog_ui_input_"+c.type,id:e,type:c.type};c.validate&&(this.validate=c.validate);c.maxLength&&(f.maxlength=c.maxLength);c.size&&(f.size=c.size);c.inputStyle&&(f.style=c.inputStyle);var g=this,i=!1;b.on("load",function(){g.getInputElement().on("keydown",function(a){13==a.data.getKeystroke()&&(i=!0)});g.getInputElement().on("keyup",function(a){13==a.data.getKeystroke()&&i&&(b.getButton("ok")&&setTimeout(function(){b.getButton("ok").click()},0),i=!1);g.bidi&&h.call(g,a)},null,null,1e3)});CKEDITOR.ui.dialog.labeledElement.call(this,b,c,d,function(){var a=['<div class="cke_dialog_ui_input_',c.type,'" role="presentation"'];c.width&&a.push('style="width:'+c.width+'" ');a.push("><input ");f["aria-labelledby"]=this._.labelId;this._.required&&(f["aria-required"]=this._.required);for(var b in f)a.push(b+'="'+f[b]+'" ');a.push(" /></div>");return a.join("")})}},textarea:function(b,c,d){if(!(3>arguments.length)){a.call(this,c);var e=this,f=this._.inputId=CKEDITOR.tools.getNextId()+"_textarea",g={};c.validate&&(this.validate=c.validate);g.rows=c.rows||5;g.cols=c.cols||20;g["class"]="cke_dialog_ui_input_textarea "+(c["class"]||"");"undefined"!=typeof c.inputStyle&&(g.style=c.inputStyle);c.dir&&(g.dir=c.dir);if(e.bidi)b.on("load",function(){e.getInputElement().on("keyup",h)},e);CKEDITOR.ui.dialog.labeledElement.call(this,b,c,d,function(){g["aria-labelledby"]=this._.labelId;this._.required&&(g["aria-required"]=this._.required);var a=['<div class="cke_dialog_ui_input_textarea" role="presentation"><textarea id="',f,'" '],b;for(b in g)a.push(b+'="'+CKEDITOR.tools.htmlEncode(g[b])+'" ');a.push(">",CKEDITOR.tools.htmlEncode(e._["default"]),"</textarea></div>");return a.join("")})}},checkbox:function(b,c,d){if(!(3>arguments.length)){var e=a.call(this,c,{"default":!!c["default"]});c.validate&&(this.validate=c.validate);CKEDITOR.ui.dialog.uiElement.call(this,b,c,d,"span",null,null,function(){var a=CKEDITOR.tools.extend({},c,{id:c.id?c.id+"_checkbox":CKEDITOR.tools.getNextId()+"_checkbox"},!0),d=[],f=CKEDITOR.tools.getNextId()+"_label",h={"class":"cke_dialog_ui_checkbox_input",type:"checkbox","aria-labelledby":f};g(a);c["default"]&&(h.checked="checked");"undefined"!=typeof a.inputStyle&&(a.style=a.inputStyle);e.checkbox=new CKEDITOR.ui.dialog.uiElement(b,a,d,"input",null,h);d.push(' <label id="',f,'" for="',h.id,'"'+(c.labelStyle?' style="'+c.labelStyle+'"':"")+">",CKEDITOR.tools.htmlEncode(c.label),"</label>");return d.join("")})}},radio:function(b,c,d){if(!(3>arguments.length)){a.call(this,c);this._["default"]||(this._["default"]=this._.initValue=c.items[0][1]);c.validate&&(this.validate=c.validate);var e=[],f=this;c.role="radiogroup";c.includeLabel=!0;CKEDITOR.ui.dialog.labeledElement.call(this,b,c,d,function(){for(var a=[],d=[],h=(c.id?c.id:CKEDITOR.tools.getNextId())+"_radio",i=0;i<c.items.length;i++){var j=c.items[i],k=void 0!==j[2]?j[2]:j[0],l=void 0!==j[1]?j[1]:j[0],m=CKEDITOR.tools.getNextId()+"_radio_input",n=m+"_label",m=CKEDITOR.tools.extend({},c,{id:m,title:null,type:null},!0),k=CKEDITOR.tools.extend({},m,{title:k},!0),o={type:"radio","class":"cke_dialog_ui_radio_input",name:h,value:l,"aria-labelledby":n},p=[];f._["default"]==l&&(o.checked="checked");g(m);g(k);"undefined"!=typeof m.inputStyle&&(m.style=m.inputStyle);m.keyboardFocusable=!0;e.push(new CKEDITOR.ui.dialog.uiElement(b,m,p,"input",null,o));p.push(" ");new CKEDITOR.ui.dialog.uiElement(b,k,p,"label",null,{id:n,"for":o.id},j[0]);a.push(p.join(""))}new CKEDITOR.ui.dialog.hbox(b,e,a,d);return d.join("")});this._.children=e}},button:function(b,c,d){if(arguments.length){"function"==typeof c&&(c=c(b.getParentEditor()));a.call(this,c,{disabled:c.disabled||!1});CKEDITOR.event.implementOn(this);var e=this;b.on("load",function(){var a=this.getElement();(function(){a.on("click",function(a){e.click();a.data.preventDefault()});a.on("keydown",function(a){a.data.getKeystroke()in{32:1}&&(e.click(),a.data.preventDefault())})})();a.unselectable()},this);var f=CKEDITOR.tools.extend({},c);delete f.style;var g=CKEDITOR.tools.getNextId()+"_label";CKEDITOR.ui.dialog.uiElement.call(this,b,f,d,"a",null,{style:c.style,href:"javascript:void(0)",title:c.label,hidefocus:"true","class":c["class"],role:"button","aria-labelledby":g},'<span id="'+g+'" class="cke_dialog_ui_button">'+CKEDITOR.tools.htmlEncode(c.label)+"</span>")}},select:function(b,c,d){if(!(3>arguments.length)){var e=a.call(this,c);c.validate&&(this.validate=c.validate);e.inputId=CKEDITOR.tools.getNextId()+"_select";CKEDITOR.ui.dialog.labeledElement.call(this,b,c,d,function(){var a=CKEDITOR.tools.extend({},c,{id:c.id?c.id+"_select":CKEDITOR.tools.getNextId()+"_select"},!0),d=[],f=[],h={id:e.inputId,"class":"cke_dialog_ui_input_select","aria-labelledby":this._.labelId};d.push('<div class="cke_dialog_ui_input_',c.type,'" role="presentation"');c.width&&d.push('style="width:'+c.width+'" ');d.push(">");void 0!==c.size&&(h.size=c.size);void 0!==c.multiple&&(h.multiple=c.multiple);g(a);for(var i=0,j;i<c.items.length&&(j=c.items[i]);i++)f.push('<option value="',CKEDITOR.tools.htmlEncode(void 0!==j[1]?j[1]:j[0]).replace(/"/g,"&quot;"),'" /> ',CKEDITOR.tools.htmlEncode(j[0]));"undefined"!=typeof a.inputStyle&&(a.style=a.inputStyle);e.select=new CKEDITOR.ui.dialog.uiElement(b,a,d,"select",null,h,f.join(""));d.push("</div>");return d.join("")})}},file:function(b,c,d){if(!(3>arguments.length)){void 0===c["default"]&&(c["default"]="");var e=CKEDITOR.tools.extend(a.call(this,c),{definition:c,buttons:[]});c.validate&&(this.validate=c.validate);b.on("load",function(){CKEDITOR.document.getById(e.frameId).getParent().addClass("cke_dialog_ui_input_file")});CKEDITOR.ui.dialog.labeledElement.call(this,b,c,d,function(){e.frameId=CKEDITOR.tools.getNextId()+"_fileInput";var a=['<iframe frameborder="0" allowtransparency="0" class="cke_dialog_ui_input_file" role="presentation" id="',e.frameId,'" title="',c.label,'" src="javascript:void('];a.push(CKEDITOR.env.ie?"(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"})()":"0");a.push(')"></iframe>');return a.join("")})}},fileButton:function(b,c,d){var e=this;if(!(3>arguments.length)){a.call(this,c);c.validate&&(this.validate=c.validate);var f=CKEDITOR.tools.extend({},c),g=f.onClick;f.className=(f.className?f.className+" ":"")+"cke_dialog_ui_button";f.onClick=function(a){var d=c["for"];g&&!1===g.call(this,a)||(b.getContentElement(d[0],d[1]).submit(),this.disable())};b.on("load",function(){b.getContentElement(c["for"][0],c["for"][1])._.buttons.push(e)});CKEDITOR.ui.dialog.button.call(this,b,f,d)}},html:function(){var a=/^\s*<[\w:]+\s+([^>]*)?>/,b=/^(\s*<[\w:]+(?:\s+[^>]*)?)((?:.|\r|\n)+)$/,c=/\/$/;return function(d,e,f){if(!(3>arguments.length)){var g=[],h=e.html;"<"!=h.charAt(0)&&(h="<span>"+h+"</span>");var i=e.focus;if(i){var j=this.focus;this.focus=function(){("function"==typeof i?i:j).call(this);this.fire("focus")};e.isFocusable&&(this.isFocusable=this.isFocusable);this.keyboardFocusable=!0}CKEDITOR.ui.dialog.uiElement.call(this,d,e,g,"span",null,null,"");g=g.join("").match(a);h=h.match(b)||["","",""];c.test(h[1])&&(h[1]=h[1].slice(0,-1),h[2]="/"+h[2]);f.push([h[1]," ",g[1]||"",h[2]].join(""))}}}(),fieldset:function(a,b,c,d,e){var f=e.label;this._={children:b};CKEDITOR.ui.dialog.uiElement.call(this,a,e,d,"fieldset",null,null,function(){var a=[];f&&a.push("<legend"+(e.labelStyle?' style="'+e.labelStyle+'"':"")+">"+f+"</legend>");for(var b=0;b<c.length;b++)a.push(c[b]);return a.join("")})}},!0);CKEDITOR.ui.dialog.html.prototype=new CKEDITOR.ui.dialog.uiElement;CKEDITOR.ui.dialog.labeledElement.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setLabel:function(a){var b=CKEDITOR.document.getById(this._.labelId);1>b.getChildCount()?new CKEDITOR.dom.text(a,CKEDITOR.document).appendTo(b):b.getChild(0).$.nodeValue=a;return this},getLabel:function(){var a=CKEDITOR.document.getById(this._.labelId);return!a||1>a.getChildCount()?"":a.getChild(0).getText()},eventProcessors:e},!0);CKEDITOR.ui.dialog.button.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{click:function(){return this._.disabled?!1:this.fire("click",{dialog:this._.dialog})},enable:function(){this._.disabled=!1;var a=this.getElement();a&&a.removeClass("cke_disabled")},disable:function(){this._.disabled=!0;this.getElement().addClass("cke_disabled")},isVisible:function(){return this.getElement().getFirst().isVisible()},isEnabled:function(){return!this._.disabled},eventProcessors:CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onClick:function(a,b){this.on("click",function(){b.apply(this,arguments)})}},!0),accessKeyUp:function(){this.click()},accessKeyDown:function(){this.focus()},keyboardFocusable:!0},!0);CKEDITOR.ui.dialog.textInput.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return CKEDITOR.document.getById(this._.inputId)},focus:function(){var a=this.selectParentTab();setTimeout(function(){var b=a.getInputElement();b&&b.$.focus()},0)},select:function(){var a=this.selectParentTab();setTimeout(function(){var b=a.getInputElement();b&&(b.$.focus(),b.$.select())},0)},accessKeyUp:function(){this.select()},setValue:function(a){if(this.bidi){var b=a&&a.charAt(0);(b=""==b?"ltr":""==b?"rtl":null)&&(a=a.slice(1));this.setDirectionMarker(b)}a||(a="");return CKEDITOR.ui.dialog.uiElement.prototype.setValue.apply(this,arguments)},getValue:function(){var a=CKEDITOR.ui.dialog.uiElement.prototype.getValue.call(this);if(this.bidi&&a){var b=this.getDirectionMarker();b&&(a=("ltr"==b?"":"")+a)}return a},setDirectionMarker:function(a){var b=this.getInputElement();a?b.setAttributes({dir:a,"data-cke-dir-marker":a}):this.getDirectionMarker()&&b.removeAttributes(["dir","data-cke-dir-marker"])},getDirectionMarker:function(){return this.getInputElement().data("cke-dir-marker")},keyboardFocusable:!0},d,!0);CKEDITOR.ui.dialog.textarea.prototype=new CKEDITOR.ui.dialog.textInput;CKEDITOR.ui.dialog.select.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return this._.select.getElement()},add:function(a,b,c){var d=new CKEDITOR.dom.element("option",this.getDialog().getParentEditor().document),e=this.getInputElement().$;d.$.text=a;d.$.value=void 0===b||null===b?a:b;void 0===c||null===c?CKEDITOR.env.ie?e.add(d.$):e.add(d.$,null):e.add(d.$,c);return this},remove:function(a){this.getInputElement().$.remove(a);return this},clear:function(){for(var a=this.getInputElement().$;0<a.length;)a.remove(0);return this},keyboardFocusable:!0},d,!0);CKEDITOR.ui.dialog.checkbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getInputElement:function(){return this._.checkbox.getElement()},setValue:function(a,b){this.getInputElement().$.checked=a;!b&&this.fire("change",{value:a})},getValue:function(){return this.getInputElement().$.checked},accessKeyUp:function(){this.setValue(!this.getValue())},eventProcessors:{onChange:function(a,b){if(!CKEDITOR.env.ie||8<CKEDITOR.env.version)return e.onChange.apply(this,arguments);a.on("load",function(){var a=this._.checkbox.getElement();a.on("propertychange",function(b){b=b.data.$;"checked"==b.propertyName&&this.fire("change",{value:a.$.checked})},this)},this);this.on("change",b);return null}},keyboardFocusable:!0},d,!0);CKEDITOR.ui.dialog.radio.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setValue:function(a,b){for(var c=this._.children,d,e=0;e<c.length&&(d=c[e]);e++)d.getElement().$.checked=d.getValue()==a;!b&&this.fire("change",{value:a})},getValue:function(){for(var a=this._.children,b=0;b<a.length;b++)if(a[b].getElement().$.checked)return a[b].getValue();return null},accessKeyUp:function(){var a=this._.children,b;for(b=0;b<a.length;b++)if(a[b].getElement().$.checked){a[b].getElement().focus();return}a[0].getElement().focus()},eventProcessors:{onChange:function(a,b){if(!CKEDITOR.env.ie||8<CKEDITOR.env.version)return e.onChange.apply(this,arguments);a.on("load",function(){for(var a=this._.children,b=this,c=0;c<a.length;c++)a[c].getElement().on("propertychange",function(a){a=a.data.$;"checked"==a.propertyName&&this.$.checked&&b.fire("change",{value:this.getAttribute("value")})})},this);this.on("change",b);return null}}},d,!0);CKEDITOR.ui.dialog.file.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,d,{getInputElement:function(){var a=CKEDITOR.document.getById(this._.frameId).getFrameDocument();return 0<a.$.forms.length?new CKEDITOR.dom.element(a.$.forms[0].elements[0]):this.getElement()},submit:function(){this.getInputElement().getParent().$.submit();return this},getAction:function(){return this.getInputElement().getParent().$.action},registerEvents:function(a){var b=/^on([A-Z]\w+)/,c,d=function(a,b,c,d){a.on("formLoaded",function(){a.getInputElement().on(c,d,a)})},e;for(e in a)if(c=e.match(b))this.eventProcessors[e]?this.eventProcessors[e].call(this,this._.dialog,a[e]):d(this,this._.dialog,c[1].toLowerCase(),a[e]);return this},reset:function(){function a(){c.$.open();var a="";d.size&&(a=d.size-(CKEDITOR.env.ie?7:0));var j=b.frameId+"_input";c.$.write(['<html dir="'+h+'" lang="'+i+'"><head><title></title></head><body style="margin: 0; overflow: hidden; background: transparent;">','<form enctype="multipart/form-data" method="POST" dir="'+h+'" lang="'+i+'" action="',CKEDITOR.tools.htmlEncode(d.action),'"><label id="',b.labelId,'" for="',j,'" style="display:none">',CKEDITOR.tools.htmlEncode(d.label),'</label><input style="width:100%" id="',j,'" aria-labelledby="',b.labelId,'" type="file" name="',CKEDITOR.tools.htmlEncode(d.id||"cke_upload"),'" size="',CKEDITOR.tools.htmlEncode(0<a?a:""),'" /></form></body></html><script>',CKEDITOR.env.ie?"("+CKEDITOR.tools.fixDomain+")();":"","window.parent.CKEDITOR.tools.callFunction("+f+");","window.onbeforeunload = function() {window.parent.CKEDITOR.tools.callFunction("+g+")}","</script>"].join(""));c.$.close();for(a=0;a<e.length;a++)e[a].enable()}var b=this._,c=CKEDITOR.document.getById(b.frameId).getFrameDocument(),d=b.definition,e=b.buttons,f=this.formLoadedNumber,g=this.formUnloadNumber,h=b.dialog._.editor.lang.dir,i=b.dialog._.editor.langCode;f||(f=this.formLoadedNumber=CKEDITOR.tools.addFunction(function(){this.fire("formLoaded")},this),g=this.formUnloadNumber=CKEDITOR.tools.addFunction(function(){this.getInputElement().clearCustomData()},this),this.getDialog()._.editor.on("destroy",function(){CKEDITOR.tools.removeFunction(f);CKEDITOR.tools.removeFunction(g)}));CKEDITOR.env.gecko?setTimeout(a,500):a()},getValue:function(){return this.getInputElement().$.value||""},setInitValue:function(){this._.initValue=""},eventProcessors:{onChange:function(a,b){this._.domOnChangeRegistered||(this.on("formLoaded",function(){this.getInputElement().on("change",function(){this.fire("change",{value:this.getValue()})},this)},this),this._.domOnChangeRegistered=!0);this.on("change",b)}},keyboardFocusable:!0},!0);CKEDITOR.ui.dialog.fileButton.prototype=new CKEDITOR.ui.dialog.button;CKEDITOR.ui.dialog.fieldset.prototype=CKEDITOR.tools.clone(CKEDITOR.ui.dialog.hbox.prototype);CKEDITOR.dialog.addUIElement("text",b);CKEDITOR.dialog.addUIElement("password",b);CKEDITOR.dialog.addUIElement("textarea",c);CKEDITOR.dialog.addUIElement("checkbox",c);CKEDITOR.dialog.addUIElement("radio",c);CKEDITOR.dialog.addUIElement("button",c);CKEDITOR.dialog.addUIElement("select",c);CKEDITOR.dialog.addUIElement("file",c);CKEDITOR.dialog.addUIElement("fileButton",c);CKEDITOR.dialog.addUIElement("html",c);CKEDITOR.dialog.addUIElement("fieldset",{build:function(a,b,c){for(var d=b.children,e,f=[],g=[],h=0;h<d.length&&(e=d[h]);h++){var i=[];f.push(i);g.push(CKEDITOR.dialog._.uiElementBuilders[e.type].build(a,e,i))}return new CKEDITOR.ui.dialog[b.type](a,g,f,c,b)}})}});CKEDITOR.DIALOG_RESIZE_NONE=0;CKEDITOR.DIALOG_RESIZE_WIDTH=1;CKEDITOR.DIALOG_RESIZE_HEIGHT=2;CKEDITOR.DIALOG_RESIZE_BOTH=3;CKEDITOR.DIALOG_STATE_IDLE=1;CKEDITOR.DIALOG_STATE_BUSY=2;(function(){function a(){for(var a=this._.tabIdList.length,b=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId)+a,c=b-1;c>b-a;c--)if(this._.tabs[this._.tabIdList[c%a]][0].$.offsetHeight)return this._.tabIdList[c%a];return null}function b(){for(var a=this._.tabIdList.length,b=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId),c=b+1;c<b+a;c++)if(this._.tabs[this._.tabIdList[c%a]][0].$.offsetHeight)return this._.tabIdList[c%a];return null}function c(a,b){for(var c=a.$.getElementsByTagName("input"),d=0,e=c.length;d<e;d++){var f=new CKEDITOR.dom.element(c[d]);"text"==f.getAttribute("type").toLowerCase()&&(b?(f.setAttribute("value",f.getCustomData("fake_value")||""),f.removeCustomData("fake_value")):(f.setCustomData("fake_value",f.getAttribute("value")),f.setAttribute("value","")))}}function d(a,b){var c=this.getInputElement();c&&(a?c.removeAttribute("aria-invalid"):c.setAttribute("aria-invalid",!0));a||(this.select?this.select():this.focus());b&&alert(b);this.fire("validated",{valid:a,msg:b})}function e(){var a=this.getInputElement();a&&a.removeAttribute("aria-invalid")}function f(a){var b=CKEDITOR.dom.element.createFromHtml(CKEDITOR.addTemplate("dialog",p).output({id:CKEDITOR.tools.getNextNumber(),editorId:a.id,langDir:a.lang.dir,langCode:a.langCode,editorDialogClass:"cke_editor_"+a.name.replace(/\./g,"\\.")+"_dialog",closeTitle:a.lang.common.close,hidpi:CKEDITOR.env.hidpi?"cke_hidpi":""})),c=b.getChild([0,0,0,0,0]),d=c.getChild(0),e=c.getChild(1);a.plugins.clipboard&&CKEDITOR.plugins.clipboard.preventDefaultDropOnElement(c);!CKEDITOR.env.ie||CKEDITOR.env.quirks||CKEDITOR.env.edge||(a="javascript:void(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"}())",CKEDITOR.dom.element.createFromHtml('<iframe frameBorder="0" class="cke_iframe_shim" src="'+a+'" tabIndex="-1"></iframe>').appendTo(c.getParent()));d.unselectable();e.unselectable();return{element:b,parts:{dialog:b.getChild(0),title:d,close:e,tabs:c.getChild(2),contents:c.getChild([3,0,0,0]),footer:c.getChild([3,0,1,0])}}}function g(a,b,c){this.element=b;this.focusIndex=c;this.tabIndex=0;this.isFocusable=function(){return!b.getAttribute("disabled")&&b.isVisible()};this.focus=function(){a._.currentFocusIndex=this.focusIndex;this.element.focus()};b.on("keydown",function(a){a.data.getKeystroke()in{32:1,13:1}&&this.fire("click")});b.on("focus",function(){this.fire("mouseover")});b.on("blur",function(){this.fire("mouseout")})}function h(a){function b(){a.layout()}var c=CKEDITOR.document.getWindow();c.on("resize",b);a.on("hide",function(){c.removeListener("resize",b)})}function i(a,b){this._={dialog:a};CKEDITOR.tools.extend(this,b)}function j(a){function b(b){var c=a.getSize(),i=CKEDITOR.document.getWindow().getViewPaneSize(),j=b.data.$.screenX,k=b.data.$.screenY,l=j-d.x,m=k-d.y;d={x:j,y:k};e.x+=l;e.y+=m;a.move(e.x+h[3]<g?-h[3]:e.x-h[1]>i.width-c.width-g?i.width-c.width+("rtl"==f.lang.dir?0:h[1]):e.x,e.y+h[0]<g?-h[0]:e.y-h[2]>i.height-c.height-g?i.height-c.height+h[2]:e.y,1);b.data.preventDefault()}function c(){CKEDITOR.document.removeListener("mousemove",b);CKEDITOR.document.removeListener("mouseup",c);if(CKEDITOR.env.ie6Compat){var a=x.getChild(0).getFrameDocument();a.removeListener("mousemove",b);a.removeListener("mouseup",c)}}var d=null,e=null,f=a.getParentEditor(),g=f.config.dialog_magnetDistance,h=CKEDITOR.skin.margins||[0,0,0,0];"undefined"==typeof g&&(g=20);a.parts.title.on("mousedown",function(f){d={x:f.data.$.screenX,y:f.data.$.screenY};CKEDITOR.document.on("mousemove",b);CKEDITOR.document.on("mouseup",c);e=a.getPosition();if(CKEDITOR.env.ie6Compat){var g=x.getChild(0).getFrameDocument();g.on("mousemove",b);g.on("mouseup",c)}f.data.preventDefault()},a)}function k(a){function b(b){var c="rtl"==f.lang.dir,l=k.width,m=k.height,n=l+(b.data.$.screenX-j.x)*(c?-1:1)*(a._.moved?1:2),o=m+(b.data.$.screenY-j.y)*(a._.moved?1:2),p=a._.element.getFirst(),p=c&&p.getComputedStyle("right"),q=a.getPosition();q.y+o>i.height&&(o=i.height-q.y);(c?p:q.x)+n>i.width&&(n=i.width-(c?p:q.x));if(e==CKEDITOR.DIALOG_RESIZE_WIDTH||e==CKEDITOR.DIALOG_RESIZE_BOTH)l=Math.max(d.minWidth||0,n-g);if(e==CKEDITOR.DIALOG_RESIZE_HEIGHT||e==CKEDITOR.DIALOG_RESIZE_BOTH)m=Math.max(d.minHeight||0,o-h);a.resize(l,m);a._.moved||a.layout();b.data.preventDefault()}function c(){CKEDITOR.document.removeListener("mouseup",c);CKEDITOR.document.removeListener("mousemove",b);l&&(l.remove(),l=null);if(CKEDITOR.env.ie6Compat){var a=x.getChild(0).getFrameDocument();a.removeListener("mouseup",c);a.removeListener("mousemove",b)}}var d=a.definition,e=d.resizable;if(e!=CKEDITOR.DIALOG_RESIZE_NONE){var f=a.getParentEditor(),g,h,i,j,k,l,m=CKEDITOR.tools.addFunction(function(d){k=a.getSize();var e=a.parts.contents;e.$.getElementsByTagName("iframe").length&&(l=CKEDITOR.dom.element.createFromHtml('<div class="cke_dialog_resize_cover" style="height: 100%; position: absolute; width: 100%;"></div>'),e.append(l));h=k.height-a.parts.contents.getSize("height",!(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.quirks));g=k.width-a.parts.contents.getSize("width",1);j={x:d.screenX,y:d.screenY};i=CKEDITOR.document.getWindow().getViewPaneSize();CKEDITOR.document.on("mousemove",b);CKEDITOR.document.on("mouseup",c);CKEDITOR.env.ie6Compat&&(e=x.getChild(0).getFrameDocument(),e.on("mousemove",b),e.on("mouseup",c));d.preventDefault&&d.preventDefault()});a.on("load",function(){var b="";e==CKEDITOR.DIALOG_RESIZE_WIDTH?b=" cke_resizer_horizontal":e==CKEDITOR.DIALOG_RESIZE_HEIGHT&&(b=" cke_resizer_vertical");b=CKEDITOR.dom.element.createFromHtml('<div class="cke_resizer'+b+" cke_resizer_"+f.lang.dir+'" title="'+CKEDITOR.tools.htmlEncode(f.lang.common.resize)+'" onmousedown="CKEDITOR.tools.callFunction('+m+', event )">'+("ltr"==f.lang.dir?"":"")+"</div>");a.parts.footer.append(b,1)});f.on("destroy",function(){CKEDITOR.tools.removeFunction(m)})}}function l(a){a.data.preventDefault(1)}function m(a){var b=CKEDITOR.document.getWindow(),c=a.config,d=c.dialog_backgroundCoverColor||"white",e=c.dialog_backgroundCoverOpacity,f=c.baseFloatZIndex,c=CKEDITOR.tools.genKey(d,e,f),g=w[c];g?g.show():(f=['<div tabIndex="-1" style="position: ',CKEDITOR.env.ie6Compat?"absolute":"fixed","; z-index: ",f,"; top: 0px; left: 0px; ",CKEDITOR.env.ie6Compat?"":"background-color: "+d,'" class="cke_dialog_background_cover">'],CKEDITOR.env.ie6Compat&&(d="<html><body style=\\'background-color:"+d+";\\'></body></html>",f.push('<iframe hidefocus="true" frameborder="0" id="cke_dialog_background_iframe" src="javascript:'),f.push("void((function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.write( '"+d+"' );document.close();")+"})())"),
f.push('" style="position:absolute;left:0;top:0;width:100%;height: 100%;filter: progid:DXImageTransform.Microsoft.Alpha(opacity=0)"></iframe>')),f.push("</div>"),g=CKEDITOR.dom.element.createFromHtml(f.join("")),g.setOpacity(void 0!==e?e:.5),g.on("keydown",l),g.on("keypress",l),g.on("keyup",l),g.appendTo(CKEDITOR.document.getBody()),w[c]=g);a.focusManager.add(g);x=g;a=function(){var a=b.getViewPaneSize();g.setStyles({width:a.width+"px",height:a.height+"px"})};var h=function(){var a=b.getScrollPosition(),c=CKEDITOR.dialog._.currentTop;g.setStyles({left:a.x+"px",top:a.y+"px"});if(c){do a=c.getPosition(),c.move(a.x,a.y);while(c=c._.parentDialog)}};v=a;b.on("resize",a);a();CKEDITOR.env.mac&&CKEDITOR.env.webkit||g.focus();if(CKEDITOR.env.ie6Compat){var i=function(){h();arguments.callee.prevScrollHandler.apply(this,arguments)};b.$.setTimeout(function(){i.prevScrollHandler=window.onscroll||function(){};window.onscroll=i},0);h()}}function n(a){x&&(a.focusManager.remove(x),a=CKEDITOR.document.getWindow(),x.hide(),a.removeListener("resize",v),CKEDITOR.env.ie6Compat&&a.$.setTimeout(function(){window.onscroll=window.onscroll&&window.onscroll.prevScrollHandler||null},0),v=null)}var o=CKEDITOR.tools.cssLength,p='<div class="cke_reset_all {editorId} {editorDialogClass} {hidpi}" dir="{langDir}" lang="{langCode}" role="dialog" aria-labelledby="cke_dialog_title_{id}"><table class="cke_dialog '+CKEDITOR.env.cssClass+' cke_{langDir}" style="position:absolute" role="presentation"><tr><td role="presentation"><div class="cke_dialog_body" role="presentation"><div id="cke_dialog_title_{id}" class="cke_dialog_title" role="presentation"></div><a id="cke_dialog_close_button_{id}" class="cke_dialog_close_button" href="javascript:void(0)" title="{closeTitle}" role="button"><span class="cke_label">X</span></a><div id="cke_dialog_tabs_{id}" class="cke_dialog_tabs" role="tablist"></div><table class="cke_dialog_contents" role="presentation"><tr><td id="cke_dialog_contents_{id}" class="cke_dialog_contents_body" role="presentation"></td></tr><tr><td id="cke_dialog_footer_{id}" class="cke_dialog_footer" role="presentation"></td></tr></table></div></td></tr></table></div>';CKEDITOR.dialog=function(c,g){function h(){var a=x._.focusList;a.sort(function(a,b){return a.tabIndex!=b.tabIndex?b.tabIndex-a.tabIndex:a.focusIndex-b.focusIndex});for(var b=a.length,c=0;c<b;c++)a[c].focusIndex=c}function i(a){var b=x._.focusList;a=a||0;if(!(1>b.length)){var c=x._.currentFocusIndex;x._.tabBarMode&&0>a&&(c=0);try{b[c].getInputElement().$.blur()}catch(d){}var e=c,f=1<x._.pageCount;do{e+=a;if(f&&!x._.tabBarMode&&(e==b.length||-1==e)){x._.tabBarMode=!0;x._.tabs[x._.currentTabId][0].focus();x._.currentFocusIndex=-1;return}e=(e+b.length)%b.length;if(e==c)break}while(a&&!b[e].isFocusable());b[e].focus();"text"==b[e].type&&b[e].select()}}function l(d){if(x==CKEDITOR.dialog._.currentTop){var e=d.data.getKeystroke(),f="rtl"==c.lang.dir,g=[37,38,39,40];t=v=0;if(9==e||e==CKEDITOR.SHIFT+9)i(e==CKEDITOR.SHIFT+9?-1:1),t=1;else if(e==CKEDITOR.ALT+121&&!x._.tabBarMode&&1<x.getPageCount())x._.tabBarMode=!0,x._.tabs[x._.currentTabId][0].focus(),x._.currentFocusIndex=-1,t=1;else if(-1!=CKEDITOR.tools.indexOf(g,e)&&x._.tabBarMode)e=-1!=CKEDITOR.tools.indexOf([f?39:37,38],e)?a.call(x):b.call(x),x.selectPage(e),x._.tabs[e][0].focus(),t=1;else if(13!=e&&32!=e||!x._.tabBarMode)if(13==e)e=d.data.getTarget(),e.is("a","button","select","textarea")||e.is("input")&&"button"==e.$.type||((e=this.getButton("ok"))&&CKEDITOR.tools.setTimeout(e.click,0,e),t=1),v=1;else if(27==e)(e=this.getButton("cancel"))?CKEDITOR.tools.setTimeout(e.click,0,e):!1!==this.fire("cancel",{hide:!0}).hide&&this.hide(),v=1;else return;else this.selectPage(this._.currentTabId),this._.tabBarMode=!1,this._.currentFocusIndex=-1,i(1),t=1;m(d)}}function m(a){t?a.data.preventDefault(1):v&&a.data.stopPropagation()}var n=CKEDITOR.dialog._.dialogDefinitions[g],o=CKEDITOR.tools.clone(q),p=c.config.dialog_buttonsOrder||"OS",r=c.lang.dir,s={},t,v;("OS"==p&&CKEDITOR.env.mac||"rtl"==p&&"ltr"==r||"ltr"==p&&"rtl"==r)&&o.buttons.reverse();n=CKEDITOR.tools.extend(n(c),o);n=CKEDITOR.tools.clone(n);n=new u(this,n);o=f(c);this._={editor:c,element:o.element,name:g,contentSize:{width:0,height:0},size:{width:0,height:0},contents:{},buttons:{},accessKeyMap:{},tabs:{},tabIdList:[],currentTabId:null,currentTabIndex:null,pageCount:0,lastTab:null,tabBarMode:!1,focusList:[],currentFocusIndex:0,hasFocus:!1};this.parts=o.parts;CKEDITOR.tools.setTimeout(function(){c.fire("ariaWidget",this.parts.contents)},0,this);o={position:CKEDITOR.env.ie6Compat?"absolute":"fixed",top:0,visibility:"hidden"};o["rtl"==r?"right":"left"]=0;this.parts.dialog.setStyles(o);CKEDITOR.event.call(this);this.definition=n=CKEDITOR.fire("dialogDefinition",{name:g,definition:n},c).definition;if(!("removeDialogTabs"in c._)&&c.config.removeDialogTabs){o=c.config.removeDialogTabs.split(";");for(r=0;r<o.length;r++)if(p=o[r].split(":"),2==p.length){var w=p[0];s[w]||(s[w]=[]);s[w].push(p[1])}c._.removeDialogTabs=s}if(c._.removeDialogTabs&&(s=c._.removeDialogTabs[g]))for(r=0;r<s.length;r++)n.removeContents(s[r]);if(n.onLoad)this.on("load",n.onLoad);if(n.onShow)this.on("show",n.onShow);if(n.onHide)this.on("hide",n.onHide);if(n.onOk)this.on("ok",function(a){c.fire("saveSnapshot");setTimeout(function(){c.fire("saveSnapshot")},0);!1===n.onOk.call(this,a)&&(a.data.hide=!1)});this.state=CKEDITOR.DIALOG_STATE_IDLE;if(n.onCancel)this.on("cancel",function(a){!1===n.onCancel.call(this,a)&&(a.data.hide=!1)});var x=this,y=function(a){var b=x._.contents,c=!1,d;for(d in b)for(var e in b[d])if(c=a.call(this,b[d][e]))return};this.on("ok",function(a){y(function(b){if(b.validate){var c=b.validate(this),e="string"==typeof c||!1===c;e&&(a.data.hide=!1,a.stop());d.call(b,!e,"string"==typeof c?c:void 0);return e}})},this,null,0);this.on("cancel",function(a){y(function(b){if(b.isChanged())return c.config.dialog_noConfirmCancel||confirm(c.lang.common.confirmCancel)||(a.data.hide=!1),!0})},this,null,0);this.parts.close.on("click",function(a){!1!==this.fire("cancel",{hide:!0}).hide&&this.hide();a.data.preventDefault()},this);this.changeFocus=i;var z=this._.element;c.focusManager.add(z,1);this.on("show",function(){z.on("keydown",l,this);if(CKEDITOR.env.gecko)z.on("keypress",m,this)});this.on("hide",function(){z.removeListener("keydown",l);CKEDITOR.env.gecko&&z.removeListener("keypress",m);y(function(a){e.apply(a)})});this.on("iframeAdded",function(a){new CKEDITOR.dom.document(a.data.iframe.$.contentWindow.document).on("keydown",l,this,null,0)});this.on("show",function(){h();var a=1<x._.pageCount;c.config.dialog_startupFocusTab&&a?(x._.tabBarMode=!0,x._.tabs[x._.currentTabId][0].focus(),x._.currentFocusIndex=-1):this._.hasFocus||(this._.currentFocusIndex=a?-1:this._.focusList.length-1,n.onFocus?(a=n.onFocus.call(this))&&a.focus():i(1))},this,null,4294967295);if(CKEDITOR.env.ie6Compat)this.on("load",function(){var a=this.getElement(),b=a.getFirst();b.remove();b.appendTo(a)},this);j(this);k(this);new CKEDITOR.dom.text(n.title,CKEDITOR.document).appendTo(this.parts.title);for(r=0;r<n.contents.length;r++)(s=n.contents[r])&&this.addPage(s);this.parts.tabs.on("click",function(a){var b=a.data.getTarget();b.hasClass("cke_dialog_tab")&&(b=b.$.id,this.selectPage(b.substring(4,b.lastIndexOf("_"))),this._.tabBarMode&&(this._.tabBarMode=!1,this._.currentFocusIndex=-1,i(1)),a.data.preventDefault())},this);r=[];s=CKEDITOR.dialog._.uiElementBuilders.hbox.build(this,{type:"hbox",className:"cke_dialog_footer_buttons",widths:[],children:n.buttons},r).getChild();this.parts.footer.setHtml(r.join(""));for(r=0;r<s.length;r++)this._.buttons[s[r].id]=s[r]};CKEDITOR.dialog.prototype={destroy:function(){this.hide();this._.element.remove()},resize:function(){return function(a,b){this._.contentSize&&this._.contentSize.width==a&&this._.contentSize.height==b||(CKEDITOR.dialog.fire("resize",{dialog:this,width:a,height:b},this._.editor),this.fire("resize",{width:a,height:b},this._.editor),this.parts.contents.setStyles({width:a+"px",height:b+"px"}),"rtl"==this._.editor.lang.dir&&this._.position&&(this._.position.x=CKEDITOR.document.getWindow().getViewPaneSize().width-this._.contentSize.width-parseInt(this._.element.getFirst().getStyle("right"),10)),this._.contentSize={width:a,height:b})}}(),getSize:function(){var a=this._.element.getFirst();return{width:a.$.offsetWidth||0,height:a.$.offsetHeight||0}},move:function(a,b,c){var d=this._.element.getFirst(),e="rtl"==this._.editor.lang.dir,f="fixed"==d.getComputedStyle("position");CKEDITOR.env.ie&&d.setStyle("zoom","100%");f&&this._.position&&this._.position.x==a&&this._.position.y==b||(this._.position={x:a,y:b},f||(f=CKEDITOR.document.getWindow().getScrollPosition(),a+=f.x,b+=f.y),e&&(f=this.getSize(),a=CKEDITOR.document.getWindow().getViewPaneSize().width-f.width-a),b={top:(0<b?b:0)+"px"},b[e?"right":"left"]=(0<a?a:0)+"px",d.setStyles(b),c&&(this._.moved=1))},getPosition:function(){return CKEDITOR.tools.extend({},this._.position)},show:function(){var a=this._.element,b=this.definition;a.getParent()&&a.getParent().equals(CKEDITOR.document.getBody())?a.setStyle("display","block"):a.appendTo(CKEDITOR.document.getBody());this.resize(this._.contentSize&&this._.contentSize.width||b.width||b.minWidth,this._.contentSize&&this._.contentSize.height||b.height||b.minHeight);this.reset();this.selectPage(this.definition.contents[0].id);null===CKEDITOR.dialog._.currentZIndex&&(CKEDITOR.dialog._.currentZIndex=this._.editor.config.baseFloatZIndex);this._.element.getFirst().setStyle("z-index",CKEDITOR.dialog._.currentZIndex+=10);null===CKEDITOR.dialog._.currentTop?(CKEDITOR.dialog._.currentTop=this,this._.parentDialog=null,m(this._.editor)):(this._.parentDialog=CKEDITOR.dialog._.currentTop,this._.parentDialog.getElement().getFirst().$.style.zIndex-=Math.floor(this._.editor.config.baseFloatZIndex/2),CKEDITOR.dialog._.currentTop=this);a.on("keydown",z);a.on("keyup",A);this._.hasFocus=!1;for(var c in b.contents)if(b.contents[c]){var a=b.contents[c],d=this._.tabs[a.id],e=a.requiredContent,f=0;if(d){for(var g in this._.contents[a.id]){var i=this._.contents[a.id][g];"hbox"!=i.type&&"vbox"!=i.type&&i.getInputElement()&&(i.requiredContent&&!this._.editor.activeFilter.check(i.requiredContent)?i.disable():(i.enable(),f++))}!f||e&&!this._.editor.activeFilter.check(e)?d[0].addClass("cke_dialog_tab_disabled"):d[0].removeClass("cke_dialog_tab_disabled")}}CKEDITOR.tools.setTimeout(function(){this.layout();h(this);this.parts.dialog.setStyle("visibility","");this.fireOnce("load",{});CKEDITOR.ui.fire("ready",this);this.fire("show",{});this._.editor.fire("dialogShow",this);this._.parentDialog||this._.editor.focusManager.lock();this.foreach(function(a){a.setInitValue&&a.setInitValue()})},100,this)},layout:function(){var a=this.parts.dialog,b=this.getSize(),c=CKEDITOR.document.getWindow().getViewPaneSize(),d=(c.width-b.width)/2,e=(c.height-b.height)/2;CKEDITOR.env.ie6Compat||(b.height+(0<e?e:0)>c.height||b.width+(0<d?d:0)>c.width?a.setStyle("position","absolute"):a.setStyle("position","fixed"));this.move(this._.moved?this._.position.x:d,this._.moved?this._.position.y:e)},foreach:function(a){for(var b in this._.contents)for(var c in this._.contents[b])a.call(this,this._.contents[b][c]);return this},reset:function(){var a=function(a){a.reset&&a.reset(1)};return function(){this.foreach(a);return this}}(),setupContent:function(){var a=arguments;this.foreach(function(b){b.setup&&b.setup.apply(b,a)})},commitContent:function(){var a=arguments;this.foreach(function(b){CKEDITOR.env.ie&&this._.currentFocusIndex==b.focusIndex&&b.getInputElement().$.blur();b.commit&&b.commit.apply(b,a)})},hide:function(){if(this.parts.dialog.isVisible()){this.fire("hide",{});this._.editor.fire("dialogHide",this);this.selectPage(this._.tabIdList[0]);var a=this._.element;a.setStyle("display","none");this.parts.dialog.setStyle("visibility","hidden");for(C(this);CKEDITOR.dialog._.currentTop!=this;)CKEDITOR.dialog._.currentTop.hide();if(this._.parentDialog){var b=this._.parentDialog.getElement().getFirst();b.setStyle("z-index",parseInt(b.$.style.zIndex,10)+Math.floor(this._.editor.config.baseFloatZIndex/2))}else n(this._.editor);if(CKEDITOR.dialog._.currentTop=this._.parentDialog)CKEDITOR.dialog._.currentZIndex-=10;else{CKEDITOR.dialog._.currentZIndex=null;a.removeListener("keydown",z);a.removeListener("keyup",A);var c=this._.editor;c.focus();setTimeout(function(){c.focusManager.unlock();CKEDITOR.env.iOS&&c.window.focus()},0)}delete this._.parentDialog;this.foreach(function(a){a.resetInitValue&&a.resetInitValue()});this.setState(CKEDITOR.DIALOG_STATE_IDLE)}},addPage:function(a){if(!a.requiredContent||this._.editor.filter.check(a.requiredContent)){for(var b=[],c=a.label?' title="'+CKEDITOR.tools.htmlEncode(a.label)+'"':"",d=CKEDITOR.dialog._.uiElementBuilders.vbox.build(this,{type:"vbox",className:"cke_dialog_page_contents",children:a.elements,expand:!!a.expand,padding:a.padding,style:a.style||"width: 100%;"},b),e=this._.contents[a.id]={},f=d.getChild(),g=0;d=f.shift();)d.notAllowed||"hbox"==d.type||"vbox"==d.type||g++,e[d.id]=d,"function"==typeof d.getChild&&f.push.apply(f,d.getChild());g||(a.hidden=!0);b=CKEDITOR.dom.element.createFromHtml(b.join(""));b.setAttribute("role","tabpanel");d=CKEDITOR.env;e="cke_"+a.id+"_"+CKEDITOR.tools.getNextNumber();c=CKEDITOR.dom.element.createFromHtml(['<a class="cke_dialog_tab"',0<this._.pageCount?" cke_last":"cke_first",c,a.hidden?' style="display:none"':"",' id="',e,'"',d.gecko&&!d.hc?"":' href="javascript:void(0)"',' tabIndex="-1" hidefocus="true" role="tab">',a.label,"</a>"].join(""));b.setAttribute("aria-labelledby",e);this._.tabs[a.id]=[c,b];this._.tabIdList.push(a.id);!a.hidden&&this._.pageCount++;this._.lastTab=c;this.updateStyle();b.setAttribute("name",a.id);b.appendTo(this.parts.contents);c.unselectable();this.parts.tabs.append(c);a.accessKey&&(B(this,this,"CTRL+"+a.accessKey,E,D),this._.accessKeyMap["CTRL+"+a.accessKey]=a.id)}},selectPage:function(a){if(this._.currentTabId!=a&&!this._.tabs[a][0].hasClass("cke_dialog_tab_disabled")&&!1!==this.fire("selectPage",{page:a,currentPage:this._.currentTabId})){for(var b in this._.tabs){var d=this._.tabs[b][0],e=this._.tabs[b][1];b!=a&&(d.removeClass("cke_dialog_tab_selected"),e.hide());e.setAttribute("aria-hidden",b!=a)}var f=this._.tabs[a];f[0].addClass("cke_dialog_tab_selected");CKEDITOR.env.ie6Compat||CKEDITOR.env.ie7Compat?(c(f[1]),f[1].show(),setTimeout(function(){c(f[1],1)},0)):f[1].show();this._.currentTabId=a;this._.currentTabIndex=CKEDITOR.tools.indexOf(this._.tabIdList,a)}},updateStyle:function(){this.parts.dialog[(1===this._.pageCount?"add":"remove")+"Class"]("cke_single_page")},hidePage:function(b){var c=this._.tabs[b]&&this._.tabs[b][0];c&&1!=this._.pageCount&&c.isVisible()&&(b==this._.currentTabId&&this.selectPage(a.call(this)),c.hide(),this._.pageCount--,this.updateStyle())},showPage:function(a){if(a=this._.tabs[a]&&this._.tabs[a][0])a.show(),this._.pageCount++,this.updateStyle()},getElement:function(){return this._.element},getName:function(){return this._.name},getContentElement:function(a,b){var c=this._.contents[a];return c&&c[b]},getValueOf:function(a,b){return this.getContentElement(a,b).getValue()},setValueOf:function(a,b,c){return this.getContentElement(a,b).setValue(c)},getButton:function(a){return this._.buttons[a]},click:function(a){return this._.buttons[a].click()},disableButton:function(a){return this._.buttons[a].disable()},enableButton:function(a){return this._.buttons[a].enable()},getPageCount:function(){return this._.pageCount},getParentEditor:function(){return this._.editor},getSelectedElement:function(){return this.getParentEditor().getSelection().getSelectedElement()},addFocusable:function(a,b){if("undefined"==typeof b)b=this._.focusList.length,this._.focusList.push(new g(this,a,b));else{this._.focusList.splice(b,0,new g(this,a,b));for(var c=b+1;c<this._.focusList.length;c++)this._.focusList[c].focusIndex++}},setState:function(a){if(this.state!=a){this.state=a;if(a==CKEDITOR.DIALOG_STATE_BUSY){if(!this.parts.spinner){var b=this.getParentEditor().lang.dir,c={attributes:{"class":"cke_dialog_spinner"},styles:{"float":"rtl"==b?"right":"left"}};c.styles["margin-"+("rtl"==b?"left":"right")]="8px";this.parts.spinner=CKEDITOR.document.createElement("div",c);this.parts.spinner.setHtml("&#8987;");this.parts.spinner.appendTo(this.parts.title,1)}this.parts.spinner.show();this.getButton("ok").disable()}else a==CKEDITOR.DIALOG_STATE_IDLE&&(this.parts.spinner&&this.parts.spinner.hide(),this.getButton("ok").enable());this.fire("state",a)}}};CKEDITOR.tools.extend(CKEDITOR.dialog,{add:function(a,b){this._.dialogDefinitions[a]&&"function"!=typeof b||(this._.dialogDefinitions[a]=b)},exists:function(a){return!!this._.dialogDefinitions[a]},getCurrent:function(){return CKEDITOR.dialog._.currentTop},isTabEnabled:function(a,b,c){a=a.config.removeDialogTabs;return!(a&&a.match(new RegExp("(?:^|;)"+b+":"+c+"(?:$|;)","i")))},okButton:function(){var a=function(a,b){b=b||{};return CKEDITOR.tools.extend({id:"ok",type:"button",label:a.lang.common.ok,"class":"cke_dialog_ui_button_ok",onClick:function(a){a=a.data.dialog;!1!==a.fire("ok",{hide:!0}).hide&&a.hide()}},b,!0)};a.type="button";a.override=function(b){return CKEDITOR.tools.extend(function(c){return a(c,b)},{type:"button"},!0)};return a}(),cancelButton:function(){var a=function(a,b){b=b||{};return CKEDITOR.tools.extend({id:"cancel",type:"button",label:a.lang.common.cancel,"class":"cke_dialog_ui_button_cancel",onClick:function(a){a=a.data.dialog;!1!==a.fire("cancel",{hide:!0}).hide&&a.hide()}},b,!0)};a.type="button";a.override=function(b){return CKEDITOR.tools.extend(function(c){return a(c,b)},{type:"button"},!0)};return a}(),addUIElement:function(a,b){this._.uiElementBuilders[a]=b}});CKEDITOR.dialog._={uiElementBuilders:{},dialogDefinitions:{},currentTop:null,currentZIndex:null};CKEDITOR.event.implementOn(CKEDITOR.dialog);CKEDITOR.event.implementOn(CKEDITOR.dialog.prototype);var q={resizable:CKEDITOR.DIALOG_RESIZE_BOTH,minWidth:600,minHeight:400,buttons:[CKEDITOR.dialog.okButton,CKEDITOR.dialog.cancelButton]},r=function(a,b,c){for(var d=0,e;e=a[d];d++)if(e.id==b||c&&e[c]&&(e=r(e[c],b,c)))return e;return null},s=function(a,b,c,d,e){if(c){for(var f=0,g;g=a[f];f++){if(g.id==c)return a.splice(f,0,b),b;if(d&&g[d]&&(g=s(g[d],b,c,d,!0)))return g}if(e)return null}a.push(b);return b},t=function(a,b,c){for(var d=0,e;e=a[d];d++){if(e.id==b)return a.splice(d,1);if(c&&e[c]&&(e=t(e[c],b,c)))return e}return null},u=function(a,b){this.dialog=a;for(var c=b.contents,d=0,e;e=c[d];d++)c[d]=e&&new i(a,e);CKEDITOR.tools.extend(this,b)};u.prototype={getContents:function(a){return r(this.contents,a)},getButton:function(a){return r(this.buttons,a)},addContents:function(a,b){return s(this.contents,a,b)},addButton:function(a,b){return s(this.buttons,a,b)},removeContents:function(a){t(this.contents,a)},removeButton:function(a){t(this.buttons,a)}};i.prototype={get:function(a){return r(this.elements,a,"children")},add:function(a,b){return s(this.elements,a,b,"children")},remove:function(a){t(this.elements,a,"children")}};var v,w={},x,y={},z=function(a){var b=a.data.$.ctrlKey||a.data.$.metaKey,c=a.data.$.altKey,d=a.data.$.shiftKey,e=String.fromCharCode(a.data.$.keyCode);(b=y[(b?"CTRL+":"")+(c?"ALT+":"")+(d?"SHIFT+":"")+e])&&b.length&&(b=b[b.length-1],b.keydown&&b.keydown.call(b.uiElement,b.dialog,b.key),a.data.preventDefault())},A=function(a){var b=a.data.$.ctrlKey||a.data.$.metaKey,c=a.data.$.altKey,d=a.data.$.shiftKey,e=String.fromCharCode(a.data.$.keyCode);(b=y[(b?"CTRL+":"")+(c?"ALT+":"")+(d?"SHIFT+":"")+e])&&b.length&&(b=b[b.length-1],b.keyup&&(b.keyup.call(b.uiElement,b.dialog,b.key),a.data.preventDefault()))},B=function(a,b,c,d,e){(y[c]||(y[c]=[])).push({uiElement:a,dialog:b,key:c,keyup:e||a.accessKeyUp,keydown:d||a.accessKeyDown})},C=function(a){for(var b in y){for(var c=y[b],d=c.length-1;0<=d;d--)c[d].dialog!=a&&c[d].uiElement!=a||c.splice(d,1);0===c.length&&delete y[b]}},D=function(a,b){a._.accessKeyMap[b]&&a.selectPage(a._.accessKeyMap[b])},E=function(){};(function(){CKEDITOR.ui.dialog={uiElement:function(a,b,c,d,e,f,g){if(!(4>arguments.length)){var h=(d.call?d(b):d)||"div",i=["<",h," "],j=(e&&e.call?e(b):e)||{},k=(f&&f.call?f(b):f)||{},l=(g&&g.call?g.call(this,a,b):g)||"",m=this.domId=k.id||CKEDITOR.tools.getNextId()+"_uiElement";b.requiredContent&&!a.getParentEditor().filter.check(b.requiredContent)&&(j.display="none",this.notAllowed=!0);k.id=m;var n={};b.type&&(n["cke_dialog_ui_"+b.type]=1);b.className&&(n[b.className]=1);b.disabled&&(n.cke_disabled=1);for(var o=k["class"]&&k["class"].split?k["class"].split(" "):[],m=0;m<o.length;m++)o[m]&&(n[o[m]]=1);o=[];for(m in n)o.push(m);k["class"]=o.join(" ");b.title&&(k.title=b.title);n=(b.style||"").split(";");b.align&&(o=b.align,j["margin-left"]="left"==o?0:"auto",j["margin-right"]="right"==o?0:"auto");for(m in j)n.push(m+":"+j[m]);b.hidden&&n.push("display:none");for(m=n.length-1;0<=m;m--)""===n[m]&&n.splice(m,1);0<n.length&&(k.style=(k.style?k.style+"; ":"")+n.join("; "));for(m in k)i.push(m+'="'+CKEDITOR.tools.htmlEncode(k[m])+'" ');i.push(">",l,"</",h,">");c.push(i.join(""));(this._||(this._={})).dialog=a;"boolean"==typeof b.isChanged&&(this.isChanged=function(){return b.isChanged});"function"==typeof b.isChanged&&(this.isChanged=b.isChanged);"function"==typeof b.setValue&&(this.setValue=CKEDITOR.tools.override(this.setValue,function(a){return function(c){a.call(this,b.setValue.call(this,c))}}));"function"==typeof b.getValue&&(this.getValue=CKEDITOR.tools.override(this.getValue,function(a){return function(){return b.getValue.call(this,a.call(this))}}));CKEDITOR.event.implementOn(this);this.registerEvents(b);this.accessKeyUp&&this.accessKeyDown&&b.accessKey&&B(this,a,"CTRL+"+b.accessKey);var p=this;a.on("load",function(){var b=p.getInputElement();if(b){var c=p.type in{checkbox:1,ratio:1}&&CKEDITOR.env.ie&&8>CKEDITOR.env.version?"cke_dialog_ui_focused":"";b.on("focus",function(){a._.tabBarMode=!1;a._.hasFocus=!0;p.fire("focus");c&&this.addClass(c)});b.on("blur",function(){p.fire("blur");c&&this.removeClass(c)})}});CKEDITOR.tools.extend(this,b);this.keyboardFocusable&&(this.tabIndex=b.tabIndex||0,this.focusIndex=a._.focusList.push(this)-1,this.on("focus",function(){a._.currentFocusIndex=p.focusIndex}))}},hbox:function(a,b,c,d,e){if(!(4>arguments.length)){this._||(this._={});var f=this._.children=b,g=e&&e.widths||null,h=e&&e.height||null,i,j={role:"presentation"};e&&e.align&&(j.align=e.align);CKEDITOR.ui.dialog.uiElement.call(this,a,e||{type:"hbox"},d,"table",{},j,function(){var a=['<tbody><tr class="cke_dialog_ui_hbox">'];for(i=0;i<c.length;i++){var b="cke_dialog_ui_hbox_child",d=[];0===i&&(b="cke_dialog_ui_hbox_first");i==c.length-1&&(b="cke_dialog_ui_hbox_last");a.push('<td class="',b,'" role="presentation" ');g?g[i]&&d.push("width:"+o(g[i])):d.push("width:"+Math.floor(100/c.length)+"%");h&&d.push("height:"+o(h));e&&void 0!==e.padding&&d.push("padding:"+o(e.padding));CKEDITOR.env.ie&&CKEDITOR.env.quirks&&f[i].align&&d.push("text-align:"+f[i].align);0<d.length&&a.push('style="'+d.join("; ")+'" ');a.push(">",c[i],"</td>")}a.push("</tr></tbody>");return a.join("")})}},vbox:function(a,b,c,d,e){if(!(3>arguments.length)){this._||(this._={});var f=this._.children=b,g=e&&e.width||null,h=e&&e.heights||null;CKEDITOR.ui.dialog.uiElement.call(this,a,e||{type:"vbox"},d,"div",null,{role:"presentation"},function(){var b=['<table role="presentation" cellspacing="0" border="0" '];b.push('style="');e&&e.expand&&b.push("height:100%;");b.push("width:"+o(g||"100%"),";");CKEDITOR.env.webkit&&b.push("float:none;");b.push('"');b.push('align="',CKEDITOR.tools.htmlEncode(e&&e.align||("ltr"==a.getParentEditor().lang.dir?"left":"right")),'" ');b.push("><tbody>");for(var d=0;d<c.length;d++){var i=[];b.push('<tr><td role="presentation" ');g&&i.push("width:"+o(g||"100%"));h?i.push("height:"+o(h[d])):e&&e.expand&&i.push("height:"+Math.floor(100/c.length)+"%");e&&void 0!==e.padding&&i.push("padding:"+o(e.padding));CKEDITOR.env.ie&&CKEDITOR.env.quirks&&f[d].align&&i.push("text-align:"+f[d].align);0<i.length&&b.push('style="',i.join("; "),'" ');b.push(' class="cke_dialog_ui_vbox_child">',c[d],"</td></tr>")}b.push("</tbody></table>");return b.join("")})}}}})();CKEDITOR.ui.dialog.uiElement.prototype={getElement:function(){return CKEDITOR.document.getById(this.domId)},getInputElement:function(){return this.getElement()},getDialog:function(){return this._.dialog},setValue:function(a,b){this.getInputElement().setValue(a);!b&&this.fire("change",{value:a});return this},getValue:function(){return this.getInputElement().getValue()},isChanged:function(){return!1},selectParentTab:function(){for(var a=this.getInputElement();(a=a.getParent())&&-1==a.$.className.search("cke_dialog_page_contents"););if(!a)return this;a=a.getAttribute("name");this._.dialog._.currentTabId!=a&&this._.dialog.selectPage(a);return this},focus:function(){this.selectParentTab().getInputElement().focus();return this},registerEvents:function(a){var b=/^on([A-Z]\w+)/,c,d=function(a,b,c,d){b.on("load",function(){a.getInputElement().on(c,d,a)})},e;for(e in a)if(c=e.match(b))this.eventProcessors[e]?this.eventProcessors[e].call(this,this._.dialog,a[e]):d(this,this._.dialog,c[1].toLowerCase(),a[e]);return this},eventProcessors:{onLoad:function(a,b){a.on("load",b,this)},onShow:function(a,b){a.on("show",b,this)},onHide:function(a,b){a.on("hide",b,this)}},accessKeyDown:function(){this.focus()},accessKeyUp:function(){},disable:function(){var a=this.getElement();this.getInputElement().setAttribute("disabled","true");a.addClass("cke_disabled")},enable:function(){var a=this.getElement();this.getInputElement().removeAttribute("disabled");a.removeClass("cke_disabled")},isEnabled:function(){return!this.getElement().hasClass("cke_disabled")},isVisible:function(){return this.getInputElement().isVisible()},isFocusable:function(){return this.isEnabled()&&this.isVisible()?!0:!1}};CKEDITOR.ui.dialog.hbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getChild:function(a){if(1>arguments.length)return this._.children.concat();a.splice||(a=[a]);return 2>a.length?this._.children[a[0]]:this._.children[a[0]]&&this._.children[a[0]].getChild?this._.children[a[0]].getChild(a.slice(1,a.length)):null}},!0);CKEDITOR.ui.dialog.vbox.prototype=new CKEDITOR.ui.dialog.hbox;(function(){var a={build:function(a,b,c){for(var d=b.children,e,f=[],g=[],h=0;h<d.length&&(e=d[h]);h++){var i=[];f.push(i);g.push(CKEDITOR.dialog._.uiElementBuilders[e.type].build(a,e,i))}return new CKEDITOR.ui.dialog[b.type](a,g,f,c,b)}};CKEDITOR.dialog.addUIElement("hbox",a);CKEDITOR.dialog.addUIElement("vbox",a)})();CKEDITOR.dialogCommand=function(a,b){this.dialogName=a;CKEDITOR.tools.extend(this,b,!0)};CKEDITOR.dialogCommand.prototype={exec:function(a){a.openDialog(this.dialogName)},canUndo:!1,editorFocus:1};(function(){var a=/^([a]|[^a])+$/,b=/^\d*$/,c=/^\d*(?:\.\d+)?$/,d=/^(((\d*(\.\d+))|(\d*))(px|\%)?)?$/,e=/^(((\d*(\.\d+))|(\d*))(px|em|ex|in|cm|mm|pt|pc|\%)?)?$/i,f=/^(\s*[\w-]+\s*:\s*[^:;]+(?:;|$))*$/;CKEDITOR.VALIDATE_OR=1;CKEDITOR.VALIDATE_AND=2;CKEDITOR.dialog.validate={functions:function(){var a=arguments;return function(){var b=this&&this.getValue?this.getValue():a[0],c,d=CKEDITOR.VALIDATE_AND,e=[],f;for(f=0;f<a.length;f++)if("function"==typeof a[f])e.push(a[f]);else break;f<a.length&&"string"==typeof a[f]&&(c=a[f],f++);f<a.length&&"number"==typeof a[f]&&(d=a[f]);var g=d==CKEDITOR.VALIDATE_AND?!0:!1;for(f=0;f<e.length;f++)g=d==CKEDITOR.VALIDATE_AND?g&&e[f](b):g||e[f](b);return g?!0:c}},regex:function(a,b){return function(c){c=this&&this.getValue?this.getValue():c;return a.test(c)?!0:b}},notEmpty:function(b){return this.regex(a,b)},integer:function(a){return this.regex(b,a)},number:function(a){return this.regex(c,a)},cssLength:function(a){return this.functions(function(a){return e.test(CKEDITOR.tools.trim(a))},a)},htmlLength:function(a){return this.functions(function(a){return d.test(CKEDITOR.tools.trim(a))},a)},inlineStyle:function(a){return this.functions(function(a){return f.test(CKEDITOR.tools.trim(a))},a)},equals:function(a,b){return this.functions(function(b){return b==a},b)},notEqual:function(a,b){return this.functions(function(b){return b!=a},b)}};CKEDITOR.on("instanceDestroyed",function(a){if(CKEDITOR.tools.isEmpty(CKEDITOR.instances)){for(var b;b=CKEDITOR.dialog._.currentTop;)b.hide();for(var c in w)w[c].remove();w={}}a=a.editor._.storedDialogs;for(var d in a)a[d].destroy()})})();CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{openDialog:function(a,b){var c=null,d=CKEDITOR.dialog._.dialogDefinitions[a];null===CKEDITOR.dialog._.currentTop&&m(this);if("function"==typeof d)c=this._.storedDialogs||(this._.storedDialogs={}),c=c[a]||(c[a]=new CKEDITOR.dialog(this,a)),b&&b.call(c,c),c.show();else{if("failed"==d)throw n(this),Error('[CKEDITOR.dialog.openDialog] Dialog "'+a+'" failed when loading definition.');"string"==typeof d&&CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(d),function(){"function"!=typeof CKEDITOR.dialog._.dialogDefinitions[a]&&(CKEDITOR.dialog._.dialogDefinitions[a]="failed");this.openDialog(a,b)},this,0,1)}CKEDITOR.skin.loadPart("dialog");return c}})})();CKEDITOR.plugins.add("dialog",{requires:"dialogui",init:function(a){a.on("doubleclick",function(b){b.data.dialog&&a.openDialog(b.data.dialog)},null,null,999)}});CKEDITOR.plugins.add("about",{requires:"dialog",init:function(a){var b=a.addCommand("about",new CKEDITOR.dialogCommand("about"));b.modes={wysiwyg:1,source:1};b.canUndo=!1;b.readOnly=1;a.ui.addButton&&a.ui.addButton("About",{label:a.lang.about.title,command:"about",toolbar:"about"});CKEDITOR.dialog.add("about",this.path+"dialogs/about.js")}});(function(){CKEDITOR.plugins.add("a11yhelp",{requires:"dialog",availableLangs:{af:1,ar:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,en:1,"en-gb":1,eo:1,es:1,et:1,eu:1,fa:1,fi:1,fo:1,fr:1,"fr-ca":1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,nb:1,nl:1,no:1,pl:1,pt:1,"pt-br":1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,sr:1,"sr-latn":1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,"zh-cn":1},init:function(a){var b=this;a.addCommand("a11yHelp",{exec:function(){var c=a.langCode,c=b.availableLangs[c]?c:b.availableLangs[c.replace(/-.*/,"")]?c.replace(/-.*/,""):"en";CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(b.path+"dialogs/lang/"+c+".js"),function(){a.lang.a11yhelp=b.langEntries[c];a.openDialog("a11yHelp")})},modes:{wysiwyg:1,source:1},readOnly:1,canUndo:!1});a.setKeystroke(CKEDITOR.ALT+48,"a11yHelp");CKEDITOR.dialog.add("a11yHelp",this.path+"dialogs/a11yhelp.js");a.on("ariaEditorHelpLabel",function(b){b.data.label=a.lang.common.editorHelp})}})})();(function(){function a(a){var b=this.att;a=a&&a.hasAttribute(b)&&a.getAttribute(b)||"";void 0!==a&&this.setValue(a)}function b(){for(var a,b=0;b<arguments.length;b++)if(arguments[b]instanceof CKEDITOR.dom.element){a=arguments[b];break}if(a){var b=this.att,c=this.getValue();c?a.setAttribute(b,c):a.removeAttribute(b,c)}}var c={id:1,dir:1,classes:1,styles:1};CKEDITOR.plugins.add("dialogadvtab",{requires:"dialog",allowedContent:function(a){a||(a=c);var b=[];a.id&&b.push("id");a.dir&&b.push("dir");var d="";b.length&&(d+="["+b.join(",")+"]");a.classes&&(d+="(*)");a.styles&&(d+="{*}");return d},createAdvancedTab:function(d,e,f){e||(e=c);var g=d.lang.common,h={id:"advanced",label:g.advancedTab,title:g.advancedTab,elements:[{type:"vbox",padding:1,children:[]}]},i=[];if(e.id||e.dir)e.id&&i.push({id:"advId",att:"id",type:"text",requiredContent:f?f+"[id]":null,label:g.id,setup:a,commit:b}),e.dir&&i.push({id:"advLangDir",att:"dir",type:"select",requiredContent:f?f+"[dir]":null,label:g.langDir,"default":"",style:"width:100%",items:[[g.notSet,""],[g.langDirLTR,"ltr"],[g.langDirRTL,"rtl"]],setup:a,commit:b}),h.elements[0].children.push({type:"hbox",widths:["50%","50%"],children:[].concat(i)});if(e.styles||e.classes)i=[],e.styles&&i.push({id:"advStyles",att:"style",type:"text",requiredContent:f?f+"{cke-xyz}":null,
label:g.styles,"default":"",validate:CKEDITOR.dialog.validate.inlineStyle(g.invalidInlineStyle),onChange:function(){},getStyle:function(a,b){var c=this.getValue().match(new RegExp("(?:^|;)\\s*"+a+"\\s*:\\s*([^;]*)","i"));return c?c[1]:b},updateStyle:function(a,b){var c=this.getValue(),e=d.document.createElement("span");e.setAttribute("style",c);e.setStyle(a,b);c=CKEDITOR.tools.normalizeCssText(e.getAttribute("style"));this.setValue(c,1)},setup:a,commit:b}),e.classes&&i.push({type:"hbox",widths:["45%","55%"],children:[{id:"advCSSClasses",att:"class",type:"text",requiredContent:f?f+"(cke-xyz)":null,label:g.cssClasses,"default":"",setup:a,commit:b}]}),h.elements[0].children.push({type:"hbox",widths:["50%","50%"],children:[].concat(i)});return h}})})();CKEDITOR.plugins.add("basicstyles",{init:function(a){var b=0,c=function(c,e,f,g){if(g){g=new CKEDITOR.style(g);var h=d[f];h.unshift(g);a.attachStyleStateChange(g,function(b){!a.readOnly&&a.getCommand(f).setState(b)});a.addCommand(f,new CKEDITOR.styleCommand(g,{contentForms:h}));a.ui.addButton&&a.ui.addButton(c,{label:e,command:f,toolbar:"basicstyles,"+(b+=10)})}},d={bold:["strong","b",["span",function(a){a=a.styles["font-weight"];return"bold"==a||700<=+a}]],italic:["em","i",["span",function(a){return"italic"==a.styles["font-style"]}]],underline:["u",["span",function(a){return"underline"==a.styles["text-decoration"]}]],strike:["s","strike",["span",function(a){return"line-through"==a.styles["text-decoration"]}]],subscript:["sub"],superscript:["sup"]},e=a.config,f=a.lang.basicstyles;c("Bold",f.bold,"bold",e.coreStyles_bold);c("Italic",f.italic,"italic",e.coreStyles_italic);c("Underline",f.underline,"underline",e.coreStyles_underline);c("Strike",f.strike,"strike",e.coreStyles_strike);c("Subscript",f.subscript,"subscript",e.coreStyles_subscript);c("Superscript",f.superscript,"superscript",e.coreStyles_superscript);a.setKeystroke([[CKEDITOR.CTRL+66,"bold"],[CKEDITOR.CTRL+73,"italic"],[CKEDITOR.CTRL+85,"underline"]])}});CKEDITOR.config.coreStyles_bold={element:"strong",overrides:"b"};CKEDITOR.config.coreStyles_italic={element:"em",overrides:"i"};CKEDITOR.config.coreStyles_underline={element:"u"};CKEDITOR.config.coreStyles_strike={element:"s",overrides:"strike"};CKEDITOR.config.coreStyles_subscript={element:"sub"};CKEDITOR.config.coreStyles_superscript={element:"sup"};(function(){function a(a,b,c,d){if(!a.isReadOnly()&&!a.equals(c.editable())){CKEDITOR.dom.element.setMarker(d,a,"bidi_processed",1);d=a;for(var e=c.editable();(d=d.getParent())&&!d.equals(e);)if(d.getCustomData("bidi_processed")){a.removeStyle("direction");a.removeAttribute("dir");return}d="useComputedState"in c.config?c.config.useComputedState:1;(d?a.getComputedStyle("direction"):a.getStyle("direction")||a.hasAttribute("dir"))!=b&&(a.removeStyle("direction"),d?(a.removeAttribute("dir"),b!=a.getComputedStyle("direction")&&a.setAttribute("dir",b)):a.setAttribute("dir",b),c.forceNextSelectionCheck())}}function b(a,b,c){var d=a.getCommonAncestor(!1,!0);a=a.clone();a.enlarge(c==CKEDITOR.ENTER_BR?CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:CKEDITOR.ENLARGE_BLOCK_CONTENTS);if(a.checkBoundaryOfElement(d,CKEDITOR.START)&&a.checkBoundaryOfElement(d,CKEDITOR.END)){for(var e;d&&d.type==CKEDITOR.NODE_ELEMENT&&(e=d.getParent())&&1==e.getChildCount()&&!(d.getName()in b);)d=e;return d.type==CKEDITOR.NODE_ELEMENT&&d.getName()in b&&d}}function c(c){return{context:"p",allowedContent:{"h1 h2 h3 h4 h5 h6 table ul ol blockquote div tr p div li td":{propertiesOnly:!0,attributes:"dir"}},requiredContent:"p[dir]",refresh:function(a,b){var c=a.config.useComputedState,d,c=void 0===c||c;if(!c){d=b.lastElement;for(var e=a.editable();d&&!(d.getName()in g||d.equals(e));){var f=d.getParent();if(!f)break;d=f}}d=d||b.block||b.blockLimit;d.equals(a.editable())&&(e=a.getSelection().getRanges()[0].getEnclosedNode())&&e.type==CKEDITOR.NODE_ELEMENT&&(d=e);d&&(c=c?d.getComputedStyle("direction"):d.getStyle("direction")||d.getAttribute("dir"),a.getCommand("bidirtl").setState("rtl"==c?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF),a.getCommand("bidiltr").setState("ltr"==c?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF));c=(b.block||b.blockLimit||a.editable()).getDirection(1);c!=(a._.selDir||a.lang.dir)&&(a._.selDir=c,a.fire("contentDirChanged",c))},exec:function(d){var g=d.getSelection(),h=d.config.enterMode,i=g.getRanges();if(i&&i.length){for(var j={},k=g.createBookmarks(),i=i.createIterator(),l,m=0;l=i.getNextRange(1);){var n=l.getEnclosedNode();n&&(!n||n.type==CKEDITOR.NODE_ELEMENT&&n.getName()in f)||(n=b(l,e,h));n&&a(n,c,d,j);var o=new CKEDITOR.dom.walker(l),p=k[m].startNode,q=k[m++].endNode;o.evaluator=function(a){var b=h==CKEDITOR.ENTER_P?"p":"div",c;if(c=(a?a.type==CKEDITOR.NODE_ELEMENT:!1)&&a.getName()in e){if(b=a.is(b))b=(b=a.getParent())?b.type==CKEDITOR.NODE_ELEMENT:!1;c=!(b&&a.getParent().is("blockquote"))}return!!(c&&a.getPosition(p)&CKEDITOR.POSITION_FOLLOWING&&(a.getPosition(q)&CKEDITOR.POSITION_PRECEDING+CKEDITOR.POSITION_CONTAINS)==CKEDITOR.POSITION_PRECEDING)};for(;n=o.next();)a(n,c,d,j);l=l.createIterator();for(l.enlargeBr=h!=CKEDITOR.ENTER_BR;n=l.getNextParagraph(h==CKEDITOR.ENTER_P?"p":"div");)a(n,c,d,j)}CKEDITOR.dom.element.clearAllMarkers(j);d.forceNextSelectionCheck();g.selectBookmarks(k);d.focus()}}}}function d(a){var b=a==h.setAttribute,c=a==h.removeAttribute,d=/\bdirection\s*:\s*(.*?)\s*(:?$|;)/;return function(e,f){if(!this.isReadOnly()){var g;if(g=e==(b||c?"dir":"direction")||"style"==e&&(c||d.test(f))){a:{g=this;for(var h=g.getDocument().getBody().getParent();g;){if(g.equals(h)){g=!1;break a}g=g.getParent()}g=!0}g=!g}if(g&&(g=this.getDirection(1),h=a.apply(this,arguments),g!=this.getDirection(1)))return this.getDocument().fire("dirChanged",this),h}return a.apply(this,arguments)}}var e={table:1,ul:1,ol:1,blockquote:1,div:1},f={},g={};CKEDITOR.tools.extend(f,e,{tr:1,p:1,div:1,li:1});CKEDITOR.tools.extend(g,f,{td:1});CKEDITOR.plugins.add("bidi",{init:function(a){function b(b,c,d,e,f){a.addCommand(d,new CKEDITOR.command(a,e));a.ui.addButton&&a.ui.addButton(b,{label:c,command:d,toolbar:"bidi,"+f})}if(!a.blockless){var d=a.lang.bidi;b("BidiLtr",d.ltr,"bidiltr",c("ltr"),10);b("BidiRtl",d.rtl,"bidirtl",c("rtl"),20);a.on("contentDom",function(){a.document.on("dirChanged",function(b){a.fire("dirChanged",{node:b.data,dir:b.data.getDirection(1)})})});a.on("contentDirChanged",function(b){b=(a.lang.dir!=b.data?"add":"remove")+"Class";var c=a.ui.space(a.config.toolbarLocation);if(c)c[b]("cke_mixed_dir_content")})}}});for(var h=CKEDITOR.dom.element.prototype,i=["setStyle","removeStyle","setAttribute","removeAttribute"],j=0;j<i.length;j++)h[i[j]]=CKEDITOR.tools.override(h[i[j]],d)})();(function(){var a={exec:function(a){var b=a.getCommand("blockquote").state,c=a.getSelection(),d=c&&c.getRanges()[0];if(d){var e=c.createBookmarks();if(CKEDITOR.env.ie){var f=e[0].startNode,g=e[0].endNode,h;if(f&&"blockquote"==f.getParent().getName())for(h=f;h=h.getNext();)if(h.type==CKEDITOR.NODE_ELEMENT&&h.isBlockBoundary()){f.move(h,!0);break}if(g&&"blockquote"==g.getParent().getName())for(h=g;h=h.getPrevious();)if(h.type==CKEDITOR.NODE_ELEMENT&&h.isBlockBoundary()){g.move(h);break}}var i=d.createIterator();i.enlargeBr=a.config.enterMode!=CKEDITOR.ENTER_BR;if(b==CKEDITOR.TRISTATE_OFF){for(f=[];b=i.getNextParagraph();)f.push(b);1>f.length&&(b=a.document.createElement(a.config.enterMode==CKEDITOR.ENTER_P?"p":"div"),g=e.shift(),d.insertNode(b),b.append(new CKEDITOR.dom.text("\ufeff",a.document)),d.moveToBookmark(g),d.selectNodeContents(b),d.collapse(!0),g=d.createBookmark(),f.push(b),e.unshift(g));h=f[0].getParent();d=[];for(g=0;g<f.length;g++)b=f[g],h=h.getCommonAncestor(b.getParent());for(b={table:1,tbody:1,tr:1,ol:1,ul:1};b[h.getName()];)h=h.getParent();for(g=null;0<f.length;){for(b=f.shift();!b.getParent().equals(h);)b=b.getParent();b.equals(g)||d.push(b);g=b}for(;0<d.length;)if(b=d.shift(),"blockquote"==b.getName()){for(g=new CKEDITOR.dom.documentFragment(a.document);b.getFirst();)g.append(b.getFirst().remove()),f.push(g.getLast());g.replace(b)}else f.push(b);d=a.document.createElement("blockquote");for(d.insertBefore(f[0]);0<f.length;)b=f.shift(),d.append(b)}else if(b==CKEDITOR.TRISTATE_ON){g=[];for(h={};b=i.getNextParagraph();){for(f=d=null;b.getParent();){if("blockquote"==b.getParent().getName()){d=b.getParent();f=b;break}b=b.getParent()}d&&f&&!f.getCustomData("blockquote_moveout")&&(g.push(f),CKEDITOR.dom.element.setMarker(h,f,"blockquote_moveout",!0))}CKEDITOR.dom.element.clearAllMarkers(h);b=[];f=[];for(h={};0<g.length;)i=g.shift(),d=i.getParent(),i.getPrevious()?i.getNext()?(i.breakParent(i.getParent()),f.push(i.getNext())):i.remove().insertAfter(d):i.remove().insertBefore(d),d.getCustomData("blockquote_processed")||(f.push(d),CKEDITOR.dom.element.setMarker(h,d,"blockquote_processed",!0)),b.push(i);CKEDITOR.dom.element.clearAllMarkers(h);for(g=f.length-1;0<=g;g--){d=f[g];a:{h=d;for(var i=0,j=h.getChildCount(),k=void 0;i<j&&(k=h.getChild(i));i++)if(k.type==CKEDITOR.NODE_ELEMENT&&k.isBlockBoundary()){h=!1;break a}h=!0}h&&d.remove()}if(a.config.enterMode==CKEDITOR.ENTER_BR)for(d=!0;b.length;)if(i=b.shift(),"div"==i.getName()){g=new CKEDITOR.dom.documentFragment(a.document);!d||!i.getPrevious()||i.getPrevious().type==CKEDITOR.NODE_ELEMENT&&i.getPrevious().isBlockBoundary()||g.append(a.document.createElement("br"));for(d=i.getNext()&&!(i.getNext().type==CKEDITOR.NODE_ELEMENT&&i.getNext().isBlockBoundary());i.getFirst();)i.getFirst().remove().appendTo(g);d&&g.append(a.document.createElement("br"));g.replace(i);d=!1}}c.selectBookmarks(e);a.focus()}},refresh:function(a,b){this.setState(a.elementPath(b.block||b.blockLimit).contains("blockquote",1)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)},context:"blockquote",allowedContent:"blockquote",requiredContent:"blockquote"};CKEDITOR.plugins.add("blockquote",{init:function(b){b.blockless||(b.addCommand("blockquote",a),b.ui.addButton&&b.ui.addButton("Blockquote",{label:b.lang.blockquote.toolbar,command:"blockquote",toolbar:"blocks,10"}))}})})();(function(){function a(a,b,c){b.type||(b.type="auto");if(c&&!1===a.fire("beforePaste",b)||!b.dataValue&&b.dataTransfer.isEmpty())return!1;b.dataValue||(b.dataValue="");if(CKEDITOR.env.gecko&&"drop"==b.method&&a.toolbox)a.once("afterPaste",function(){a.toolbox.focus()});return a.fire("paste",b)}function b(b){function c(){var a=b.editable();if(CKEDITOR.plugins.clipboard.isCustomCopyCutSupported){var c=function(a){b.readOnly&&"cut"==a.name||p.initPasteDataTransfer(a,b);a.data.preventDefault()};a.on("copy",c);a.on("cut",c);a.on("cut",function(){b.readOnly||b.extractSelectedHtml()},null,null,999)}a.on(p.mainPasteEvent,function(a){"beforepaste"==p.mainPasteEvent&&q||m(a)});"beforepaste"==p.mainPasteEvent&&(a.on("paste",function(a){r||(f(),a.data.preventDefault(),m(a),h("paste")||b.openDialog("paste"))}),a.on("contextmenu",g,null,null,0),a.on("beforepaste",function(a){!a.data||a.data.$.ctrlKey||a.data.$.shiftKey||g()},null,null,0));a.on("beforecut",function(){!q&&i(b)});var d;a.attachListener(CKEDITOR.env.ie?a:b.document.getDocumentElement(),"mouseup",function(){d=setTimeout(function(){n()},0)});b.on("destroy",function(){clearTimeout(d)});a.on("keyup",n)}function d(a){return{type:a,canUndo:"cut"==a,startDisabled:!0,exec:function(){"cut"==this.type&&i();var a;var c=this.type;if(CKEDITOR.env.ie)a=h(c);else try{a=b.document.$.execCommand(c,!1,null)}catch(d){a=!1}a||b.showNotification(b.lang.clipboard[this.type+"Error"]);return a}}}function e(){return{canUndo:!1,async:!0,exec:function(b,c){var d=this,e=function(c,e){c&&a(b,c,!!e);b.fire("afterCommandExec",{name:"paste",command:d,returnValue:!!c})};"string"==typeof c?e({dataValue:c,method:"paste",dataTransfer:p.initPasteDataTransfer()},1):b.getClipboardData(e)}}}function f(){r=1;setTimeout(function(){r=0},100)}function g(){q=1;setTimeout(function(){q=0},10)}function h(a){var c=b.document,d=c.getBody(),e=!1,f=function(){e=!0};d.on(a,f);7<CKEDITOR.env.version?c.$.execCommand(a):c.$.selection.createRange().execCommand(a);d.removeListener(a,f);return e}function i(){if(CKEDITOR.env.ie&&!CKEDITOR.env.quirks){var a=b.getSelection(),c,d,e;a.getType()==CKEDITOR.SELECTION_ELEMENT&&(c=a.getSelectedElement())&&(d=a.getRanges()[0],e=b.document.createText(""),e.insertBefore(c),d.setStartBefore(e),d.setEndAfter(c),a.selectRanges([d]),setTimeout(function(){c.getParent()&&(e.remove(),a.selectElement(c))},0))}}function j(a,c){var d=b.document,e=b.editable(),f=function(a){a.cancel()},g;if(!d.getById("cke_pastebin")){var h=b.getSelection(),i=h.createBookmarks();CKEDITOR.env.ie&&h.root.fire("selectionchange");var j=new CKEDITOR.dom.element(!CKEDITOR.env.webkit&&!e.is("body")||CKEDITOR.env.ie?"div":"body",d);j.setAttributes({id:"cke_pastebin","data-cke-temp":"1"});var k=0,d=d.getWindow();CKEDITOR.env.webkit?(e.append(j),j.addClass("cke_editable"),e.is("body")||(k="static"!=e.getComputedStyle("position")?e:CKEDITOR.dom.element.get(e.$.offsetParent),k=k.getDocumentPosition().y)):e.getAscendant(CKEDITOR.env.ie?"body":"html",1).append(j);j.setStyles({position:"absolute",top:d.getScrollPosition().y-k+10+"px",width:"1px",height:Math.max(1,d.getViewPaneSize().height-20)+"px",overflow:"hidden",margin:0,padding:0});CKEDITOR.env.safari&&j.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select","text"));(k=j.getParent().isReadOnly())?(j.setOpacity(0),j.setAttribute("contenteditable",!0)):j.setStyle("ltr"==b.config.contentsLangDirection?"left":"right","-10000px");b.on("selectionChange",f,null,null,0);if(CKEDITOR.env.webkit||CKEDITOR.env.gecko)g=e.once("blur",f,null,null,-100);k&&j.focus();k=new CKEDITOR.dom.range(j);k.selectNodeContents(j);var l=k.select();CKEDITOR.env.ie&&(g=e.once("blur",function(){b.lockSelection(l)}));var m=CKEDITOR.document.getWindow().getScrollPosition().y;setTimeout(function(){CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=m);g&&g.removeListener();CKEDITOR.env.ie&&e.focus();h.selectBookmarks(i);j.remove();var a;CKEDITOR.env.webkit&&(a=j.getFirst())&&a.is&&a.hasClass("Apple-style-span")&&(j=a);b.removeListener("selectionChange",f);c(j.getHtml())},0)}}function k(){if("paste"==p.mainPasteEvent)return b.fire("beforePaste",{type:"auto",method:"paste"}),!1;b.focus();f();var a=b.focusManager;a.lock();if(b.editable().fire(p.mainPasteEvent)&&!h("paste"))return a.unlock(),!1;a.unlock();return!0}function l(a){if("wysiwyg"==b.mode)switch(a.data.keyCode){case CKEDITOR.CTRL+86:case CKEDITOR.SHIFT+45:a=b.editable();f();"paste"==p.mainPasteEvent&&a.fire("beforepaste");break;case CKEDITOR.CTRL+88:case CKEDITOR.SHIFT+46:b.fire("saveSnapshot"),setTimeout(function(){b.fire("saveSnapshot")},50)}}function m(c){var d={type:"auto",method:"paste",dataTransfer:p.initPasteDataTransfer(c)};d.dataTransfer.cacheData();var e=!1!==b.fire("beforePaste",d);e&&p.canClipboardApiBeTrusted(d.dataTransfer,b)?(c.data.preventDefault(),setTimeout(function(){a(b,d)},0)):j(c,function(c){d.dataValue=c.replace(/<span[^>]+data-cke-bookmark[^<]*?<\/span>/gi,"");e&&a(b,d)})}function n(){if("wysiwyg"==b.mode){var a=o("paste");b.getCommand("cut").setState(o("cut"));b.getCommand("copy").setState(o("copy"));b.getCommand("paste").setState(a);b.fire("pasteState",a)}}function o(a){if(s&&a in{paste:1,cut:1})return CKEDITOR.TRISTATE_DISABLED;if("paste"==a)return CKEDITOR.TRISTATE_OFF;a=b.getSelection();var c=a.getRanges();return a.getType()==CKEDITOR.SELECTION_NONE||1==c.length&&c[0].collapsed?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_OFF}var p=CKEDITOR.plugins.clipboard,q=0,r=0,s=0;(function(){b.on("key",l);b.on("contentDom",c);b.on("selectionChange",function(a){s=a.data.selection.getRanges()[0].checkReadOnly();n()});b.contextMenu&&b.contextMenu.addListener(function(a,b){s=b.getRanges()[0].checkReadOnly();return{cut:o("cut"),copy:o("copy"),paste:o("paste")}})})();(function(){function a(a,c,d,e,f){var g=b.lang.clipboard[c];b.addCommand(c,d);b.ui.addButton&&b.ui.addButton(a,{label:g,command:c,toolbar:"clipboard,"+e});b.addMenuItems&&b.addMenuItem(c,{label:g,command:c,group:"clipboard",order:f})}a("Cut","cut",d("cut"),10,1);a("Copy","copy",d("copy"),20,4);a("Paste","paste",e(),30,8)})();b.getClipboardData=function(a,c){function d(a){a.removeListener();a.cancel();c(a.data)}function e(a){a.removeListener();a.cancel();i=!0;c({type:h,dataValue:a.data.dataValue,dataTransfer:a.data.dataTransfer,method:"paste"})}function f(){this.customTitle=a&&a.title}var g=!1,h="auto",i=!1;c||(c=a,a=null);b.on("paste",d,null,null,0);b.on("beforePaste",function(a){a.removeListener();g=!0;h=a.data.type},null,null,1e3);!1===k()&&(b.removeListener("paste",d),g&&b.fire("pasteDialog",f)?(b.on("pasteDialogCommit",e),b.on("dialogHide",function(a){a.removeListener();a.data.removeListener("pasteDialogCommit",e);setTimeout(function(){i||c(null)},10)})):c(null))}}function c(a){if(CKEDITOR.env.webkit){if(!a.match(/^[^<]*$/g)&&!a.match(/^(<div><br( ?\/)?><\/div>|<div>[^<]*<\/div>)*$/gi))return"html"}else if(CKEDITOR.env.ie){if(!a.match(/^([^<]|<br( ?\/)?>)*$/gi)&&!a.match(/^(<p>([^<]|<br( ?\/)?>)*<\/p>|(\r\n))*$/gi))return"html"}else if(CKEDITOR.env.gecko){if(!a.match(/^([^<]|<br( ?\/)?>)*$/gi))return"html"}else return"html";return"htmlifiedtext"}function d(a,b){function c(a){return CKEDITOR.tools.repeat("</p><p>",~~(a/2))+(1==a%2?"<br>":"")}b=b.replace(/\s+/g," ").replace(/> +</g,"><").replace(/<br ?\/>/gi,"<br>");b=b.replace(/<\/?[A-Z]+>/g,function(a){return a.toLowerCase()});if(b.match(/^[^<]$/))return b;CKEDITOR.env.webkit&&-1<b.indexOf("<div>")&&(b=b.replace(/^(<div>(<br>|)<\/div>)(?!$|(<div>(<br>|)<\/div>))/g,"<br>").replace(/^(<div>(<br>|)<\/div>){2}(?!$)/g,"<div></div>"),b.match(/<div>(<br>|)<\/div>/)&&(b="<p>"+b.replace(/(<div>(<br>|)<\/div>)+/g,function(a){return c(a.split("</div><div>").length+1)})+"</p>"),b=b.replace(/<\/div><div>/g,"<br>"),b=b.replace(/<\/?div>/g,""));CKEDITOR.env.gecko&&a.enterMode!=CKEDITOR.ENTER_BR&&(CKEDITOR.env.gecko&&(b=b.replace(/^<br><br>$/,"<br>")),-1<b.indexOf("<br><br>")&&(b="<p>"+b.replace(/(<br>){2,}/g,function(a){return c(a.length/4)})+"</p>"));return g(a,b)}function e(){function a(){var a={},b;for(b in CKEDITOR.dtd)"$"!=b.charAt(0)&&"div"!=b&&"span"!=b&&(a[b]=1);return a}var b={};return{get:function(c){return"plain-text"==c?b.plainText||(b.plainText=new CKEDITOR.filter("br")):"semantic-content"==c?((c=b.semanticContent)||(c=new CKEDITOR.filter,c.allow({$1:{elements:a(),attributes:!0,styles:!1,classes:!1}}),c=b.semanticContent=c),c):c?new CKEDITOR.filter(c):null}}}function f(a,b,c){b=CKEDITOR.htmlParser.fragment.fromHtml(b);var d=new CKEDITOR.htmlParser.basicWriter;c.applyTo(b,!0,!1,a.activeEnterMode);b.writeHtml(d);return d.getHtml()}function g(a,b){a.enterMode==CKEDITOR.ENTER_BR?b=b.replace(/(<\/p><p>)+/g,function(a){return CKEDITOR.tools.repeat("<br>",a.length/7*2)}).replace(/<\/?p>/g,""):a.enterMode==CKEDITOR.ENTER_DIV&&(b=b.replace(/<(\/)?p>/g,"<$1div>"));return b}function h(a){a.data.preventDefault();a.data.$.dataTransfer.dropEffect="none"}function i(b){var c=CKEDITOR.plugins.clipboard;b.on("contentDom",function(){function d(c,d,e){d.select();a(b,{dataTransfer:e,method:"drop"},1);e.sourceEditor.fire("saveSnapshot");e.sourceEditor.editable().extractHtmlFromRange(c);e.sourceEditor.getSelection().selectRanges([c]);e.sourceEditor.fire("saveSnapshot")}function e(d,e){d.select();a(b,{dataTransfer:e,method:"drop"},1);c.resetDragDataTransfer()}function f(a,c,d){var e={$:a.data.$,target:a.data.getTarget()};c&&(e.dragRange=c);d&&(e.dropRange=d);!1===b.fire(a.name,e)&&a.data.preventDefault()}function g(a){a.type!=CKEDITOR.NODE_ELEMENT&&(a=a.getParent());return a.getChildCount()}var h=b.editable(),i=CKEDITOR.plugins.clipboard.getDropTarget(b),j=b.ui.space("top"),k=b.ui.space("bottom");c.preventDefaultDropOnElement(j);c.preventDefaultDropOnElement(k);h.attachListener(i,"dragstart",f);h.attachListener(b,"dragstart",c.resetDragDataTransfer,c,null,1);h.attachListener(b,"dragstart",function(a){c.initDragDataTransfer(a,b)},null,null,2);h.attachListener(b,"dragstart",function(){var a=c.dragRange=b.getSelection().getRanges()[0];CKEDITOR.env.ie&&10>CKEDITOR.env.version&&(c.dragStartContainerChildCount=a?g(a.startContainer):null,c.dragEndContainerChildCount=a?g(a.endContainer):null)},null,null,100);h.attachListener(i,"dragend",f);h.attachListener(b,"dragend",c.initDragDataTransfer,c,null,1);h.attachListener(b,"dragend",c.resetDragDataTransfer,c,null,100);h.attachListener(i,"dragover",function(a){var b=a.data.getTarget();b&&b.is&&b.is("html")?a.data.preventDefault():CKEDITOR.env.ie&&CKEDITOR.plugins.clipboard.isFileApiSupported&&a.data.$.dataTransfer.types.contains("Files")&&a.data.preventDefault()});h.attachListener(i,"drop",function(a){if(!a.data.$.defaultPrevented){a.data.preventDefault();var d=a.data.getTarget();if(!d.isReadOnly()||d.type==CKEDITOR.NODE_ELEMENT&&d.is("html")){var d=c.getRangeAtDropPosition(a,b),e=c.dragRange;d&&f(a,e,d)}}},null,null,9999);h.attachListener(b,"drop",c.initDragDataTransfer,c,null,1);h.attachListener(b,"drop",function(a){if(a=a.data){var f=a.dropRange,g=a.dragRange,h=a.dataTransfer;h.getTransferType(b)==CKEDITOR.DATA_TRANSFER_INTERNAL?setTimeout(function(){c.internalDrop(g,f,h,b)},0):h.getTransferType(b)==CKEDITOR.DATA_TRANSFER_CROSS_EDITORS?d(g,f,h):e(f,h)}},null,null,9999)})}CKEDITOR.plugins.add("clipboard",{requires:"dialog",init:function(a){var g,h=e();a.config.forcePasteAsPlainText?g="plain-text":a.config.pasteFilter?g=a.config.pasteFilter:!CKEDITOR.env.webkit||"pasteFilter"in a.config||(g="semantic-content");a.pasteFilter=h.get(g);b(a);i(a);CKEDITOR.dialog.add("paste",CKEDITOR.getUrl(this.path+"dialogs/paste.js"));a.on("paste",function(b){b.data.dataTransfer||(b.data.dataTransfer=new CKEDITOR.plugins.clipboard.dataTransfer);if(!b.data.dataValue){var c=b.data.dataTransfer,d=c.getData("text/html");if(d)b.data.dataValue=d,b.data.type="html";else if(d=c.getData("text/plain"))b.data.dataValue=a.editable().transformPlainTextToHtml(d),b.data.type="text"}},null,null,1);a.on("paste",function(a){var b=a.data.dataValue,c=CKEDITOR.dtd.$block;-1<b.indexOf("Apple-")&&(b=b.replace(/<span class="Apple-converted-space">&nbsp;<\/span>/gi," "),"html"!=a.data.type&&(b=b.replace(/<span class="Apple-tab-span"[^>]*>([^<]*)<\/span>/gi,function(a,b){return b.replace(/\t/g,"&nbsp;&nbsp; &nbsp;")})),-1<b.indexOf('<br class="Apple-interchange-newline">')&&(a.data.startsWithEOL=1,a.data.preSniffing="html",b=b.replace(/<br class="Apple-interchange-newline">/,"")),b=b.replace(/(<[^>]+) class="Apple-[^"]*"/gi,"$1"));if(b.match(/^<[^<]+cke_(editable|contents)/i)){var d,e,f=new CKEDITOR.dom.element("div");for(f.setHtml(b);1==f.getChildCount()&&(d=f.getFirst())&&d.type==CKEDITOR.NODE_ELEMENT&&(d.hasClass("cke_editable")||d.hasClass("cke_contents"));)f=e=d;e&&(b=e.getHtml().replace(/<br>$/i,""))}CKEDITOR.env.ie?b=b.replace(/^&nbsp;(?: |\r\n)?<(\w+)/g,function(b,d){return d.toLowerCase()in c?(a.data.preSniffing="html","<"+d):b}):CKEDITOR.env.webkit?b=b.replace(/<\/(\w+)><div><br><\/div>$/,function(b,d){return d in c?(a.data.endsWithEOL=1,"</"+d+">"):b}):CKEDITOR.env.gecko&&(b=b.replace(/(\s)<br>$/,"$1"));a.data.dataValue=b},null,null,3);a.on("paste",function(b){b=b.data;var e=b.type,g=b.dataValue,i,j=a.config.clipboard_defaultContentType||"html",k=b.dataTransfer.getTransferType(a);i="html"==e||"html"==b.preSniffing?"html":c(g);"htmlifiedtext"==i&&(g=d(a.config,g));"text"==e&&"html"==i?g=f(a,g,h.get("plain-text")):k==CKEDITOR.DATA_TRANSFER_EXTERNAL&&a.pasteFilter&&!b.dontFilter&&(g=f(a,g,a.pasteFilter));b.startsWithEOL&&(g='<br data-cke-eol="1">'+g);b.endsWithEOL&&(g+='<br data-cke-eol="1">');"auto"==e&&(e="html"==i||"html"==j?"html":"text");b.type=e;b.dataValue=g;delete b.preSniffing;delete b.startsWithEOL;delete b.endsWithEOL},null,null,6);a.on("paste",function(b){b=b.data;b.dataValue&&(a.insertHtml(b.dataValue,b.type,b.range),setTimeout(function(){a.fire("afterPaste")},0))},null,null,1e3);a.on("pasteDialog",function(b){setTimeout(function(){a.openDialog("paste",b.data)},0)})}});CKEDITOR.plugins.clipboard={isCustomCopyCutSupported:!CKEDITOR.env.ie&&!CKEDITOR.env.iOS,isCustomDataTypesSupported:!CKEDITOR.env.ie,isFileApiSupported:!CKEDITOR.env.ie||9<CKEDITOR.env.version,mainPasteEvent:CKEDITOR.env.ie&&!CKEDITOR.env.edge?"beforepaste":"paste",canClipboardApiBeTrusted:function(a,b){return a.getTransferType(b)!=CKEDITOR.DATA_TRANSFER_EXTERNAL||CKEDITOR.env.chrome&&!a.isEmpty()||CKEDITOR.env.gecko&&(a.getData("text/html")||a.getFilesCount())?!0:!1},getDropTarget:function(a){var b=a.editable();return CKEDITOR.env.ie&&9>CKEDITOR.env.version||b.isInline()?b:a.document},fixSplitNodesAfterDrop:function(a,b,c,d){function e(a,c,d){var e=a;e.type==CKEDITOR.NODE_TEXT&&(e=a.getParent());if(e.equals(c)&&d!=c.getChildCount())return a=b.startContainer.getChild(b.startOffset-1),c=b.startContainer.getChild(b.startOffset),a&&a.type==CKEDITOR.NODE_TEXT&&c&&c.type==CKEDITOR.NODE_TEXT&&(d=a.getLength(),a.setText(a.getText()+c.getText()),c.remove(),b.setStart(a,d),b.collapse(!0)),!0}var f=b.startContainer;"number"==typeof d&&"number"==typeof c&&f.type==CKEDITOR.NODE_ELEMENT&&(e(a.startContainer,f,c)||e(a.endContainer,f,d))},isDropRangeAffectedByDragRange:function(a,b){var c=b.startContainer,d=b.endOffset;return a.endContainer.equals(c)&&a.endOffset<=d||a.startContainer.getParent().equals(c)&&a.startContainer.getIndex()<d||a.endContainer.getParent().equals(c)&&a.endContainer.getIndex()<d?!0:!1},internalDrop:function(b,c,d,e){var f=CKEDITOR.plugins.clipboard,g=e.editable(),h,i;e.fire("saveSnapshot");e.fire("lockSnapshot",{dontUpdate:1});CKEDITOR.env.ie&&10>CKEDITOR.env.version&&this.fixSplitNodesAfterDrop(b,c,f.dragStartContainerChildCount,f.dragEndContainerChildCount);(i=this.isDropRangeAffectedByDragRange(b,c))||(h=b.createBookmark(!1));f=c.clone().createBookmark(!1);i&&(h=b.createBookmark(!1));b=h.startNode;c=h.endNode;i=f.startNode;c&&b.getPosition(i)&CKEDITOR.POSITION_PRECEDING&&c.getPosition(i)&CKEDITOR.POSITION_FOLLOWING&&i.insertBefore(b);b=e.createRange();b.moveToBookmark(h);g.extractHtmlFromRange(b,1);c=e.createRange();c.moveToBookmark(f);a(e,{dataTransfer:d,method:"drop",range:c},1);e.fire("unlockSnapshot")},getRangeAtDropPosition:function(a,b){var c=a.data.$,d=c.clientX,e=c.clientY,f=b.getSelection(!0).getRanges()[0],g=b.createRange();if(a.data.testRange)return a.data.testRange;if(document.caretRangeFromPoint)c=b.document.$.caretRangeFromPoint(d,e),g.setStart(CKEDITOR.dom.node(c.startContainer),c.startOffset),g.collapse(!0);else if(c.rangeParent)g.setStart(CKEDITOR.dom.node(c.rangeParent),c.rangeOffset),g.collapse(!0);else{if(CKEDITOR.env.ie&&8<CKEDITOR.env.version&&f&&b.editable().hasFocus)return f;if(document.body.createTextRange){b.focus();c=b.document.getBody().$.createTextRange();try{for(var h=!1,i=0;20>i&&!h;i++){if(!h)try{c.moveToPoint(d,e-i),h=!0}catch(j){}if(!h)try{c.moveToPoint(d,e+i),h=!0}catch(k){}}if(h){var l="cke-temp-"+(new Date).getTime();c.pasteHTML('<span id="'+l+'"></span>');var m=b.document.getById(l);g.moveToPosition(m,CKEDITOR.POSITION_BEFORE_START);m.remove()}else{var n=b.document.$.elementFromPoint(d,e),o=new CKEDITOR.dom.element(n),p;if(o.equals(b.editable())||"html"==o.getName())return f&&f.startContainer&&!f.startContainer.equals(b.editable())?f:null;p=o.getClientRect();d<p.left?g.setStartAt(o,CKEDITOR.POSITION_AFTER_START):g.setStartAt(o,CKEDITOR.POSITION_BEFORE_END);g.collapse(!0)}}catch(q){return null}}else return null}return g},initDragDataTransfer:function(a,b){var c=a.data.$?a.data.$.dataTransfer:null,d=new this.dataTransfer(c,b);c?this.dragData&&d.id==this.dragData.id?d=this.dragData:this.dragData=d:this.dragData?d=this.dragData:this.dragData=d;a.data.dataTransfer=d},resetDragDataTransfer:function(){this.dragData=null},initPasteDataTransfer:function(a,b){if(this.isCustomCopyCutSupported&&a&&a.data&&a.data.$){var c=new this.dataTransfer(a.data.$.clipboardData,b);this.copyCutData&&c.id==this.copyCutData.id?(c=this.copyCutData,c.$=a.data.$.clipboardData):this.copyCutData=c;return c}return new this.dataTransfer(null,b)},preventDefaultDropOnElement:function(a){a&&a.on("dragover",h)}};var j=CKEDITOR.plugins.clipboard.isCustomDataTypesSupported?"cke/id":"Text";CKEDITOR.plugins.clipboard.dataTransfer=function(a,b){a&&(this.$=a);this._={metaRegExp:/^<meta.*?>/i,bodyRegExp:/<body(?:[\s\S]*?)>([\s\S]*)<\/body>/i,fragmentRegExp:/\x3c!--(?:Start|End)Fragment--\x3e/g,data:{},files:[],normalizeType:function(a){a=a.toLowerCase();return"text"==a||"text/plain"==a?"Text":"url"==a?"URL":a}};this.id=this.getData(j);this.id||(this.id="Text"==j?"":"cke-"+CKEDITOR.tools.getUniqueId());if("Text"!=j)try{this.$.setData(j,this.id)}catch(c){}b&&(this.sourceEditor=b,this.setData("text/html",b.getSelectedHtml(1)),"Text"==j||this.getData("text/plain")||this.setData("text/plain",b.getSelection().getSelectedText()))};CKEDITOR.DATA_TRANSFER_INTERNAL=1;CKEDITOR.DATA_TRANSFER_CROSS_EDITORS=2;CKEDITOR.DATA_TRANSFER_EXTERNAL=3;CKEDITOR.plugins.clipboard.dataTransfer.prototype={getData:function(a){a=this._.normalizeType(a);var b=this._.data[a];if(void 0===b||null===b||""===b)try{b=this.$.getData(a)}catch(c){}if(void 0===b||null===b||""===b)b="";"text/html"==a?(b=b.replace(this._.metaRegExp,""),(a=this._.bodyRegExp.exec(b))&&a.length&&(b=a[1],b=b.replace(this._.fragmentRegExp,""))):"Text"==a&&CKEDITOR.env.gecko&&this.getFilesCount()&&"file://"==b.substring(0,7)&&(b="");return b},setData:function(a,b){a=this._.normalizeType(a);this._.data[a]=b;if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported||"URL"==a||"Text"==a){"Text"==j&&"Text"==a&&(this.id=b);try{this.$.setData(a,b)}catch(c){}}},getTransferType:function(a){return this.sourceEditor?this.sourceEditor==a?CKEDITOR.DATA_TRANSFER_INTERNAL:CKEDITOR.DATA_TRANSFER_CROSS_EDITORS:CKEDITOR.DATA_TRANSFER_EXTERNAL},cacheData:function(){function a(a){a=b._.normalizeType(a);var c=b.getData(a);c&&(b._.data[a]=c)}if(this.$){var b=this,c,d;if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported){if(this.$.types)for(c=0;c<this.$.types.length;c++)a(this.$.types[c])}else a("Text"),a("URL");d=this._getImageFromClipboard();if(this.$&&this.$.files||d){this._.files=[];for(c=0;c<this.$.files.length;c++)this._.files.push(this.$.files[c]);0===this._.files.length&&d&&this._.files.push(d)}}},getFilesCount:function(){return this._.files.length?this._.files.length:this.$&&this.$.files&&this.$.files.length?this.$.files.length:this._getImageFromClipboard()?1:0},getFile:function(a){return this._.files.length?this._.files[a]:this.$&&this.$.files&&this.$.files.length?this.$.files[a]:0===a?this._getImageFromClipboard():void 0},isEmpty:function(){var a={},b;if(this.getFilesCount())return!1;for(b in this._.data)a[b]=1;if(this.$)if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported){if(this.$.types)for(var c=0;c<this.$.types.length;c++)a[this.$.types[c]]=1}else a.Text=1,a.URL=1;"Text"!=j&&(a[j]=0);for(b in a)if(a[b]&&""!==this.getData(b))return!1;return!0},_getImageFromClipboard:function(){var a;if(this.$&&this.$.items&&this.$.items[0])try{if((a=this.$.items[0].getAsFile())&&a.type)return a}catch(b){}}}})();(function(){var a='<a id="{id}" class="cke_button cke_button__{name} cke_button_{state} {cls}"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?"":" href=\"javascript:void('{titleJs}')\"")+' title="{title}" tabindex="-1" hidefocus="true" role="button" aria-labelledby="{id}_label" aria-haspopup="{hasArrow}" aria-disabled="{ariaDisabled}"';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(a+=' onkeypress="return false;"');CKEDITOR.env.gecko&&(a+=' onblur="this.style.cssText = this.style.cssText;"');var a=a+(' onkeydown="return CKEDITOR.tools.callFunction({keydownFn},event);" onfocus="return CKEDITOR.tools.callFunction({focusFn},event);" '+(CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick")+'="CKEDITOR.tools.callFunction({clickFn},this);return false;"><span class="cke_button_icon cke_button__{iconName}_icon" style="{style}"'),a=a+'>&nbsp;</span><span id="{id}_label" class="cke_button_label cke_button__{name}_label" aria-hidden="false">{label}</span>{arrowHtml}</a>',b=CKEDITOR.addTemplate("buttonArrow",'<span class="cke_button_arrow">'+(CKEDITOR.env.hc?"&#9660;":"")+"</span>"),c=CKEDITOR.addTemplate("button",a);
CKEDITOR.plugins.add("button",{beforeInit:function(a){a.ui.addHandler(CKEDITOR.UI_BUTTON,CKEDITOR.ui.button.handler)}});CKEDITOR.UI_BUTTON="button";CKEDITOR.ui.button=function(a){CKEDITOR.tools.extend(this,a,{title:a.label,click:a.click||function(b){b.execCommand(a.command)}});this._={}};CKEDITOR.ui.button.handler={create:function(a){return new CKEDITOR.ui.button(a)}};CKEDITOR.ui.button.prototype={render:function(a,d){function e(){var b=a.mode;b&&(b=this.modes[b]?void 0!==o[b]?o[b]:CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,b=a.readOnly&&!this.readOnly?CKEDITOR.TRISTATE_DISABLED:b,this.setState(b),this.refresh&&this.refresh())}var f=CKEDITOR.env,g=this._.id=CKEDITOR.tools.getNextId(),h="",i=this.command,j;this._.editor=a;var k={id:g,button:this,editor:a,focus:function(){CKEDITOR.document.getById(g).focus()},execute:function(){this.button.click(a)},attach:function(a){this.button.attach(a)}},l=CKEDITOR.tools.addFunction(function(a){if(k.onkey)return a=new CKEDITOR.dom.event(a),!1!==k.onkey(k,a.getKeystroke())}),m=CKEDITOR.tools.addFunction(function(a){var b;k.onfocus&&(b=!1!==k.onfocus(k,new CKEDITOR.dom.event(a)));return b}),n=0;k.clickFn=j=CKEDITOR.tools.addFunction(function(){n&&(a.unlockSelection(1),n=0);k.execute();f.iOS&&a.focus()});if(this.modes){var o={};a.on("beforeModeUnload",function(){a.mode&&this._.state!=CKEDITOR.TRISTATE_DISABLED&&(o[a.mode]=this._.state)},this);a.on("activeFilterChange",e,this);a.on("mode",e,this);!this.readOnly&&a.on("readOnly",e,this)}else i&&(i=a.getCommand(i))&&(i.on("state",function(){this.setState(i.state)},this),h+=i.state==CKEDITOR.TRISTATE_ON?"on":i.state==CKEDITOR.TRISTATE_DISABLED?"disabled":"off");if(this.directional)a.on("contentDirChanged",function(b){var c=CKEDITOR.document.getById(this._.id),d=c.getFirst();b=b.data;b!=a.lang.dir?c.addClass("cke_"+b):c.removeClass("cke_ltr").removeClass("cke_rtl");d.setAttribute("style",CKEDITOR.skin.getIconStyle(q,"rtl"==b,this.icon,this.iconOffset))},this);i||(h+="off");var p=this.name||this.command,q=p;this.icon&&!/\./.test(this.icon)&&(q=this.icon,this.icon=null);h={id:g,name:p,iconName:q,label:this.label,cls:this.className||"",state:h,ariaDisabled:"disabled"==h?"true":"false",title:this.title,titleJs:f.gecko&&!f.hc?"":(this.title||"").replace("'",""),hasArrow:this.hasArrow?"true":"false",keydownFn:l,focusFn:m,clickFn:j,style:CKEDITOR.skin.getIconStyle(q,"rtl"==a.lang.dir,this.icon,this.iconOffset),arrowHtml:this.hasArrow?b.output():""};c.output(h,d);if(this.onRender)this.onRender();return k},setState:function(a){if(this._.state==a)return!1;this._.state=a;var b=CKEDITOR.document.getById(this._.id);return b?(b.setState(a,"cke_button"),a==CKEDITOR.TRISTATE_DISABLED?b.setAttribute("aria-disabled",!0):b.removeAttribute("aria-disabled"),this.hasArrow?(a=a==CKEDITOR.TRISTATE_ON?this._.editor.lang.button.selectedLabel.replace(/%1/g,this.label):this.label,CKEDITOR.document.getById(this._.id+"_label").setText(a)):a==CKEDITOR.TRISTATE_ON?b.setAttribute("aria-pressed",!0):b.removeAttribute("aria-pressed"),!0):!1},getState:function(){return this._.state},toFeature:function(a){if(this._.feature)return this._.feature;var b=this;this.allowedContent||this.requiredContent||!this.command||(b=a.getCommand(this.command)||b);return this._.feature=b}};CKEDITOR.ui.prototype.addButton=function(a,b){this.add(a,CKEDITOR.UI_BUTTON,b)}})();CKEDITOR.plugins.add("panelbutton",{requires:"button",onLoad:function(){function a(a){var b=this._;b.state!=CKEDITOR.TRISTATE_DISABLED&&(this.createPanel(a),b.on?b.panel.hide():b.panel.showBlock(this._.id,this.document.getById(this._.id),4))}CKEDITOR.ui.panelButton=CKEDITOR.tools.createClass({base:CKEDITOR.ui.button,$:function(b){var c=b.panel||{};delete b.panel;this.base(b);this.document=c.parent&&c.parent.getDocument()||CKEDITOR.document;c.block={attributes:c.attributes};this.hasArrow=c.toolbarRelated=!0;this.click=a;this._={panelDefinition:c}},statics:{handler:{create:function(a){return new CKEDITOR.ui.panelButton(a)}}},proto:{createPanel:function(a){var b=this._;if(!b.panel){var c=this._.panelDefinition,d=this._.panelDefinition.block,e=c.parent||CKEDITOR.document.getBody(),f=this._.panel=new CKEDITOR.ui.floatPanel(a,e,c),c=f.addBlock(b.id,d),g=this;f.onShow=function(){g.className&&this.element.addClass(g.className+"_panel");g.setState(CKEDITOR.TRISTATE_ON);b.on=1;g.editorFocus&&a.focus();if(g.onOpen)g.onOpen()};f.onHide=function(c){g.className&&this.element.getFirst().removeClass(g.className+"_panel");g.setState(g.modes&&g.modes[a.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED);b.on=0;if(!c&&g.onClose)g.onClose()};f.onEscape=function(){f.hide(1);g.document.getById(b.id).focus()};if(this.onBlock)this.onBlock(f,c);c.onHide=function(){b.on=0;g.setState(CKEDITOR.TRISTATE_OFF)}}}}})},beforeInit:function(a){a.ui.addHandler(CKEDITOR.UI_PANELBUTTON,CKEDITOR.ui.panelButton.handler)}});CKEDITOR.UI_PANELBUTTON="panelbutton";(function(){CKEDITOR.plugins.add("panel",{beforeInit:function(a){a.ui.addHandler(CKEDITOR.UI_PANEL,CKEDITOR.ui.panel.handler)}});CKEDITOR.UI_PANEL="panel";CKEDITOR.ui.panel=function(a,b){b&&CKEDITOR.tools.extend(this,b);CKEDITOR.tools.extend(this,{className:"",css:[]});this.id=CKEDITOR.tools.getNextId();this.document=a;this.isFramed=this.forceIFrame||this.css.length;this._={blocks:{}}};CKEDITOR.ui.panel.handler={create:function(a){return new CKEDITOR.ui.panel(a)}};var a=CKEDITOR.addTemplate("panel",'<div lang="{langCode}" id="{id}" dir={dir} class="cke cke_reset_all {editorId} cke_panel cke_panel {cls} cke_{dir}" style="z-index:{z-index}" role="presentation">{frame}</div>'),b=CKEDITOR.addTemplate("panel-frame",'<iframe id="{id}" class="cke_panel_frame" role="presentation" frameborder="0" src="{src}"></iframe>'),c=CKEDITOR.addTemplate("panel-frame-inner",'<!DOCTYPE html><html class="cke_panel_container {env}" dir="{dir}" lang="{langCode}"><head>{css}</head><body class="cke_{dir}" style="margin:0;padding:0" onload="{onload}"></body></html>');CKEDITOR.ui.panel.prototype={render:function(d,e){this.getHolderElement=function(){var a=this._.holder;if(!a){if(this.isFramed){var a=this.document.getById(this.id+"_frame"),b=a.getParent(),a=a.getFrameDocument();CKEDITOR.env.iOS&&b.setStyles({overflow:"scroll","-webkit-overflow-scrolling":"touch"});b=CKEDITOR.tools.addFunction(CKEDITOR.tools.bind(function(){this.isLoaded=!0;if(this.onLoad)this.onLoad()},this));a.write(c.output(CKEDITOR.tools.extend({css:CKEDITOR.tools.buildStyleHtml(this.css),onload:"window.parent.CKEDITOR.tools.callFunction("+b+");"},f)));a.getWindow().$.CKEDITOR=CKEDITOR;a.on("keydown",function(a){var b=a.data.getKeystroke(),c=this.document.getById(this.id).getAttribute("dir");this._.onKeyDown&&!1===this._.onKeyDown(b)?a.data.preventDefault():(27==b||b==("rtl"==c?39:37))&&this.onEscape&&!1===this.onEscape(b)&&a.data.preventDefault()},this);a=a.getBody();a.unselectable();CKEDITOR.env.air&&CKEDITOR.tools.callFunction(b)}else a=this.document.getById(this.id);this._.holder=a}return a};var f={editorId:d.id,id:this.id,langCode:d.langCode,dir:d.lang.dir,cls:this.className,frame:"",env:CKEDITOR.env.cssClass,"z-index":d.config.baseFloatZIndex+1};if(this.isFramed){var g=CKEDITOR.env.air?"javascript:void(0)":CKEDITOR.env.ie?"javascript:void(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"}())":"";f.frame=b.output({id:this.id+"_frame",src:g})}g=a.output(f);e&&e.push(g);return g},addBlock:function(a,b){b=this._.blocks[a]=b instanceof CKEDITOR.ui.panel.block?b:new CKEDITOR.ui.panel.block(this.getHolderElement(),b);this._.currentBlock||this.showBlock(a);return b},getBlock:function(a){return this._.blocks[a]},showBlock:function(a){a=this._.blocks[a];var b=this._.currentBlock,c=!this.forceIFrame||CKEDITOR.env.ie?this._.holder:this.document.getById(this.id+"_frame");b&&b.hide();this._.currentBlock=a;CKEDITOR.fire("ariaWidget",c);a._.focusIndex=-1;this._.onKeyDown=a.onKeyDown&&CKEDITOR.tools.bind(a.onKeyDown,a);a.show();return a},destroy:function(){this.element&&this.element.remove()}};CKEDITOR.ui.panel.block=CKEDITOR.tools.createClass({$:function(a,b){this.element=a.append(a.getDocument().createElement("div",{attributes:{tabindex:-1,"class":"cke_panel_block"},styles:{display:"none"}}));b&&CKEDITOR.tools.extend(this,b);this.element.setAttributes({role:this.attributes.role||"presentation","aria-label":this.attributes["aria-label"],title:this.attributes.title||this.attributes["aria-label"]});this.keys={};this._.focusIndex=-1;this.element.disableContextMenu()},_:{markItem:function(a){-1!=a&&(a=this.element.getElementsByTag("a").getItem(this._.focusIndex=a),CKEDITOR.env.webkit&&a.getDocument().getWindow().focus(),a.focus(),this.onMark&&this.onMark(a))}},proto:{show:function(){this.element.setStyle("display","")},hide:function(){this.onHide&&!0===this.onHide.call(this)||this.element.setStyle("display","none")},onKeyDown:function(a,b){var c=this.keys[a];switch(c){case"next":for(var d=this._.focusIndex,c=this.element.getElementsByTag("a"),e;e=c.getItem(++d);)if(e.getAttribute("_cke_focus")&&e.$.offsetWidth){this._.focusIndex=d;e.focus();break}return e||b?!1:(this._.focusIndex=-1,this.onKeyDown(a,1));case"prev":d=this._.focusIndex;for(c=this.element.getElementsByTag("a");0<d&&(e=c.getItem(--d));){if(e.getAttribute("_cke_focus")&&e.$.offsetWidth){this._.focusIndex=d;e.focus();break}e=null}return e||b?!1:(this._.focusIndex=c.count(),this.onKeyDown(a,1));case"click":case"mouseup":return d=this._.focusIndex,(e=0<=d&&this.element.getElementsByTag("a").getItem(d))&&(e.$[c]?e.$[c]():e.$["on"+c]()),!1}return!0}}})})();CKEDITOR.plugins.add("floatpanel",{requires:"panel"});(function(){function a(a,c,d,e,f){f=CKEDITOR.tools.genKey(c.getUniqueId(),d.getUniqueId(),a.lang.dir,a.uiColor||"",e.css||"",f||"");var g=b[f];g||(g=b[f]=new CKEDITOR.ui.panel(c,e),g.element=d.append(CKEDITOR.dom.element.createFromHtml(g.render(a),c)),g.element.setStyles({display:"none",position:"absolute"}));return g}var b={};CKEDITOR.ui.floatPanel=CKEDITOR.tools.createClass({$:function(b,c,d,e){function f(){j.hide()}d.forceIFrame=1;d.toolbarRelated&&b.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&(c=CKEDITOR.document.getById("cke_"+b.name));var g=c.getDocument();e=a(b,g,c,d,e||0);var h=e.element,i=h.getFirst(),j=this;h.disableContextMenu();this.element=h;this._={editor:b,panel:e,parentElement:c,definition:d,document:g,iframe:i,children:[],dir:b.lang.dir,showBlockParams:null};b.on("mode",f);b.on("resize",f);g.getWindow().on("resize",function(){this.reposition()},this)},proto:{addBlock:function(a,b){return this._.panel.addBlock(a,b)},addListBlock:function(a,b){return this._.panel.addListBlock(a,b)},getBlock:function(a){return this._.panel.getBlock(a)},showBlock:function(a,b,c,d,e,f){var g=this._.panel,h=g.showBlock(a);this._.showBlockParams=[].slice.call(arguments);this.allowBlur(!1);var i=this._.editor.editable();this._.returnFocus=i.hasFocus?i:new CKEDITOR.dom.element(CKEDITOR.document.$.activeElement);this._.hideTimeout=0;var j=this.element,i=this._.iframe,i=CKEDITOR.env.ie&&!CKEDITOR.env.edge?i:new CKEDITOR.dom.window(i.$.contentWindow),k=j.getDocument(),l=this._.parentElement.getPositionedAncestor(),m=b.getDocumentPosition(k),k=l?l.getDocumentPosition(k):{x:0,y:0},n="rtl"==this._.dir,o=m.x+(d||0)-k.x,p=m.y+(e||0)-k.y;!n||1!=c&&4!=c?n||2!=c&&3!=c||(o+=b.$.offsetWidth-1):o+=b.$.offsetWidth;if(3==c||4==c)p+=b.$.offsetHeight-1;this._.panel._.offsetParentId=b.getId();j.setStyles({top:p+"px",left:0,display:""});j.setOpacity(0);j.getFirst().removeStyle("width");this._.editor.focusManager.add(i);this._.blurSet||(CKEDITOR.event.useCapture=!0,i.on("blur",function(a){function b(){delete this._.returnFocus;this.hide()}this.allowBlur()&&a.data.getPhase()==CKEDITOR.EVENT_PHASE_AT_TARGET&&this.visible&&!this._.activeChild&&(CKEDITOR.env.iOS?this._.hideTimeout||(this._.hideTimeout=CKEDITOR.tools.setTimeout(b,0,this)):b.call(this))},this),i.on("focus",function(){this._.focused=!0;this.hideChild();this.allowBlur(!0)},this),CKEDITOR.env.iOS&&(i.on("touchstart",function(){clearTimeout(this._.hideTimeout)},this),i.on("touchend",function(){this._.hideTimeout=0;this.focus()},this)),CKEDITOR.event.useCapture=!1,this._.blurSet=1);g.onEscape=CKEDITOR.tools.bind(function(a){if(this.onEscape&&!1===this.onEscape(a))return!1},this);CKEDITOR.tools.setTimeout(function(){var a=CKEDITOR.tools.bind(function(){var a=j;a.removeStyle("width");if(h.autoSize){var b=h.element.getDocument(),b=(CKEDITOR.env.webkit||CKEDITOR.env.edge?h.element:b.getBody()).$.scrollWidth;CKEDITOR.env.ie&&CKEDITOR.env.quirks&&0<b&&(b+=(a.$.offsetWidth||0)-(a.$.clientWidth||0)+3);a.setStyle("width",b+10+"px");b=h.element.$.scrollHeight;CKEDITOR.env.ie&&CKEDITOR.env.quirks&&0<b&&(b+=(a.$.offsetHeight||0)-(a.$.clientHeight||0)+3);a.setStyle("height",b+"px");g._.currentBlock.element.setStyle("display","none").removeStyle("display")}else a.removeStyle("height");n&&(o-=j.$.offsetWidth);j.setStyle("left",o+"px");var b=g.element.getWindow(),a=j.$.getBoundingClientRect(),b=b.getViewPaneSize(),c=a.width||a.right-a.left,d=a.height||a.bottom-a.top,e=n?a.right:b.width-a.left,i=n?b.width-a.right:a.left;n?e<c&&(o=i>c?o+c:b.width>c?o-a.left:o-a.right+b.width):e<c&&(o=i>c?o-c:b.width>c?o-a.right+b.width:o-a.left);c=a.top;b.height-a.top<d&&(p=c>d?p-d:b.height>d?p-a.bottom+b.height:p-a.top);CKEDITOR.env.ie&&(b=a=new CKEDITOR.dom.element(j.$.offsetParent),"html"==b.getName()&&(b=b.getDocument().getBody()),"rtl"==b.getComputedStyle("direction")&&(o=CKEDITOR.env.ie8Compat?o-2*j.getDocument().getDocumentElement().$.scrollLeft:o-(a.$.scrollWidth-a.$.clientWidth)));var a=j.getFirst(),k;(k=a.getCustomData("activePanel"))&&k.onHide&&k.onHide.call(this,1);a.setCustomData("activePanel",this);j.setStyles({top:p+"px",left:o+"px"});j.setOpacity(1);f&&f()},this);g.isLoaded?a():g.onLoad=a;CKEDITOR.tools.setTimeout(function(){var a=CKEDITOR.env.webkit&&CKEDITOR.document.getWindow().getScrollPosition().y;this.focus();h.element.focus();CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=a);this.allowBlur(!0);this._.editor.fire("panelShow",this)},0,this)},CKEDITOR.env.air?200:0,this);this.visible=1;this.onShow&&this.onShow.call(this)},reposition:function(){var a=this._.showBlockParams;this.visible&&this._.showBlockParams&&(this.hide(),this.showBlock.apply(this,a))},focus:function(){if(CKEDITOR.env.webkit){var a=CKEDITOR.document.getActive();a&&!a.equals(this._.iframe)&&a.$.blur()}(this._.lastFocused||this._.iframe.getFrameDocument().getWindow()).focus()},blur:function(){var a=this._.iframe.getFrameDocument().getActive();a&&a.is("a")&&(this._.lastFocused=a)},hide:function(a){if(this.visible&&(!this.onHide||!0!==this.onHide.call(this))){this.hideChild();CKEDITOR.env.gecko&&this._.iframe.getFrameDocument().$.activeElement.blur();this.element.setStyle("display","none");this.visible=0;this.element.getFirst().removeCustomData("activePanel");if(a=a&&this._.returnFocus)CKEDITOR.env.webkit&&a.type&&a.getWindow().$.focus(),a.focus();delete this._.lastFocused;this._.showBlockParams=null;this._.editor.fire("panelHide",this)}},allowBlur:function(a){var b=this._.panel;void 0!==a&&(b.allowBlur=a);return b.allowBlur},showAsChild:function(a,b,c,d,e,f){if(this._.activeChild!=a||a._.panel._.offsetParentId!=c.getId())this.hideChild(),a.onHide=CKEDITOR.tools.bind(function(){CKEDITOR.tools.setTimeout(function(){this._.focused||this.hide()},0,this)},this),this._.activeChild=a,this._.focused=!1,a.showBlock(b,c,d,e,f),this.blur(),(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)&&setTimeout(function(){a.element.getChild(0).$.style.cssText+=""},100)},hideChild:function(a){var b=this._.activeChild;b&&(delete b.onHide,delete this._.activeChild,b.hide(),a&&this.focus())}}});CKEDITOR.on("instanceDestroyed",function(){var a=CKEDITOR.tools.isEmpty(CKEDITOR.instances),c;for(c in b){var d=b[c];a?d.destroy():d.element.hide()}a&&(b={})})})();CKEDITOR.plugins.add("colorbutton",{requires:"panelbutton,floatpanel",init:function(a){function b(b,d,g,h){var i=new CKEDITOR.style(e["colorButton_"+d+"Style"]),j=CKEDITOR.tools.getNextId()+"_colorBox";a.ui.add(b,CKEDITOR.UI_PANELBUTTON,{label:g,title:g,modes:{wysiwyg:1},editorFocus:0,toolbar:"colors,"+h,allowedContent:i,requiredContent:i,panel:{css:CKEDITOR.skin.getPath("editor"),attributes:{role:"listbox","aria-label":f.panelTitle}},onBlock:function(b,e){e.autoSize=!0;e.element.addClass("cke_colorblock");e.element.setHtml(c(b,d,j));e.element.getDocument().getBody().setStyle("overflow","hidden");CKEDITOR.ui.fire("ready",this);var f=e.keys,g="rtl"==a.lang.dir;f[g?37:39]="next";f[40]="next";f[9]="next";f[g?39:37]="prev";f[38]="prev";f[CKEDITOR.SHIFT+9]="prev";f[32]="click"},refresh:function(){a.activeFilter.check(i)||this.setState(CKEDITOR.TRISTATE_DISABLED)},onOpen:function(){var b=a.getSelection(),b=b&&b.getStartElement(),b=a.elementPath(b),c;if(b){b=b.block||b.blockLimit||a.document.getBody();do c=b&&b.getComputedStyle("back"==d?"background-color":"color")||"transparent";while("back"==d&&"transparent"==c&&b&&(b=b.getParent()));c&&"transparent"!=c||(c="#ffffff");!1!==e.colorButton_enableAutomatic&&this._.panel._.iframe.getFrameDocument().getById(j).setStyle("background-color",c);return c}}})}function c(b,c,g){var h=[],i=e.colorButton_colors.split(","),j=a.plugins.colordialog&&!1!==e.colorButton_enableMore,k=i.length+(j?2:1),l=CKEDITOR.tools.addFunction(function(c,f){function g(a){this.removeListener("ok",g);this.removeListener("cancel",g);"ok"==a.name&&h(this.getContentElement("picker","selectedColor").getValue(),f)}var h=arguments.callee;if("?"==c)a.openDialog("colordialog",function(){this.on("ok",g);this.on("cancel",g)});else{a.focus();b.hide();a.fire("saveSnapshot");a.removeStyle(new CKEDITOR.style(e["colorButton_"+f+"Style"],{color:"inherit"}));if(c){var i=e["colorButton_"+f+"Style"];i.childRule="back"==f?function(a){return d(a)}:function(a){return!(a.is("a")||a.getElementsByTag("a").count())||d(a)};a.applyStyle(new CKEDITOR.style(i,{color:c}))}a.fire("saveSnapshot")}});!1!==e.colorButton_enableAutomatic&&h.push('<a class="cke_colorauto" _cke_focus=1 hidefocus=true title="',f.auto,'" onclick="CKEDITOR.tools.callFunction(',l,",null,'",c,"');return false;\" href=\"javascript:void('",f.auto,'\')" role="option" aria-posinset="1" aria-setsize="',k,'"><table role="presentation" cellspacing=0 cellpadding=0 width="100%"><tr><td><span class="cke_colorbox" id="',g,'"></span></td><td colspan=7 align=center>',f.auto,"</td></tr></table></a>");h.push('<table role="presentation" cellspacing=0 cellpadding=0 width="100%">');for(g=0;g<i.length;g++){0===g%8&&h.push("</tr><tr>");var m=i[g].split("/"),n=m[0],o=m[1]||n;m[1]||(n="#"+n.replace(/^(.)(.)(.)$/,"$1$1$2$2$3$3"));m=a.lang.colorbutton.colors[o]||o;h.push('<td><a class="cke_colorbox" _cke_focus=1 hidefocus=true title="',m,'" onclick="CKEDITOR.tools.callFunction(',l,",'",n,"','",c,"'); return false;\" href=\"javascript:void('",m,'\')" role="option" aria-posinset="',g+2,'" aria-setsize="',k,'"><span class="cke_colorbox" style="background-color:#',o,'"></span></a></td>')}j&&h.push('</tr><tr><td colspan=8 align=center><a class="cke_colormore" _cke_focus=1 hidefocus=true title="',f.more,'" onclick="CKEDITOR.tools.callFunction(',l,",'?','",c,"');return false;\" href=\"javascript:void('",f.more,"')\"",' role="option" aria-posinset="',k,'" aria-setsize="',k,'">',f.more,"</a></td>");h.push("</tr></table>");return h.join("")}function d(a){return"false"==a.getAttribute("contentEditable")||a.getAttribute("data-nostyle")}var e=a.config,f=a.lang.colorbutton;CKEDITOR.env.hc||(b("TextColor","fore",f.textColorTitle,10),b("BGColor","back",f.bgColorTitle,20))}});CKEDITOR.config.colorButton_colors="000,800000,8B4513,2F4F4F,008080,000080,4B0082,696969,B22222,A52A2A,DAA520,006400,40E0D0,0000CD,800080,808080,F00,FF8C00,FFD700,008000,0FF,00F,EE82EE,A9A9A9,FFA07A,FFA500,FFFF00,00FF00,AFEEEE,ADD8E6,DDA0DD,D3D3D3,FFF0F5,FAEBD7,FFFFE0,F0FFF0,F0FFFF,F0F8FF,E6E6FA,FFF";CKEDITOR.config.colorButton_foreStyle={element:"span",styles:{color:"#(color)"},overrides:[{element:"font",attributes:{color:null}}]};CKEDITOR.config.colorButton_backStyle={element:"span",styles:{"background-color":"#(color)"}};CKEDITOR.plugins.colordialog={requires:"dialog",init:function(a){var b=new CKEDITOR.dialogCommand("colordialog");b.editorFocus=!1;a.addCommand("colordialog",b);CKEDITOR.dialog.add("colordialog",this.path+"dialogs/colordialog.js");a.getColorFromDialog=function(b,c){var d=function(a){this.removeListener("ok",d);this.removeListener("cancel",d);a="ok"==a.name?this.getValueOf("picker","selectedColor"):null;b.call(c,a)},e=function(a){a.on("ok",d);a.on("cancel",d)};a.execCommand("colordialog");if(a._.storedDialogs&&a._.storedDialogs.colordialog)e(a._.storedDialogs.colordialog);else CKEDITOR.on("dialogDefinition",function(a){if("colordialog"==a.data.name){var b=a.data.definition;a.removeListener();b.onLoad=CKEDITOR.tools.override(b.onLoad,function(a){return function(){e(this);b.onLoad=a;"function"==typeof a&&a.call(this)}})}})}}};CKEDITOR.plugins.add("colordialog",CKEDITOR.plugins.colordialog);(function(){CKEDITOR.plugins.add("templates",{requires:"dialog",init:function(a){CKEDITOR.dialog.add("templates",CKEDITOR.getUrl(this.path+"dialogs/templates.js"));a.addCommand("templates",new CKEDITOR.dialogCommand("templates"));a.ui.addButton&&a.ui.addButton("Templates",{label:a.lang.templates.button,command:"templates",toolbar:"doctools,10"})}});var a={},b={};CKEDITOR.addTemplates=function(b,c){a[b]=c};CKEDITOR.getTemplates=function(b){return a[b]};CKEDITOR.loadTemplates=function(a,c){for(var d=[],e=0,f=a.length;e<f;e++)b[a[e]]||(d.push(a[e]),b[a[e]]=1);d.length?CKEDITOR.scriptLoader.load(d,c):setTimeout(c,0)}})();CKEDITOR.config.templates_files=[CKEDITOR.getUrl("plugins/templates/templates/default.js")];CKEDITOR.config.templates_replaceContent=!0;CKEDITOR.plugins.add("menu",{requires:"floatpanel",beforeInit:function(a){for(var b=a.config.menu_groups.split(","),c=a._.menuGroups={},d=a._.menuItems={},e=0;e<b.length;e++)c[b[e]]=e+1;a.addMenuGroup=function(a,b){c[a]=b||100};a.addMenuItem=function(a,b){c[b.group]&&(d[a]=new CKEDITOR.menuItem(this,a,b))};a.addMenuItems=function(a){for(var b in a)this.addMenuItem(b,a[b])};a.getMenuItem=function(a){return d[a]};a.removeMenuItem=function(a){delete d[a]}}});(function(){function a(a){a.sort(function(a,b){return a.group<b.group?-1:a.group>b.group?1:a.order<b.order?-1:a.order>b.order?1:0})}var b='<span class="cke_menuitem"><a id="{id}" class="cke_menubutton cke_menubutton__{name} cke_menubutton_{state} {cls}" href="{href}" title="{title}" tabindex="-1"_cke_focus=1 hidefocus="true" role="{role}" aria-haspopup="{hasPopup}" aria-disabled="{disabled}" {ariaChecked}';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(b+=' onkeypress="return false;"');CKEDITOR.env.gecko&&(b+=' onblur="this.style.cssText = this.style.cssText;"');var b=b+(' onmouseover="CKEDITOR.tools.callFunction({hoverFn},{index});" onmouseout="CKEDITOR.tools.callFunction({moveOutFn},{index});" '+(CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick")+'="CKEDITOR.tools.callFunction({clickFn},{index}); return false;">'),c=CKEDITOR.addTemplate("menuItem",b+'<span class="cke_menubutton_inner"><span class="cke_menubutton_icon"><span class="cke_button_icon cke_button__{iconName}_icon" style="{iconStyle}"></span></span><span class="cke_menubutton_label">{label}</span>{arrowHtml}</span></a></span>'),d=CKEDITOR.addTemplate("menuArrow",'<span class="cke_menuarrow"><span>{label}</span></span>');CKEDITOR.menu=CKEDITOR.tools.createClass({$:function(a,b){b=this._.definition=b||{};this.id=CKEDITOR.tools.getNextId();this.editor=a;this.items=[];this._.listeners=[];this._.level=b.level||1;var c=CKEDITOR.tools.extend({},b.panel,{css:[CKEDITOR.skin.getPath("editor")],level:this._.level-1,block:{}}),d=c.block.attributes=c.attributes||{};!d.role&&(d.role="menu");this._.panelDefinition=c},_:{onShow:function(){var a=this.editor.getSelection(),b=a&&a.getStartElement(),c=this.editor.elementPath(),d=this._.listeners;this.removeAll();for(var e=0;e<d.length;e++){var f=d[e](b,a,c);if(f)for(var g in f){var h=this.editor.getMenuItem(g);!h||h.command&&!this.editor.getCommand(h.command).state||(h.state=f[g],this.add(h))}}},onClick:function(a){this.hide();if(a.onClick)a.onClick();else a.command&&this.editor.execCommand(a.command)},onEscape:function(a){var b=this.parent;b?b._.panel.hideChild(1):27==a&&this.hide(1);return!1},onHide:function(){this.onHide&&this.onHide()},showSubMenu:function(a){var b=this._.subMenu,c=this.items[a];if(c=c.getItems&&c.getItems()){b?b.removeAll():(b=this._.subMenu=new CKEDITOR.menu(this.editor,CKEDITOR.tools.extend({},this._.definition,{level:this._.level+1},!0)),b.parent=this,b._.onClick=CKEDITOR.tools.bind(this._.onClick,this));for(var d in c){var e=this.editor.getMenuItem(d);e&&(e.state=c[d],b.add(e))}var f=this._.panel.getBlock(this.id).element.getDocument().getById(this.id+String(a));setTimeout(function(){b.show(f,2)},0)}else this._.panel.hideChild(1)}},proto:{add:function(a){a.order||(a.order=this.items.length);this.items.push(a)},removeAll:function(){this.items=[]},show:function(b,c,d,e){if(!this.parent&&(this._.onShow(),!this.items.length))return;c=c||("rtl"==this.editor.lang.dir?2:1);var f=this.items,g=this.editor,h=this._.panel,i=this._.element;if(!h){h=this._.panel=new CKEDITOR.ui.floatPanel(this.editor,CKEDITOR.document.getBody(),this._.panelDefinition,this._.level);h.onEscape=CKEDITOR.tools.bind(function(a){if(!1===this._.onEscape(a))return!1},this);h.onShow=function(){h._.panel.getHolderElement().getParent().addClass("cke").addClass("cke_reset_all")};h.onHide=CKEDITOR.tools.bind(function(){this._.onHide&&this._.onHide()},this);i=h.addBlock(this.id,this._.panelDefinition.block);i.autoSize=!0;var j=i.keys;j[40]="next";j[9]="next";j[38]="prev";j[CKEDITOR.SHIFT+9]="prev";j["rtl"==g.lang.dir?37:39]=CKEDITOR.env.ie?"mouseup":"click";j[32]=CKEDITOR.env.ie?"mouseup":"click";CKEDITOR.env.ie&&(j[13]="mouseup");i=this._.element=i.element;j=i.getDocument();j.getBody().setStyle("overflow","hidden");j.getElementsByTag("html").getItem(0).setStyle("overflow","hidden");this._.itemOverFn=CKEDITOR.tools.addFunction(function(a){clearTimeout(this._.showSubTimeout);this._.showSubTimeout=CKEDITOR.tools.setTimeout(this._.showSubMenu,g.config.menu_subMenuDelay||400,this,[a])},this);this._.itemOutFn=CKEDITOR.tools.addFunction(function(){clearTimeout(this._.showSubTimeout)},this);this._.itemClickFn=CKEDITOR.tools.addFunction(function(a){var b=this.items[a];if(b.state==CKEDITOR.TRISTATE_DISABLED)this.hide(1);else if(b.getItems)this._.showSubMenu(a);else this._.onClick(b)},this)}a(f);for(var j=g.elementPath(),j=['<div class="cke_menu'+(j&&j.direction()!=g.lang.dir?" cke_mixed_dir_content":"")+'" role="presentation">'],k=f.length,l=k&&f[0].group,m=0;m<k;m++){var n=f[m];l!=n.group&&(j.push('<div class="cke_menuseparator" role="separator"></div>'),l=n.group);n.render(this,m,j)}j.push("</div>");i.setHtml(j.join(""));CKEDITOR.ui.fire("ready",this);this.parent?this.parent._.panel.showAsChild(h,this.id,b,c,d,e):h.showBlock(this.id,b,c,d,e);g.fire("menuShow",[h])},addListener:function(a){this._.listeners.push(a)},hide:function(a){this._.onHide&&this._.onHide();this._.panel&&this._.panel.hide(a)}}});CKEDITOR.menuItem=CKEDITOR.tools.createClass({$:function(a,b,c){CKEDITOR.tools.extend(this,c,{order:0,className:"cke_menubutton__"+b});this.group=a._.menuGroups[this.group];this.editor=a;this.name=b},proto:{render:function(a,b,e){var f=a.id+String(b),g="undefined"==typeof this.state?CKEDITOR.TRISTATE_OFF:this.state,h="",i=g==CKEDITOR.TRISTATE_ON?"on":g==CKEDITOR.TRISTATE_DISABLED?"disabled":"off";this.role in{menuitemcheckbox:1,menuitemradio:1}&&(h=' aria-checked="'+(g==CKEDITOR.TRISTATE_ON?"true":"false")+'"');var j=this.getItems,k="&#"+("rtl"==this.editor.lang.dir?"9668":"9658")+";",l=this.name;this.icon&&!/\./.test(this.icon)&&(l=this.icon);a={id:f,name:this.name,iconName:l,label:this.label,cls:this.className||"",state:i,hasPopup:j?"true":"false",disabled:g==CKEDITOR.TRISTATE_DISABLED,title:this.label,href:"javascript:void('"+(this.label||"").replace("'")+"')",hoverFn:a._.itemOverFn,moveOutFn:a._.itemOutFn,clickFn:a._.itemClickFn,index:b,iconStyle:CKEDITOR.skin.getIconStyle(l,"rtl"==this.editor.lang.dir,l==this.icon?null:this.icon,this.iconOffset),arrowHtml:j?d.output({label:k}):"",role:this.role?this.role:"menuitem",ariaChecked:h};c.output(a,e)}}})})();CKEDITOR.config.menu_groups="clipboard,form,tablecell,tablecellproperties,tablerow,tablecolumn,table,anchor,link,image,flash,checkbox,radio,textfield,hiddenfield,imagebutton,button,select,textarea,div";CKEDITOR.plugins.add("contextmenu",{requires:"menu",onLoad:function(){CKEDITOR.plugins.contextMenu=CKEDITOR.tools.createClass({base:CKEDITOR.menu,$:function(a){this.base.call(this,a,{panel:{className:"cke_menu_panel",attributes:{"aria-label":a.lang.contextmenu.options}}})},proto:{addTarget:function(a,b){a.on("contextmenu",function(a){a=a.data;var d=CKEDITOR.env.webkit?c:CKEDITOR.env.mac?a.$.metaKey:a.$.ctrlKey;if(!b||!d){a.preventDefault();if(CKEDITOR.env.mac&&CKEDITOR.env.webkit){var d=this.editor,e=new CKEDITOR.dom.elementPath(a.getTarget(),d.editable()).contains(function(a){return a.hasAttribute("contenteditable")},!0);e&&"false"==e.getAttribute("contenteditable")&&d.getSelection().fake(e)}var e=a.getTarget().getDocument(),f=a.getTarget().getDocument().getDocumentElement(),d=!e.equals(CKEDITOR.document),e=e.getWindow().getScrollPosition(),g=d?a.$.clientX:a.$.pageX||e.x+a.$.clientX,h=d?a.$.clientY:a.$.pageY||e.y+a.$.clientY;CKEDITOR.tools.setTimeout(function(){this.open(f,null,g,h)},CKEDITOR.env.ie?200:0,this)}},this);if(CKEDITOR.env.webkit){var c,d=function(){c=0};a.on("keydown",function(a){c=CKEDITOR.env.mac?a.data.$.metaKey:a.data.$.ctrlKey});a.on("keyup",d);a.on("contextmenu",d)}},open:function(a,b,c,d){this.editor.focus();a=a||CKEDITOR.document.getDocumentElement();this.editor.selectionChange(1);this.show(a,b,c,d)}}})},beforeInit:function(a){var b=a.contextMenu=new CKEDITOR.plugins.contextMenu(a);a.on("contentDom",function(){b.addTarget(a.editable(),!1!==a.config.browserContextMenuOnCtrl)});a.addCommand("contextMenu",{exec:function(){a.contextMenu.open(a.document.getBody())}});a.setKeystroke(CKEDITOR.SHIFT+121,"contextMenu");a.setKeystroke(CKEDITOR.CTRL+CKEDITOR.SHIFT+121,"contextMenu")}});(function(){CKEDITOR.plugins.add("div",{requires:"dialog",init:function(a){if(!a.blockless){var b=a.lang.div,c="div(*)";CKEDITOR.dialog.isTabEnabled(a,"editdiv","advanced")&&(c+=";div[dir,id,lang,title]{*}");a.addCommand("creatediv",new CKEDITOR.dialogCommand("creatediv",{allowedContent:c,requiredContent:"div",contextSensitive:!0,refresh:function(a,b){this.setState("div"in(a.config.div_wrapTable?b.root:b.blockLimit).getDtd()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}}));a.addCommand("editdiv",new CKEDITOR.dialogCommand("editdiv",{requiredContent:"div"}));a.addCommand("removediv",{requiredContent:"div",exec:function(a){function b(b){(b=CKEDITOR.plugins.div.getSurroundDiv(a,b))&&!b.data("cke-div-added")&&(g.push(b),b.data("cke-div-added"))}for(var c=a.getSelection(),d=c&&c.getRanges(),e,f=c.createBookmarks(),g=[],h=0;h<d.length;h++)e=d[h],e.collapsed?b(c.getStartElement()):(e=new CKEDITOR.dom.walker(e),e.evaluator=b,e.lastForward());for(h=0;h<g.length;h++)g[h].remove(!0);c.selectBookmarks(f)}});a.ui.addButton&&a.ui.addButton("CreateDiv",{label:b.toolbar,command:"creatediv",toolbar:"blocks,50"});a.addMenuItems&&(a.addMenuItems({editdiv:{label:b.edit,command:"editdiv",group:"div",order:1},removediv:{label:b.remove,command:"removediv",group:"div",order:5}}),a.contextMenu&&a.contextMenu.addListener(function(b){return!b||b.isReadOnly()?null:CKEDITOR.plugins.div.getSurroundDiv(a)?{editdiv:CKEDITOR.TRISTATE_OFF,removediv:CKEDITOR.TRISTATE_OFF}:null}));CKEDITOR.dialog.add("creatediv",this.path+"dialogs/div.js");CKEDITOR.dialog.add("editdiv",this.path+"dialogs/div.js")}}});CKEDITOR.plugins.div={getSurroundDiv:function(a,b){
var c=a.elementPath(b);return a.elementPath(c.blockLimit).contains(function(a){return a.is("div")&&!a.isReadOnly()},1)}}})();CKEDITOR.plugins.add("resize",{init:function(a){function b(b){var c=i.width,e=i.height,g=c+(b.data.$.screenX-h.x)*("rtl"==f?-1:1);b=e+(b.data.$.screenY-h.y);j&&(c=Math.max(d.resize_minWidth,Math.min(g,d.resize_maxWidth)));k&&(e=Math.max(d.resize_minHeight,Math.min(b,d.resize_maxHeight)));a.resize(j?c:null,e)}function c(){CKEDITOR.document.removeListener("mousemove",b);CKEDITOR.document.removeListener("mouseup",c);a.document&&(a.document.removeListener("mousemove",b),a.document.removeListener("mouseup",c))}var d=a.config,e=a.ui.spaceId("resizer"),f=a.element?a.element.getDirection(1):"ltr";!d.resize_dir&&(d.resize_dir="vertical");void 0===d.resize_maxWidth&&(d.resize_maxWidth=3e3);void 0===d.resize_maxHeight&&(d.resize_maxHeight=3e3);void 0===d.resize_minWidth&&(d.resize_minWidth=750);void 0===d.resize_minHeight&&(d.resize_minHeight=250);if(!1!==d.resize_enabled){var g=null,h,i,j=("both"==d.resize_dir||"horizontal"==d.resize_dir)&&d.resize_minWidth!=d.resize_maxWidth,k=("both"==d.resize_dir||"vertical"==d.resize_dir)&&d.resize_minHeight!=d.resize_maxHeight,l=CKEDITOR.tools.addFunction(function(e){g||(g=a.getResizable());i={width:g.$.offsetWidth||0,height:g.$.offsetHeight||0};h={x:e.screenX,y:e.screenY};d.resize_minWidth>i.width&&(d.resize_minWidth=i.width);d.resize_minHeight>i.height&&(d.resize_minHeight=i.height);CKEDITOR.document.on("mousemove",b);CKEDITOR.document.on("mouseup",c);a.document&&(a.document.on("mousemove",b),a.document.on("mouseup",c));e.preventDefault&&e.preventDefault()});a.on("destroy",function(){CKEDITOR.tools.removeFunction(l)});a.on("uiSpace",function(b){if("bottom"==b.data.space){var c="";j&&!k&&(c=" cke_resizer_horizontal");!j&&k&&(c=" cke_resizer_vertical");var d='<span id="'+e+'" class="cke_resizer'+c+" cke_resizer_"+f+'" title="'+CKEDITOR.tools.htmlEncode(a.lang.common.resize)+'" onmousedown="CKEDITOR.tools.callFunction('+l+', event)">'+("ltr"==f?"":"")+"</span>";"ltr"==f&&"ltr"==c?b.data.html+=d:b.data.html=d+b.data.html}},a,null,100);a.on("maximize",function(b){a.ui.space("resizer")[b.data==CKEDITOR.TRISTATE_ON?"hide":"show"]()})}}});(function(){function a(a){function c(){for(var c=d(),f=CKEDITOR.tools.clone(a.config.toolbarGroups)||b(a),g=0;g<f.length;g++){var h=f[g];if("/"!=h){"string"==typeof h&&(h=f[g]={name:h});var i,j=h.groups;if(j)for(var k=0;k<j.length;k++)i=j[k],(i=c[i])&&e(h,i);(i=c[h.name])&&e(h,i)}}return f}function d(){var b={},c,d,e;for(c in a.ui.items)d=a.ui.items[c],e=d.toolbar||"others",e=e.split(","),d=e[0],e=parseInt(e[1]||-1,10),b[d]||(b[d]=[]),b[d].push({name:c,order:e});for(d in b)b[d]=b[d].sort(function(a,b){return a.order==b.order?0:0>b.order?-1:0>a.order?1:a.order<b.order?-1:1});return b}function e(b,c){if(c.length){b.items?b.items.push(a.ui.create("-")):b.items=[];for(var d;d=c.shift();)d="string"==typeof d?d:d.name,g&&-1!=CKEDITOR.tools.indexOf(g,d)||(d=a.ui.create(d))&&a.addFeature(d)&&b.items.push(d)}}function f(a){var b=[],c,d,f;for(c=0;c<a.length;++c)d=a[c],f={},"/"==d?b.push(d):CKEDITOR.tools.isArray(d)?(e(f,CKEDITOR.tools.clone(d)),b.push(f)):d.items&&(e(f,CKEDITOR.tools.clone(d.items)),f.name=d.name,b.push(f));return b}var g=a.config.removeButtons,g=g&&g.split(","),h=a.config.toolbar;"string"==typeof h&&(h=a.config["toolbar_"+h]);return a.toolbar=h?f(h):c()}function b(a){return a._.toolbarGroups||(a._.toolbarGroups=[{name:"document",groups:["mode","document","doctools"]},{name:"clipboard",groups:["clipboard","undo"]},{name:"editing",groups:["find","selection","spellchecker"]},{name:"forms"},"/",{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"paragraph",groups:["list","indent","blocks","align","bidi"]},{name:"links"},{name:"insert"},"/",{name:"styles"},{name:"colors"},{name:"tools"},{name:"others"},{name:"about"}])}var c=function(){this.toolbars=[];this.focusCommandExecuted=!1};c.prototype.focus=function(){for(var a=0,b;b=this.toolbars[a++];)for(var c=0,d;d=b.items[c++];)if(d.focus){d.focus();return}};var d={modes:{wysiwyg:1,source:1},readOnly:1,exec:function(a){a.toolbox&&(a.toolbox.focusCommandExecuted=!0,CKEDITOR.env.ie||CKEDITOR.env.air?setTimeout(function(){a.toolbox.focus()},100):a.toolbox.focus())}};CKEDITOR.plugins.add("toolbar",{requires:"button",init:function(b){var e,f=function(a,c){var d,g="rtl"==b.lang.dir,h=b.config.toolbarGroupCycling,i=g?37:39,g=g?39:37,h=void 0===h||h;switch(c){case 9:case CKEDITOR.SHIFT+9:for(;!d||!d.items.length;)if(d=9==c?(d?d.next:a.toolbar.next)||b.toolbox.toolbars[0]:(d?d.previous:a.toolbar.previous)||b.toolbox.toolbars[b.toolbox.toolbars.length-1],d.items.length)for(a=d.items[e?d.items.length-1:0];a&&!a.focus;)(a=e?a.previous:a.next)||(d=0);a&&a.focus();return!1;case i:d=a;do d=d.next,!d&&h&&(d=a.toolbar.items[0]);while(d&&!d.focus);d?d.focus():f(a,9);return!1;case 40:return a.button&&a.button.hasArrow?(b.once("panelShow",function(a){a.data._.panel._.currentBlock.onKeyDown(40)}),a.execute()):f(a,40==c?i:g),!1;case g:case 38:d=a;do d=d.previous,!d&&h&&(d=a.toolbar.items[a.toolbar.items.length-1]);while(d&&!d.focus);d?d.focus():(e=1,f(a,CKEDITOR.SHIFT+9),e=0);return!1;case 27:return b.focus(),!1;case 13:case 32:return a.execute(),!1}return!0};b.on("uiSpace",function(d){if(d.data.space==b.config.toolbarLocation){d.removeListener();b.toolbox=new c;var e=CKEDITOR.tools.getNextId(),g=['<span id="',e,'" class="cke_voice_label">',b.lang.toolbar.toolbars,"</span>",'<span id="'+b.ui.spaceId("toolbox")+'" class="cke_toolbox" role="group" aria-labelledby="',e,'" onmousedown="return false;">'],e=!1!==b.config.toolbarStartupExpanded,h,i;b.config.toolbarCanCollapse&&b.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&g.push('<span class="cke_toolbox_main"'+(e?">":' style="display:none">'));for(var j=b.toolbox.toolbars,k=a(b),l=0;l<k.length;l++){var m,n=0,o,p=k[l],q;if(p)if(h&&(g.push("</span>"),i=h=0),"/"===p)g.push('<span class="cke_toolbar_break"></span>');else{q=p.items||p;for(var r=0;r<q.length;r++){var s=q[r],t;if(s){var u=function(a){a=a.render(b,g);v=n.items.push(a)-1;0<v&&(a.previous=n.items[v-1],a.previous.next=a);a.toolbar=n;a.onkey=f;a.onfocus=function(){b.toolbox.focusCommandExecuted||b.focus()}};if(s.type==CKEDITOR.UI_SEPARATOR)i=h&&s;else{t=!1!==s.canGroup;if(!n){m=CKEDITOR.tools.getNextId();n={id:m,items:[]};o=p.name&&(b.lang.toolbar.toolbarGroups[p.name]||p.name);g.push('<span id="',m,'" class="cke_toolbar"',o?' aria-labelledby="'+m+'_label"':"",' role="toolbar">');o&&g.push('<span id="',m,'_label" class="cke_voice_label">',o,"</span>");g.push('<span class="cke_toolbar_start"></span>');var v=j.push(n)-1;0<v&&(n.previous=j[v-1],n.previous.next=n)}t?h||(g.push('<span class="cke_toolgroup" role="presentation">'),h=1):h&&(g.push("</span>"),h=0);i&&(u(i),i=0);u(s)}}}h&&(g.push("</span>"),i=h=0);n&&g.push('<span class="cke_toolbar_end"></span></span>')}}b.config.toolbarCanCollapse&&g.push("</span>");if(b.config.toolbarCanCollapse&&b.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var w=CKEDITOR.tools.addFunction(function(){b.execCommand("toolbarCollapse")});b.on("destroy",function(){CKEDITOR.tools.removeFunction(w)});b.addCommand("toolbarCollapse",{readOnly:1,exec:function(a){var b=a.ui.space("toolbar_collapser"),c=b.getPrevious(),d=a.ui.space("contents"),e=c.getParent(),f=parseInt(d.$.style.height,10),g=e.$.offsetHeight,h=b.hasClass("cke_toolbox_collapser_min");h?(c.show(),b.removeClass("cke_toolbox_collapser_min"),b.setAttribute("title",a.lang.toolbar.toolbarCollapse)):(c.hide(),b.addClass("cke_toolbox_collapser_min"),b.setAttribute("title",a.lang.toolbar.toolbarExpand));b.getFirst().setText(h?"":"");d.setStyle("height",f-(e.$.offsetHeight-g)+"px");a.fire("resize",{outerHeight:a.container.$.offsetHeight,contentsHeight:d.$.offsetHeight,outerWidth:a.container.$.offsetWidth})},modes:{wysiwyg:1,source:1}});b.setKeystroke(CKEDITOR.ALT+(CKEDITOR.env.ie||CKEDITOR.env.webkit?189:109),"toolbarCollapse");g.push('<a title="'+(e?b.lang.toolbar.toolbarCollapse:b.lang.toolbar.toolbarExpand)+'" id="'+b.ui.spaceId("toolbar_collapser")+'" tabIndex="-1" class="cke_toolbox_collapser');e||g.push(" cke_toolbox_collapser_min");g.push('" onclick="CKEDITOR.tools.callFunction('+w+')">','<span class="cke_arrow">&#9650;</span>',"</a>")}g.push("</span>");d.data.html+=g.join("")}});b.on("destroy",function(){if(this.toolbox){var a,b=0,c,d,e;for(a=this.toolbox.toolbars;b<a.length;b++)for(d=a[b].items,c=0;c<d.length;c++)e=d[c],e.clickFn&&CKEDITOR.tools.removeFunction(e.clickFn),e.keyDownFn&&CKEDITOR.tools.removeFunction(e.keyDownFn)}});b.on("uiReady",function(){var a=b.ui.space("toolbox");a&&b.focusManager.add(a,1)});b.addCommand("toolbarFocus",d);b.setKeystroke(CKEDITOR.ALT+121,"toolbarFocus");b.ui.add("-",CKEDITOR.UI_SEPARATOR,{});b.ui.addHandler(CKEDITOR.UI_SEPARATOR,{create:function(){return{render:function(a,b){b.push('<span class="cke_toolbar_separator" role="separator"></span>');return{}}}}})}});CKEDITOR.ui.prototype.addToolbarGroup=function(a,c,d){var e=b(this.editor),f=0===c,g={name:a};if(d){if(d=CKEDITOR.tools.search(e,function(a){return a.name==d})){!d.groups&&(d.groups=[]);if(c&&(c=CKEDITOR.tools.indexOf(d.groups,c),0<=c)){d.groups.splice(c+1,0,a);return}f?d.groups.splice(0,0,a):d.groups.push(a);return}c=null}c&&(c=CKEDITOR.tools.indexOf(e,function(a){return a.name==c}));f?e.splice(0,0,a):"number"==typeof c?e.splice(c+1,0,g):e.push(a)}})();CKEDITOR.UI_SEPARATOR="separator";CKEDITOR.config.toolbarLocation="top";(function(){function a(a,c){function e(b){b=i.list[b];if(b.equals(a.editable())||"true"==b.getAttribute("contenteditable")){var c=a.createRange();c.selectNodeContents(b);c.select()}else a.getSelection().selectElement(b);a.focus()}function f(){h&&h.setHtml('<span class="cke_path_empty">&nbsp;</span>');delete i.list}var g=a.ui.spaceId("path"),h,i=a._.elementsPath,j=i.idBase;c.html+='<span id="'+g+'_label" class="cke_voice_label">'+a.lang.elementspath.eleLabel+'</span><span id="'+g+'" class="cke_path" role="group" aria-labelledby="'+g+'_label"><span class="cke_path_empty">&nbsp;</span></span>';a.on("uiReady",function(){var b=a.ui.space("path");b&&a.focusManager.add(b,1)});i.onClick=e;var k=CKEDITOR.tools.addFunction(e),l=CKEDITOR.tools.addFunction(function(b,c){var d=i.idBase,f;c=new CKEDITOR.dom.event(c);f="rtl"==a.lang.dir;switch(c.getKeystroke()){case f?39:37:case 9:return(f=CKEDITOR.document.getById(d+(b+1)))||(f=CKEDITOR.document.getById(d+"0")),f.focus(),!1;case f?37:39:case CKEDITOR.SHIFT+9:return(f=CKEDITOR.document.getById(d+(b-1)))||(f=CKEDITOR.document.getById(d+(i.list.length-1))),f.focus(),!1;case 27:return a.focus(),!1;case 13:case 32:return e(b),!1}return!0});a.on("selectionChange",function(){for(var b=[],c=i.list=[],e=[],f=i.filters,m=!0,n=a.elementPath().elements,o,p=n.length;p--;){var q=n[p],r=0;o=q.data("cke-display-name")?q.data("cke-display-name"):q.data("cke-real-element-type")?q.data("cke-real-element-type"):q.getName();(m=q.hasAttribute("contenteditable")?"true"==q.getAttribute("contenteditable"):m)||q.hasAttribute("contenteditable")||(r=1);for(var s=0;s<f.length;s++){var t=f[s](q,o);if(!1===t){r=1;break}o=t||o}r||(c.unshift(q),e.unshift(o))}c=c.length;for(f=0;f<c;f++)o=e[f],m=a.lang.elementspath.eleTitle.replace(/%1/,o),o=d.output({id:j+f,label:m,text:o,jsTitle:"javascript:void('"+o+"')",index:f,keyDownFn:l,clickFn:k}),b.unshift(o);h||(h=CKEDITOR.document.getById(g));e=h;e.setHtml(b.join("")+'<span class="cke_path_empty">&nbsp;</span>');a.fire("elementsPathUpdate",{space:e})});a.on("readOnly",f);a.on("contentDomUnload",f);a.addCommand("elementsPathFocus",b.toolbarFocus);a.setKeystroke(CKEDITOR.ALT+122,"elementsPathFocus")}var b={toolbarFocus:{editorFocus:!1,readOnly:1,exec:function(a){(a=CKEDITOR.document.getById(a._.elementsPath.idBase+"0"))&&a.focus(CKEDITOR.env.ie||CKEDITOR.env.air)}}},c="";CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(c+=' onkeypress="return false;"');CKEDITOR.env.gecko&&(c+=' onblur="this.style.cssText = this.style.cssText;"');var d=CKEDITOR.addTemplate("pathItem",'<a id="{id}" href="{jsTitle}" tabindex="-1" class="cke_path_item" title="{label}"'+c+' hidefocus="true"  onkeydown="return CKEDITOR.tools.callFunction({keyDownFn},{index}, event );" onclick="CKEDITOR.tools.callFunction({clickFn},{index}); return false;" role="button" aria-label="{label}">{text}</a>');CKEDITOR.plugins.add("elementspath",{init:function(b){b._.elementsPath={idBase:"cke_elementspath_"+CKEDITOR.tools.getNextNumber()+"_",filters:[]};b.on("uiSpace",function(c){"bottom"==c.data.space&&a(b,c.data)})}})})();(function(){function a(a,b,c){c=a.config.forceEnterMode||c;"wysiwyg"==a.mode&&(b||(b=a.activeEnterMode),a.elementPath().isContextFor("p")||(b=CKEDITOR.ENTER_BR,c=1),a.fire("saveSnapshot"),b==CKEDITOR.ENTER_BR?g(a,b,null,c):h(a,b,null,c),a.fire("saveSnapshot"))}function b(a){a=a.getSelection().getRanges(!0);for(var b=a.length-1;0<b;b--)a[b].deleteContents();return a[0]}function c(a){var b=a.startContainer.getAscendant(function(a){return a.type==CKEDITOR.NODE_ELEMENT&&"true"==a.getAttribute("contenteditable")},!0);if(a.root.equals(b))return a;b=new CKEDITOR.dom.range(b);b.moveToRange(a);return b}CKEDITOR.plugins.add("enterkey",{init:function(b){b.addCommand("enter",{modes:{wysiwyg:1},editorFocus:!1,exec:function(b){a(b)}});b.addCommand("shiftEnter",{modes:{wysiwyg:1},editorFocus:!1,exec:function(b){a(b,b.activeShiftEnterMode,1)}});b.setKeystroke([[13,"enter"],[CKEDITOR.SHIFT+13,"shiftEnter"]])}});var d=CKEDITOR.dom.walker.whitespaces(),e=CKEDITOR.dom.walker.bookmark();CKEDITOR.plugins.enterkey={enterBlock:function(a,f,h,j){if(h=h||b(a)){h=c(h);var k=h.document,l=h.checkStartOfBlock(),m=h.checkEndOfBlock(),n=a.elementPath(h.startContainer),o=n.block,p=f==CKEDITOR.ENTER_DIV?"div":"p",q;if(l&&m){if(o&&(o.is("li")||o.getParent().is("li"))){o.is("li")||(o=o.getParent());h=o.getParent();q=h.getParent();j=!o.hasPrevious();var r=!o.hasNext(),p=a.getSelection(),s=p.createBookmarks(),l=o.getDirection(1),m=o.getAttribute("class"),t=o.getAttribute("style"),u=q.getDirection(1)!=l;a=a.enterMode!=CKEDITOR.ENTER_BR||u||t||m;if(q.is("li"))j||r?(j&&r&&h.remove(),o[r?"insertAfter":"insertBefore"](q)):o.breakParent(q);else{if(a)if(n.block.is("li")?(q=k.createElement(f==CKEDITOR.ENTER_P?"p":"div"),u&&q.setAttribute("dir",l),t&&q.setAttribute("style",t),m&&q.setAttribute("class",m),o.moveChildren(q)):q=n.block,j||r)q[j?"insertBefore":"insertAfter"](h);else o.breakParent(h),q.insertAfter(h);else if(o.appendBogus(!0),j||r)for(;k=o[j?"getFirst":"getLast"]();)k[j?"insertBefore":"insertAfter"](h);else for(o.breakParent(h);k=o.getLast();)k.insertAfter(h);o.remove()}p.selectBookmarks(s);return}if(o&&o.getParent().is("blockquote")){o.breakParent(o.getParent());o.getPrevious().getFirst(CKEDITOR.dom.walker.invisible(1))||o.getPrevious().remove();o.getNext().getFirst(CKEDITOR.dom.walker.invisible(1))||o.getNext().remove();h.moveToElementEditStart(o);h.select();return}}else if(o&&o.is("pre")&&!m){g(a,f,h,j);return}if(l=h.splitBlock(p)){f=l.previousBlock;o=l.nextBlock;n=l.wasStartOfBlock;a=l.wasEndOfBlock;o?(s=o.getParent(),s.is("li")&&(o.breakParent(s),o.move(o.getNext(),1))):f&&(s=f.getParent())&&s.is("li")&&(f.breakParent(s),s=f.getNext(),h.moveToElementEditStart(s),f.move(f.getPrevious()));if(n||a){if(f){if(f.is("li")||!i.test(f.getName())&&!f.is("pre"))q=f.clone()}else o&&(q=o.clone());q?j&&!q.is("li")&&q.renameNode(p):s&&s.is("li")?q=s:(q=k.createElement(p),f&&(r=f.getDirection())&&q.setAttribute("dir",r));if(k=l.elementPath)for(j=0,p=k.elements.length;j<p;j++){s=k.elements[j];if(s.equals(k.block)||s.equals(k.blockLimit))break;CKEDITOR.dtd.$removeEmpty[s.getName()]&&(s=s.clone(),q.moveChildren(s),q.append(s))}q.appendBogus();q.getParent()||h.insertNode(q);q.is("li")&&q.removeAttribute("value");!CKEDITOR.env.ie||!n||a&&f.getChildCount()||(h.moveToElementEditStart(a?f:q),h.select());h.moveToElementEditStart(n&&!a?o:q)}else o.is("li")&&(q=h.clone(),q.selectNodeContents(o),q=new CKEDITOR.dom.walker(q),q.evaluator=function(a){return!(e(a)||d(a)||a.type==CKEDITOR.NODE_ELEMENT&&a.getName()in CKEDITOR.dtd.$inline&&!(a.getName()in CKEDITOR.dtd.$empty))},(s=q.next())&&s.type==CKEDITOR.NODE_ELEMENT&&s.is("ul","ol")&&(CKEDITOR.env.needsBrFiller?k.createElement("br"):k.createText("")).insertBefore(s)),o&&h.moveToElementEditStart(o);h.select();h.scrollIntoView()}}},enterBr:function(a,c,d,e){if(d=d||b(a)){var f=d.document,g=d.checkEndOfBlock(),j=new CKEDITOR.dom.elementPath(a.getSelection().getStartElement()),k=j.block,l=k&&j.block.getName();e||"li"!=l?(!e&&g&&i.test(l)?(g=k.getDirection())?(f=f.createElement("div"),f.setAttribute("dir",g),f.insertAfter(k),d.setStart(f,0)):(f.createElement("br").insertAfter(k),CKEDITOR.env.gecko&&f.createText("").insertAfter(k),d.setStartAt(k.getNext(),CKEDITOR.env.ie?CKEDITOR.POSITION_BEFORE_START:CKEDITOR.POSITION_AFTER_START)):(a="pre"==l&&CKEDITOR.env.ie&&8>CKEDITOR.env.version?f.createText("\r"):f.createElement("br"),d.deleteContents(),d.insertNode(a),CKEDITOR.env.needsBrFiller?(f.createText("\ufeff").insertAfter(a),g&&(k||j.blockLimit).appendBogus(),a.getNext().$.nodeValue="",d.setStartAt(a.getNext(),CKEDITOR.POSITION_AFTER_START)):d.setStartAt(a,CKEDITOR.POSITION_AFTER_END)),d.collapse(!0),d.select(),d.scrollIntoView()):h(a,c,d,e)}}};var f=CKEDITOR.plugins.enterkey,g=f.enterBr,h=f.enterBlock,i=/^h[1-6]$/})();(function(){function a(a,b){var c={},d=[],e={nbsp:"",shy:"",gt:">",lt:"<",amp:"&",apos:"'",quot:'"'};a=a.replace(/\b(nbsp|shy|gt|lt|amp|apos|quot)(?:,|$)/g,function(a,f){var g=b?"&"+f+";":e[f];c[g]=b?e[f]:"&"+f+";";d.push(g);return""});if(!b&&a){a=a.split(",");var f=document.createElement("div"),g;f.innerHTML="&"+a.join(";&")+";";g=f.innerHTML;f=null;for(f=0;f<g.length;f++){var h=g.charAt(f);c[h]="&"+a[f]+";";d.push(h)}}c.regex=d.join(b?"|":"");return c}CKEDITOR.plugins.add("entities",{afterInit:function(b){function c(a){return i[a]}function d(a){return"force"!=e.entities_processNumerical&&g[a]?g[a]:"&#"+a.charCodeAt(0)+";"}var e=b.config;if(b=(b=b.dataProcessor)&&b.htmlFilter){var f=[];!1!==e.basicEntities&&f.push("nbsp,gt,lt,amp");e.entities&&(f.length&&f.push("quot,iexcl,cent,pound,curren,yen,brvbar,sect,uml,copy,ordf,laquo,not,shy,reg,macr,deg,plusmn,sup2,sup3,acute,micro,para,middot,cedil,sup1,ordm,raquo,frac14,frac12,frac34,iquest,times,divide,fnof,bull,hellip,prime,Prime,oline,frasl,weierp,image,real,trade,alefsym,larr,uarr,rarr,darr,harr,crarr,lArr,uArr,rArr,dArr,hArr,forall,part,exist,empty,nabla,isin,notin,ni,prod,sum,minus,lowast,radic,prop,infin,ang,and,or,cap,cup,int,there4,sim,cong,asymp,ne,equiv,le,ge,sub,sup,nsub,sube,supe,oplus,otimes,perp,sdot,lceil,rceil,lfloor,rfloor,lang,rang,loz,spades,clubs,hearts,diams,circ,tilde,ensp,emsp,thinsp,zwnj,zwj,lrm,rlm,ndash,mdash,lsquo,rsquo,sbquo,ldquo,rdquo,bdquo,dagger,Dagger,permil,lsaquo,rsaquo,euro"),e.entities_latin&&f.push("Agrave,Aacute,Acirc,Atilde,Auml,Aring,AElig,Ccedil,Egrave,Eacute,Ecirc,Euml,Igrave,Iacute,Icirc,Iuml,ETH,Ntilde,Ograve,Oacute,Ocirc,Otilde,Ouml,Oslash,Ugrave,Uacute,Ucirc,Uuml,Yacute,THORN,szlig,agrave,aacute,acirc,atilde,auml,aring,aelig,ccedil,egrave,eacute,ecirc,euml,igrave,iacute,icirc,iuml,eth,ntilde,ograve,oacute,ocirc,otilde,ouml,oslash,ugrave,uacute,ucirc,uuml,yacute,thorn,yuml,OElig,oelig,Scaron,scaron,Yuml"),e.entities_greek&&f.push("Alpha,Beta,Gamma,Delta,Epsilon,Zeta,Eta,Theta,Iota,Kappa,Lambda,Mu,Nu,Xi,Omicron,Pi,Rho,Sigma,Tau,Upsilon,Phi,Chi,Psi,Omega,alpha,beta,gamma,delta,epsilon,zeta,eta,theta,iota,kappa,lambda,mu,nu,xi,omicron,pi,rho,sigmaf,sigma,tau,upsilon,phi,chi,psi,omega,thetasym,upsih,piv"),e.entities_additional&&f.push(e.entities_additional));var g=a(f.join(",")),h=g.regex?"["+g.regex+"]":"a^";delete g.regex;e.entities&&e.entities_processNumerical&&(h="[^ -~]|"+h);var h=new RegExp(h,"g"),i=a("nbsp,gt,lt,amp,shy",!0),j=new RegExp(i.regex,"g");b.addRules({text:function(a){return a.replace(j,c).replace(h,d)}},{applyToAll:!0,excludeNestedEditable:!0})}}})})();CKEDITOR.config.basicEntities=!0;CKEDITOR.config.entities=!0;CKEDITOR.config.entities_latin=!0;CKEDITOR.config.entities_greek=!0;CKEDITOR.config.entities_additional="#39";CKEDITOR.plugins.add("popup");CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{popup:function(a,b,c,d){b=b||"80%";c=c||"70%";"string"==typeof b&&1<b.length&&"%"==b.substr(b.length-1,1)&&(b=parseInt(window.screen.width*parseInt(b,10)/100,10));"string"==typeof c&&1<c.length&&"%"==c.substr(c.length-1,1)&&(c=parseInt(window.screen.height*parseInt(c,10)/100,10));640>b&&(b=640);420>c&&(c=420);var e=parseInt((window.screen.height-c)/2,10),f=parseInt((window.screen.width-b)/2,10);d=(d||"location=no,menubar=no,toolbar=no,dependent=yes,minimizable=no,modal=yes,alwaysRaised=yes,resizable=yes,scrollbars=yes")+",width="+b+",height="+c+",top="+e+",left="+f;var g=window.open("",null,d,!0);if(!g)return!1;try{-1==navigator.userAgent.toLowerCase().indexOf(" chrome/")&&(g.moveTo(f,e),g.resizeTo(b,c)),g.focus(),g.location.href=a}catch(h){window.open(a,null,d,!0)}return!0}});(function(){function a(a,b){var c=[];if(b)for(var d in b)c.push(d+"="+encodeURIComponent(b[d]));else return a;return a+(-1!=a.indexOf("?")?"&":"?")+c.join("&")}function b(a){a+="";return a.charAt(0).toUpperCase()+a.substr(1)}function c(){var c=this.getDialog(),d=c.getParentEditor();d._.filebrowserSe=this;var e=d.config["filebrowser"+b(c.getName())+"WindowWidth"]||d.config.filebrowserWindowWidth||"80%",c=d.config["filebrowser"+b(c.getName())+"WindowHeight"]||d.config.filebrowserWindowHeight||"70%",f=this.filebrowser.params||{};f.CKEditor=d.name;f.CKEditorFuncNum=d._.filebrowserFn;f.langCode||(f.langCode=d.langCode);f=a(this.filebrowser.url,f);d.popup(f,e,c,d.config.filebrowserWindowFeatures||d.config.fileBrowserWindowFeatures)}function d(){var a=this.getDialog();a.getParentEditor()._.filebrowserSe=this;return a.getContentElement(this["for"][0],this["for"][1]).getInputElement().$.value&&a.getContentElement(this["for"][0],this["for"][1]).getAction()?!0:!1}function e(b,c,d){var e=d.params||{};e.CKEditor=b.name;e.CKEditorFuncNum=b._.filebrowserFn;e.langCode||(e.langCode=b.langCode);c.action=a(d.url,e);c.filebrowser=d}function f(a,g,h,i){if(i&&i.length)for(var j,k=i.length;k--;)if(j=i[k],"hbox"!=j.type&&"vbox"!=j.type&&"fieldset"!=j.type||f(a,g,h,j.children),j.filebrowser)if("string"==typeof j.filebrowser&&(j.filebrowser={action:"fileButton"==j.type?"QuickUpload":"Browse",target:j.filebrowser}),"Browse"==j.filebrowser.action){var l=j.filebrowser.url;void 0===l&&(l=a.config["filebrowser"+b(g)+"BrowseUrl"],void 0===l&&(l=a.config.filebrowserBrowseUrl));l&&(j.onClick=c,j.filebrowser.url=l,j.hidden=!1)}else if("QuickUpload"==j.filebrowser.action&&j["for"]&&(l=j.filebrowser.url,void 0===l&&(l=a.config["filebrowser"+b(g)+"UploadUrl"],void 0===l&&(l=a.config.filebrowserUploadUrl)),l)){var m=j.onClick;j.onClick=function(a){var b=a.sender;if(m&&!1===m.call(b,a))return!1;if(d.call(b,a)){a=b.getDialog().getContentElement(this["for"][0],this["for"][1]).getInputElement();if(b=new CKEDITOR.dom.element(a.$.form))(a=b.$.elements.ckCsrfToken)?a=new CKEDITOR.dom.element(a):(a=new CKEDITOR.dom.element("input"),a.setAttributes({name:"ckCsrfToken",type:"hidden"}),b.append(a)),a.setAttribute("value",CKEDITOR.tools.getCsrfToken());return!0}return!1};j.filebrowser.url=l;j.hidden=!1;e(a,h.getContents(j["for"][0]).get(j["for"][1]),j.filebrowser)}}function g(a,b,c){if(-1!==c.indexOf(";")){c=c.split(";");for(var d=0;d<c.length;d++)if(g(a,b,c[d]))return!0;return!1}return(a=a.getContents(b).get(c).filebrowser)&&a.url}function h(a,b){var c=this._.filebrowserSe.getDialog(),d=this._.filebrowserSe["for"],e=this._.filebrowserSe.filebrowser.onSelect;d&&c.getContentElement(d[0],d[1]).reset();if("function"!=typeof b||!1!==b.call(this._.filebrowserSe))if(!e||!1!==e.call(this._.filebrowserSe,a,b))if("string"==typeof b&&b&&alert(b),a&&(d=this._.filebrowserSe,c=d.getDialog(),d=d.filebrowser.target||null))if(d=d.split(":"),e=c.getContentElement(d[0],d[1]))e.setValue(a),c.selectPage(d[0])}CKEDITOR.plugins.add("filebrowser",{requires:"popup",init:function(a){a._.filebrowserFn=CKEDITOR.tools.addFunction(h,a);a.on("destroy",function(){CKEDITOR.tools.removeFunction(this._.filebrowserFn)})}});CKEDITOR.on("dialogDefinition",function(a){if(a.editor.plugins.filebrowser)for(var b=a.data.definition,c,d=0;d<b.contents.length;++d)if(c=b.contents[d])f(a.editor,a.data.name,b,c.elements),c.hidden&&c.filebrowser&&(c.hidden=!g(b,c.id,c.filebrowser))})})();CKEDITOR.plugins.add("find",{requires:"dialog",init:function(a){var b=a.addCommand("find",new CKEDITOR.dialogCommand("find"));b.canUndo=!1;b.readOnly=1;a.addCommand("replace",new CKEDITOR.dialogCommand("replace")).canUndo=!1;a.ui.addButton&&(a.ui.addButton("Find",{label:a.lang.find.find,command:"find",toolbar:"find,10"}),a.ui.addButton("Replace",{label:a.lang.find.replace,command:"replace",toolbar:"find,20"}));CKEDITOR.dialog.add("find",this.path+"dialogs/find.js");CKEDITOR.dialog.add("replace",this.path+"dialogs/find.js")}});CKEDITOR.config.find_highlight={element:"span",styles:{"background-color":"#004",color:"#fff"}};(function(){function a(a,b){var c=d.exec(a),e=d.exec(b);if(c){if(!c[2]&&"px"==e[2])return e[1];if("px"==c[2]&&!e[2])return e[1]+"px"}return b}var b=CKEDITOR.htmlParser.cssStyle,c=CKEDITOR.tools.cssLength,d=/^((?:\d*(?:\.\d+))|(?:\d+))(.*)?$/i,e={elements:{$:function(c){var d=c.attributes;if((d=(d=(d=d&&d["data-cke-realelement"])&&new CKEDITOR.htmlParser.fragment.fromHtml(decodeURIComponent(d)))&&d.children[0])&&c.attributes["data-cke-resizable"]){var e=new b(c).rules;c=d.attributes;var f=e.width,e=e.height;f&&(c.width=a(c.width,f));e&&(c.height=a(c.height,e))}return d}}};CKEDITOR.plugins.add("fakeobjects",{init:function(a){a.filter.allow("img[!data-cke-realelement,src,alt,title](*){*}","fakeobjects")},afterInit:function(a){(a=(a=a.dataProcessor)&&a.htmlFilter)&&a.addRules(e,{applyToAll:!0})}});CKEDITOR.editor.prototype.createFakeElement=function(a,d,e,f){var g=this.lang.fakeobjects,g=g[e]||g.unknown;d={"class":d,"data-cke-realelement":encodeURIComponent(a.getOuterHtml()),"data-cke-real-node-type":a.type,alt:g,title:g,align:a.getAttribute("align")||""};CKEDITOR.env.hc||(d.src=CKEDITOR.tools.transparentImageData);e&&(d["data-cke-real-element-type"]=e);f&&(d["data-cke-resizable"]=f,e=new b,f=a.getAttribute("width"),a=a.getAttribute("height"),f&&(e.rules.width=c(f)),a&&(e.rules.height=c(a)),e.populate(d));return this.document.createElement("img",{attributes:d})};CKEDITOR.editor.prototype.createFakeParserElement=function(a,d,e,f){var g=this.lang.fakeobjects,g=g[e]||g.unknown,h;h=new CKEDITOR.htmlParser.basicWriter;a.writeHtml(h);h=h.getHtml();d={"class":d,"data-cke-realelement":encodeURIComponent(h),"data-cke-real-node-type":a.type,alt:g,title:g,align:a.attributes.align||""};CKEDITOR.env.hc||(d.src=CKEDITOR.tools.transparentImageData);e&&(d["data-cke-real-element-type"]=e);f&&(d["data-cke-resizable"]=f,f=a.attributes,a=new b,e=f.width,f=f.height,void 0!==e&&(a.rules.width=c(e)),void 0!==f&&(a.rules.height=c(f)),a.populate(d));return new CKEDITOR.htmlParser.element("img",d)};CKEDITOR.editor.prototype.restoreRealElement=function(b){if(b.data("cke-real-node-type")!=CKEDITOR.NODE_ELEMENT)return null;var c=CKEDITOR.dom.element.createFromHtml(decodeURIComponent(b.data("cke-realelement")),this.document);if(b.data("cke-resizable")){var d=b.getStyle("width");b=b.getStyle("height");d&&c.setAttribute("width",a(c.getAttribute("width"),d));b&&c.setAttribute("height",a(c.getAttribute("height"),b))}return c}})();(function(){function a(a){a=a.attributes;return"application/x-shockwave-flash"==a.type||c.test(a.src||"")}function b(a,b){return a.createFakeParserElement(b,"cke_flash","flash",!0)}var c=/\.swf(?:$|\?)/i;CKEDITOR.plugins.add("flash",{requires:"dialog,fakeobjects",onLoad:function(){CKEDITOR.addCss("img.cke_flash{background-image: url("+CKEDITOR.getUrl(this.path+"images/placeholder.png")+");background-position: center center;background-repeat: no-repeat;border: 1px solid #a9a9a9;width: 80px;height: 80px;}")},init:function(a){var b="object[classid,codebase,height,hspace,vspace,width];param[name,value];embed[height,hspace,pluginspage,src,type,vspace,width]";CKEDITOR.dialog.isTabEnabled(a,"flash","properties")&&(b+=";object[align]; embed[allowscriptaccess,quality,scale,wmode]");CKEDITOR.dialog.isTabEnabled(a,"flash","advanced")&&(b+=";object[id]{*}; embed[bgcolor]{*}(*)");a.addCommand("flash",new CKEDITOR.dialogCommand("flash",{allowedContent:b,requiredContent:"embed"}));a.ui.addButton&&a.ui.addButton("Flash",{label:a.lang.common.flash,command:"flash",toolbar:"insert,20"});CKEDITOR.dialog.add("flash",this.path+"dialogs/flash.js");a.addMenuItems&&a.addMenuItems({flash:{label:a.lang.flash.properties,command:"flash",group:"flash"}});a.on("doubleclick",function(a){var b=a.data.element;b.is("img")&&"flash"==b.data("cke-real-element-type")&&(a.data.dialog="flash")});a.contextMenu&&a.contextMenu.addListener(function(a){if(a&&a.is("img")&&!a.isReadOnly()&&"flash"==a.data("cke-real-element-type"))return{flash:CKEDITOR.TRISTATE_OFF}})},afterInit:function(c){var d=c.dataProcessor;(d=d&&d.dataFilter)&&d.addRules({elements:{"cke:object":function(d){var e=d.attributes;if(!(e.classid&&String(e.classid).toLowerCase()||a(d))){for(e=0;e<d.children.length;e++)if("cke:embed"==d.children[e].name){if(!a(d.children[e]))break;return b(c,d)}return null}return b(c,d)},"cke:embed":function(d){return a(d)?b(c,d):null}}},5)}})})();CKEDITOR.tools.extend(CKEDITOR.config,{flashEmbedTagOnly:!1,flashAddEmbedTag:!0,flashConvertOnEdit:!1});(function(){function a(a){var d=a.config,e=a.fire("uiSpace",{space:"top",html:""}).html,f=function(){function e(a,b,d){h.setStyle(b,c(d));h.setStyle("position",a)}function g(a){var b=j.getDocumentPosition();switch(a){case"top":e("absolute","top",b.y-n-q);break;case"pin":e("fixed","top",s);break;case"bottom":e("absolute","top",b.y+(l.height||l.bottom-l.top)+q)}i=a}var i,j,k,l,m,n,o,p=d.floatSpaceDockedOffsetX||0,q=d.floatSpaceDockedOffsetY||0,r=d.floatSpacePinnedOffsetX||0,s=d.floatSpacePinnedOffsetY||0;return function(e){if(j=a.editable()){var s=e&&"focus"==e.name;s&&h.show();a.fire("floatingSpaceLayout",{show:s});h.removeStyle("left");h.removeStyle("right");k=h.getClientRect();l=j.getClientRect();m=b.getViewPaneSize();n=k.height;o="pageXOffset"in b.$?b.$.pageXOffset:CKEDITOR.document.$.documentElement.scrollLeft;i?(n+q<=l.top?g("top"):n+q>m.height-l.bottom?g("pin"):g("bottom"),e=m.width/2,e=d.floatSpacePreferRight?"right":0<l.left&&l.right<m.width&&l.width>k.width?"rtl"==d.contentsLangDirection?"right":"left":e-l.left>l.right-e?"left":"right",k.width>m.width?(e="left",s=0):(s="left"==e?0<l.left?l.left:0:l.right<m.width?m.width-l.right:0,s+k.width>m.width&&(e="left"==e?"right":"left",s=0)),h.setStyle(e,c(("pin"==i?r:p)+s+("pin"==i?0:"left"==e?o:-o)))):(i="pin",g("pin"),f(e))}}}();if(e){var g=new CKEDITOR.template('<div id="cke_{name}" class="cke {id} cke_reset_all cke_chrome cke_editor_{name} cke_float cke_{langDir} '+CKEDITOR.env.cssClass+'" dir="{langDir}" title="'+(CKEDITOR.env.gecko?" ":"")+'" lang="{langCode}" role="application" style="{style}"'+(a.title?' aria-labelledby="cke_{name}_arialbl"':" ")+">"+(a.title?'<span id="cke_{name}_arialbl" class="cke_voice_label">{voiceLabel}</span>':" ")+'<div class="cke_inner"><div id="{topId}" class="cke_top" role="presentation">{content}</div></div></div>'),h=CKEDITOR.document.getBody().append(CKEDITOR.dom.element.createFromHtml(g.output({content:e,id:a.id,langDir:a.lang.dir,langCode:a.langCode,name:a.name,style:"display:none;z-index:"+(d.baseFloatZIndex-1),topId:a.ui.spaceId("top"),voiceLabel:a.title}))),i=CKEDITOR.tools.eventsBuffer(500,f),j=CKEDITOR.tools.eventsBuffer(100,f);h.unselectable();h.on("mousedown",function(a){a=a.data;a.getTarget().hasAscendant("a",1)||a.preventDefault()});a.on("focus",function(c){f(c);a.on("change",i.input);b.on("scroll",j.input);b.on("resize",j.input)});a.on("blur",function(){h.hide();a.removeListener("change",i.input);b.removeListener("scroll",j.input);
b.removeListener("resize",j.input)});a.on("destroy",function(){b.removeListener("scroll",j.input);b.removeListener("resize",j.input);h.clearCustomData();h.remove()});a.focusManager.hasFocus&&h.show();a.focusManager.add(h,1)}}var b=CKEDITOR.document.getWindow(),c=CKEDITOR.tools.cssLength;CKEDITOR.plugins.add("floatingspace",{init:function(b){b.on("loaded",function(){a(this)},null,null,20)}})})();CKEDITOR.plugins.add("listblock",{requires:"panel",onLoad:function(){var a=CKEDITOR.addTemplate("panel-list",'<ul role="presentation" class="cke_panel_list">{items}</ul>'),b=CKEDITOR.addTemplate("panel-list-item",'<li id="{id}" class="cke_panel_listItem" role=presentation><a id="{id}_option" _cke_focus=1 hidefocus=true title="{title}" href="javascript:void(\'{val}\')"  {onclick}="CKEDITOR.tools.callFunction({clickFn},\'{val}\'); return false;" role="option">{text}</a></li>'),c=CKEDITOR.addTemplate("panel-list-group",'<h1 id="{id}" class="cke_panel_grouptitle" role="presentation" >{label}</h1>'),d=/\'/g;CKEDITOR.ui.panel.prototype.addListBlock=function(a,b){return this.addBlock(a,new CKEDITOR.ui.listBlock(this.getHolderElement(),b))};CKEDITOR.ui.listBlock=CKEDITOR.tools.createClass({base:CKEDITOR.ui.panel.block,$:function(a,b){b=b||{};var c=b.attributes||(b.attributes={});(this.multiSelect=!!b.multiSelect)&&(c["aria-multiselectable"]=!0);!c.role&&(c.role="listbox");this.base.apply(this,arguments);this.element.setAttribute("role",c.role);c=this.keys;c[40]="next";c[9]="next";c[38]="prev";c[CKEDITOR.SHIFT+9]="prev";c[32]=CKEDITOR.env.ie?"mouseup":"click";CKEDITOR.env.ie&&(c[13]="mouseup");this._.pendingHtml=[];this._.pendingList=[];this._.items={};this._.groups={}},_:{close:function(){if(this._.started){var b=a.output({items:this._.pendingList.join("")});this._.pendingList=[];this._.pendingHtml.push(b);delete this._.started}},getClick:function(){this._.click||(this._.click=CKEDITOR.tools.addFunction(function(a){var b=this.toggle(a);if(this.onClick)this.onClick(a,b)},this));return this._.click}},proto:{add:function(a,c,e){var f=CKEDITOR.tools.getNextId();this._.started||(this._.started=1,this._.size=this._.size||0);this._.items[a]=f;var g;g=CKEDITOR.tools.htmlEncodeAttr(a).replace(d,"\\'");a={id:f,val:g,onclick:CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick",clickFn:this._.getClick(),title:CKEDITOR.tools.htmlEncodeAttr(e||a),text:c||a};this._.pendingList.push(b.output(a))},startGroup:function(a){this._.close();var b=CKEDITOR.tools.getNextId();this._.groups[a]=b;this._.pendingHtml.push(c.output({id:b,label:a}))},commit:function(){this._.close();this.element.appendHtml(this._.pendingHtml.join(""));delete this._.size;this._.pendingHtml=[]},toggle:function(a){var b=this.isMarked(a);b?this.unmark(a):this.mark(a);return!b},hideGroup:function(a){var b=(a=this.element.getDocument().getById(this._.groups[a]))&&a.getNext();a&&(a.setStyle("display","none"),b&&"ul"==b.getName()&&b.setStyle("display","none"))},hideItem:function(a){this.element.getDocument().getById(this._.items[a]).setStyle("display","none")},showAll:function(){var a=this._.items,b=this._.groups,c=this.element.getDocument(),d;for(d in a)c.getById(a[d]).setStyle("display","");for(var e in b)a=c.getById(b[e]),d=a.getNext(),a.setStyle("display",""),d&&"ul"==d.getName()&&d.setStyle("display","")},mark:function(a){this.multiSelect||this.unmarkAll();a=this._.items[a];var b=this.element.getDocument().getById(a);b.addClass("cke_selected");this.element.getDocument().getById(a+"_option").setAttribute("aria-selected",!0);this.onMark&&this.onMark(b)},unmark:function(a){var b=this.element.getDocument();a=this._.items[a];var c=b.getById(a);c.removeClass("cke_selected");b.getById(a+"_option").removeAttribute("aria-selected");this.onUnmark&&this.onUnmark(c)},unmarkAll:function(){var a=this._.items,b=this.element.getDocument(),c;for(c in a){var d=a[c];b.getById(d).removeClass("cke_selected");b.getById(d+"_option").removeAttribute("aria-selected")}this.onUnmark&&this.onUnmark()},isMarked:function(a){return this.element.getDocument().getById(this._.items[a]).hasClass("cke_selected")},focus:function(a){this._.focusIndex=-1;var b=this.element.getElementsByTag("a"),c,d=-1;if(a)for(c=this.element.getDocument().getById(this._.items[a]).getFirst();a=b.getItem(++d);){if(a.equals(c)){this._.focusIndex=d;break}}else this.element.focus();c&&setTimeout(function(){c.focus()},0)}}})}});CKEDITOR.plugins.add("richcombo",{requires:"floatpanel,listblock,button",beforeInit:function(a){a.ui.addHandler(CKEDITOR.UI_RICHCOMBO,CKEDITOR.ui.richCombo.handler)}});(function(){var a='<span id="{id}" class="cke_combo cke_combo__{name} {cls}" role="presentation"><span id="{id}_label" class="cke_combo_label">{label}</span><a class="cke_combo_button" title="{title}" tabindex="-1"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?"":" href=\"javascript:void('{titleJs}')\"")+' hidefocus="true" role="button" aria-labelledby="{id}_label" aria-haspopup="true"';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(a+=' onkeypress="return false;"');CKEDITOR.env.gecko&&(a+=' onblur="this.style.cssText = this.style.cssText;"');var a=a+(' onkeydown="return CKEDITOR.tools.callFunction({keydownFn},event,this);" onfocus="return CKEDITOR.tools.callFunction({focusFn},event);" '+(CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick")+'="CKEDITOR.tools.callFunction({clickFn},this);return false;"><span id="{id}_text" class="cke_combo_text cke_combo_inlinelabel">{label}</span><span class="cke_combo_open"><span class="cke_combo_arrow">'+(CKEDITOR.env.hc?"&#9660;":CKEDITOR.env.air?"&nbsp;":"")+"</span></span></a></span>"),b=CKEDITOR.addTemplate("combo",a);CKEDITOR.UI_RICHCOMBO="richcombo";CKEDITOR.ui.richCombo=CKEDITOR.tools.createClass({$:function(a){CKEDITOR.tools.extend(this,a,{canGroup:!1,title:a.label,modes:{wysiwyg:1},editorFocus:1});a=this.panel||{};delete this.panel;this.id=CKEDITOR.tools.getNextNumber();this.document=a.parent&&a.parent.getDocument()||CKEDITOR.document;a.className="cke_combopanel";a.block={multiSelect:a.multiSelect,attributes:a.attributes};a.toolbarRelated=!0;this._={panelDefinition:a,items:{}}},proto:{renderHtml:function(a){var b=[];this.render(a,b);return b.join("")},render:function(a,c){function d(){if(this.getState()!=CKEDITOR.TRISTATE_ON){var b=this.modes[a.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED;a.readOnly&&!this.readOnly&&(b=CKEDITOR.TRISTATE_DISABLED);this.setState(b);this.setValue("");b!=CKEDITOR.TRISTATE_DISABLED&&this.refresh&&this.refresh()}}var e=CKEDITOR.env,f="cke_"+this.id,g=CKEDITOR.tools.addFunction(function(b){l&&(a.unlockSelection(1),l=0);i.execute(b)},this),h=this,i={id:f,combo:this,focus:function(){CKEDITOR.document.getById(f).getChild(1).focus()},execute:function(b){var c=h._;if(c.state!=CKEDITOR.TRISTATE_DISABLED)if(h.createPanel(a),c.on)c.panel.hide();else{h.commit();var d=h.getValue();d?c.list.mark(d):c.list.unmarkAll();c.panel.showBlock(h.id,new CKEDITOR.dom.element(b),4)}},clickFn:g};a.on("activeFilterChange",d,this);a.on("mode",d,this);a.on("selectionChange",d,this);!this.readOnly&&a.on("readOnly",d,this);var j=CKEDITOR.tools.addFunction(function(b,c){b=new CKEDITOR.dom.event(b);var d=b.getKeystroke();if(40==d)a.once("panelShow",function(a){a.data._.panel._.currentBlock.onKeyDown(40)});switch(d){case 13:case 32:case 40:CKEDITOR.tools.callFunction(g,c);break;default:i.onkey(i,d)}b.preventDefault()}),k=CKEDITOR.tools.addFunction(function(){i.onfocus&&i.onfocus()}),l=0;i.keyDownFn=j;e={id:f,name:this.name||this.command,label:this.label,title:this.title,cls:this.className||"",titleJs:e.gecko&&!e.hc?"":(this.title||"").replace("'",""),keydownFn:j,focusFn:k,clickFn:g};b.output(e,c);if(this.onRender)this.onRender();return i},createPanel:function(a){if(!this._.panel){var b=this._.panelDefinition,c=this._.panelDefinition.block,d=b.parent||CKEDITOR.document.getBody(),e="cke_combopanel__"+this.name,f=new CKEDITOR.ui.floatPanel(a,d,b),g=f.addListBlock(this.id,c),h=this;f.onShow=function(){this.element.addClass(e);h.setState(CKEDITOR.TRISTATE_ON);h._.on=1;h.editorFocus&&!a.focusManager.hasFocus&&a.focus();if(h.onOpen)h.onOpen();a.once("panelShow",function(){g.focus(!g.multiSelect&&h.getValue())})};f.onHide=function(b){this.element.removeClass(e);h.setState(h.modes&&h.modes[a.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED);h._.on=0;if(!b&&h.onClose)h.onClose()};f.onEscape=function(){f.hide(1)};g.onClick=function(a,b){h.onClick&&h.onClick.call(h,a,b);f.hide()};this._.panel=f;this._.list=g;f.getBlock(this.id).onHide=function(){h._.on=0;h.setState(CKEDITOR.TRISTATE_OFF)};this.init&&this.init()}},setValue:function(a,b){this._.value=a;var c=this.document.getById("cke_"+this.id+"_text");c&&(a||b?c.removeClass("cke_combo_inlinelabel"):(b=this.label,c.addClass("cke_combo_inlinelabel")),c.setText("undefined"!=typeof b?b:a))},getValue:function(){return this._.value||""},unmarkAll:function(){this._.list.unmarkAll()},mark:function(a){this._.list.mark(a)},hideItem:function(a){this._.list.hideItem(a)},hideGroup:function(a){this._.list.hideGroup(a)},showAll:function(){this._.list.showAll()},add:function(a,b,c){this._.items[a]=c||a;this._.list.add(a,b,c)},startGroup:function(a){this._.list.startGroup(a)},commit:function(){this._.committed||(this._.list.commit(),this._.committed=1,CKEDITOR.ui.fire("ready",this));this._.committed=1},setState:function(a){if(this._.state!=a){var b=this.document.getById("cke_"+this.id);b.setState(a,"cke_combo");a==CKEDITOR.TRISTATE_DISABLED?b.setAttribute("aria-disabled",!0):b.removeAttribute("aria-disabled");this._.state=a}},getState:function(){return this._.state},enable:function(){this._.state==CKEDITOR.TRISTATE_DISABLED&&this.setState(this._.lastState)},disable:function(){this._.state!=CKEDITOR.TRISTATE_DISABLED&&(this._.lastState=this._.state,this.setState(CKEDITOR.TRISTATE_DISABLED))}},statics:{handler:{create:function(a){return new CKEDITOR.ui.richCombo(a)}}}});CKEDITOR.ui.prototype.addRichCombo=function(a,b){this.add(a,CKEDITOR.UI_RICHCOMBO,b)}})();(function(){function a(a,c,d,e,f,g,h,i){var j=a.config,k=new CKEDITOR.style(h),l=f.split(";");f=[];for(var m={},n=0;n<l.length;n++){var o=l[n];if(o){var o=o.split("/"),p={},q=l[n]=o[0];p[d]=f[n]=o[1]||q;m[q]=new CKEDITOR.style(h,p);m[q]._.definition.name=q}else l.splice(n--,1)}a.ui.addRichCombo(c,{label:e.label,title:e.panelTitle,toolbar:"styles,"+i,allowedContent:k,requiredContent:k,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(j.contentsCss),multiSelect:!1,attributes:{"aria-label":e.panelTitle}},init:function(){this.startGroup(e.panelTitle);for(var a=0;a<l.length;a++){var b=l[a];this.add(b,m[b].buildPreview(),b)}},onClick:function(c){a.focus();a.fire("saveSnapshot");var d=this.getValue(),e=m[c];if(d&&c!=d){var f=m[d],g=a.getSelection().getRanges()[0];if(g.collapsed){var h=a.elementPath(),i=h.contains(function(a){return f.checkElementRemovable(a)});if(i){var j=g.checkBoundaryOfElement(i,CKEDITOR.START),k=g.checkBoundaryOfElement(i,CKEDITOR.END);if(j&&k){for(j=g.createBookmark();h=i.getFirst();)h.insertBefore(i);i.remove();g.moveToBookmark(j)}else j?g.moveToPosition(i,CKEDITOR.POSITION_BEFORE_START):k?g.moveToPosition(i,CKEDITOR.POSITION_AFTER_END):(g.splitElement(i),g.moveToPosition(i,CKEDITOR.POSITION_AFTER_END),b(g,h.elements.slice(),i));a.getSelection().selectRanges([g])}}else a.removeStyle(f)}a[d==c?"removeStyle":"applyStyle"](e);a.fire("saveSnapshot")},onRender:function(){a.on("selectionChange",function(b){var c=this.getValue();b=b.data.path.elements;for(var d=0,e;d<b.length;d++){e=b[d];for(var f in m)if(m[f].checkElementMatch(e,!0,a)){f!=c&&this.setValue(f);return}}this.setValue("",g)},this)},refresh:function(){a.activeFilter.check(k)||this.setState(CKEDITOR.TRISTATE_DISABLED)}})}function b(a,c,d){var e=c.pop();if(e){if(d)return b(a,c,e.equals(d)?null:d);d=e.clone();a.insertNode(d);a.moveToPosition(d,CKEDITOR.POSITION_AFTER_START);b(a,c)}}CKEDITOR.plugins.add("font",{requires:"richcombo",init:function(b){var c=b.config;a(b,"Font","family",b.lang.font,c.font_names,c.font_defaultLabel,c.font_style,30);a(b,"FontSize","size",b.lang.font.fontSize,c.fontSize_sizes,c.fontSize_defaultLabel,c.fontSize_style,40)}})})();CKEDITOR.config.font_names="Arial/Arial, Helvetica, sans-serif;Comic Sans MS/Comic Sans MS, cursive;Courier New/Courier New, Courier, monospace;Georgia/Georgia, serif;Lucida Sans Unicode/Lucida Sans Unicode, Lucida Grande, sans-serif;Tahoma/Tahoma, Geneva, sans-serif;Times New Roman/Times New Roman, Times, serif;Trebuchet MS/Trebuchet MS, Helvetica, sans-serif;Verdana/Verdana, Geneva, sans-serif";CKEDITOR.config.font_defaultLabel="";CKEDITOR.config.font_style={element:"span",styles:{"font-family":"#(family)"},overrides:[{element:"font",attributes:{face:null}}]};CKEDITOR.config.fontSize_sizes="8/8px;9/9px;10/10px;11/11px;12/12px;14/14px;16/16px;18/18px;20/20px;22/22px;24/24px;26/26px;28/28px;36/36px;48/48px;72/72px";CKEDITOR.config.fontSize_defaultLabel="";CKEDITOR.config.fontSize_style={element:"span",styles:{"font-size":"#(size)"},overrides:[{element:"font",attributes:{size:null}}]};CKEDITOR.plugins.add("forms",{requires:"dialog,fakeobjects",onLoad:function(){CKEDITOR.addCss(".cke_editable form{border: 1px dotted #FF0000;padding: 2px;}\n");CKEDITOR.addCss("img.cke_hidden{background-image: url("+CKEDITOR.getUrl(this.path+"images/hiddenfield.gif")+");background-position: center center;background-repeat: no-repeat;border: 1px solid #a9a9a9;width: 16px !important;height: 16px !important;}")},init:function(a){var b=a.lang,c=0,d={email:1,password:1,search:1,tel:1,text:1,url:1},e={checkbox:"input[type,name,checked,required]",radio:"input[type,name,checked,required]",textfield:"input[type,name,value,size,maxlength,required]",textarea:"textarea[cols,rows,name,required]",select:"select[name,size,multiple,required]; option[value,selected]",button:"input[type,name,value]",form:"form[action,name,id,enctype,target,method]",hiddenfield:"input[type,name,value]",imagebutton:"input[type,alt,src]{width,height,border,border-width,border-style,margin,float}"},f={checkbox:"input",radio:"input",textfield:"input",textarea:"textarea",select:"select",button:"input",form:"form",hiddenfield:"input",imagebutton:"input"},g=function(d,g,h){var i={allowedContent:e[g],requiredContent:f[g]};"form"==g&&(i.context="form");a.addCommand(g,new CKEDITOR.dialogCommand(g,i));a.ui.addButton&&a.ui.addButton(d,{label:b.common[d.charAt(0).toLowerCase()+d.slice(1)],command:g,toolbar:"forms,"+(c+=10)});CKEDITOR.dialog.add(g,h)},h=this.path+"dialogs/";!a.blockless&&g("Form","form",h+"form.js");g("Checkbox","checkbox",h+"checkbox.js");g("Radio","radio",h+"radio.js");g("TextField","textfield",h+"textfield.js");g("Textarea","textarea",h+"textarea.js");g("Select","select",h+"select.js");g("Button","button",h+"button.js");var i=a.plugins.image;i&&!a.plugins.image2&&g("ImageButton","imagebutton",CKEDITOR.plugins.getPath("image")+"dialogs/image.js");g("HiddenField","hiddenfield",h+"hiddenfield.js");a.addMenuItems&&(g={checkbox:{label:b.forms.checkboxAndRadio.checkboxTitle,command:"checkbox",group:"checkbox"},radio:{label:b.forms.checkboxAndRadio.radioTitle,command:"radio",group:"radio"},textfield:{label:b.forms.textfield.title,command:"textfield",group:"textfield"},hiddenfield:{label:b.forms.hidden.title,command:"hiddenfield",group:"hiddenfield"},button:{label:b.forms.button.title,command:"button",group:"button"},select:{label:b.forms.select.title,command:"select",group:"select"},textarea:{label:b.forms.textarea.title,command:"textarea",group:"textarea"}},i&&(g.imagebutton={label:b.image.titleButton,command:"imagebutton",group:"imagebutton"}),!a.blockless&&(g.form={label:b.forms.form.menu,command:"form",group:"form"}),a.addMenuItems(g));a.contextMenu&&(!a.blockless&&a.contextMenu.addListener(function(a,b,c){if((a=c.contains("form",1))&&!a.isReadOnly())return{form:CKEDITOR.TRISTATE_OFF}}),a.contextMenu.addListener(function(a){if(a&&!a.isReadOnly()){var b=a.getName();if("select"==b)return{select:CKEDITOR.TRISTATE_OFF};if("textarea"==b)return{textarea:CKEDITOR.TRISTATE_OFF};if("input"==b){var c=a.getAttribute("type")||"text";switch(c){case"button":case"submit":case"reset":return{button:CKEDITOR.TRISTATE_OFF};case"checkbox":return{checkbox:CKEDITOR.TRISTATE_OFF};case"radio":return{radio:CKEDITOR.TRISTATE_OFF};case"image":return i?{imagebutton:CKEDITOR.TRISTATE_OFF}:null}if(d[c])return{textfield:CKEDITOR.TRISTATE_OFF}}if("img"==b&&"hiddenfield"==a.data("cke-real-element-type"))return{hiddenfield:CKEDITOR.TRISTATE_OFF}}}));a.on("doubleclick",function(b){var c=b.data.element;if(!a.blockless&&c.is("form"))b.data.dialog="form";else if(c.is("select"))b.data.dialog="select";else if(c.is("textarea"))b.data.dialog="textarea";else if(c.is("img")&&"hiddenfield"==c.data("cke-real-element-type"))b.data.dialog="hiddenfield";else if(c.is("input")){c=c.getAttribute("type")||"text";switch(c){case"button":case"submit":case"reset":b.data.dialog="button";break;case"checkbox":b.data.dialog="checkbox";break;case"radio":b.data.dialog="radio";break;case"image":b.data.dialog="imagebutton"}d[c]&&(b.data.dialog="textfield")}})},afterInit:function(a){var b=a.dataProcessor,c=b&&b.htmlFilter,b=b&&b.dataFilter;CKEDITOR.env.ie&&c&&c.addRules({elements:{input:function(a){a=a.attributes;var b=a.type;b||(a.type="text");"checkbox"!=b&&"radio"!=b||"on"!=a.value||delete a.value}}},{applyToAll:!0});b&&b.addRules({elements:{input:function(b){if("hidden"==b.attributes.type)return a.createFakeParserElement(b,"cke_hidden","hiddenfield")}}},{applyToAll:!0})}});CKEDITOR.plugins.add("format",{requires:"richcombo",init:function(a){if(!a.blockless){for(var b=a.config,c=a.lang.format,d=b.format_tags.split(";"),e={},f=0,g=[],h=0;h<d.length;h++){var i=d[h],j=new CKEDITOR.style(b["format_"+i]);if(!a.filter.customConfig||a.filter.check(j))f++,e[i]=j,e[i]._.enterMode=a.config.enterMode,g.push(j)}0!==f&&a.ui.addRichCombo("Format",{label:c.label,title:c.panelTitle,toolbar:"styles,20",allowedContent:g,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(b.contentsCss),multiSelect:!1,attributes:{"aria-label":c.panelTitle}},init:function(){this.startGroup(c.panelTitle);for(var a in e){var b=c["tag_"+a];this.add(a,e[a].buildPreview(b),b)}},onClick:function(b){a.focus();a.fire("saveSnapshot");b=e[b];var c=a.elementPath();a[b.checkActive(c,a)?"removeStyle":"applyStyle"](b);setTimeout(function(){a.fire("saveSnapshot")},0)},onRender:function(){a.on("selectionChange",function(b){var c=this.getValue();b=b.data.path;this.refresh();for(var d in e)if(e[d].checkActive(b,a)){d!=c&&this.setValue(d,a.lang.format["tag_"+d]);return}this.setValue("")},this)},onOpen:function(){this.showAll();for(var b in e)a.activeFilter.check(e[b])||this.hideItem(b)},refresh:function(){var b=a.elementPath();if(b){if(b.isContextFor("p"))for(var c in e)if(a.activeFilter.check(e[c]))return;this.setState(CKEDITOR.TRISTATE_DISABLED)}}})}}});CKEDITOR.config.format_tags="p;h1;h2;h3;h4;h5;h6;pre;address;div";CKEDITOR.config.format_p={element:"p"};CKEDITOR.config.format_div={element:"div"};CKEDITOR.config.format_pre={element:"pre"};CKEDITOR.config.format_address={element:"address"};CKEDITOR.config.format_h1={element:"h1"};CKEDITOR.config.format_h2={element:"h2"};CKEDITOR.config.format_h3={element:"h3"};CKEDITOR.config.format_h4={element:"h4"};CKEDITOR.config.format_h5={element:"h5"};CKEDITOR.config.format_h6={element:"h6"};(function(){var a={canUndo:!1,exec:function(a){var b=a.document.createElement("hr");a.insertElement(b)},allowedContent:"hr",requiredContent:"hr"};CKEDITOR.plugins.add("horizontalrule",{init:function(b){b.blockless||(b.addCommand("horizontalrule",a),b.ui.addButton&&b.ui.addButton("HorizontalRule",{label:b.lang.horizontalrule.toolbar,command:"horizontalrule",toolbar:"insert,40"}))}})})();CKEDITOR.plugins.add("htmlwriter",{init:function(a){var b=new CKEDITOR.htmlWriter;b.forceSimpleAmpersand=a.config.forceSimpleAmpersand;b.indentationChars=a.config.dataIndentationChars||"\t";a.dataProcessor.writer=b}});CKEDITOR.htmlWriter=CKEDITOR.tools.createClass({base:CKEDITOR.htmlParser.basicWriter,$:function(){this.base();this.indentationChars="\t";this.selfClosingEnd=" />";this.lineBreakChars="\n";this.sortAttributes=1;this._.indent=0;this._.indentation="";this._.inPre=0;this._.rules={};var a=CKEDITOR.dtd,b;for(b in CKEDITOR.tools.extend({},a.$nonBodyContent,a.$block,a.$listItem,a.$tableContent))this.setRules(b,{indent:!a[b]["#"],breakBeforeOpen:1,breakBeforeClose:!a[b]["#"],breakAfterClose:1,needsSpace:b in a.$block&&!(b in{li:1,dt:1,dd:1})});this.setRules("br",{breakAfterOpen:1});this.setRules("title",{indent:0,breakAfterOpen:0});this.setRules("style",{indent:0,breakBeforeClose:1});this.setRules("pre",{breakAfterOpen:1,indent:0})},proto:{openTag:function(a){var b=this._.rules[a];this._.afterCloser&&b&&b.needsSpace&&this._.needsSpace&&this._.output.push("\n");this._.indent?this.indentation():b&&b.breakBeforeOpen&&(this.lineBreak(),this.indentation());this._.output.push("<",a);this._.afterCloser=0},openTagClose:function(a,b){var c=this._.rules[a];b?(this._.output.push(this.selfClosingEnd),c&&c.breakAfterClose&&(this._.needsSpace=c.needsSpace)):(this._.output.push(">"),c&&c.indent&&(this._.indentation+=this.indentationChars));c&&c.breakAfterOpen&&this.lineBreak();"pre"==a&&(this._.inPre=1)},attribute:function(a,b){"string"==typeof b&&(this.forceSimpleAmpersand&&(b=b.replace(/&amp;/g,"&")),b=CKEDITOR.tools.htmlEncodeAttr(b));this._.output.push(" ",a,'="',b,'"')},closeTag:function(a){var b=this._.rules[a];b&&b.indent&&(this._.indentation=this._.indentation.substr(this.indentationChars.length));this._.indent?this.indentation():b&&b.breakBeforeClose&&(this.lineBreak(),this.indentation());this._.output.push("</",a,">");"pre"==a&&(this._.inPre=0);b&&b.breakAfterClose&&(this.lineBreak(),this._.needsSpace=b.needsSpace);this._.afterCloser=1},text:function(a){this._.indent&&(this.indentation(),!this._.inPre&&(a=CKEDITOR.tools.ltrim(a)));this._.output.push(a)},comment:function(a){this._.indent&&this.indentation();this._.output.push("<!--",a,"-->")},lineBreak:function(){!this._.inPre&&0<this._.output.length&&this._.output.push(this.lineBreakChars);this._.indent=1},indentation:function(){!this._.inPre&&this._.indentation&&this._.output.push(this._.indentation);this._.indent=0},reset:function(){this._.output=[];this._.indent=0;this._.indentation="";this._.afterCloser=0;this._.inPre=0},setRules:function(a,b){var c=this._.rules[a];c?CKEDITOR.tools.extend(c,b,!0):this._.rules[a]=b}}});(function(){CKEDITOR.plugins.add("iframe",{requires:"dialog,fakeobjects",onLoad:function(){CKEDITOR.addCss("img.cke_iframe{background-image: url("+CKEDITOR.getUrl(this.path+"images/placeholder.png")+");background-position: center center;background-repeat: no-repeat;border: 1px solid #a9a9a9;width: 80px;height: 80px;}")},init:function(a){var b=a.lang.iframe,c="iframe[align,longdesc,frameborder,height,name,scrolling,src,title,width]";a.plugins.dialogadvtab&&(c+=";iframe"+a.plugins.dialogadvtab.allowedContent({id:1,classes:1,styles:1}));CKEDITOR.dialog.add("iframe",this.path+"dialogs/iframe.js");a.addCommand("iframe",new CKEDITOR.dialogCommand("iframe",{allowedContent:c,requiredContent:"iframe"}));a.ui.addButton&&a.ui.addButton("Iframe",{label:b.toolbar,command:"iframe",toolbar:"insert,80"});a.on("doubleclick",function(a){var b=a.data.element;b.is("img")&&"iframe"==b.data("cke-real-element-type")&&(a.data.dialog="iframe")});a.addMenuItems&&a.addMenuItems({iframe:{label:b.title,command:"iframe",group:"image"}});a.contextMenu&&a.contextMenu.addListener(function(a){if(a&&a.is("img")&&"iframe"==a.data("cke-real-element-type"))return{iframe:CKEDITOR.TRISTATE_OFF}})},afterInit:function(a){var b=a.dataProcessor;(b=b&&b.dataFilter)&&b.addRules({elements:{iframe:function(b){return a.createFakeParserElement(b,"cke_iframe","iframe",!0)}}})}})})();(function(){function a(a){function c(a){var b=!1;h.attachListener(h,"keydown",function(){var c=e.getBody().getElementsByTag(a);if(!b){for(var d=0;d<c.count();d++)c.getItem(d).setCustomData("retain",!0);b=!0}},null,null,1);h.attachListener(h,"keyup",function(){var c=e.getElementsByTag(a);b&&(1!=c.count()||c.getItem(0).getCustomData("retain")||c.getItem(0).remove(1),b=!1)})}var d=this.editor,e=a.document,f=e.body,g=e.getElementById("cke_actscrpt");g&&g.parentNode.removeChild(g);(g=e.getElementById("cke_shimscrpt"))&&g.parentNode.removeChild(g);(g=e.getElementById("cke_basetagscrpt"))&&g.parentNode.removeChild(g);f.contentEditable=!0;CKEDITOR.env.ie&&(f.hideFocus=!0,f.disabled=!0,f.removeAttribute("disabled"));delete this._.isLoadingData;this.$=f;e=new CKEDITOR.dom.document(e);this.setup();this.fixInitialSelection();var h=this;CKEDITOR.env.ie&&!CKEDITOR.env.edge&&e.getDocumentElement().addClass(e.$.compatMode);CKEDITOR.env.ie&&!CKEDITOR.env.edge&&d.enterMode!=CKEDITOR.ENTER_P?c("p"):CKEDITOR.env.edge&&d.enterMode!=CKEDITOR.ENTER_DIV&&c("div");if(CKEDITOR.env.webkit||CKEDITOR.env.ie&&10<CKEDITOR.env.version)e.getDocumentElement().on("mousedown",function(a){a.data.getTarget().is("html")&&setTimeout(function(){d.editable().focus()})});b(d);try{d.document.$.execCommand("2D-position",!1,!0)}catch(i){}(CKEDITOR.env.gecko||CKEDITOR.env.ie&&"CSS1Compat"==d.document.$.compatMode)&&this.attachListener(this,"keydown",function(a){var b=a.data.getKeystroke();if(33==b||34==b)if(CKEDITOR.env.ie)setTimeout(function(){d.getSelection().scrollIntoView()},0);else if(d.window.$.innerHeight>this.$.offsetHeight){var c=d.createRange();c[33==b?"moveToElementEditStart":"moveToElementEditEnd"](this);c.select();a.data.preventDefault()}});CKEDITOR.env.ie&&this.attachListener(e,"blur",function(){try{e.$.selection.empty()}catch(a){}});CKEDITOR.env.iOS&&this.attachListener(e,"touchend",function(){a.focus()});f=d.document.getElementsByTag("title").getItem(0);f.data("cke-title",f.getText());CKEDITOR.env.ie&&(d.document.$.title=this._.docTitle);CKEDITOR.tools.setTimeout(function(){"unloaded"==this.status&&(this.status="ready");d.fire("contentDom");this._.isPendingFocus&&(d.focus(),this._.isPendingFocus=!1);setTimeout(function(){d.fire("dataReady")},0)},0,this)}function b(a){function b(){var b;a.editable().attachListener(a,"selectionChange",function(){var d=a.getSelection().getSelectedElement();d&&(b&&(b.detachEvent("onresizestart",c),b=null),d.$.attachEvent("onresizestart",c),b=d.$)})}function c(a){a.returnValue=!1}if(CKEDITOR.env.gecko)try{var d=a.document.$;d.execCommand("enableObjectResizing",!1,!a.config.disableObjectResizing);d.execCommand("enableInlineTableEditing",!1,!a.config.disableNativeTableHandles)}catch(e){}else CKEDITOR.env.ie&&11>CKEDITOR.env.version&&a.config.disableObjectResizing&&b(a)}function c(){var a=[];if(8<=CKEDITOR.document.$.documentMode){a.push("html.CSS1Compat [contenteditable=false]{min-height:0 !important}");var b=[],c;for(c in CKEDITOR.dtd.$removeEmpty)b.push("html.CSS1Compat "+c+"[contenteditable=false]");a.push(b.join(",")+"{display:inline-block}")}else CKEDITOR.env.gecko&&(a.push("html{height:100% !important}"),a.push("img:-moz-broken{-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"));a.push("html{cursor:text;*cursor:auto}");a.push("img,input,textarea{cursor:default}");return a.join("\n")}CKEDITOR.plugins.add("wysiwygarea",{init:function(a){a.config.fullPage&&a.addFeature({allowedContent:"html head title; style [media,type]; body (*)[id]; meta link [*]",requiredContent:"body"});a.addMode("wysiwyg",function(b){function c(c){c&&c.removeListener();a.editable(new d(a,f.$.contentWindow.document.body));a.setData(a.getData(1),b)}var e="document.open();"+(CKEDITOR.env.ie?"("+CKEDITOR.tools.fixDomain+")();":"")+"document.close();",e=CKEDITOR.env.air?"javascript:void(0)":CKEDITOR.env.ie&&!CKEDITOR.env.edge?"javascript:void(function(){"+encodeURIComponent(e)+"}())":"",f=CKEDITOR.dom.element.createFromHtml('<iframe src="'+e+'" frameBorder="0"></iframe>');f.setStyles({width:"100%",height:"100%"});f.addClass("cke_wysiwyg_frame").addClass("cke_reset");e=a.ui.space("contents");e.append(f);var g=CKEDITOR.env.ie&&!CKEDITOR.env.edge||CKEDITOR.env.gecko;if(g)f.on("load",c);var h=a.title,i=a.fire("ariaEditorHelpLabel",{}).label;h&&(CKEDITOR.env.ie&&i&&(h+=", "+i),f.setAttribute("title",h));if(i){var h=CKEDITOR.tools.getNextId(),j=CKEDITOR.dom.element.createFromHtml('<span id="'+h+'" class="cke_voice_label">'+i+"</span>");e.append(j,1);f.setAttribute("aria-describedby",h)}a.on("beforeModeUnload",function(a){a.removeListener();j&&j.remove()});f.setAttributes({tabIndex:a.tabIndex,allowTransparency:"true"});!g&&c();a.fire("ariaWidget",f)})}});CKEDITOR.editor.prototype.addContentsCss=function(a){var b=this.config,c=b.contentsCss;CKEDITOR.tools.isArray(c)||(b.contentsCss=c?[c]:[]);b.contentsCss.push(a)};var d=CKEDITOR.tools.createClass({$:function(){this.base.apply(this,arguments);this._.frameLoadedHandler=CKEDITOR.tools.addFunction(function(b){CKEDITOR.tools.setTimeout(a,0,this,b)},this);this._.docTitle=this.getWindow().getFrame().getAttribute("title")},base:CKEDITOR.editable,proto:{setData:function(a,b){var d=this.editor;if(b)this.setHtml(a),this.fixInitialSelection(),d.fire("dataReady");else{this._.isLoadingData=!0;d._.dataStore={id:1};var e=d.config,f=e.fullPage,g=e.docType,h=CKEDITOR.tools.buildStyleHtml(c()).replace(/<style>/,'<style data-cke-temp="1">');f||(h+=CKEDITOR.tools.buildStyleHtml(d.config.contentsCss));var i=e.baseHref?'<base href="'+e.baseHref+'" data-cke-temp="1" />':"";f&&(a=a.replace(/<!DOCTYPE[^>]*>/i,function(a){d.docType=g=a;return""}).replace(/<\?xml\s[^\?]*\?>/i,function(a){d.xmlDeclaration=a;return""}));a=d.dataProcessor.toHtml(a);f?(/<body[\s|>]/.test(a)||(a="<body>"+a),/<html[\s|>]/.test(a)||(a="<html>"+a+"</html>"),/<head[\s|>]/.test(a)?/<title[\s|>]/.test(a)||(a=a.replace(/<head[^>]*>/,"$&<title></title>")):a=a.replace(/<html[^>]*>/,"$&<head><title></title></head>"),i&&(a=a.replace(/<head[^>]*?>/,"$&"+i)),a=a.replace(/<\/head\s*>/,h+"$&"),a=g+a):a=e.docType+'<html dir="'+e.contentsLangDirection+'" lang="'+(e.contentsLanguage||d.langCode)+'"><head><title>'+this._.docTitle+"</title>"+i+h+"</head><body"+(e.bodyId?' id="'+e.bodyId+'"':"")+(e.bodyClass?' class="'+e.bodyClass+'"':"")+">"+a+"</body></html>";CKEDITOR.env.gecko&&(a=a.replace(/<body/,'<body contenteditable="true" '),2e4>CKEDITOR.env.version&&(a=a.replace(/<body[^>]*>/,"$&<!-- cke-content-start -->")));e='<script id="cke_actscrpt" type="text/javascript"'+(CKEDITOR.env.ie?' defer="defer" ':"")+">var wasLoaded=0;function onload(){if(!wasLoaded)window.parent.CKEDITOR.tools.callFunction("+this._.frameLoadedHandler+",window);wasLoaded=1;}"+(CKEDITOR.env.ie?"onload();":'document.addEventListener("DOMContentLoaded", onload, false );')+"</script>";CKEDITOR.env.ie&&9>CKEDITOR.env.version&&(e+='<script id="cke_shimscrpt">window.parent.CKEDITOR.tools.enableHtml5Elements(document)</script>');i&&CKEDITOR.env.ie&&10>CKEDITOR.env.version&&(e+='<script id="cke_basetagscrpt">var baseTag = document.querySelector( "base" );baseTag.href = baseTag.href;</script>');a=a.replace(/(?=\s*<\/(:?head)>)/,e);this.clearCustomData();this.clearListeners();d.fire("contentDomUnload");var j=this.getDocument();try{j.write(a)}catch(k){setTimeout(function(){j.write(a)},0)}}},getData:function(a){if(a)return this.getHtml();a=this.editor;var b=a.config,c=b.fullPage,d=c&&a.docType,e=c&&a.xmlDeclaration,f=this.getDocument(),c=c?f.getDocumentElement().getOuterHtml():f.getBody().getHtml();CKEDITOR.env.gecko&&b.enterMode!=CKEDITOR.ENTER_BR&&(c=c.replace(/<br>(?=\s*(:?$|<\/body>))/,""));c=a.dataProcessor.toDataFormat(c);e&&(c=e+"\n"+c);d&&(c=d+"\n"+c);return c},focus:function(){this._.isLoadingData?this._.isPendingFocus=!0:d.baseProto.focus.call(this)},detach:function(){var a=this.editor,b=a.document,c;try{c=a.window.getFrame()}catch(e){}d.baseProto.detach.call(this);this.clearCustomData();b.getDocumentElement().clearCustomData();CKEDITOR.tools.removeFunction(this._.frameLoadedHandler);c&&c.getParent()?(c.clearCustomData(),(a=c.removeCustomData("onResize"))&&a.removeListener(),c.remove()):CKEDITOR.warn("editor-destroy-iframe");
}}})})();CKEDITOR.config.disableObjectResizing=!1;CKEDITOR.config.disableNativeTableHandles=!0;CKEDITOR.config.disableNativeSpellChecker=!0;(function(){function a(a,b){b||(b=a.getSelection().getSelectedElement());if(b&&b.is("img")&&!b.data("cke-realelement")&&!b.isReadOnly())return b}function b(a){var b=a.getStyle("float");if("inherit"==b||"none"==b)b=0;b||(b=a.getAttribute("align"));return b}CKEDITOR.plugins.add("image",{requires:"dialog",init:function(b){if(!b.plugins.image2){CKEDITOR.dialog.add("image",this.path+"dialogs/image.js");var c="img[alt,!src]{border-style,border-width,float,height,margin,margin-bottom,margin-left,margin-right,margin-top,width}";CKEDITOR.dialog.isTabEnabled(b,"image","advanced")&&(c="img[alt,dir,id,lang,longdesc,!src,title]{*}(*)");b.addCommand("image",new CKEDITOR.dialogCommand("image",{allowedContent:c,requiredContent:"img[alt,src]",contentTransformations:[["img{width}: sizeToStyle","img[width]: sizeToAttribute"],["img{float}: alignmentToStyle","img[align]: alignmentToAttribute"]]}));b.ui.addButton&&b.ui.addButton("Image",{label:b.lang.common.image,command:"image",toolbar:"insert,10"});b.on("doubleclick",function(a){var b=a.data.element;!b.is("img")||b.data("cke-realelement")||b.isReadOnly()||(a.data.dialog="image")});b.addMenuItems&&b.addMenuItems({image:{label:b.lang.image.menu,command:"image",group:"image"}});b.contextMenu&&b.contextMenu.addListener(function(c){if(a(b,c))return{image:CKEDITOR.TRISTATE_OFF}})}},afterInit:function(c){function d(d){var e=c.getCommand("justify"+d);if(e){if("left"==d||"right"==d)e.on("exec",function(e){var f=a(c),g;f&&(g=b(f),g==d?(f.removeStyle("float"),d==b(f)&&f.removeAttribute("align")):f.setStyle("float",d),e.cancel())});e.on("refresh",function(e){var f=a(c);f&&(f=b(f),this.setState(f==d?CKEDITOR.TRISTATE_ON:"right"==d||"left"==d?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),e.cancel())})}}c.plugins.image2||(d("left"),d("right"),d("center"),d("block"))}})})();CKEDITOR.config.image_removeLinkByEmptyURL=!0;(function(){function a(a,d){var e,f;d.on("refresh",function(a){var d=[b],e;for(e in a.data.states)d.push(a.data.states[e]);this.setState(CKEDITOR.tools.search(d,c)?c:b)},d,null,100);d.on("exec",function(b){e=a.getSelection();f=e.createBookmarks(1);b.data||(b.data={});b.data.done=!1},d,null,0);d.on("exec",function(){a.forceNextSelectionCheck();e.selectBookmarks(f)},d,null,100)}var b=CKEDITOR.TRISTATE_DISABLED,c=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indent",{init:function(b){var c=CKEDITOR.plugins.indent.genericDefinition;a(b,b.addCommand("indent",new c((!0))));a(b,b.addCommand("outdent",new c));b.ui.addButton&&(b.ui.addButton("Indent",{label:b.lang.indent.indent,command:"indent",directional:!0,toolbar:"indent,20"}),b.ui.addButton("Outdent",{label:b.lang.indent.outdent,command:"outdent",directional:!0,toolbar:"indent,10"}));b.on("dirChanged",function(a){var c=b.createRange(),d=a.data.node;c.setStartBefore(d);c.setEndAfter(d);for(var e=new CKEDITOR.dom.walker(c),f;f=e.next();)if(f.type==CKEDITOR.NODE_ELEMENT)if(!f.equals(d)&&f.getDirection())c.setStartAfter(f),e=new CKEDITOR.dom.walker(c);else{var g=b.config.indentClasses;if(g)for(var h="ltr"==a.data.dir?["_rtl",""]:["","_rtl"],i=0;i<g.length;i++)f.hasClass(g[i]+h[0])&&(f.removeClass(g[i]+h[0]),f.addClass(g[i]+h[1]));g=f.getStyle("margin-right");h=f.getStyle("margin-left");g?f.setStyle("margin-left",g):f.removeStyle("margin-left");h?f.setStyle("margin-right",h):f.removeStyle("margin-right")}})}});CKEDITOR.plugins.indent={genericDefinition:function(a){this.isIndent=!!a;this.startDisabled=!this.isIndent},specificDefinition:function(a,b,c){this.name=b;this.editor=a;this.jobs={};this.enterBr=a.config.enterMode==CKEDITOR.ENTER_BR;this.isIndent=!!c;this.relatedGlobal=c?"indent":"outdent";this.indentKey=c?9:CKEDITOR.SHIFT+9;this.database={}},registerCommands:function(a,b){a.on("pluginsLoaded",function(){for(var a in b)(function(a,b){var c=a.getCommand(b.relatedGlobal),d;for(d in b.jobs)c.on("exec",function(c){c.data.done||(a.fire("lockSnapshot"),b.execJob(a,d)&&(c.data.done=!0),a.fire("unlockSnapshot"),CKEDITOR.dom.element.clearAllMarkers(b.database))},this,null,d),c.on("refresh",function(c){c.data.states||(c.data.states={});c.data.states[b.name+"@"+d]=b.refreshJob(a,d,c.data.path)},this,null,d);a.addFeature(b)})(this,b[a])})}};CKEDITOR.plugins.indent.genericDefinition.prototype={context:"p",exec:function(){}};CKEDITOR.plugins.indent.specificDefinition.prototype={execJob:function(a,c){var d=this.jobs[c];if(d.state!=b)return d.exec.call(this,a)},refreshJob:function(a,c,d){c=this.jobs[c];a.activeFilter.checkFeature(this)?c.state=c.refresh.call(this,a,d):c.state=b;return c.state},getContext:function(a){return a.contains(this.context)}}})();(function(){function a(a,c,d){if(!a.getCustomData("indent_processed")){var e=this.editor,f=this.isIndent;if(c){e=a.$.className.match(this.classNameRegex);d=0;e&&(e=e[1],d=CKEDITOR.tools.indexOf(c,e)+1);if(0>(d+=f?1:-1))return;d=Math.min(d,c.length);d=Math.max(d,0);a.$.className=CKEDITOR.tools.ltrim(a.$.className.replace(this.classNameRegex,""));0<d&&a.addClass(c[d-1])}else{c=b(a,d);d=parseInt(a.getStyle(c),10);var g=e.config.indentOffset||40;isNaN(d)&&(d=0);d+=(f?1:-1)*g;if(0>d)return;d=Math.max(d,0);d=Math.ceil(d/g)*g;a.setStyle(c,d?d+(e.config.indentUnit||"px"):"");""===a.getAttribute("style")&&a.removeAttribute("style")}CKEDITOR.dom.element.setMarker(this.database,a,"indent_processed",1)}}function b(a,b){return"ltr"==(b||a.getComputedStyle("direction"))?"margin-left":"margin-right"}var c=CKEDITOR.dtd.$listItem,d=CKEDITOR.dtd.$list,e=CKEDITOR.TRISTATE_DISABLED,f=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indentblock",{requires:"indent",init:function(g){function h(){i.specificDefinition.apply(this,arguments);this.allowedContent={"div h1 h2 h3 h4 h5 h6 ol p pre ul":{propertiesOnly:!0,styles:j?null:"margin-left,margin-right",classes:j||null}};this.enterBr&&(this.allowedContent.div=!0);this.requiredContent=(this.enterBr?"div":"p")+(j?"("+j.join(",")+")":"{margin-left}");this.jobs={20:{refresh:function(a,d){var g=d.block||d.blockLimit;if(!g.is(c))var h=g.getAscendant(c),g=h&&d.contains(h)||g;g.is(c)&&(g=g.getParent());if(this.enterBr||this.getContext(d)){if(j){var h=j,g=g.$.className.match(this.classNameRegex),i=this.isIndent,h=g?i?g[1]!=h.slice(-1):!0:i;return h?f:e}return this.isIndent?f:g?CKEDITOR[0>=(parseInt(g.getStyle(b(g)),10)||0)?"TRISTATE_DISABLED":"TRISTATE_OFF"]:e}return e},exec:function(b){var c=b.getSelection(),c=c&&c.getRanges()[0],e;if(e=b.elementPath().contains(d))a.call(this,e,j);else for(c=c.createIterator(),b=b.config.enterMode,c.enforceRealBlocks=!0,c.enlargeBr=b!=CKEDITOR.ENTER_BR;e=c.getNextParagraph(b==CKEDITOR.ENTER_P?"p":"div");)e.isReadOnly()||a.call(this,e,j);return!0}}}}var i=CKEDITOR.plugins.indent,j=g.config.indentClasses;i.registerCommands(g,{indentblock:new h(g,"indentblock",(!0)),outdentblock:new h(g,"outdentblock")});CKEDITOR.tools.extend(h.prototype,i.specificDefinition.prototype,{context:{div:1,dl:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,ul:1,ol:1,p:1,pre:1,table:1},classNameRegex:j?new RegExp("(?:^|\\s+)("+j.join("|")+")(?=$|\\s)"):null})}})})();(function(){function a(a){function d(b){for(var d=i.startContainer,h=i.endContainer;d&&!d.getParent().equals(b);)d=d.getParent();for(;h&&!h.getParent().equals(b);)h=h.getParent();if(!d||!h)return!1;for(var j=d,d=[],k=!1;!k;)j.equals(h)&&(k=!0),d.push(j),j=j.getNext();if(1>d.length)return!1;j=b.getParents(!0);for(h=0;h<j.length;h++)if(j[h].getName&&g[j[h].getName()]){b=j[h];break}for(var j=e.isIndent?1:-1,h=d[0],d=d[d.length-1],k=CKEDITOR.plugins.list.listToArray(b,f),l=k[d.getCustomData("listarray_index")].indent,h=h.getCustomData("listarray_index");h<=d.getCustomData("listarray_index");h++)if(k[h].indent+=j,0<j){var m=k[h].parent;k[h].parent=new CKEDITOR.dom.element(m.getName(),m.getDocument())}for(h=d.getCustomData("listarray_index")+1;h<k.length&&k[h].indent>l;h++)k[h].indent+=j;d=CKEDITOR.plugins.list.arrayToList(k,f,null,a.config.enterMode,b.getDirection());if(!e.isIndent){var n;if((n=b.getParent())&&n.is("li"))for(var j=d.listNode.getChildren(),o=[],p,h=j.count()-1;0<=h;h--)(p=j.getItem(h))&&p.is&&p.is("li")&&o.push(p)}d&&d.listNode.replace(b);if(o&&o.length)for(h=0;h<o.length;h++){for(p=b=o[h];(p=p.getNext())&&p.is&&p.getName()in g;)CKEDITOR.env.needsNbspFiller&&!b.getFirst(c)&&b.append(i.document.createText("")),b.append(p);b.insertAfter(n)}d&&a.fire("contentDomInvalidated");return!0}for(var e=this,f=this.database,g=this.context,h=a.getSelection(),h=(h&&h.getRanges()).createIterator(),i;i=h.getNextRange();){for(var j=i.getCommonAncestor();j&&(j.type!=CKEDITOR.NODE_ELEMENT||!g[j.getName()]);){if(a.editable().equals(j)){j=!1;break}j=j.getParent()}j||(j=i.startPath().contains(g))&&i.setEndAt(j,CKEDITOR.POSITION_BEFORE_END);if(!j){var k=i.getEnclosedNode();k&&k.type==CKEDITOR.NODE_ELEMENT&&k.getName()in g&&(i.setStartAt(k,CKEDITOR.POSITION_AFTER_START),i.setEndAt(k,CKEDITOR.POSITION_BEFORE_END),j=k)}j&&i.startContainer.type==CKEDITOR.NODE_ELEMENT&&i.startContainer.getName()in g&&(k=new CKEDITOR.dom.walker(i),k.evaluator=b,i.startContainer=k.next());j&&i.endContainer.type==CKEDITOR.NODE_ELEMENT&&i.endContainer.getName()in g&&(k=new CKEDITOR.dom.walker(i),k.evaluator=b,i.endContainer=k.previous());if(j)return d(j)}return 0}function b(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.is("li")}function c(a){return d(a)&&e(a)}var d=CKEDITOR.dom.walker.whitespaces(!0),e=CKEDITOR.dom.walker.bookmark(!1,!0),f=CKEDITOR.TRISTATE_DISABLED,g=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indentlist",{requires:"indent",init:function(b){function c(b){d.specificDefinition.apply(this,arguments);this.requiredContent=["ul","ol"];b.on("key",function(a){if("wysiwyg"==b.mode&&a.data.keyCode==this.indentKey){var c=this.getContext(b.elementPath());!c||this.isIndent&&CKEDITOR.plugins.indentList.firstItemInPath(this.context,b.elementPath(),c)||(b.execCommand(this.relatedGlobal),a.cancel())}},this);this.jobs[this.isIndent?10:30]={refresh:this.isIndent?function(a,b){var c=this.getContext(b),d=CKEDITOR.plugins.indentList.firstItemInPath(this.context,b,c);return c&&this.isIndent&&!d?g:f}:function(a,b){return!this.getContext(b)||this.isIndent?f:g},exec:CKEDITOR.tools.bind(a,this)}}var d=CKEDITOR.plugins.indent;d.registerCommands(b,{indentlist:new c(b,"indentlist",(!0)),outdentlist:new c(b,"outdentlist")});CKEDITOR.tools.extend(c.prototype,d.specificDefinition.prototype,{context:{ol:1,ul:1}})}});CKEDITOR.plugins.indentList={};CKEDITOR.plugins.indentList.firstItemInPath=function(a,c,d){var e=c.contains(b);d||(d=c.contains(a));return d&&e&&e.equals(d.getFirst(b))}})();CKEDITOR.plugins.add("smiley",{requires:"dialog",init:function(a){a.config.smiley_path=a.config.smiley_path||this.path+"images/";a.addCommand("smiley",new CKEDITOR.dialogCommand("smiley",{allowedContent:"img[alt,height,!src,title,width]",requiredContent:"img"}));a.ui.addButton&&a.ui.addButton("Smiley",{label:a.lang.smiley.toolbar,command:"smiley",toolbar:"insert,50"});CKEDITOR.dialog.add("smiley",this.path+"dialogs/smiley.js")}});CKEDITOR.config.smiley_images="regular_smile.png sad_smile.png wink_smile.png teeth_smile.png confused_smile.png tongue_smile.png embarrassed_smile.png omg_smile.png whatchutalkingabout_smile.png angry_smile.png angel_smile.png shades_smile.png devil_smile.png cry_smile.png lightbulb.png thumbs_down.png thumbs_up.png heart.png broken_heart.png kiss.png envelope.png".split(" ");CKEDITOR.config.smiley_descriptions="smiley;sad;wink;laugh;frown;cheeky;blush;surprise;indecision;angry;angel;cool;devil;crying;enlightened;no;yes;heart;broken heart;kiss;mail".split(";");(function(){function a(a,b){b=void 0===b||b;var c;if(b)c=a.getComputedStyle("text-align");else{for(;!a.hasAttribute||!a.hasAttribute("align")&&!a.getStyle("text-align");){c=a.getParent();if(!c)break;a=c}c=a.getStyle("text-align")||a.getAttribute("align")||""}c&&(c=c.replace(/(?:-(?:moz|webkit)-)?(?:start|auto)/i,""));!c&&b&&(c="rtl"==a.getComputedStyle("direction")?"right":"left");return c}function b(a,b,c){this.editor=a;this.name=b;this.value=c;this.context="p";b=a.config.justifyClasses;var d=a.config.enterMode==CKEDITOR.ENTER_P?"p":"div";if(b){switch(c){case"left":this.cssClassName=b[0];break;case"center":this.cssClassName=b[1];break;case"right":this.cssClassName=b[2];break;case"justify":this.cssClassName=b[3]}this.cssClassRegex=new RegExp("(?:^|\\s+)(?:"+b.join("|")+")(?=$|\\s)");this.requiredContent=d+"("+this.cssClassName+")"}else this.requiredContent=d+"{text-align}";this.allowedContent={"caption div h1 h2 h3 h4 h5 h6 p pre td th li":{propertiesOnly:!0,styles:this.cssClassName?null:"text-align",classes:this.cssClassName||null}};a.config.enterMode==CKEDITOR.ENTER_BR&&(this.allowedContent.div=!0)}function c(a){var b=a.editor,c=b.createRange();c.setStartBefore(a.data.node);c.setEndAfter(a.data.node);for(var d=new CKEDITOR.dom.walker(c),e;e=d.next();)if(e.type==CKEDITOR.NODE_ELEMENT)if(!e.equals(a.data.node)&&e.getDirection())c.setStartAfter(e),d=new CKEDITOR.dom.walker(c);else{var f=b.config.justifyClasses;f&&(e.hasClass(f[0])?(e.removeClass(f[0]),e.addClass(f[2])):e.hasClass(f[2])&&(e.removeClass(f[2]),e.addClass(f[0])));f=e.getStyle("text-align");"left"==f?e.setStyle("text-align","right"):"right"==f&&e.setStyle("text-align","left")}}b.prototype={exec:function(b){var c=b.getSelection(),d=b.config.enterMode;if(c){for(var e=c.createBookmarks(),f=c.getRanges(),g=this.cssClassName,h,i,j=b.config.useComputedState,j=void 0===j||j,k=f.length-1;0<=k;k--)for(h=f[k].createIterator(),h.enlargeBr=d!=CKEDITOR.ENTER_BR;i=h.getNextParagraph(d==CKEDITOR.ENTER_P?"p":"div");)if(!i.isReadOnly()){i.removeAttribute("align");i.removeStyle("text-align");var l=g&&(i.$.className=CKEDITOR.tools.ltrim(i.$.className.replace(this.cssClassRegex,""))),m=this.state==CKEDITOR.TRISTATE_OFF&&(!j||a(i,!0)!=this.value);g?m?i.addClass(g):l||i.removeAttribute("class"):m&&i.setStyle("text-align",this.value)}b.focus();b.forceNextSelectionCheck();c.selectBookmarks(e)}},refresh:function(b,c){var d=c.block||c.blockLimit;this.setState("body"!=d.getName()&&a(d,this.editor.config.useComputedState)==this.value?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)}};CKEDITOR.plugins.add("justify",{init:function(a){if(!a.blockless){var d=new b(a,"justifyleft","left"),e=new b(a,"justifycenter","center"),f=new b(a,"justifyright","right"),g=new b(a,"justifyblock","justify");a.addCommand("justifyleft",d);a.addCommand("justifycenter",e);a.addCommand("justifyright",f);a.addCommand("justifyblock",g);a.ui.addButton&&(a.ui.addButton("JustifyLeft",{label:a.lang.justify.left,command:"justifyleft",toolbar:"align,10"}),a.ui.addButton("JustifyCenter",{label:a.lang.justify.center,command:"justifycenter",toolbar:"align,20"}),a.ui.addButton("JustifyRight",{label:a.lang.justify.right,command:"justifyright",toolbar:"align,30"}),a.ui.addButton("JustifyBlock",{label:a.lang.justify.block,command:"justifyblock",toolbar:"align,40"}));a.on("dirChanged",c)}}})})();CKEDITOR.plugins.add("menubutton",{requires:"button,menu",onLoad:function(){var a=function(a){var b=this._,c=b.menu;b.state!==CKEDITOR.TRISTATE_DISABLED&&(b.on&&c?c.hide():(b.previousState=b.state,c||(c=b.menu=new CKEDITOR.menu(a,{panel:{className:"cke_menu_panel",attributes:{"aria-label":a.lang.common.options}}}),c.onHide=CKEDITOR.tools.bind(function(){var c=this.command?a.getCommand(this.command).modes:this.modes;this.setState(!c||c[a.mode]?b.previousState:CKEDITOR.TRISTATE_DISABLED);b.on=0},this),this.onMenu&&c.addListener(this.onMenu)),this.setState(CKEDITOR.TRISTATE_ON),b.on=1,setTimeout(function(){c.show(CKEDITOR.document.getById(b.id),4)},0)))};CKEDITOR.ui.menuButton=CKEDITOR.tools.createClass({base:CKEDITOR.ui.button,$:function(b){delete b.panel;this.base(b);this.hasArrow=!0;this.click=a},statics:{handler:{create:function(a){return new CKEDITOR.ui.menuButton(a)}}}})},beforeInit:function(a){a.ui.addHandler(CKEDITOR.UI_MENUBUTTON,CKEDITOR.ui.menuButton.handler)}});CKEDITOR.UI_MENUBUTTON="menubutton";(function(){CKEDITOR.plugins.add("language",{requires:"menubutton",init:function(a){var b=a.config.language_list||["ar:Arabic:rtl","fr:French","es:Spanish"],c=this,d=a.lang.language,e={},f,g,h,i;a.addCommand("language",{allowedContent:"span[!lang,!dir]",requiredContent:"span[lang,dir]",contextSensitive:!0,exec:function(a,b){var c=e["language_"+b];if(c)a[c.style.checkActive(a.elementPath(),a)?"removeStyle":"applyStyle"](c.style)},refresh:function(a){this.setState(c.getCurrentLangElement(a)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)}});for(i=0;i<b.length;i++)f=b[i].split(":"),g=f[0],h="language_"+g,e[h]={label:f[1],langId:g,group:"language",order:i,ltr:"rtl"!=(""+f[2]).toLowerCase(),onClick:function(){a.execCommand("language",this.langId)},role:"menuitemcheckbox"},e[h].style=new CKEDITOR.style({element:"span",attributes:{lang:g,dir:e[h].ltr?"ltr":"rtl"}});e.language_remove={label:d.remove,group:"language_remove",state:CKEDITOR.TRISTATE_DISABLED,order:e.length,onClick:function(){var b=c.getCurrentLangElement(a);b&&a.execCommand("language",b.getAttribute("lang"))}};a.addMenuGroup("language",1);a.addMenuGroup("language_remove");a.addMenuItems(e);a.ui.add("Language",CKEDITOR.UI_MENUBUTTON,{label:d.button,allowedContent:"span[!lang,!dir]",requiredContent:"span[lang,dir]",toolbar:"bidi,30",command:"language",onMenu:function(){var b={},d=c.getCurrentLangElement(a),f;for(f in e)b[f]=CKEDITOR.TRISTATE_OFF;b.language_remove=d?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED;d&&(b["language_"+d.getAttribute("lang")]=CKEDITOR.TRISTATE_ON);return b}})},getCurrentLangElement:function(a){var b=a.elementPath();a=b&&b.elements;var c;if(b)for(var d=0;d<a.length;d++)b=a[d],!c&&"span"==b.getName()&&b.hasAttribute("dir")&&b.hasAttribute("lang")&&(c=b);return c}})})();(function(){function a(a){return a.replace(/'/g,"\\$&")}function b(a){for(var b,c=a.length,d=[],e=0;e<c;e++)b=a.charCodeAt(e),d.push(b);return"String.fromCharCode("+d.join(",")+")"}function c(b,c){var d=b.plugins.link,e=d.compiledProtectionFunction.params,f,g;g=[d.compiledProtectionFunction.name,"("];for(var h=0;h<e.length;h++)d=e[h].toLowerCase(),f=c[d],0<h&&g.push(","),g.push("'",f?a(encodeURIComponent(c[d])):"","'");g.push(")");return g.join("")}function d(a){a=a.config.emailProtection||"";var b;a&&"encode"!=a&&(b={},a.replace(/^([^(]+)\(([^)]+)\)$/,function(a,c,d){b.name=c;b.params=[];d.replace(/[^,\s]+/g,function(a){b.params.push(a)})}));return b}CKEDITOR.plugins.add("link",{requires:"dialog,fakeobjects",onLoad:function(){function a(a){return c.replace(/%1/g,"rtl"==a?"right":"left").replace(/%2/g,"cke_contents_"+a)}var b="background:url("+CKEDITOR.getUrl(this.path+"images"+(CKEDITOR.env.hidpi?"/hidpi":"")+"/anchor.png")+") no-repeat %1 center;border:1px dotted #00f;background-size:16px;",c=".%2 a.cke_anchor,.%2 a.cke_anchor_empty,.cke_editable.%2 a[name],.cke_editable.%2 a[data-cke-saved-name]{"+b+"padding-%1:18px;cursor:auto;}.%2 img.cke_anchor{"+b+"width:16px;min-height:15px;height:1.15em;vertical-align:text-bottom;}";CKEDITOR.addCss(a("ltr")+a("rtl"))},init:function(a){var b="a[!href]";CKEDITOR.dialog.isTabEnabled(a,"link","advanced")&&(b=b.replace("]",",accesskey,charset,dir,id,lang,name,rel,tabindex,title,type]{*}(*)"));CKEDITOR.dialog.isTabEnabled(a,"link","target")&&(b=b.replace("]",",target,onclick]"));a.addCommand("link",new CKEDITOR.dialogCommand("link",{allowedContent:b,requiredContent:"a[href]"}));a.addCommand("anchor",new CKEDITOR.dialogCommand("anchor",{allowedContent:"a[!name,id]",requiredContent:"a[name]"}));a.addCommand("unlink",new CKEDITOR.unlinkCommand);a.addCommand("removeAnchor",new CKEDITOR.removeAnchorCommand);a.setKeystroke(CKEDITOR.CTRL+76,"link");a.ui.addButton&&(a.ui.addButton("Link",{label:a.lang.link.toolbar,command:"link",toolbar:"links,10"}),a.ui.addButton("Unlink",{label:a.lang.link.unlink,command:"unlink",toolbar:"links,20"}),a.ui.addButton("Anchor",{label:a.lang.link.anchor.toolbar,command:"anchor",toolbar:"links,30"}));CKEDITOR.dialog.add("link",this.path+"dialogs/link.js");CKEDITOR.dialog.add("anchor",this.path+"dialogs/anchor.js");a.on("doubleclick",function(b){var c=CKEDITOR.plugins.link.getSelectedLink(a)||b.data.element;c.isReadOnly()||(c.is("a")?(b.data.dialog=!c.getAttribute("name")||c.getAttribute("href")&&c.getChildCount()?"link":"anchor",b.data.link=c):CKEDITOR.plugins.link.tryRestoreFakeAnchor(a,c)&&(b.data.dialog="anchor"))},null,null,0);a.on("doubleclick",function(b){b.data.dialog in{link:1,anchor:1}&&b.data.link&&a.getSelection().selectElement(b.data.link)},null,null,20);a.addMenuItems&&a.addMenuItems({anchor:{label:a.lang.link.anchor.menu,command:"anchor",group:"anchor",order:1},removeAnchor:{label:a.lang.link.anchor.remove,command:"removeAnchor",group:"anchor",order:5},link:{label:a.lang.link.menu,command:"link",group:"link",order:1},unlink:{label:a.lang.link.unlink,command:"unlink",group:"link",order:5}});a.contextMenu&&a.contextMenu.addListener(function(b){if(!b||b.isReadOnly())return null;b=CKEDITOR.plugins.link.tryRestoreFakeAnchor(a,b);if(!b&&!(b=CKEDITOR.plugins.link.getSelectedLink(a)))return null;var c={};b.getAttribute("href")&&b.getChildCount()&&(c={link:CKEDITOR.TRISTATE_OFF,unlink:CKEDITOR.TRISTATE_OFF});b&&b.hasAttribute("name")&&(c.anchor=c.removeAnchor=CKEDITOR.TRISTATE_OFF);return c});this.compiledProtectionFunction=d(a)},afterInit:function(a){a.dataProcessor.dataFilter.addRules({elements:{a:function(b){return b.attributes.name?b.children.length?null:a.createFakeParserElement(b,"cke_anchor","anchor"):null}}});var b=a._.elementsPath&&a._.elementsPath.filters;b&&b.push(function(b,c){if("a"==c&&(CKEDITOR.plugins.link.tryRestoreFakeAnchor(a,b)||b.getAttribute("name")&&(!b.getAttribute("href")||!b.getChildCount())))return"anchor"})}});var e=/^javascript:/,f=/^mailto:([^?]+)(?:\?(.+))?$/,g=/subject=([^;?:@&=$,\/]*)/i,h=/body=([^;?:@&=$,\/]*)/i,i=/^#(.*)$/,j=/^((?:http|https|ftp|news):\/\/)?(.*)$/,k=/^(_(?:self|top|parent|blank))$/,l=/^javascript:void\(location\.href='mailto:'\+String\.fromCharCode\(([^)]+)\)(?:\+'(.*)')?\)$/,m=/^javascript:([^(]+)\(([^)]+)\)$/,n=/\s*window.open\(\s*this\.href\s*,\s*(?:'([^']*)'|null)\s*,\s*'([^']*)'\s*\)\s*;\s*return\s*false;*\s*/,o=/(?:^|,)([^=]+)=(\d+|yes|no)/gi,p={id:"advId",dir:"advLangDir",accessKey:"advAccessKey",name:"advName",lang:"advLangCode",tabindex:"advTabIndex",title:"advTitle",type:"advContentType","class":"advCSSClasses",charset:"advCharset",style:"advStyles",rel:"advRel"};CKEDITOR.plugins.link={getSelectedLink:function(a){var b=a.getSelection(),c=b.getSelectedElement();return c&&c.is("a")?c:(b=b.getRanges()[0])?(b.shrink(CKEDITOR.SHRINK_TEXT),a.elementPath(b.getCommonAncestor()).contains("a",1)):null},getEditorAnchors:function(a){for(var b=a.editable(),c=b.isInline()&&!a.plugins.divarea?a.document:b,b=c.getElementsByTag("a"),c=c.getElementsByTag("img"),d=[],e=0,f;f=b.getItem(e++);)(f.data("cke-saved-name")||f.hasAttribute("name"))&&d.push({name:f.data("cke-saved-name")||f.getAttribute("name"),id:f.getAttribute("id")});for(e=0;f=c.getItem(e++);)(f=this.tryRestoreFakeAnchor(a,f))&&d.push({name:f.getAttribute("name"),id:f.getAttribute("id")});return d},fakeAnchor:!0,tryRestoreFakeAnchor:function(a,b){if(b&&b.data("cke-real-element-type")&&"anchor"==b.data("cke-real-element-type")){var c=a.restoreRealElement(b);if(c.data("cke-saved-name"))return c}},parseLinkAttributes:function(a,b){var c=b&&(b.data("cke-saved-href")||b.getAttribute("href"))||"",d=a.plugins.link.compiledProtectionFunction,q=a.config.emailProtection,r,s={};c.match(e)&&("encode"==q?c=c.replace(l,function(a,b,c){c=c||"";return"mailto:"+String.fromCharCode.apply(String,b.split(","))+c.replace(/\\'/g,"'")}):q&&c.replace(m,function(a,b,c){if(b==d.name){s.type="email";a=s.email={};b=/(^')|('$)/g;c=c.match(/[^,\s]+/g);for(var e=c.length,f,g,h=0;h<e;h++)f=decodeURIComponent,g=c[h].replace(b,"").replace(/\\'/g,"'"),g=f(g),f=d.params[h].toLowerCase(),a[f]=g;a.address=[a.name,a.domain].join("@")}}));if(!s.type)if(q=c.match(i))s.type="anchor",s.anchor={},s.anchor.name=s.anchor.id=q[1];else if(q=c.match(f)){r=c.match(g);c=c.match(h);s.type="email";var t=s.email={};t.address=q[1];r&&(t.subject=decodeURIComponent(r[1]));c&&(t.body=decodeURIComponent(c[1]))}else c&&(r=c.match(j))&&(s.type="url",s.url={},s.url.protocol=r[1],s.url.url=r[2]);if(b){if(c=b.getAttribute("target"))s.target={type:c.match(k)?c:"frame",name:c};else if(c=(c=b.data("cke-pa-onclick")||b.getAttribute("onclick"))&&c.match(n))for(s.target={type:"popup",name:c[1]};q=o.exec(c[2]);)"yes"!=q[2]&&"1"!=q[2]||q[1]in{height:1,width:1,top:1,left:1}?isFinite(q[2])&&(s.target[q[1]]=q[2]):s.target[q[1]]=!0;var c={},u;for(u in p)(q=b.getAttribute(u))&&(c[p[u]]=q);if(u=b.data("cke-saved-name")||c.advName)c.advName=u;CKEDITOR.tools.isEmpty(c)||(s.advanced=c)}return s},getLinkAttributes:function(d,e){var f=d.config.emailProtection||"",g={};switch(e.type){case"url":var f=e.url&&void 0!==e.url.protocol?e.url.protocol:"http://",h=e.url&&CKEDITOR.tools.trim(e.url.url)||"";g["data-cke-saved-href"]=0===h.indexOf("/")?h:f+h;break;case"anchor":f=e.anchor&&e.anchor.id;g["data-cke-saved-href"]="#"+(e.anchor&&e.anchor.name||f||"");break;case"email":var i=e.email,h=i.address;switch(f){case"":case"encode":var j=encodeURIComponent(i.subject||""),k=encodeURIComponent(i.body||""),i=[];j&&i.push("subject="+j);k&&i.push("body="+k);i=i.length?"?"+i.join("&"):"";"encode"==f?(f=["javascript:void(location.href='mailto:'+",b(h)],i&&f.push("+'",a(i),"'"),f.push(")")):f=["mailto:",h,i];break;default:f=h.split("@",2),i.name=f[0],i.domain=f[1],f=["javascript:",c(d,i)]}g["data-cke-saved-href"]=f.join("")}if(e.target)if("popup"==e.target.type){for(var f=["window.open(this.href, '",e.target.name||"","', '"],l="resizable status location toolbar menubar fullscreen scrollbars dependent".split(" "),h=l.length,j=function(a){e.target[a]&&l.push(a+"="+e.target[a])},i=0;i<h;i++)l[i]+=e.target[l[i]]?"=yes":"=no";j("width");j("left");j("height");j("top");f.push(l.join(","),"'); return false;");g["data-cke-pa-onclick"]=f.join("")}else"notSet"!=e.target.type&&e.target.name&&(g.target=e.target.name);if(e.advanced){for(var m in p)(f=e.advanced[p[m]])&&(g[m]=f);g.name&&(g["data-cke-saved-name"]=g.name)}g["data-cke-saved-href"]&&(g.href=g["data-cke-saved-href"]);m={target:1,onclick:1,"data-cke-pa-onclick":1,"data-cke-saved-name":1};e.advanced&&CKEDITOR.tools.extend(m,p);for(var n in g)delete m[n];return{set:g,removed:CKEDITOR.tools.objectKeys(m)}}};CKEDITOR.unlinkCommand=function(){};CKEDITOR.unlinkCommand.prototype={exec:function(a){var b=new CKEDITOR.style({element:"a",type:CKEDITOR.STYLE_INLINE,alwaysRemoveElement:1});a.removeStyle(b)},refresh:function(a,b){var c=b.lastElement&&b.lastElement.getAscendant("a",!0);c&&"a"==c.getName()&&c.getAttribute("href")&&c.getChildCount()?this.setState(CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_DISABLED)},contextSensitive:1,startDisabled:1,requiredContent:"a[href]"};CKEDITOR.removeAnchorCommand=function(){};CKEDITOR.removeAnchorCommand.prototype={exec:function(a){var b=a.getSelection(),c=b.createBookmarks(),d;if(b&&(d=b.getSelectedElement())&&(d.getChildCount()?d.is("a"):CKEDITOR.plugins.link.tryRestoreFakeAnchor(a,d)))d.remove(1);else if(d=CKEDITOR.plugins.link.getSelectedLink(a))d.hasAttribute("href")?(d.removeAttributes({name:1,"data-cke-saved-name":1}),d.removeClass("cke_anchor")):d.remove(1);b.selectBookmarks(c)},requiredContent:"a[name]"};CKEDITOR.tools.extend(CKEDITOR.config,{linkShowAdvancedTab:!0,linkShowTargetTab:!0})})();(function(){function a(a,b,c){function d(c){if(!(!(j=i[c?"getFirst":"getLast"]())||j.is&&j.isBlockBoundary()||!(k=b.root[c?"getPrevious":"getNext"](CKEDITOR.dom.walker.invisible(!0)))||k.is&&k.isBlockBoundary({br:1})))a.document.createElement("br")[c?"insertBefore":"insertAfter"](j)}for(var e=CKEDITOR.plugins.list.listToArray(b.root,c),f=[],g=0;g<b.contents.length;g++){var h=b.contents[g];(h=h.getAscendant("li",!0))&&!h.getCustomData("list_item_processed")&&(f.push(h),CKEDITOR.dom.element.setMarker(c,h,"list_item_processed",!0))}h=null;for(g=0;g<f.length;g++)h=f[g].getCustomData("listarray_index"),e[h].indent=-1;for(g=h+1;g<e.length;g++)if(e[g].indent>e[g-1].indent+1){f=e[g-1].indent+1-e[g].indent;for(h=e[g].indent;e[g]&&e[g].indent>=h;)e[g].indent+=f,g++;g--}var i=CKEDITOR.plugins.list.arrayToList(e,c,null,a.config.enterMode,b.root.getAttribute("dir")).listNode,j,k;d(!0);d();i.replace(b.root);a.fire("contentDomInvalidated")}function b(a,b){this.name=a;this.context=this.type=b;this.allowedContent=b+" li";this.requiredContent=b}function c(a,b,c,d){for(var e,f;e=a[d?"getLast":"getFirst"](n);)(f=e.getDirection(1))!==b.getDirection(1)&&e.setAttribute("dir",f),e.remove(),c?e[d?"insertBefore":"insertAfter"](c):b.append(e,d)}function d(a){function b(b){var d=a[b?"getPrevious":"getNext"](k);d&&d.type==CKEDITOR.NODE_ELEMENT&&d.is(a.getName())&&(c(a,d,null,!b),a.remove(),a=d)}b();b(1)}function e(a){return a.type==CKEDITOR.NODE_ELEMENT&&(a.getName()in CKEDITOR.dtd.$block||a.getName()in CKEDITOR.dtd.$listItem)&&CKEDITOR.dtd[a.getName()]["#"]}function f(a,b,e){a.fire("saveSnapshot");e.enlarge(CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS);var f=e.extractContents();b.trim(!1,!0);var h=b.createBookmark(),i=new CKEDITOR.dom.elementPath(b.startContainer),j=i.block,i=i.lastElement.getAscendant("li",1)||j,m=new CKEDITOR.dom.elementPath(e.startContainer),n=m.contains(CKEDITOR.dtd.$listItem),m=m.contains(CKEDITOR.dtd.$list);j?(j=j.getBogus())&&j.remove():m&&(j=m.getPrevious(k))&&l(j)&&j.remove();(j=f.getLast())&&j.type==CKEDITOR.NODE_ELEMENT&&j.is("br")&&j.remove();(j=b.startContainer.getChild(b.startOffset))?f.insertBefore(j):b.startContainer.append(f);n&&(f=g(n))&&(i.contains(n)?(c(f,n.getParent(),n),f.remove()):i.append(f));for(;e.checkStartOfBlock()&&e.checkEndOfBlock();){m=e.startPath();f=m.block;if(!f)break;f.is("li")&&(i=f.getParent(),f.equals(i.getLast(k))&&f.equals(i.getFirst(k))&&(f=i));e.moveToPosition(f,CKEDITOR.POSITION_BEFORE_START);f.remove()}e=e.clone();f=a.editable();e.setEndAt(f,CKEDITOR.POSITION_BEFORE_END);e=new CKEDITOR.dom.walker(e);e.evaluator=function(a){return k(a)&&!l(a)};(e=e.next())&&e.type==CKEDITOR.NODE_ELEMENT&&e.getName()in CKEDITOR.dtd.$list&&d(e);b.moveToBookmark(h);b.select();a.fire("saveSnapshot")}function g(a){return(a=a.getLast(k))&&a.type==CKEDITOR.NODE_ELEMENT&&a.getName()in h?a:null}var h={ol:1,ul:1},i=CKEDITOR.dom.walker.whitespaces(),j=CKEDITOR.dom.walker.bookmark(),k=function(a){return!(i(a)||j(a))},l=CKEDITOR.dom.walker.bogus();CKEDITOR.plugins.list={listToArray:function(a,b,c,d,e){if(!h[a.getName()])return[];d||(d=0);c||(c=[]);for(var f=0,g=a.getChildCount();f<g;f++){var i=a.getChild(f);i.type==CKEDITOR.NODE_ELEMENT&&i.getName()in CKEDITOR.dtd.$list&&CKEDITOR.plugins.list.listToArray(i,b,c,d+1);if("li"==i.$.nodeName.toLowerCase()){var j={parent:a,indent:d,element:i,contents:[]};e?j.grandparent=e:(j.grandparent=a.getParent(),j.grandparent&&"li"==j.grandparent.$.nodeName.toLowerCase()&&(j.grandparent=j.grandparent.getParent()));b&&CKEDITOR.dom.element.setMarker(b,i,"listarray_index",c.length);c.push(j);for(var k=0,l=i.getChildCount(),m;k<l;k++)m=i.getChild(k),m.type==CKEDITOR.NODE_ELEMENT&&h[m.getName()]?CKEDITOR.plugins.list.listToArray(m,b,c,d+1,j.grandparent):j.contents.push(m)}}return c},arrayToList:function(a,b,c,d,e){c||(c=0);if(!a||a.length<c+1)return null;for(var f,g=a[c].parent.getDocument(),i=new CKEDITOR.dom.documentFragment(g),l=null,m=c,n=Math.max(a[c].indent,0),o=null,p,q,r=d==CKEDITOR.ENTER_P?"p":"div";;){var s=a[m];f=s.grandparent;p=s.element.getDirection(1);if(s.indent==n){l&&a[m].parent.getName()==l.getName()||(l=a[m].parent.clone(!1,1),e&&l.setAttribute("dir",e),i.append(l));o=l.append(s.element.clone(0,1));p!=l.getDirection(1)&&o.setAttribute("dir",p);for(f=0;f<s.contents.length;f++)o.append(s.contents[f].clone(1,1));m++}else if(s.indent==Math.max(n,0)+1)s=a[m-1].element.getDirection(1),m=CKEDITOR.plugins.list.arrayToList(a,null,m,d,s!=p?p:null),!o.getChildCount()&&CKEDITOR.env.needsNbspFiller&&7>=g.$.documentMode&&o.append(g.createText("")),
o.append(m.listNode),m=m.nextIndex;else if(-1==s.indent&&!c&&f){h[f.getName()]?(o=s.element.clone(!1,!0),p!=f.getDirection(1)&&o.setAttribute("dir",p)):o=new CKEDITOR.dom.documentFragment(g);var l=f.getDirection(1)!=p,t=s.element,u=t.getAttribute("class"),v=t.getAttribute("style"),w=o.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&(d!=CKEDITOR.ENTER_BR||l||v||u),x,y=s.contents.length,z;for(f=0;f<y;f++)if(x=s.contents[f],j(x)&&1<y)w?z=x.clone(1,1):o.append(x.clone(1,1));else if(x.type==CKEDITOR.NODE_ELEMENT&&x.isBlockBoundary()){l&&!x.getDirection()&&x.setAttribute("dir",p);q=x;var A=t.getAttribute("style");A&&q.setAttribute("style",A.replace(/([^;])$/,"$1;")+(q.getAttribute("style")||""));u&&x.addClass(u);q=null;z&&(o.append(z),z=null);o.append(x.clone(1,1))}else w?(q||(q=g.createElement(r),o.append(q),l&&q.setAttribute("dir",p)),v&&q.setAttribute("style",v),u&&q.setAttribute("class",u),z&&(q.append(z),z=null),q.append(x.clone(1,1))):o.append(x.clone(1,1));z&&((q||o).append(z),z=null);o.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&m!=a.length-1&&(CKEDITOR.env.needsBrFiller&&(p=o.getLast())&&p.type==CKEDITOR.NODE_ELEMENT&&p.is("br")&&p.remove(),(p=o.getLast(k))&&p.type==CKEDITOR.NODE_ELEMENT&&p.is(CKEDITOR.dtd.$block)||o.append(g.createElement("br")));p=o.$.nodeName.toLowerCase();"div"!=p&&"p"!=p||o.appendBogus();i.append(o);l=null;m++}else return null;q=null;if(a.length<=m||Math.max(a[m].indent,0)<n)break}if(b)for(a=i.getFirst();a;){if(a.type==CKEDITOR.NODE_ELEMENT&&(CKEDITOR.dom.element.clearMarkers(b,a),a.getName()in CKEDITOR.dtd.$listItem&&(c=a,g=e=d=void 0,d=c.getDirection()))){for(e=c.getParent();e&&!(g=e.getDirection());)e=e.getParent();d==g&&c.removeAttribute("dir")}a=a.getNextSourceNode()}return{listNode:i,nextIndex:m}}};var m=/^h[1-6]$/,n=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT);b.prototype={exec:function(b){this.refresh(b,b.elementPath());var c=b.config,e=b.getSelection(),f=e&&e.getRanges();if(this.state==CKEDITOR.TRISTATE_OFF){var g=b.editable();if(g.getFirst(k)){var i=1==f.length&&f[0];(c=i&&i.getEnclosedNode())&&c.is&&this.type==c.getName()&&this.setState(CKEDITOR.TRISTATE_ON)}else c.enterMode==CKEDITOR.ENTER_BR?g.appendBogus():f[0].fixBlock(1,c.enterMode==CKEDITOR.ENTER_P?"p":"div"),e.selectRanges(f)}for(var c=e.createBookmarks(!0),g=[],j={},f=f.createIterator(),l=0;(i=f.getNextRange())&&++l;){var n=i.getBoundaryNodes(),o=n.startNode,p=n.endNode;o.type==CKEDITOR.NODE_ELEMENT&&"td"==o.getName()&&i.setStartAt(n.startNode,CKEDITOR.POSITION_AFTER_START);p.type==CKEDITOR.NODE_ELEMENT&&"td"==p.getName()&&i.setEndAt(n.endNode,CKEDITOR.POSITION_BEFORE_END);i=i.createIterator();for(i.forceBrBreak=this.state==CKEDITOR.TRISTATE_OFF;n=i.getNextParagraph();)if(!n.getCustomData("list_block")){CKEDITOR.dom.element.setMarker(j,n,"list_block",1);for(var q=b.elementPath(n),o=q.elements,p=0,q=q.blockLimit,r,s=o.length-1;0<=s&&(r=o[s]);s--)if(h[r.getName()]&&q.contains(r)){q.removeCustomData("list_group_object_"+l);(o=r.getCustomData("list_group_object"))?o.contents.push(n):(o={root:r,contents:[n]},g.push(o),CKEDITOR.dom.element.setMarker(j,r,"list_group_object",o));p=1;break}p||(p=q,p.getCustomData("list_group_object_"+l)?p.getCustomData("list_group_object_"+l).contents.push(n):(o={root:p,contents:[n]},CKEDITOR.dom.element.setMarker(j,p,"list_group_object_"+l,o),g.push(o)))}}for(r=[];0<g.length;)if(o=g.shift(),this.state==CKEDITOR.TRISTATE_OFF)if(h[o.root.getName()]){f=b;l=o;o=j;i=r;p=CKEDITOR.plugins.list.listToArray(l.root,o);q=[];for(n=0;n<l.contents.length;n++)s=l.contents[n],(s=s.getAscendant("li",!0))&&!s.getCustomData("list_item_processed")&&(q.push(s),CKEDITOR.dom.element.setMarker(o,s,"list_item_processed",!0));for(var s=l.root.getDocument(),t=void 0,u=void 0,n=0;n<q.length;n++){var v=q[n].getCustomData("listarray_index"),t=p[v].parent;t.is(this.type)||(u=s.createElement(this.type),t.copyAttributes(u,{start:1,type:1}),u.removeStyle("list-style-type"),p[v].parent=u)}o=CKEDITOR.plugins.list.arrayToList(p,o,null,f.config.enterMode);p=void 0;q=o.listNode.getChildCount();for(n=0;n<q&&(p=o.listNode.getChild(n));n++)p.getName()==this.type&&i.push(p);o.listNode.replace(l.root);f.fire("contentDomInvalidated")}else{p=b;i=o;n=r;q=i.contents;f=i.root.getDocument();l=[];1==q.length&&q[0].equals(i.root)&&(o=f.createElement("div"),q[0].moveChildren&&q[0].moveChildren(o),q[0].append(o),q[0]=o);i=i.contents[0].getParent();for(s=0;s<q.length;s++)i=i.getCommonAncestor(q[s].getParent());t=p.config.useComputedState;p=o=void 0;t=void 0===t||t;for(s=0;s<q.length;s++)for(u=q[s];v=u.getParent();){if(v.equals(i)){l.push(u);!p&&u.getDirection()&&(p=1);u=u.getDirection(t);null!==o&&(o=o&&o!=u?null:u);break}u=v}if(!(1>l.length)){q=l[l.length-1].getNext();s=f.createElement(this.type);n.push(s);for(t=n=void 0;l.length;)n=l.shift(),t=f.createElement("li"),u=n,u.is("pre")||m.test(u.getName())||"false"==u.getAttribute("contenteditable")?n.appendTo(t):(n.copyAttributes(t),o&&n.getDirection()&&(t.removeStyle("direction"),t.removeAttribute("dir")),n.moveChildren(t),n.remove()),t.appendTo(s);o&&p&&s.setAttribute("dir",o);q?s.insertBefore(q):s.appendTo(i)}}else this.state==CKEDITOR.TRISTATE_ON&&h[o.root.getName()]&&a.call(this,b,o,j);for(s=0;s<r.length;s++)d(r[s]);CKEDITOR.dom.element.clearAllMarkers(j);e.selectBookmarks(c);b.focus()},refresh:function(a,b){var c=b.contains(h,1),d=b.blockLimit||b.root;c&&d.contains(c)?this.setState(c.is(this.type)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_OFF)}};CKEDITOR.plugins.add("list",{requires:"indentlist",init:function(a){a.blockless||(a.addCommand("numberedlist",new b("numberedlist","ol")),a.addCommand("bulletedlist",new b("bulletedlist","ul")),a.ui.addButton&&(a.ui.addButton("NumberedList",{label:a.lang.list.numberedlist,command:"numberedlist",directional:!0,toolbar:"list,10"}),a.ui.addButton("BulletedList",{label:a.lang.list.bulletedlist,command:"bulletedlist",directional:!0,toolbar:"list,20"})),a.on("key",function(b){var c=b.data.domEvent.getKey(),d;if("wysiwyg"==a.mode&&c in{8:1,46:1}){var i=a.getSelection().getRanges()[0],j=i&&i.startPath();if(i&&i.collapsed){var m=8==c,n=a.editable(),o=new CKEDITOR.dom.walker(i.clone());o.evaluator=function(a){return k(a)&&!l(a)};o.guard=function(a,b){return!(b&&a.type==CKEDITOR.NODE_ELEMENT&&a.is("table"))};c=i.clone();if(m){var p;(p=j.contains(h))&&i.checkBoundaryOfElement(p,CKEDITOR.START)&&(p=p.getParent())&&p.is("li")&&(p=g(p))?(d=p,p=p.getPrevious(k),c.moveToPosition(p&&l(p)?p:d,CKEDITOR.POSITION_BEFORE_START)):(o.range.setStartAt(n,CKEDITOR.POSITION_AFTER_START),o.range.setEnd(i.startContainer,i.startOffset),(p=o.previous())&&p.type==CKEDITOR.NODE_ELEMENT&&(p.getName()in h||p.is("li"))&&(p.is("li")||(o.range.selectNodeContents(p),o.reset(),o.evaluator=e,p=o.previous()),d=p,c.moveToElementEditEnd(d),c.moveToPosition(c.endPath().block,CKEDITOR.POSITION_BEFORE_END)));if(d)f(a,c,i),b.cancel();else{var q=j.contains(h);q&&i.checkBoundaryOfElement(q,CKEDITOR.START)&&(d=q.getFirst(k),i.checkBoundaryOfElement(d,CKEDITOR.START)&&(p=q.getPrevious(k),g(d)?p&&(i.moveToElementEditEnd(p),i.select()):a.execCommand("outdent"),b.cancel()))}}else if(d=j.contains("li")){if(o.range.setEndAt(n,CKEDITOR.POSITION_BEFORE_END),m=(n=d.getLast(k))&&e(n)?n:d,j=0,(p=o.next())&&p.type==CKEDITOR.NODE_ELEMENT&&p.getName()in h&&p.equals(n)?(j=1,p=o.next()):i.checkBoundaryOfElement(m,CKEDITOR.END)&&(j=2),j&&p){i=i.clone();i.moveToElementEditStart(p);if(1==j&&(c.optimize(),!c.startContainer.equals(d))){for(d=c.startContainer;d.is(CKEDITOR.dtd.$inline);)q=d,d=d.getParent();q&&c.moveToPosition(q,CKEDITOR.POSITION_AFTER_END)}2==j&&(c.moveToPosition(c.endPath().block,CKEDITOR.POSITION_BEFORE_END),i.endPath().block&&i.moveToPosition(i.endPath().block,CKEDITOR.POSITION_AFTER_START));f(a,c,i);b.cancel()}}else o.range.setEndAt(n,CKEDITOR.POSITION_BEFORE_END),(p=o.next())&&p.type==CKEDITOR.NODE_ELEMENT&&p.is(h)&&(p=p.getFirst(k),j.block&&i.checkStartOfBlock()&&i.checkEndOfBlock()?(j.block.remove(),i.moveToElementEditStart(p),i.select()):g(p)?(i.moveToElementEditStart(p),i.select()):(i=i.clone(),i.moveToElementEditStart(p),f(a,c,i)),b.cancel());setTimeout(function(){a.selectionChange(1)})}}}))}})})();(function(){CKEDITOR.plugins.liststyle={requires:"dialog,contextmenu",init:function(a){if(!a.blockless){var b;b=new CKEDITOR.dialogCommand("numberedListStyle",{requiredContent:"ol",allowedContent:"ol{list-style-type}[start]"});b=a.addCommand("numberedListStyle",b);a.addFeature(b);CKEDITOR.dialog.add("numberedListStyle",this.path+"dialogs/liststyle.js");b=new CKEDITOR.dialogCommand("bulletedListStyle",{requiredContent:"ul",allowedContent:"ul{list-style-type}"});b=a.addCommand("bulletedListStyle",b);a.addFeature(b);CKEDITOR.dialog.add("bulletedListStyle",this.path+"dialogs/liststyle.js");a.addMenuGroup("list",108);a.addMenuItems({numberedlist:{label:a.lang.liststyle.numberedTitle,group:"list",command:"numberedListStyle"},bulletedlist:{label:a.lang.liststyle.bulletedTitle,group:"list",command:"bulletedListStyle"}});a.contextMenu.addListener(function(a){if(!a||a.isReadOnly())return null;for(;a;){var b=a.getName();if("ol"==b)return{numberedlist:CKEDITOR.TRISTATE_OFF};if("ul"==b)return{bulletedlist:CKEDITOR.TRISTATE_OFF};a=a.getParent()}return null})}}};CKEDITOR.plugins.add("liststyle",CKEDITOR.plugins.liststyle)})();(function(){function a(a,b,c){return l(b)&&l(c)&&c.equals(b.getNext(function(a){return!(W(a)||X(a)||m(a))}))}function b(a){this.upper=a[0];this.lower=a[1];this.set.apply(this,a.slice(2))}function c(a){var b=a.element;if(b&&l(b)&&(b=b.getAscendant(a.triggers,!0))&&a.editable.contains(b)){var c=g(b);if("true"==c.getAttribute("contenteditable"))return b;if(c.is(a.triggers))return c}return null}function d(a,b,c){u(a,b);u(a,c);a=b.size.bottom;c=c.size.top;return a&&c?0|(a+c)/2:a||c}function e(a,b,c){return b=b[c?"getPrevious":"getNext"](function(b){return b&&b.type==CKEDITOR.NODE_TEXT&&!W(b)||l(b)&&!m(b)&&!k(a,b)})}function f(a,b,c){return a>b&&a<c}function g(a,b){if(a.data("cke-editable"))return null;for(b||(a=a.getParent());a&&!a.data("cke-editable");){if(a.hasAttribute("contenteditable"))return a;a=a.getParent()}return null}function h(a){var b=a.doc,c=A('<span contenteditable="false" style="'+S+"position:absolute;border-top:1px dashed "+a.boxColor+'"></span>',b),d=CKEDITOR.getUrl(this.path+"images/"+(B.hidpi?"hidpi/":"")+"icon"+(a.rtl?"-rtl":"")+".png");y(c,{attach:function(){this.wrap.getParent()||this.wrap.appendTo(a.editable,!0);return this},lineChildren:[y(A('<span title="'+a.editor.lang.magicline.title+'" contenteditable="false">&#8629;</span>',b),{base:S+"height:17px;width:17px;"+(a.rtl?"left":"right")+":17px;background:url("+d+") center no-repeat "+a.boxColor+";cursor:pointer;"+(B.hc?"font-size: 15px;line-height:14px;border:1px solid #fff;text-align:center;":"")+(B.hidpi?"background-size: 9px 10px;":""),looks:["top:-8px; border-radius: 2px;","top:-17px; border-radius: 2px 2px 0px 0px;","top:-1px; border-radius: 0px 0px 2px 2px;"]}),y(A(U,b),{base:T+"left:0px;border-left-color:"+a.boxColor+";",looks:["border-width:8px 0 8px 8px;top:-8px","border-width:8px 0 0 8px;top:-8px","border-width:0 0 8px 8px;top:0px"]}),y(A(U,b),{base:T+"right:0px;border-right-color:"+a.boxColor+";",looks:["border-width:8px 8px 8px 0;top:-8px","border-width:8px 8px 0 0;top:-8px","border-width:0 8px 8px 0;top:0px"]})],detach:function(){this.wrap.getParent()&&this.wrap.remove();return this},mouseNear:function(){u(a,this);var b=a.holdDistance,c=this.size;return c&&f(a.mouse.y,c.top-b,c.bottom+b)&&f(a.mouse.x,c.left-b,c.right+b)?!0:!1},place:function(){var b=a.view,c=a.editable,d=a.trigger,e=d.upper,g=d.lower,h=e||g,i=h.getParent(),j={};this.trigger=d;e&&u(a,e,!0);g&&u(a,g,!0);u(a,i,!0);a.inInlineMode&&v(a,!0);i.equals(c)?(j.left=b.scroll.x,j.right=-b.scroll.x,j.width=""):(j.left=h.size.left-h.size.margin.left+b.scroll.x-(a.inInlineMode?b.editable.left+b.editable.border.left:0),j.width=h.size.outerWidth+h.size.margin.left+h.size.margin.right+b.scroll.x,j.right="");e&&g?j.top=e.size.margin.bottom===g.size.margin.top?0|e.size.bottom+e.size.margin.bottom/2:e.size.margin.bottom<g.size.margin.top?e.size.bottom+e.size.margin.bottom:e.size.bottom+e.size.margin.bottom-g.size.margin.top:e?g||(j.top=e.size.bottom+e.size.margin.bottom):j.top=g.size.top-g.size.margin.top;d.is(J)||f(j.top,b.scroll.y-15,b.scroll.y+5)?(j.top=a.inInlineMode?0:b.scroll.y,this.look(J)):d.is(K)||f(j.top,b.pane.bottom-5,b.pane.bottom+15)?(j.top=a.inInlineMode?b.editable.height+b.editable.padding.top+b.editable.padding.bottom:b.pane.bottom-1,this.look(K)):(a.inInlineMode&&(j.top-=b.editable.top+b.editable.border.top),this.look(L));a.inInlineMode&&(j.top--,j.top+=b.editable.scroll.top,j.left+=b.editable.scroll.left);for(var k in j)j[k]=CKEDITOR.tools.cssLength(j[k]);this.setStyles(j)},look:function(a){if(this.oldLook!=a){for(var b=this.lineChildren.length,c;b--;)(c=this.lineChildren[b]).setAttribute("style",c.base+c.looks[0|a/2]);this.oldLook=a}},wrap:new z("span",a.doc)});for(b=c.lineChildren.length;b--;)c.lineChildren[b].appendTo(c);c.look(L);c.appendTo(c.wrap);c.unselectable();c.lineChildren[0].on("mouseup",function(b){c.detach();i(a,function(b){var c=a.line.trigger;b[c.is(F)?"insertBefore":"insertAfter"](c.is(F)?c.lower:c.upper)},!0);a.editor.focus();B.ie||a.enterMode==CKEDITOR.ENTER_BR||a.hotNode.scrollIntoView();b.data.preventDefault(!0)});c.on("mousedown",function(a){a.data.preventDefault(!0)});a.line=c}function i(a,b,c){var d=new CKEDITOR.dom.range(a.doc),e=a.editor,f;B.ie&&a.enterMode==CKEDITOR.ENTER_BR?f=a.doc.createText(M):(f=(f=g(a.element,!0))&&f.data("cke-enter-mode")||a.enterMode,f=new z(E[f],a.doc),f.is("br")||a.doc.createText(M).appendTo(f));c&&e.fire("saveSnapshot");b(f);d.moveToPosition(f,CKEDITOR.POSITION_AFTER_START);e.getSelection().selectRanges([d]);a.hotNode=f;c&&e.fire("saveSnapshot")}function j(a,b){return{canUndo:!0,modes:{wysiwyg:1},exec:function(){function d(c){var d=B.ie&&9>B.version?" ":M,e=a.hotNode&&a.hotNode.getText()==d&&a.element.equals(a.hotNode)&&a.lastCmdDirection===!!b;i(a,function(d){e&&a.hotNode&&a.hotNode.remove();d[b?"insertAfter":"insertBefore"](c);d.setAttributes({"data-cke-magicline-hot":1,"data-cke-magicline-dir":!!b});a.lastCmdDirection=!!b});B.ie||a.enterMode==CKEDITOR.ENTER_BR||a.hotNode.scrollIntoView();a.line.detach()}return function(f){f=f.getSelection().getStartElement();var h;f=f.getAscendant(Q,1);if(!p(a,f)&&f&&!f.equals(a.editable)&&!f.contains(a.editable)){(h=g(f))&&"false"==h.getAttribute("contenteditable")&&(f=h);a.element=f;h=e(a,f,!b);var i;l(h)&&h.is(a.triggers)&&h.is(P)&&(!e(a,h,!b)||(i=e(a,h,!b))&&l(i)&&i.is(a.triggers))?d(h):(i=c(a,f),l(i)&&(e(a,i,!b)?(f=e(a,i,!b))&&l(f)&&f.is(a.triggers)&&d(i):d(i)))}}}()}}function k(a,b){if(!b||b.type!=CKEDITOR.NODE_ELEMENT||!b.$)return!1;var c=a.line;return c.wrap.equals(b)||c.wrap.contains(b)}function l(a){return a&&a.type==CKEDITOR.NODE_ELEMENT&&a.$}function m(a){if(!l(a))return!1;var b;(b=n(a))||(l(a)?(b={left:1,right:1,center:1},b=!(!b[a.getComputedStyle("float")]&&!b[a.getAttribute("align")])):b=!1);return b}function n(a){return!!{absolute:1,fixed:1}[a.getComputedStyle("position")]}function o(a,b){return l(b)?b.is(a.triggers):null}function p(a,b){if(!b)return!1;for(var c=b.getParents(1),d=c.length;d--;)for(var e=a.tabuList.length;e--;)if(c[d].hasAttribute(a.tabuList[e]))return!0;return!1}function q(a,b,c){b=b[c?"getLast":"getFirst"](function(b){return a.isRelevant(b)&&!b.is(O)});if(!b)return!1;u(a,b);return c?b.size.top>a.mouse.y:b.size.bottom<a.mouse.y}function r(a){var c=a.editable,d=a.mouse,e=a.view,g=a.triggerOffset;v(a);var h=d.y>(a.inInlineMode?e.editable.top+e.editable.height/2:Math.min(e.editable.height,e.pane.height)/2),c=c[h?"getLast":"getFirst"](function(a){return!(W(a)||X(a))});if(!c)return null;k(a,c)&&(c=a.line.wrap[h?"getPrevious":"getNext"](function(a){return!(W(a)||X(a))}));if(!l(c)||m(c)||!o(a,c))return null;u(a,c);return!h&&0<=c.size.top&&f(d.y,0,c.size.top+g)?(a=a.inInlineMode||0===e.scroll.y?J:L,new b([null,c,F,I,a])):h&&c.size.bottom<=e.pane.height&&f(d.y,c.size.bottom-g,e.pane.height)?(a=a.inInlineMode||f(c.size.bottom,e.pane.height-g,e.pane.height)?K:L,new b([c,null,G,I,a])):null}function s(a){var d=a.mouse,g=a.view,h=a.triggerOffset,i=c(a);if(!i)return null;u(a,i);var h=Math.min(h,0|i.size.outerHeight/2),j=[],k,n;if(f(d.y,i.size.top-1,i.size.top+h))n=!1;else if(f(d.y,i.size.bottom-h,i.size.bottom+1))n=!0;else return null;if(m(i)||q(a,i,n)||i.getParent().is(N))return null;var p=e(a,i,!n);if(p){if(p&&p.type==CKEDITOR.NODE_TEXT)return null;if(l(p)){if(m(p)||!o(a,p)||p.getParent().is(N))return null;j=[p,i][n?"reverse":"concat"]().concat([H,I])}}else i.equals(a.editable[n?"getLast":"getFirst"](a.isRelevant))?(v(a),n&&f(d.y,i.size.bottom-h,g.pane.height)&&f(i.size.bottom,g.pane.height-h,g.pane.height)?k=K:f(d.y,0,i.size.top+h)&&(k=J)):k=L,j=[null,i][n?"reverse":"concat"]().concat([n?G:F,I,k,i.equals(a.editable[n?"getLast":"getFirst"](a.isRelevant))?n?K:J:L]);return 0 in j?new b(j):null}function t(a,b,c,d){for(var e=b.getDocumentPosition(),f={},g={},h={},i={},j=Z.length;j--;)f[Z[j]]=parseInt(b.getComputedStyle.call(b,"border-"+Z[j]+"-width"),10)||0,h[Z[j]]=parseInt(b.getComputedStyle.call(b,"padding-"+Z[j]),10)||0,g[Z[j]]=parseInt(b.getComputedStyle.call(b,"margin-"+Z[j]),10)||0;c&&!d||w(a,d);i.top=e.y-(c?0:a.view.scroll.y);i.left=e.x-(c?0:a.view.scroll.x);i.outerWidth=b.$.offsetWidth;i.outerHeight=b.$.offsetHeight;i.height=i.outerHeight-(h.top+h.bottom+f.top+f.bottom);i.width=i.outerWidth-(h.left+h.right+f.left+f.right);i.bottom=i.top+i.outerHeight;i.right=i.left+i.outerWidth;a.inInlineMode&&(i.scroll={top:b.$.scrollTop,left:b.$.scrollLeft});return y({border:f,padding:h,margin:g,ignoreScroll:c},i,!0)}function u(a,b,c){if(!l(b))return b.size=null;if(!b.size)b.size={};else if(b.size.ignoreScroll==c&&b.size.date>new Date-R)return null;return y(b.size,t(a,b,c),{date:+new Date},!0)}function v(a,b){a.view.editable=t(a,a.editable,b,!0)}function w(a,b){a.view||(a.view={});var c=a.view;if(!(!b&&c&&c.date>new Date-R)){var d=a.win,c=d.getScrollPosition(),d=d.getViewPaneSize();y(a.view,{scroll:{x:c.x,y:c.y,width:a.doc.$.documentElement.scrollWidth-d.width,height:a.doc.$.documentElement.scrollHeight-d.height},pane:{width:d.width,height:d.height,bottom:d.height+c.y},date:+new Date},!0)}}function x(a,c,d,e){for(var f=e,g=e,h=0,i=!1,j=!1,k=a.view.pane.height,l=a.mouse;l.y+h<k&&0<l.y-h;){i||(i=c(f,e));j||(j=c(g,e));!i&&0<l.y-h&&(f=d(a,{x:l.x,y:l.y-h}));!j&&l.y+h<k&&(g=d(a,{x:l.x,y:l.y+h}));if(i&&j)break;h+=2}return new b([f,g,null,null])}CKEDITOR.plugins.add("magicline",{init:function(a){var d=a.config,f=d.magicline_triggerOffset||30,g={editor:a,enterMode:d.enterMode,triggerOffset:f,holdDistance:0|f*(d.magicline_holdDistance||.5),boxColor:d.magicline_color||"#ff0000",rtl:"rtl"==d.contentsLangDirection,tabuList:["data-cke-hidden-sel"].concat(d.magicline_tabuList||[]),triggers:d.magicline_everywhere?Q:{table:1,hr:1,div:1,ul:1,ol:1,dl:1,form:1,blockquote:1}},o,q,u;g.isRelevant=function(a){return l(a)&&!k(g,a)&&!m(a)};a.on("contentDom",function(){var f=a.editable(),l=a.document,m=a.window;y(g,{editable:f,inInlineMode:f.isInline(),doc:l,win:m,hotNode:null},!0);g.boundary=g.inInlineMode?g.editable:g.doc.getDocumentElement();f.is(D.$inline)||(g.inInlineMode&&!n(f)&&f.setStyles({position:"relative",top:null,left:null}),h.call(this,g),w(g),f.attachListener(a,"beforeUndoImage",function(){g.line.detach()}),f.attachListener(a,"beforeGetData",function(){g.line.wrap.getParent()&&(g.line.detach(),a.once("getData",function(){g.line.attach()},null,null,1e3))},null,null,0),f.attachListener(g.inInlineMode?l:l.getWindow().getFrame(),"mouseout",function(b){if("wysiwyg"==a.mode)if(g.inInlineMode){var c=b.data.$.clientX;b=b.data.$.clientY;w(g);v(g,!0);var d=g.view.editable,e=g.view.scroll;c>d.left-e.x&&c<d.right-e.x&&b>d.top-e.y&&b<d.bottom-e.y||(clearTimeout(u),u=null,g.line.detach())}else clearTimeout(u),u=null,g.line.detach()}),f.attachListener(f,"keyup",function(){g.hiddenMode=0}),f.attachListener(f,"keydown",function(b){if("wysiwyg"==a.mode)switch(b.data.getKeystroke()){case 2228240:case 16:g.hiddenMode=1,g.line.detach()}}),f.attachListener(g.inInlineMode?f:l,"mousemove",function(b){q=!0;if("wysiwyg"==a.mode&&!a.readOnly&&!u){var c={x:b.data.$.clientX,y:b.data.$.clientY};u=setTimeout(function(){g.mouse=c;u=g.trigger=null;w(g);q&&!g.hiddenMode&&a.focusManager.hasFocus&&!g.line.mouseNear()&&(g.element=V(g,!0))&&((g.trigger=r(g)||s(g)||Y(g))&&!p(g,g.trigger.upper||g.trigger.lower)?g.line.attach().place():(g.trigger=null,g.line.detach()),q=!1)},30)}}),f.attachListener(m,"scroll",function(){"wysiwyg"==a.mode&&(g.line.detach(),B.webkit&&(g.hiddenMode=1,clearTimeout(o),o=setTimeout(function(){g.mouseDown||(g.hiddenMode=0)},50)))}),f.attachListener(C?l:m,"mousedown",function(){"wysiwyg"==a.mode&&(g.line.detach(),g.hiddenMode=1,g.mouseDown=1)}),f.attachListener(C?l:m,"mouseup",function(){g.hiddenMode=0;g.mouseDown=0}),a.addCommand("accessPreviousSpace",j(g)),a.addCommand("accessNextSpace",j(g,!0)),a.setKeystroke([[d.magicline_keystrokePrevious,"accessPreviousSpace"],[d.magicline_keystrokeNext,"accessNextSpace"]]),a.on("loadSnapshot",function(){var b,c,d,e;for(e in{p:1,br:1,div:1})for(b=a.document.getElementsByTag(e),d=b.count();d--;)if((c=b.getItem(d)).data("cke-magicline-hot")){g.hotNode=c;g.lastCmdDirection="true"===c.data("cke-magicline-dir")?!0:!1;return}}),this.backdoor={accessFocusSpace:i,boxTrigger:b,isLine:k,getAscendantTrigger:c,getNonEmptyNeighbour:e,getSize:t,that:g,triggerEdge:s,triggerEditable:r,triggerExpand:Y})},this)}});var y=CKEDITOR.tools.extend,z=CKEDITOR.dom.element,A=z.createFromHtml,B=CKEDITOR.env,C=CKEDITOR.env.ie&&9>CKEDITOR.env.version,D=CKEDITOR.dtd,E={},F=128,G=64,H=32,I=16,J=4,K=2,L=1,M="",N=D.$listItem,O=D.$tableContent,P=y({},D.$nonEditable,D.$empty),Q=D.$block,R=100,S="width:0px;height:0px;padding:0px;margin:0px;display:block;z-index:9999;color:#fff;position:absolute;font-size: 0px;line-height:0px;",T=S+"border-color:transparent;display:block;border-style:solid;",U="<span>"+M+"</span>";E[CKEDITOR.ENTER_BR]="br";E[CKEDITOR.ENTER_P]="p";E[CKEDITOR.ENTER_DIV]="div";b.prototype={set:function(a,b,c){this.properties=a+b+(c||L);return this},is:function(a){return(this.properties&a)==a}};var V=function(){function a(a,b){var c=a.$.elementFromPoint(b.x,b.y);return c&&c.nodeType?new CKEDITOR.dom.element(c):null}return function(b,c,d){if(!b.mouse)return null;var e=b.doc,f=b.line.wrap;d=d||b.mouse;var g=a(e,d);c&&k(b,g)&&(f.hide(),g=a(e,d),f.show());return!g||g.type!=CKEDITOR.NODE_ELEMENT||!g.$||B.ie&&9>B.version&&!b.boundary.equals(g)&&!b.boundary.contains(g)?null:g}}(),W=CKEDITOR.dom.walker.whitespaces(),X=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_COMMENT),Y=function(){function b(b){var e=b.element,g,h,i;if(!l(e)||e.contains(b.editable)||e.isReadOnly())return null;i=x(b,function(a,b){return!b.equals(a)},function(a,b){return V(a,!0,b)},e);g=i.upper;h=i.lower;if(a(b,g,h))return i.set(H,8);if(g&&e.contains(g))for(;!g.getParent().equals(e);)g=g.getParent();else g=e.getFirst(function(a){return c(b,a)});if(h&&e.contains(h))for(;!h.getParent().equals(e);)h=h.getParent();else h=e.getLast(function(a){return c(b,a)});if(!g||!h)return null;u(b,g);u(b,h);if(!f(b.mouse.y,g.size.top,h.size.bottom))return null;for(var e=Number.MAX_VALUE,j,k,m,n;h&&!h.equals(g)&&(k=g.getNext(b.isRelevant));)j=Math.abs(d(b,g,k)-b.mouse.y),j<e&&(e=j,m=g,n=k),g=k,u(b,g);if(!m||!n||!f(b.mouse.y,m.size.top,n.size.bottom))return null;i.upper=m;i.lower=n;return i.set(H,8)}function c(a,b){return!(b&&b.type==CKEDITOR.NODE_TEXT||X(b)||m(b)||k(a,b)||b.type==CKEDITOR.NODE_ELEMENT&&b.$&&b.is("br"))}return function(c){var d=b(c),e;if(e=d){e=d.upper;var f=d.lower;e=!e||!f||m(f)||m(e)||f.equals(e)||e.equals(f)||f.contains(e)||e.contains(f)?!1:o(c,e)&&o(c,f)&&a(c,e,f)?!0:!1}return e?d:null}}(),Z=["top","left","right","bottom"]})();CKEDITOR.config.magicline_keystrokePrevious=CKEDITOR.CTRL+CKEDITOR.SHIFT+51;CKEDITOR.config.magicline_keystrokeNext=CKEDITOR.CTRL+CKEDITOR.SHIFT+52;(function(){function a(a){if(!a||a.type!=CKEDITOR.NODE_ELEMENT||"form"!=a.getName())return[];for(var b=[],c=["style","className"],d=0;d<c.length;d++){var e=a.$.elements.namedItem(c[d]);e&&(e=new CKEDITOR.dom.element(e),b.push([e,e.nextSibling]),e.remove())}return b}function b(a,b){if(a&&a.type==CKEDITOR.NODE_ELEMENT&&"form"==a.getName()&&0<b.length)for(var c=b.length-1;0<=c;c--){var d=b[c][0],e=b[c][1];e?d.insertBefore(e):d.appendTo(a)}}function c(c,d){var e=a(c),f={},g=c.$;d||(f["class"]=g.className||"",g.className="");f.inline=g.style.cssText||"";d||(g.style.cssText="position: static; overflow: visible");b(e);return f}function d(c,d){var e=a(c),f=c.$;"class"in d&&(f.className=d["class"]);"inline"in d&&(f.style.cssText=d.inline);b(e)}function e(a){if(!a.editable().isInline()){var b=CKEDITOR.instances,c;for(c in b){var d=b[c];"wysiwyg"!=d.mode||d.readOnly||(d=d.document.getBody(),d.setAttribute("contentEditable",!1),d.setAttribute("contentEditable",!0))}a.editable().hasFocus&&(a.toolbox.focus(),a.focus())}}CKEDITOR.plugins.add("maximize",{init:function(a){function b(){var b=h.getViewPaneSize();a.resize(b.width,b.height,null,!0)}if(a.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var f=a.lang,g=CKEDITOR.document,h=g.getWindow(),i,j,k,l=CKEDITOR.TRISTATE_OFF;a.addCommand("maximize",{modes:{wysiwyg:!CKEDITOR.env.iOS,source:!CKEDITOR.env.iOS},readOnly:1,editorFocus:!1,exec:function(){var m=a.container.getFirst(function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasClass("cke_inner")}),n=a.ui.space("contents");if("wysiwyg"==a.mode){var o=a.getSelection();i=o&&o.getRanges();j=h.getScrollPosition()}else{var p=a.editable().$;i=!CKEDITOR.env.ie&&[p.selectionStart,p.selectionEnd];j=[p.scrollLeft,p.scrollTop]}if(this.state==CKEDITOR.TRISTATE_OFF){h.on("resize",b);k=h.getScrollPosition();for(o=a.container;o=o.getParent();)o.setCustomData("maximize_saved_styles",c(o)),o.setStyle("z-index",a.config.baseFloatZIndex-5);n.setCustomData("maximize_saved_styles",c(n,!0));m.setCustomData("maximize_saved_styles",c(m,!0));n={overflow:CKEDITOR.env.webkit?"":"hidden",width:0,height:0};g.getDocumentElement().setStyles(n);!CKEDITOR.env.gecko&&g.getDocumentElement().setStyle("position","fixed");CKEDITOR.env.gecko&&CKEDITOR.env.quirks||g.getBody().setStyles(n);CKEDITOR.env.ie?setTimeout(function(){h.$.scrollTo(0,0)},0):h.$.scrollTo(0,0);m.setStyle("position",CKEDITOR.env.gecko&&CKEDITOR.env.quirks?"fixed":"absolute");m.$.offsetLeft;m.setStyles({"z-index":a.config.baseFloatZIndex-5,left:"0px",top:"0px"});m.addClass("cke_maximized");b();n=m.getDocumentPosition();m.setStyles({left:-1*n.x+"px",top:-1*n.y+"px"});CKEDITOR.env.gecko&&e(a)}else if(this.state==CKEDITOR.TRISTATE_ON){h.removeListener("resize",b);for(var o=[n,m],q=0;q<o.length;q++)d(o[q],o[q].getCustomData("maximize_saved_styles")),o[q].removeCustomData("maximize_saved_styles");for(o=a.container;o=o.getParent();)d(o,o.getCustomData("maximize_saved_styles")),o.removeCustomData("maximize_saved_styles");CKEDITOR.env.ie?setTimeout(function(){h.$.scrollTo(k.x,k.y)},0):h.$.scrollTo(k.x,k.y);m.removeClass("cke_maximized");CKEDITOR.env.webkit&&(m.setStyle("display","inline"),setTimeout(function(){m.setStyle("display","block")},0));a.fire("resize",{outerHeight:a.container.$.offsetHeight,contentsHeight:n.$.offsetHeight,outerWidth:a.container.$.offsetWidth})}this.toggleState();if(o=this.uiItems[0])n=this.state==CKEDITOR.TRISTATE_OFF?f.maximize.maximize:f.maximize.minimize,o=CKEDITOR.document.getById(o._.id),o.getChild(1).setHtml(n),o.setAttribute("title",n),o.setAttribute("href",'javascript:void("'+n+'");');"wysiwyg"==a.mode?i?(CKEDITOR.env.gecko&&e(a),a.getSelection().selectRanges(i),(p=a.getSelection().getStartElement())&&p.scrollIntoView(!0)):h.$.scrollTo(j.x,j.y):(i&&(p.selectionStart=i[0],p.selectionEnd=i[1]),p.scrollLeft=j[0],p.scrollTop=j[1]);i=j=null;l=this.state;a.fire("maximize",this.state)},canUndo:!1});a.ui.addButton&&a.ui.addButton("Maximize",{label:f.maximize.maximize,command:"maximize",toolbar:"tools,10"});a.on("mode",function(){var b=a.getCommand("maximize");b.setState(b.state==CKEDITOR.TRISTATE_DISABLED?CKEDITOR.TRISTATE_DISABLED:l)},null,null,100)}}})})();CKEDITOR.plugins.add("newpage",{init:function(a){a.addCommand("newpage",{modes:{wysiwyg:1,source:1},exec:function(a){var b=this;a.setData(a.config.newpage_html||"",function(){a.focus();setTimeout(function(){a.fire("afterCommandExec",{name:"newpage",command:b});a.selectionChange()},200)})},async:!0});a.ui.addButton&&a.ui.addButton("NewPage",{label:a.lang.newpage.toolbar,command:"newpage",toolbar:"document,20"})}});(function(){function a(a){return{"aria-label":a,"class":"cke_pagebreak",contenteditable:"false","data-cke-display-name":"pagebreak","data-cke-pagebreak":1,style:"page-break-after: always",title:a}}CKEDITOR.plugins.add("pagebreak",{requires:"fakeobjects",onLoad:function(){var a=("background:url("+CKEDITOR.getUrl(this.path+"images/pagebreak.gif")+") no-repeat center center;clear:both;width:100%;border-top:#999 1px dotted;border-bottom:#999 1px dotted;padding:0;height:7px;cursor:default;").replace(/;/g," !important;");CKEDITOR.addCss("div.cke_pagebreak{"+a+"}")},init:function(a){a.blockless||(a.addCommand("pagebreak",CKEDITOR.plugins.pagebreakCmd),a.ui.addButton&&a.ui.addButton("PageBreak",{label:a.lang.pagebreak.toolbar,command:"pagebreak",toolbar:"insert,70"}),CKEDITOR.env.webkit&&a.on("contentDom",function(){a.document.on("click",function(b){b=b.data.getTarget();b.is("div")&&b.hasClass("cke_pagebreak")&&a.getSelection().selectElement(b)})}))},afterInit:function(b){function c(c){CKEDITOR.tools.extend(c.attributes,a(b.lang.pagebreak.alt),!0);c.children.length=0}var d=b.dataProcessor,e=d&&d.dataFilter,d=d&&d.htmlFilter,f=/page-break-after\s*:\s*always/i,g=/display\s*:\s*none/i;d&&d.addRules({attributes:{"class":function(a,b){var c=a.replace("cke_pagebreak","");if(c!=a){var d=CKEDITOR.htmlParser.fragment.fromHtml('<span style="display: none;">&nbsp;</span>').children[0];b.children.length=0;b.add(d);d=b.attributes;delete d["aria-label"];delete d.contenteditable;delete d.title}return c}}},{applyToAll:!0,priority:5});e&&e.addRules({elements:{div:function(a){if(a.attributes["data-cke-pagebreak"])c(a);else if(f.test(a.attributes.style)){var b=a.children[0];b&&"span"==b.name&&g.test(b.attributes.style)&&c(a)}}}})}});CKEDITOR.plugins.pagebreakCmd={exec:function(b){var c=b.document.createElement("div",{attributes:a(b.lang.pagebreak.alt)});b.insertElement(c)},context:"div",allowedContent:{div:{styles:"!page-break-after"},span:{match:function(a){return(a=a.parent)&&"div"==a.name&&a.styles&&a.styles["page-break-after"]},styles:"display"}},requiredContent:"div{page-break-after}"}})();(function(){var a={canUndo:!1,async:!0,exec:function(b){b.getClipboardData({title:b.lang.pastetext.title},function(c){c&&b.fire("paste",{type:"text",dataValue:c.dataValue,method:"paste",dataTransfer:CKEDITOR.plugins.clipboard.initPasteDataTransfer()});b.fire("afterCommandExec",{name:"pastetext",command:a,returnValue:!!c})})}};CKEDITOR.plugins.add("pastetext",{requires:"clipboard",init:function(b){b.addCommand("pastetext",a);b.ui.addButton&&b.ui.addButton("PasteText",{label:b.lang.pastetext.button,command:"pastetext",toolbar:"clipboard,40"});if(b.config.forcePasteAsPlainText)b.on("beforePaste",function(a){"html"!=a.data.type&&(a.data.type="text")});b.on("pasteState",function(a){b.getCommand("pastetext").setState(a.data)})}})})();(function(){function a(a,b,c){var d=CKEDITOR.cleanWord;d?c():(a=CKEDITOR.getUrl(a.config.pasteFromWordCleanupFile||b+"filter/default.js"),CKEDITOR.scriptLoader.load(a,c,null,!0));return!d}function b(a){a.data.type="html"}CKEDITOR.plugins.add("pastefromword",{requires:"clipboard",init:function(c){var d=0,e=this.path;c.addCommand("pastefromword",{canUndo:!1,async:!0,exec:function(a){var c=this;d=1;a.once("beforePaste",b);a.getClipboardData({title:a.lang.pastefromword.title},function(b){b&&a.fire("paste",{
type:"html",dataValue:b.dataValue,method:"paste",dataTransfer:CKEDITOR.plugins.clipboard.initPasteDataTransfer()});a.fire("afterCommandExec",{name:"pastefromword",command:c,returnValue:!!b})})}});c.ui.addButton&&c.ui.addButton("PasteFromWord",{label:c.lang.pastefromword.toolbar,command:"pastefromword",toolbar:"clipboard,50"});c.on("pasteState",function(a){c.getCommand("pastefromword").setState(a.data)});c.on("paste",function(b){var f=b.data,g=f.dataValue;if(g&&(d||/(class=\"?Mso|style=\"[^\"]*\bmso\-|w:WordDocument)/.test(g))){f.dontFilter=!0;var h=a(c,e,function(){if(h)c.fire("paste",f);else if(!c.config.pasteFromWordPromptCleanup||d||confirm(c.lang.pastefromword.confirmCleanup))f.dataValue=CKEDITOR.cleanWord(g,c);d=0});h&&b.cancel()}},null,null,3)}})})();(function(){var a,b={modes:{wysiwyg:1,source:1},canUndo:!1,readOnly:1,exec:function(b){var c,d=b.config,e=d.baseHref?'<base href="'+d.baseHref+'"/>':"";if(d.fullPage)c=b.getData().replace(/<head>/,"$&"+e).replace(/[^>]*(?=<\/title>)/,"$& &mdash; "+b.lang.preview.preview);else{var d="<body ",f=b.document&&b.document.getBody();f&&(f.getAttribute("id")&&(d+='id="'+f.getAttribute("id")+'" '),f.getAttribute("class")&&(d+='class="'+f.getAttribute("class")+'" '));d+=">";c=b.config.docType+'<html dir="'+b.config.contentsLangDirection+'"><head>'+e+"<title>"+b.lang.preview.preview+"</title>"+CKEDITOR.tools.buildStyleHtml(b.config.contentsCss)+"</head>"+d+b.getData()+"</body></html>"}e=640;d=420;f=80;try{var g=window.screen,e=Math.round(.8*g.width),d=Math.round(.7*g.height),f=Math.round(.1*g.width)}catch(h){}if(!1===b.fire("contentPreview",b={dataValue:c}))return!1;var g="",i;CKEDITOR.env.ie&&(window._cke_htmlToLoad=b.dataValue,i="javascript:void( (function(){document.open();"+("("+CKEDITOR.tools.fixDomain+")();").replace(/\/\/.*?\n/g,"").replace(/parent\./g,"window.opener.")+"document.write( window.opener._cke_htmlToLoad );document.close();window.opener._cke_htmlToLoad = null;})() )",g="");CKEDITOR.env.gecko&&(window._cke_htmlToLoad=b.dataValue,g=CKEDITOR.getUrl(a+"preview.html"));g=window.open(g,null,"toolbar=yes,location=no,status=yes,menubar=yes,scrollbars=yes,resizable=yes,width="+e+",height="+d+",left="+f);CKEDITOR.env.ie&&g&&(g.location=i);CKEDITOR.env.ie||CKEDITOR.env.gecko||(i=g.document,i.open(),i.write(b.dataValue),i.close());return!0}};CKEDITOR.plugins.add("preview",{init:function(c){c.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&(a=this.path,c.addCommand("preview",b),c.ui.addButton&&c.ui.addButton("Preview",{label:c.lang.preview.preview,command:"preview",toolbar:"document,40"}))}})})();CKEDITOR.plugins.add("print",{init:function(a){a.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&(a.addCommand("print",CKEDITOR.plugins.print),a.ui.addButton&&a.ui.addButton("Print",{label:a.lang.print.toolbar,command:"print",toolbar:"document,50"}))}});CKEDITOR.plugins.print={exec:function(a){CKEDITOR.env.gecko?a.window.$.print():a.document.$.execCommand("Print")},canUndo:!1,readOnly:1,modes:{wysiwyg:1}};CKEDITOR.plugins.add("removeformat",{init:function(a){a.addCommand("removeFormat",CKEDITOR.plugins.removeformat.commands.removeformat);a.ui.addButton&&a.ui.addButton("RemoveFormat",{label:a.lang.removeformat.toolbar,command:"removeFormat",toolbar:"cleanup,10"})}});CKEDITOR.plugins.removeformat={commands:{removeformat:{exec:function(a){for(var b=a._.removeFormatRegex||(a._.removeFormatRegex=new RegExp("^(?:"+a.config.removeFormatTags.replace(/,/g,"|")+")$","i")),c=a._.removeAttributes||(a._.removeAttributes=a.config.removeFormatAttributes.split(",")),d=CKEDITOR.plugins.removeformat.filter,e=a.getSelection().getRanges(),f=e.createIterator(),g=function(a){return a.type==CKEDITOR.NODE_ELEMENT},h;h=f.getNextRange();){h.collapsed||h.enlarge(CKEDITOR.ENLARGE_ELEMENT);var i=h.createBookmark(),j=i.startNode,k=i.endNode,l=function(c){for(var e=a.elementPath(c),f=e.elements,g=1,h;(h=f[g])&&!h.equals(e.block)&&!h.equals(e.blockLimit);g++)b.test(h.getName())&&d(a,h)&&c.breakParent(h)};l(j);if(k)for(l(k),j=j.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT);j&&!j.equals(k);)if(j.isReadOnly()){if(j.getPosition(k)&CKEDITOR.POSITION_CONTAINS)break;j=j.getNext(g)}else l=j.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT),"img"==j.getName()&&j.data("cke-realelement")||!d(a,j)||(b.test(j.getName())?j.remove(1):(j.removeAttributes(c),a.fire("removeFormatCleanup",j))),j=l;h.moveToBookmark(i)}a.forceNextSelectionCheck();a.getSelection().selectRanges(e)}}},filter:function(a,b){for(var c=a._.removeFormatFilters||[],d=0;d<c.length;d++)if(!1===c[d](b))return!1;return!0}};CKEDITOR.editor.prototype.addRemoveFormatFilter=function(a){this._.removeFormatFilters||(this._.removeFormatFilters=[]);this._.removeFormatFilters.push(a)};CKEDITOR.config.removeFormatTags="b,big,cite,code,del,dfn,em,font,i,ins,kbd,q,s,samp,small,span,strike,strong,sub,sup,tt,u,var";CKEDITOR.config.removeFormatAttributes="class,style,lang,width,height,align,hspace,valign";(function(){var a={readOnly:1,exec:function(a){if(a.fire("save")&&(a=a.element.$.form))try{a.submit()}catch(b){a.submit.click&&a.submit.click()}}};CKEDITOR.plugins.add("save",{init:function(b){b.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(b.addCommand("save",a).modes={wysiwyg:!!b.element.$.form},b.ui.addButton&&b.ui.addButton("Save",{label:b.lang.save.toolbar,command:"save",toolbar:"document,10"}))}})})();(function(){CKEDITOR.plugins.add("selectall",{init:function(a){a.addCommand("selectAll",{modes:{wysiwyg:1,source:1},exec:function(a){var b=a.editable();if(b.is("textarea"))a=b.$,CKEDITOR.env.ie?a.createTextRange().execCommand("SelectAll"):(a.selectionStart=0,a.selectionEnd=a.value.length),a.focus();else{if(b.is("body"))a.document.$.execCommand("SelectAll",!1,null);else{var c=a.createRange();c.selectNodeContents(b);c.select()}a.forceNextSelectionCheck();a.selectionChange()}},canUndo:!1});a.ui.addButton&&a.ui.addButton("SelectAll",{label:a.lang.selectall.toolbar,command:"selectAll",toolbar:"selection,10"})}})})();(function(){var a={readOnly:1,preserveState:!0,editorFocus:!1,exec:function(a){this.toggleState();this.refresh(a)},refresh:function(a){if(a.document){var b=this.state!=CKEDITOR.TRISTATE_ON||a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&!a.focusManager.hasFocus?"removeClass":"attachClass";a.editable()[b]("cke_show_blocks")}}};CKEDITOR.plugins.add("showblocks",{onLoad:function(){var a="p div pre address blockquote h1 h2 h3 h4 h5 h6".split(" "),b,c,d,e,f=CKEDITOR.getUrl(this.path),g=!(CKEDITOR.env.ie&&9>CKEDITOR.env.version),h=g?":not([contenteditable=false]):not(.cke_show_blocks_off)":"",i,j;for(b=c=d=e="";i=a.pop();)j=a.length?",":"",b+=".cke_show_blocks "+i+h+j,d+=".cke_show_blocks.cke_contents_ltr "+i+h+j,e+=".cke_show_blocks.cke_contents_rtl "+i+h+j,c+=".cke_show_blocks "+i+h+"{background-image:url("+CKEDITOR.getUrl(f+"images/block_"+i+".png")+")}";CKEDITOR.addCss((b+"{background-repeat:no-repeat;border:1px dotted gray;padding-top:8px}").concat(c,d+"{background-position:top left;padding-left:8px}",e+"{background-position:top right;padding-right:8px}"));g||CKEDITOR.addCss(".cke_show_blocks [contenteditable=false],.cke_show_blocks .cke_show_blocks_off{border:none;padding-top:0;background-image:none}.cke_show_blocks.cke_contents_rtl [contenteditable=false],.cke_show_blocks.cke_contents_rtl .cke_show_blocks_off{padding-right:0}.cke_show_blocks.cke_contents_ltr [contenteditable=false],.cke_show_blocks.cke_contents_ltr .cke_show_blocks_off{padding-left:0}")},init:function(b){function c(){d.refresh(b)}if(!b.blockless){var d=b.addCommand("showblocks",a);d.canUndo=!1;b.config.startupOutlineBlocks&&d.setState(CKEDITOR.TRISTATE_ON);b.ui.addButton&&b.ui.addButton("ShowBlocks",{label:b.lang.showblocks.toolbar,command:"showblocks",toolbar:"tools,20"});b.on("mode",function(){d.state!=CKEDITOR.TRISTATE_DISABLED&&d.refresh(b)});b.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&(b.on("focus",c),b.on("blur",c));b.on("contentDom",function(){d.state!=CKEDITOR.TRISTATE_DISABLED&&d.refresh(b)})}}})})();(function(){var a={preserveState:!0,editorFocus:!1,readOnly:1,exec:function(a){this.toggleState();this.refresh(a)},refresh:function(a){if(a.document){var b=this.state==CKEDITOR.TRISTATE_ON?"attachClass":"removeClass";a.editable()[b]("cke_show_borders")}}};CKEDITOR.plugins.add("showborders",{modes:{wysiwyg:1},onLoad:function(){var a;a=(CKEDITOR.env.ie6Compat?[".%1 table.%2,",".%1 table.%2 td, .%1 table.%2 th","{","border : #d3d3d3 1px dotted","}"]:".%1 table.%2,;.%1 table.%2 > tr > td, .%1 table.%2 > tr > th,;.%1 table.%2 > tbody > tr > td, .%1 table.%2 > tbody > tr > th,;.%1 table.%2 > thead > tr > td, .%1 table.%2 > thead > tr > th,;.%1 table.%2 > tfoot > tr > td, .%1 table.%2 > tfoot > tr > th;{;border : #d3d3d3 1px dotted;}".split(";")).join("").replace(/%2/g,"cke_show_border").replace(/%1/g,"cke_show_borders ");CKEDITOR.addCss(a)},init:function(b){var c=b.addCommand("showborders",a);c.canUndo=!1;!1!==b.config.startupShowBorders&&c.setState(CKEDITOR.TRISTATE_ON);b.on("mode",function(){c.state!=CKEDITOR.TRISTATE_DISABLED&&c.refresh(b)},null,null,100);b.on("contentDom",function(){c.state!=CKEDITOR.TRISTATE_DISABLED&&c.refresh(b)});b.on("removeFormatCleanup",function(a){a=a.data;b.getCommand("showborders").state==CKEDITOR.TRISTATE_ON&&a.is("table")&&(!a.hasAttribute("border")||0>=parseInt(a.getAttribute("border"),10))&&a.addClass("cke_show_border")})},afterInit:function(a){var b=a.dataProcessor;a=b&&b.dataFilter;b=b&&b.htmlFilter;a&&a.addRules({elements:{table:function(a){a=a.attributes;var b=a["class"],c=parseInt(a.border,10);c&&!(0>=c)||b&&-1!=b.indexOf("cke_show_border")||(a["class"]=(b||"")+" cke_show_border")}}});b&&b.addRules({elements:{table:function(a){a=a.attributes;var b=a["class"];b&&(a["class"]=b.replace("cke_show_border","").replace(/\s{2}/," ").replace(/^\s+|\s+$/,""))}}})}});CKEDITOR.on("dialogDefinition",function(a){var b=a.data.name;if("table"==b||"tableProperties"==b)if(a=a.data.definition,b=a.getContents("info").get("txtBorder"),b.commit=CKEDITOR.tools.override(b.commit,function(a){return function(b,c){a.apply(this,arguments);var d=parseInt(this.getValue(),10);c[!d||0>=d?"addClass":"removeClass"]("cke_show_border")}}),a=(a=a.getContents("advanced"))&&a.get("advCSSClasses"))a.setup=CKEDITOR.tools.override(a.setup,function(a){return function(){a.apply(this,arguments);this.setValue(this.getValue().replace(/cke_show_border/,""))}}),a.commit=CKEDITOR.tools.override(a.commit,function(a){return function(b,c){a.apply(this,arguments);parseInt(c.getAttribute("border"),10)||c.addClass("cke_show_border")}})})})();(function(){CKEDITOR.plugins.add("sourcearea",{init:function(b){function c(){var a=e&&this.equals(CKEDITOR.document.getActive());this.hide();this.setStyle("height",this.getParent().$.clientHeight+"px");this.setStyle("width",this.getParent().$.clientWidth+"px");this.show();a&&this.focus()}if(b.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var d=CKEDITOR.plugins.sourcearea;b.addMode("source",function(d){var e=b.ui.space("contents").getDocument().createElement("textarea");e.setStyles(CKEDITOR.tools.extend({width:CKEDITOR.env.ie7Compat?"99%":"100%",height:"100%",resize:"none",outline:"none","text-align":"left"},CKEDITOR.tools.cssVendorPrefix("tab-size",b.config.sourceAreaTabSize||4)));e.setAttribute("dir","ltr");e.addClass("cke_source").addClass("cke_reset").addClass("cke_enable_context_menu");b.ui.space("contents").append(e);e=b.editable(new a(b,e));e.setData(b.getData(1));CKEDITOR.env.ie&&(e.attachListener(b,"resize",c,e),e.attachListener(CKEDITOR.document.getWindow(),"resize",c,e),CKEDITOR.tools.setTimeout(c,0,e));b.fire("ariaWidget",this);d()});b.addCommand("source",d.commands.source);b.ui.addButton&&b.ui.addButton("Source",{label:b.lang.sourcearea.toolbar,command:"source",toolbar:"mode,10"});b.on("mode",function(){b.getCommand("source").setState("source"==b.mode?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)});var e=CKEDITOR.env.ie&&9==CKEDITOR.env.version}}});var a=CKEDITOR.tools.createClass({base:CKEDITOR.editable,proto:{setData:function(a){this.setValue(a);this.status="ready";this.editor.fire("dataReady")},getData:function(){return this.getValue()},insertHtml:function(){},insertElement:function(){},insertText:function(){},setReadOnly:function(a){this[(a?"set":"remove")+"Attribute"]("readOnly","readonly")},detach:function(){a.baseProto.detach.call(this);this.clearCustomData();this.remove()}}})})();CKEDITOR.plugins.sourcearea={commands:{source:{modes:{wysiwyg:1,source:1},editorFocus:!1,readOnly:1,exec:function(a){"wysiwyg"==a.mode&&a.fire("saveSnapshot");a.getCommand("source").setState(CKEDITOR.TRISTATE_DISABLED);a.setMode("source"==a.mode?"wysiwyg":"source")},canUndo:!1}}};CKEDITOR.plugins.add("specialchar",{availableLangs:{af:1,ar:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,en:1,"en-gb":1,eo:1,es:1,et:1,eu:1,fa:1,fi:1,fr:1,"fr-ca":1,gl:1,he:1,hr:1,hu:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lt:1,lv:1,nb:1,nl:1,no:1,pl:1,pt:1,"pt-br":1,ru:1,si:1,sk:1,sl:1,sq:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,"zh-cn":1},requires:"dialog",init:function(a){var b=this;CKEDITOR.dialog.add("specialchar",this.path+"dialogs/specialchar.js");a.addCommand("specialchar",{exec:function(){var c=a.langCode,c=b.availableLangs[c]?c:b.availableLangs[c.replace(/-.*/,"")]?c.replace(/-.*/,""):"en";CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(b.path+"dialogs/lang/"+c+".js"),function(){CKEDITOR.tools.extend(a.lang.specialchar,b.langEntries[c]);a.openDialog("specialchar")})},modes:{wysiwyg:1},canUndo:!1});a.ui.addButton&&a.ui.addButton("SpecialChar",{label:a.lang.specialchar.toolbar,command:"specialchar",toolbar:"insert,50"})}});CKEDITOR.config.specialChars="! &quot; # $ % &amp; ' ( ) * + - . / 0 1 2 3 4 5 6 7 8 9 : ; &lt; = &gt; ? @ A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [ ] ^ _ ` a b c d e f g h i j k l m n o p q r s t u v w x y z { | } ~ &euro; &lsquo; &rsquo; &ldquo; &rdquo; &ndash; &mdash; &iexcl; &cent; &pound; &curren; &yen; &brvbar; &sect; &uml; &copy; &ordf; &laquo; &not; &reg; &macr; &deg; &sup2; &sup3; &acute; &micro; &para; &middot; &cedil; &sup1; &ordm; &raquo; &frac14; &frac12; &frac34; &iquest; &Agrave; &Aacute; &Acirc; &Atilde; &Auml; &Aring; &AElig; &Ccedil; &Egrave; &Eacute; &Ecirc; &Euml; &Igrave; &Iacute; &Icirc; &Iuml; &ETH; &Ntilde; &Ograve; &Oacute; &Ocirc; &Otilde; &Ouml; &times; &Oslash; &Ugrave; &Uacute; &Ucirc; &Uuml; &Yacute; &THORN; &szlig; &agrave; &aacute; &acirc; &atilde; &auml; &aring; &aelig; &ccedil; &egrave; &eacute; &ecirc; &euml; &igrave; &iacute; &icirc; &iuml; &eth; &ntilde; &ograve; &oacute; &ocirc; &otilde; &ouml; &divide; &oslash; &ugrave; &uacute; &ucirc; &uuml; &yacute; &thorn; &yuml; &OElig; &oelig; &#372; &#374 &#373 &#375; &sbquo; &#8219; &bdquo; &hellip; &trade; &#9658; &bull; &rarr; &rArr; &hArr; &diams; &asymp;".split(" ");CKEDITOR.plugins.add("scayt",{requires:"menubutton,dialog",tabToOpen:null,dialogName:"scaytDialog",init:function(a){var b=this,c=CKEDITOR.plugins.scayt;this.bindEvents(a);this.parseConfig(a);this.addRule(a);CKEDITOR.dialog.add(this.dialogName,CKEDITOR.getUrl(this.path+"dialogs/options.js"));this.addMenuItems(a);var d=a.lang.scayt,e=CKEDITOR.env;a.ui.add("Scayt",CKEDITOR.UI_MENUBUTTON,{label:d.text_title,title:a.plugins.wsc?a.lang.wsc.title:d.text_title,modes:{wysiwyg:!(e.ie&&(8>e.version||e.quirks))},toolbar:"spellchecker,20",refresh:function(){var b=a.ui.instances.Scayt.getState();a.scayt&&(b=c.state.scayt[a.name]?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF);a.fire("scaytButtonState",b)},onRender:function(){var b=this;a.on("scaytButtonState",function(a){void 0!==typeof a.data&&b.setState(a.data)})},onMenu:function(){var b=a.scayt;a.getMenuItem("scaytToggle").label=a.lang.scayt[b&&c.state.scayt[a.name]?"btn_disable":"btn_enable"];b={scaytToggle:CKEDITOR.TRISTATE_OFF,scaytOptions:b?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytLangs:b?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytDict:b?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytAbout:b?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,WSC:a.plugins.wsc?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED};a.config.scayt_uiTabs[0]||delete b.scaytOptions;a.config.scayt_uiTabs[1]||delete b.scaytLangs;a.config.scayt_uiTabs[2]||delete b.scaytDict;return b}});a.contextMenu&&a.addMenuItems&&(a.contextMenu.addListener(function(c,d){var e=a.scayt,f,g;e&&(g=e.getSelectionNode())&&(f=b.menuGenerator(a,g),e.showBanner("."+a.contextMenu._.definition.panel.className.split(" ").join(" .")));return f}),a.contextMenu._.onHide=CKEDITOR.tools.override(a.contextMenu._.onHide,function(b){return function(){var c=a.scayt;c&&c.hideBanner();return b.apply(this)}}))},addMenuItems:function(a){var b=this,c=CKEDITOR.plugins.scayt;a.addMenuGroup("scaytButton");for(var d=a.config.scayt_contextMenuItemsOrder.split("|"),e=0;e<d.length;e++)d[e]="scayt_"+d[e];if((d=["grayt_description","grayt_suggest","grayt_control"].concat(d))&&d.length)for(e=0;e<d.length;e++)a.addMenuGroup(d[e],e-10);a.addCommand("scaytToggle",{exec:function(a){var b=a.scayt;c.state.scayt[a.name]=!c.state.scayt[a.name];!0===c.state.scayt[a.name]?b||c.createScayt(a):b&&c.destroy(a)}});a.addCommand("scaytAbout",{exec:function(a){a.scayt.tabToOpen="about";a.lockSelection();a.openDialog(b.dialogName)}});a.addCommand("scaytOptions",{exec:function(a){a.scayt.tabToOpen="options";a.lockSelection();a.openDialog(b.dialogName)}});a.addCommand("scaytLangs",{exec:function(a){a.scayt.tabToOpen="langs";a.lockSelection();a.openDialog(b.dialogName)}});a.addCommand("scaytDict",{exec:function(a){a.scayt.tabToOpen="dictionaries";a.lockSelection();a.openDialog(b.dialogName)}});d={scaytToggle:{label:a.lang.scayt.btn_enable,group:"scaytButton",command:"scaytToggle"},scaytAbout:{label:a.lang.scayt.btn_about,group:"scaytButton",command:"scaytAbout"},scaytOptions:{label:a.lang.scayt.btn_options,group:"scaytButton",command:"scaytOptions"},scaytLangs:{label:a.lang.scayt.btn_langs,group:"scaytButton",command:"scaytLangs"},scaytDict:{label:a.lang.scayt.btn_dictionaries,group:"scaytButton",command:"scaytDict"}};a.plugins.wsc&&(d.WSC={label:a.lang.wsc.toolbar,group:"scaytButton",onClick:function(){var b=CKEDITOR.plugins.scayt,c=a.scayt,d=a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?a.container.getText():a.document.getBody().getText();(d=d.replace(/\s/g,""))?(c&&b.state.scayt[a.name]&&c.setMarkupPaused&&c.setMarkupPaused(!0),a.lockSelection(),a.execCommand("checkspell")):alert("Nothing to check!")}});a.addMenuItems(d)},bindEvents:function(a){var b=CKEDITOR.plugins.scayt,c=a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE,d=function(){b.destroy(a)},e=function(){!b.state.scayt[a.name]||a.readOnly||a.scayt||b.createScayt(a)},f=function(){var b=a.editable();b.attachListener(b,"focus",function(b){CKEDITOR.plugins.scayt&&!a.scayt&&setTimeout(e,0);b=CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[a.name]&&a.scayt;var d,f;if((c||b)&&a._.savedSelection){b=a._.savedSelection.getSelectedElement();b=!b&&a._.savedSelection.getRanges();for(var g=0;g<b.length;g++)f=b[g],"string"===typeof f.startContainer.$.nodeValue&&(d=f.startContainer.getText().length,(d<f.startOffset||d<f.endOffset)&&a.unlockSelection(!1))}},this,null,-10)},g=function(){c?a.config.scayt_inlineModeImmediateMarkup?e():(a.on("blur",function(){setTimeout(d,0)}),a.on("focus",e),a.focusManager.hasFocus&&e()):e();f();var b=a.editable();b.attachListener(b,"mousedown",function(b){b=b.data.getTarget();var c=a.widgets&&a.widgets.getByElement(b);c&&(c.wrapper=b.getAscendant(function(a){return a.hasAttribute("data-cke-widget-wrapper")},!0))},this,null,-10)};a.on("contentDom",g);a.on("beforeCommandExec",function(c){var d=a.scayt,e=null,f=!1,g=!0;c.data.name in b.options.disablingCommandExec&&"wysiwyg"==a.mode?d&&(b.destroy(a),a.fire("scaytButtonState",CKEDITOR.TRISTATE_DISABLED)):"bold"!==c.data.name&&"italic"!==c.data.name&&"underline"!==c.data.name&&"strike"!==c.data.name&&"subscript"!==c.data.name&&"superscript"!==c.data.name&&"enter"!==c.data.name&&"cut"!==c.data.name&&"language"!==c.data.name||!d||("cut"===c.data.name&&(g=!1,f=!0),"language"===c.data.name&&(e=(e=a.plugins.language.getCurrentLangElement(a))&&e.$,f=!0),a.fire("reloadMarkupScayt",{removeOptions:{removeInside:g,forceBookmark:f,selectionNode:e},timeout:0}))});a.on("beforeSetMode",function(c){if("source"==c.data){if(c=a.scayt)b.destroy(a),a.fire("scaytButtonState",CKEDITOR.TRISTATE_DISABLED);a.document&&a.document.getBody().removeAttribute("_jquid")}});a.on("afterCommandExec",function(b){"wysiwyg"!=a.mode||"undo"!=b.data.name&&"redo"!=b.data.name||setTimeout(function(){var b=a.scayt,c=b&&b.getScaytLangList();c&&c.ltr&&c.rtl&&b.fire("startSpellCheck, startGrammarCheck")},250)});a.on("readOnly",function(c){var d;c&&(d=a.scayt,!0===c.editor.readOnly?d&&d.fire("removeMarkupInDocument",{}):d?d.fire("startSpellCheck, startGrammarCheck"):"wysiwyg"==c.editor.mode&&!0===b.state.scayt[c.editor.name]&&(b.createScayt(a),c.editor.fire("scaytButtonState",CKEDITOR.TRISTATE_ON)))});a.on("beforeDestroy",d);a.on("setData",function(){d();(a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE||a.plugins.divarea)&&g()},this,null,50);a.on("reloadMarkupScayt",function(b){var c=b.data&&b.data.removeOptions;setTimeout(function(){var b=a.scayt,d=b&&b.getScaytLangList();d&&d.ltr&&d.rtl&&(a.document.fire("keydown",new CKEDITOR.dom.event({keyCode:37})),b.removeMarkupInSelectionNode(c),b.fire("startSpellCheck, startGrammarCheck"))},b.data&&b.data.timeout||0)});a.on("insertElement",function(){a.fire("reloadMarkupScayt",{removeOptions:{forceBookmark:!0}})},this,null,50);a.on("insertHtml",function(){a.fire("reloadMarkupScayt")},this,null,50);a.on("insertText",function(){a.fire("reloadMarkupScayt")},this,null,50);a.on("scaytDialogShown",function(b){b.data.selectPage(a.scayt.tabToOpen)})},parseConfig:function(a){var b=CKEDITOR.plugins.scayt;b.replaceOldOptionsNames(a.config);"boolean"!==typeof a.config.scayt_autoStartup&&(a.config.scayt_autoStartup=!1);b.state.scayt[a.name]=a.config.scayt_autoStartup;"boolean"!==typeof a.config.grayt_autoStartup&&(a.config.grayt_autoStartup=!1);"boolean"!==typeof a.config.scayt_inlineModeImmediateMarkup&&(a.config.scayt_inlineModeImmediateMarkup=!1);b.state.grayt[a.name]=a.config.grayt_autoStartup;a.config.scayt_contextCommands||(a.config.scayt_contextCommands="ignore|ignoreall|add");a.config.scayt_contextMenuItemsOrder||(a.config.scayt_contextMenuItemsOrder="suggest|moresuggest|control");a.config.scayt_sLang||(a.config.scayt_sLang="en_US");if(void 0===a.config.scayt_maxSuggestions||"number"!=typeof a.config.scayt_maxSuggestions||0>a.config.scayt_maxSuggestions)a.config.scayt_maxSuggestions=5;if(void 0===a.config.scayt_minWordLength||"number"!=typeof a.config.scayt_minWordLength||1>a.config.scayt_minWordLength)a.config.scayt_minWordLength=4;if(void 0===a.config.scayt_customDictionaryIds||"string"!==typeof a.config.scayt_customDictionaryIds)a.config.scayt_customDictionaryIds="";if(void 0===a.config.scayt_userDictionaryName||"string"!==typeof a.config.scayt_userDictionaryName)a.config.scayt_userDictionaryName=null;if("string"===typeof a.config.scayt_uiTabs&&3===a.config.scayt_uiTabs.split(",").length){var c=[],d=[];a.config.scayt_uiTabs=a.config.scayt_uiTabs.split(",");CKEDITOR.tools.search(a.config.scayt_uiTabs,function(a){1===Number(a)||0===Number(a)?(d.push(!0),c.push(Number(a))):d.push(!1)});null===CKEDITOR.tools.search(d,!1)?a.config.scayt_uiTabs=c:a.config.scayt_uiTabs=[1,1,1]}else a.config.scayt_uiTabs=[1,1,1];"string"!=typeof a.config.scayt_serviceProtocol&&(a.config.scayt_serviceProtocol=null);"string"!=typeof a.config.scayt_serviceHost&&(a.config.scayt_serviceHost=null);"string"!=typeof a.config.scayt_servicePort&&(a.config.scayt_servicePort=null);"string"!=typeof a.config.scayt_servicePath&&(a.config.scayt_servicePath=null);a.config.scayt_moreSuggestions||(a.config.scayt_moreSuggestions="on");"string"!==typeof a.config.scayt_customerId&&(a.config.scayt_customerId="1:WvF0D4-UtPqN1-43nkD4-NKvUm2-daQqk3-LmNiI-z7Ysb4-mwry24-T8YrS3-Q2tpq2");"string"!==typeof a.config.scayt_srcUrl&&(b=document.location.protocol,b=-1!=b.search(/https?:/)?b:"http:",a.config.scayt_srcUrl=b+"//svc.webspellchecker.net/spellcheck31/lf/scayt3/ckscayt/ckscayt.js");"boolean"!==typeof CKEDITOR.config.scayt_handleCheckDirty&&(CKEDITOR.config.scayt_handleCheckDirty=!0);"boolean"!==typeof CKEDITOR.config.scayt_handleUndoRedo&&(CKEDITOR.config.scayt_handleUndoRedo=!0);CKEDITOR.config.scayt_handleUndoRedo=CKEDITOR.plugins.undo?CKEDITOR.config.scayt_handleUndoRedo:!1;"boolean"!==typeof a.config.scayt_multiLanguageMode&&(a.config.scayt_multiLanguageMode=!1);"object"!==typeof a.config.scayt_multiLanguageStyles&&(a.config.scayt_multiLanguageStyles={});a.config.scayt_ignoreAllCapsWords&&"boolean"!==typeof a.config.scayt_ignoreAllCapsWords&&(a.config.scayt_ignoreAllCapsWords=!1);a.config.scayt_ignoreDomainNames&&"boolean"!==typeof a.config.scayt_ignoreDomainNames&&(a.config.scayt_ignoreDomainNames=!1);a.config.scayt_ignoreWordsWithMixedCases&&"boolean"!==typeof a.config.scayt_ignoreWordsWithMixedCases&&(a.config.scayt_ignoreWordsWithMixedCases=!1);a.config.scayt_ignoreWordsWithNumbers&&"boolean"!==typeof a.config.scayt_ignoreWordsWithNumbers&&(a.config.scayt_ignoreWordsWithNumbers=!1);if(a.config.scayt_disableOptionsStorage){var b=CKEDITOR.tools.isArray(a.config.scayt_disableOptionsStorage)?a.config.scayt_disableOptionsStorage:"string"===typeof a.config.scayt_disableOptionsStorage?[a.config.scayt_disableOptionsStorage]:void 0,e="all options lang ignore-all-caps-words ignore-domain-names ignore-words-with-mixed-cases ignore-words-with-numbers".split(" "),f=["lang","ignore-all-caps-words","ignore-domain-names","ignore-words-with-mixed-cases","ignore-words-with-numbers"],g=CKEDITOR.tools.search,h=CKEDITOR.tools.indexOf;a.config.scayt_disableOptionsStorage=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],i=!!g(a,"options");if(!g(e,d)||i&&g(f,function(a){if("lang"===a)return!1}))return;g(f,d)&&f.splice(h(f,d),1);if("all"===d||i&&g(a,"lang"))return[];"options"===d&&(f=["lang"])}return b=b.concat(f)}(b)}},addRule:function(a){var b=CKEDITOR.plugins.scayt,c=a.dataProcessor,d=c&&c.htmlFilter,e=a._.elementsPath&&a._.elementsPath.filters,c=c&&c.dataFilter,f=a.addRemoveFormatFilter,g=function(c){if(a.scayt&&(c.hasAttribute(b.options.data_attribute_name)||c.hasAttribute(b.options.problem_grammar_data_attribute)))return!1},h=function(c){var d=!0;a.scayt&&(c.hasAttribute(b.options.data_attribute_name)||c.hasAttribute(b.options.problem_grammar_data_attribute))&&(d=!1);return d};e&&e.push(g);c&&c.addRules({elements:{span:function(a){var c=a.hasClass(b.options.misspelled_word_class)&&a.attributes[b.options.data_attribute_name],d=a.hasClass(b.options.problem_grammar_class)&&a.attributes[b.options.problem_grammar_data_attribute];b&&(c||d)&&delete a.name;return a}}});d&&d.addRules({elements:{span:function(a){var c=a.hasClass(b.options.misspelled_word_class)&&a.attributes[b.options.data_attribute_name],d=a.hasClass(b.options.problem_grammar_class)&&a.attributes[b.options.problem_grammar_data_attribute];b&&(c||d)&&delete a.name;return a}}});f&&f.call(a,h)},scaytMenuDefinition:function(a){var b=this;a=a.scayt;return{scayt:{scayt_ignore:{label:a.getLocal("btn_ignore"),group:"scayt_control",order:1,exec:function(a){a.scayt.ignoreWord()}},scayt_ignoreall:{label:a.getLocal("btn_ignoreAll"),group:"scayt_control",order:2,exec:function(a){a.scayt.ignoreAllWords()}},scayt_add:{label:a.getLocal("btn_addWord"),group:"scayt_control",order:3,exec:function(a){var b=a.scayt;setTimeout(function(){b.addWordToUserDictionary()},10)}},scayt_option:{label:a.getLocal("btn_options"),group:"scayt_control",order:4,exec:function(a){a.scayt.tabToOpen="options";a.lockSelection();a.openDialog(b.dialogName)},verification:function(a){return 1==a.config.scayt_uiTabs[0]?!0:!1}},scayt_language:{label:a.getLocal("btn_langs"),group:"scayt_control",order:5,exec:function(a){a.scayt.tabToOpen="langs";a.lockSelection();a.openDialog(b.dialogName)},verification:function(a){return 1==a.config.scayt_uiTabs[1]?!0:!1}},scayt_dictionary:{label:a.getLocal("btn_dictionaries"),group:"scayt_control",order:6,exec:function(a){a.scayt.tabToOpen="dictionaries";a.lockSelection();a.openDialog(b.dialogName)},verification:function(a){return 1==a.config.scayt_uiTabs[2]?!0:!1}},scayt_about:{label:a.getLocal("btn_about"),group:"scayt_control",order:7,exec:function(a){a.scayt.tabToOpen="about";a.lockSelection();a.openDialog(b.dialogName)}}},grayt:{grayt_problemdescription:{label:"Grammar problem description",group:"grayt_description",order:1,state:CKEDITOR.TRISTATE_DISABLED,exec:function(a){}},grayt_ignore:{label:a.getLocal("btn_ignore"),group:"grayt_control",order:2,exec:function(a){a.scayt.ignorePhrase()}}}}},buildSuggestionMenuItems:function(a,b,c){var d={},e={},f=c?"word":"phrase",g=c?"startGrammarCheck":"startSpellCheck",h=a.scayt;if(0<b.length&&"no_any_suggestions"!==b[0])if(c)for(c=0;c<b.length;c++){var i="scayt_suggest_"+CKEDITOR.plugins.scayt.suggestions[c].replace(" ","_");a.addCommand(i,this.createCommand(CKEDITOR.plugins.scayt.suggestions[c],f,g));c<a.config.scayt_maxSuggestions?(a.addMenuItem(i,{label:b[c],command:i,group:"scayt_suggest",order:c+1}),d[i]=CKEDITOR.TRISTATE_OFF):(a.addMenuItem(i,{label:b[c],command:i,group:"scayt_moresuggest",order:c+1}),e[i]=CKEDITOR.TRISTATE_OFF,"on"===a.config.scayt_moreSuggestions&&(a.addMenuItem("scayt_moresuggest",{label:h.getLocal("btn_moreSuggestions"),group:"scayt_moresuggest",order:10,getItems:function(){return e}}),d.scayt_moresuggest=CKEDITOR.TRISTATE_OFF))}else for(c=0;c<b.length;c++)i="grayt_suggest_"+CKEDITOR.plugins.scayt.suggestions[c].replace(" ","_"),a.addCommand(i,this.createCommand(CKEDITOR.plugins.scayt.suggestions[c],f,g)),a.addMenuItem(i,{label:b[c],command:i,group:"grayt_suggest",order:c+1}),d[i]=CKEDITOR.TRISTATE_OFF;else d.no_scayt_suggest=CKEDITOR.TRISTATE_DISABLED,a.addCommand("no_scayt_suggest",{exec:function(){}}),a.addMenuItem("no_scayt_suggest",{label:h.getLocal("btn_noSuggestions")||"no_scayt_suggest",command:"no_scayt_suggest",group:"scayt_suggest",order:0});return d},menuGenerator:function(a,b){var c=a.scayt,d=this.scaytMenuDefinition(a),e={},f=a.config.scayt_contextCommands.split("|"),g=b.getAttribute(c.getLangAttribute())||c.getLang(),h,i;h=c.isScaytNode(b);i=c.isGraytNode(b);h?(d=d.scayt,e=b.getAttribute(c.getScaytNodeAttributeName()),c.fire("getSuggestionsList",{lang:g,word:e}),e=this.buildSuggestionMenuItems(a,CKEDITOR.plugins.scayt.suggestions,h)):i&&(d=d.grayt,e=b.getAttribute(c.getGraytNodeAttributeName()),i=c.getProblemDescriptionText(e,g),d.grayt_problemdescription&&i&&(d.grayt_problemdescription.label=i),c.fire("getGrammarSuggestionsList",{lang:g,phrase:e}),e=this.buildSuggestionMenuItems(a,CKEDITOR.plugins.scayt.suggestions,h));if(h&&"off"==a.config.scayt_contextCommands)return e;for(var j in d)h&&-1==CKEDITOR.tools.indexOf(f,j.replace("scayt_",""))&&"all"!=a.config.scayt_contextCommands||(e[j]="undefined"!=typeof d[j].state?d[j].state:CKEDITOR.TRISTATE_OFF,"function"!==typeof d[j].verification||d[j].verification(a)||delete e[j],a.addCommand(j,{exec:d[j].exec}),a.addMenuItem(j,{label:a.lang.scayt[d[j].label]||d[j].label,command:j,group:d[j].group,order:d[j].order}));return e},createCommand:function(a,b,c){return{exec:function(d){d=d.scayt;var e={};e[b]=a;d.replaceSelectionNode(e);"startGrammarCheck"===c&&d.removeMarkupInSelectionNode({grammarOnly:!0});d.fire(c)}}}});CKEDITOR.plugins.scayt={state:{scayt:{},grayt:{}},suggestions:[],loadingHelper:{loadOrder:[]},isLoading:!1,options:{disablingCommandExec:{source:!0,newpage:!0,templates:!0},data_attribute_name:"data-scayt-word",misspelled_word_class:"scayt-misspell-word",problem_grammar_data_attribute:"data-grayt-phrase",problem_grammar_class:"gramm-problem"},backCompatibilityMap:{scayt_service_protocol:"scayt_serviceProtocol",scayt_service_host:"scayt_serviceHost",scayt_service_port:"scayt_servicePort",scayt_service_path:"scayt_servicePath",scayt_customerid:"scayt_customerId"},replaceOldOptionsNames:function(a){for(var b in a)b in this.backCompatibilityMap&&(a[this.backCompatibilityMap[b]]=a[b],
delete a[b])},createScayt:function(a){var b=this,c=CKEDITOR.plugins.scayt;this.loadScaytLibrary(a,function(a){var d=a.window&&a.window.getFrame()||a.editable();d?(d={lang:a.config.scayt_sLang,container:d.$,customDictionary:a.config.scayt_customDictionaryIds,userDictionaryName:a.config.scayt_userDictionaryName,localization:a.langCode,customer_id:a.config.scayt_customerId,debug:a.config.scayt_debug,data_attribute_name:b.options.data_attribute_name,misspelled_word_class:b.options.misspelled_word_class,problem_grammar_data_attribute:b.options.problem_grammar_data_attribute,problem_grammar_class:b.options.problem_grammar_class,"options-to-restore":a.config.scayt_disableOptionsStorage,focused:a.editable().hasFocus,ignoreElementsRegex:a.config.scayt_elementsToIgnore,minWordLength:a.config.scayt_minWordLength,multiLanguageMode:a.config.scayt_multiLanguageMode,multiLanguageStyles:a.config.scayt_multiLanguageStyles,graytAutoStartup:c.state.grayt[a.name]},a.config.scayt_serviceProtocol&&(d.service_protocol=a.config.scayt_serviceProtocol),a.config.scayt_serviceHost&&(d.service_host=a.config.scayt_serviceHost),a.config.scayt_servicePort&&(d.service_port=a.config.scayt_servicePort),a.config.scayt_servicePath&&(d.service_path=a.config.scayt_servicePath),"boolean"===typeof a.config.scayt_ignoreAllCapsWords&&(d["ignore-all-caps-words"]=a.config.scayt_ignoreAllCapsWords),"boolean"===typeof a.config.scayt_ignoreDomainNames&&(d["ignore-domain-names"]=a.config.scayt_ignoreDomainNames),"boolean"===typeof a.config.scayt_ignoreWordsWithMixedCases&&(d["ignore-words-with-mixed-cases"]=a.config.scayt_ignoreWordsWithMixedCases),"boolean"===typeof a.config.scayt_ignoreWordsWithNumbers&&(d["ignore-words-with-numbers"]=a.config.scayt_ignoreWordsWithNumbers),d=new SCAYT.CKSCAYT(d,function(){},function(){}),d.subscribe("suggestionListSend",function(a){for(var b={},c=[],d=0;d<a.suggestionList.length;d++)b["word_"+a.suggestionList[d]]||(b["word_"+a.suggestionList[d]]=a.suggestionList[d],c.push(a.suggestionList[d]));CKEDITOR.plugins.scayt.suggestions=c}),d.subscribe("selectionIsChanged",function(b){a.getSelection().isLocked&&a.lockSelection()}),d.subscribe("graytStateChanged",function(b){c.state.grayt[a.name]=b.state}),a.scayt=d,a.fire("scaytButtonState",a.readOnly?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_ON)):c.state.scayt[a.name]=!1})},destroy:function(a){a.scayt&&a.scayt.destroy();delete a.scayt;a.fire("scaytButtonState",CKEDITOR.TRISTATE_OFF)},loadScaytLibrary:function(a,b){var c=this,d,e;this.loadingHelper[a.name]||("undefined"===typeof window.SCAYT||"function"!==typeof window.SCAYT.CKSCAYT?(this.loadingHelper[a.name]=b,this.loadingHelper.loadOrder.push(a.name),d=new Date,d=d.getTime(),e=a.config.scayt_srcUrl,e+=0<=e.indexOf("?")?"":"?"+d,this.loadingHelper.ckscaytLoading||(CKEDITOR.scriptLoader.load(e,function(a){if(a){CKEDITOR.fireOnce("scaytReady");for(var b=0;b<c.loadingHelper.loadOrder.length;b++){a=c.loadingHelper.loadOrder[b];if("function"===typeof c.loadingHelper[a])c.loadingHelper[a](CKEDITOR.instances[a]);delete c.loadingHelper[a]}c.loadingHelper.loadOrder=[]}}),this.loadingHelper.ckscaytLoading=!0)):window.SCAYT&&"function"===typeof window.SCAYT.CKSCAYT&&(CKEDITOR.fireOnce("scaytReady"),a.scayt||"function"===typeof b&&b(a)))}};CKEDITOR.on("dialogDefinition",function(a){var b=a.data.name;a=a.data.definition.dialog;if("scaytDialog"===b)a.on("cancel",function(a){return!1},this,null,-1);if("checkspell"===b)a.on("cancel",function(a){a=a.sender&&a.sender.getParentEditor();var b=CKEDITOR.plugins.scayt,c=a.scayt;c&&b.state.scayt[a.name]&&c.setMarkupPaused&&c.setMarkupPaused(!1);a.unlockSelection()},this,null,-2);if("link"===b)a.on("ok",function(a){var b=a.sender&&a.sender.getParentEditor();b&&setTimeout(function(){b.fire("reloadMarkupScayt",{removeOptions:{removeInside:!0,forceBookmark:!0},timeout:0})},0)})});CKEDITOR.on("scaytReady",function(){if(!0===CKEDITOR.config.scayt_handleCheckDirty){var a=CKEDITOR.editor.prototype;a.checkDirty=CKEDITOR.tools.override(a.checkDirty,function(a){return function(){var b=null,c=this.scayt;if(CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[this.name]&&this.scayt){if(b="ready"==this.status)var d=c.removeMarkupFromString(this.getSnapshot()),c=c.removeMarkupFromString(this._.previousValue),b=b&&c!==d}else b=a.call(this);return b}});a.resetDirty=CKEDITOR.tools.override(a.resetDirty,function(a){return function(){var b=this.scayt;CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[this.name]&&this.scayt?this._.previousValue=b.removeMarkupFromString(this.getSnapshot()):a.call(this)}})}if(!0===CKEDITOR.config.scayt_handleUndoRedo){var a=CKEDITOR.plugins.undo.Image.prototype,b="function"==typeof a.equalsContent?"equalsContent":"equals";a[b]=CKEDITOR.tools.override(a[b],function(a){return function(b){var c=b.editor.scayt,d=this.contents,e=b.contents,f=null;CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[b.editor.name]&&b.editor.scayt&&(this.contents=c.removeMarkupFromString(d)||"",b.contents=c.removeMarkupFromString(e)||"");f=a.apply(this,arguments);this.contents=d;b.contents=e;return f}})}});(function(){CKEDITOR.plugins.add("stylescombo",{requires:"richcombo",init:function(a){var b=a.config,c=a.lang.stylescombo,d={},e=[],f=[];a.on("stylesSet",function(c){if(c=c.data.styles){for(var g,h,i,j=0,k=c.length;j<k;j++)(g=c[j],a.blockless&&g.element in CKEDITOR.dtd.$block||(h=g.name,g=new CKEDITOR.style(g),a.filter.customConfig&&!a.filter.check(g)))||(g._name=h,g._.enterMode=b.enterMode,g._.type=i=g.assignedTo||g.type,g._.weight=j+1e3*(i==CKEDITOR.STYLE_OBJECT?1:i==CKEDITOR.STYLE_BLOCK?2:3),d[h]=g,e.push(g),f.push(g));e.sort(function(a,b){return a._.weight-b._.weight})}});a.ui.addRichCombo("Styles",{label:c.label,title:c.panelTitle,toolbar:"styles,10",allowedContent:f,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(b.contentsCss),multiSelect:!0,attributes:{"aria-label":c.panelTitle}},init:function(){var a,b,d,f,g,h;g=0;for(h=e.length;g<h;g++)a=e[g],b=a._name,f=a._.type,f!=d&&(this.startGroup(c["panelTitle"+String(f)]),d=f),this.add(b,a.type==CKEDITOR.STYLE_OBJECT?b:a.buildPreview(),b);this.commit()},onClick:function(b){a.focus();a.fire("saveSnapshot");b=d[b];var c=a.elementPath();a[b.checkActive(c,a)?"removeStyle":"applyStyle"](b);a.fire("saveSnapshot")},onRender:function(){a.on("selectionChange",function(b){var c=this.getValue();b=b.data.path.elements;for(var e=0,f=b.length,g;e<f;e++){g=b[e];for(var h in d)if(d[h].checkElementRemovable(g,!0,a)){h!=c&&this.setValue(h);return}}this.setValue("")},this)},onOpen:function(){var b=a.getSelection().getSelectedElement(),b=a.elementPath(b),e=[0,0,0,0];this.showAll();this.unmarkAll();for(var f in d){var g=d[f],h=g._.type;g.checkApplicable(b,a,a.activeFilter)?e[h]++:this.hideItem(f);g.checkActive(b,a)&&this.mark(f)}e[CKEDITOR.STYLE_BLOCK]||this.hideGroup(c["panelTitle"+String(CKEDITOR.STYLE_BLOCK)]);e[CKEDITOR.STYLE_INLINE]||this.hideGroup(c["panelTitle"+String(CKEDITOR.STYLE_INLINE)]);e[CKEDITOR.STYLE_OBJECT]||this.hideGroup(c["panelTitle"+String(CKEDITOR.STYLE_OBJECT)])},refresh:function(){var b=a.elementPath();if(b){for(var c in d)if(d[c].checkApplicable(b,a,a.activeFilter))return;this.setState(CKEDITOR.TRISTATE_DISABLED)}},reset:function(){d={};e=[]}})}})})();(function(){function a(a){return{editorFocus:!1,canUndo:!1,modes:{wysiwyg:1},exec:function(b){if(b.editable().hasFocus){var c=b.getSelection(),d;if(d=new CKEDITOR.dom.elementPath(c.getCommonAncestor(),c.root).contains({td:1,th:1},1)){var c=b.createRange(),e=CKEDITOR.tools.tryThese(function(){var b=d.getParent().$.cells[d.$.cellIndex+(a?-1:1)];b.parentNode.parentNode;return b},function(){var b=d.getParent(),b=b.getAscendant("table").$.rows[b.$.rowIndex+(a?-1:1)];return b.cells[a?b.cells.length-1:0]});if(e||a)if(e)e=new CKEDITOR.dom.element(e),c.moveToElementEditStart(e),c.checkStartOfBlock()&&c.checkEndOfBlock()||c.selectNodeContents(e);else return!0;else{for(var f=d.getAscendant("table").$,e=d.getParent().$.cells,f=new CKEDITOR.dom.element(f.insertRow(-1),b.document),g=0,h=e.length;g<h;g++)f.append(new CKEDITOR.dom.element(e[g],b.document).clone(!1,!1)).appendBogus();c.moveToElementEditStart(f)}c.select(!0);return!0}}return!1}}}var b={editorFocus:!1,modes:{wysiwyg:1,source:1}},c={exec:function(a){a.container.focusNext(!0,a.tabIndex)}},d={exec:function(a){a.container.focusPrevious(!0,a.tabIndex)}};CKEDITOR.plugins.add("tab",{init:function(e){for(var f=!1!==e.config.enableTabKeyTools,g=e.config.tabSpaces||0,h="";g--;)h+="";if(h)e.on("key",function(a){9==a.data.keyCode&&(e.insertText(h),a.cancel())});if(f)e.on("key",function(a){(9==a.data.keyCode&&e.execCommand("selectNextCell")||a.data.keyCode==CKEDITOR.SHIFT+9&&e.execCommand("selectPreviousCell"))&&a.cancel()});e.addCommand("blur",CKEDITOR.tools.extend(c,b));e.addCommand("blurBack",CKEDITOR.tools.extend(d,b));e.addCommand("selectNextCell",a());e.addCommand("selectPreviousCell",a(!0))}})})();CKEDITOR.dom.element.prototype.focusNext=function(a,b){var c=void 0===b?this.getTabIndex():b,d,e,f,g,h,i;if(0>=c)for(h=this.getNextSourceNode(a,CKEDITOR.NODE_ELEMENT);h;){if(h.isVisible()&&0===h.getTabIndex()){f=h;break}h=h.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT)}else for(h=this.getDocument().getBody().getFirst();h=h.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!d)if(!e&&h.equals(this)){if(e=!0,a){if(!(h=h.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;d=1}}else e&&!this.contains(h)&&(d=1);if(h.isVisible()&&!(0>(i=h.getTabIndex()))){if(d&&i==c){f=h;break}i>c&&(!f||!g||i<g)?(f=h,g=i):f||0!==i||(f=h,g=i)}}f&&f.focus()};CKEDITOR.dom.element.prototype.focusPrevious=function(a,b){for(var c=void 0===b?this.getTabIndex():b,d,e,f,g=0,h,i=this.getDocument().getBody().getLast();i=i.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!d)if(!e&&i.equals(this)){if(e=!0,a){if(!(i=i.getPreviousSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;d=1}}else e&&!this.contains(i)&&(d=1);if(i.isVisible()&&!(0>(h=i.getTabIndex())))if(0>=c){if(d&&0===h){f=i;break}h>g&&(f=i,g=h)}else{if(d&&h==c){f=i;break}h<c&&(!f||h>g)&&(f=i,g=h)}}f&&f.focus()};CKEDITOR.plugins.add("table",{requires:"dialog",init:function(a){function b(a){return CKEDITOR.tools.extend(a||{},{contextSensitive:1,refresh:function(a,b){this.setState(b.contains("table",1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}if(!a.blockless){var c=a.lang.table;a.addCommand("table",new CKEDITOR.dialogCommand("table",{context:"table",allowedContent:"table{width,height}[align,border,cellpadding,cellspacing,summary];caption tbody thead tfoot;th td tr[scope];"+(a.plugins.dialogadvtab?"table"+a.plugins.dialogadvtab.allowedContent():""),requiredContent:"table",contentTransformations:[["table{width}: sizeToStyle","table[width]: sizeToAttribute"]]}));a.addCommand("tableProperties",new CKEDITOR.dialogCommand("tableProperties",b()));a.addCommand("tableDelete",b({exec:function(a){var b=a.elementPath().contains("table",1);if(b){var c=b.getParent(),d=a.editable();1!=c.getChildCount()||c.is("td","th")||c.equals(d)||(b=c);a=a.createRange();a.moveToPosition(b,CKEDITOR.POSITION_BEFORE_START);b.remove();a.select()}}}));a.ui.addButton&&a.ui.addButton("Table",{label:c.toolbar,command:"table",toolbar:"insert,30"});CKEDITOR.dialog.add("table",this.path+"dialogs/table.js");CKEDITOR.dialog.add("tableProperties",this.path+"dialogs/table.js");a.addMenuItems&&a.addMenuItems({table:{label:c.menu,command:"tableProperties",group:"table",order:5},tabledelete:{label:c.deleteTable,command:"tableDelete",group:"table",order:1}});a.on("doubleclick",function(a){a.data.element.is("table")&&(a.data.dialog="tableProperties")});a.contextMenu&&a.contextMenu.addListener(function(){return{tabledelete:CKEDITOR.TRISTATE_OFF,table:CKEDITOR.TRISTATE_OFF}})}}});(function(){function a(a){function b(a){0<c.length||a.type!=CKEDITOR.NODE_ELEMENT||!m.test(a.getName())||a.getCustomData("selected_cell")||(CKEDITOR.dom.element.setMarker(d,a,"selected_cell",!0),c.push(a))}a=a.getRanges();for(var c=[],d={},e=0;e<a.length;e++){var f=a[e];if(f.collapsed)f=f.getCommonAncestor(),(f=f.getAscendant("td",!0)||f.getAscendant("th",!0))&&c.push(f);else{var f=new CKEDITOR.dom.walker(f),g;for(f.guard=b;g=f.next();)g.type==CKEDITOR.NODE_ELEMENT&&g.is(CKEDITOR.dtd.table)||(g=g.getAscendant("td",!0)||g.getAscendant("th",!0))&&!g.getCustomData("selected_cell")&&(CKEDITOR.dom.element.setMarker(d,g,"selected_cell",!0),c.push(g))}}CKEDITOR.dom.element.clearAllMarkers(d);return c}function b(b,c){for(var d=a(b),e=d[0],f=e.getAscendant("table"),e=e.getDocument(),g=d[0].getParent(),h=g.$.rowIndex,d=d[d.length-1],i=d.getParent().$.rowIndex+d.$.rowSpan-1,d=new CKEDITOR.dom.element(f.$.rows[i]),h=c?h:i,g=c?g:d,d=CKEDITOR.tools.buildTableMap(f),f=d[h],h=c?d[h-1]:d[h+1],d=d[0].length,e=e.createElement("tr"),i=0;f[i]&&i<d;i++){var j;1<f[i].rowSpan&&h&&f[i]==h[i]?(j=f[i],j.rowSpan+=1):(j=new CKEDITOR.dom.element(f[i]).clone(),j.removeAttribute("rowSpan"),j.appendBogus(),e.append(j),j=j.$);i+=j.colSpan-1}c?e.insertBefore(g):e.insertAfter(g)}function c(b){if(b instanceof CKEDITOR.dom.selection){var d=a(b),e=d[0].getAscendant("table"),f=CKEDITOR.tools.buildTableMap(e);b=d[0].getParent().$.rowIndex;for(var d=d[d.length-1],g=d.getParent().$.rowIndex+d.$.rowSpan-1,d=[],h=b;h<=g;h++){for(var i=f[h],j=new CKEDITOR.dom.element(e.$.rows[h]),k=0;k<i.length;k++){var l=new CKEDITOR.dom.element(i[k]),m=l.getParent().$.rowIndex;1==l.$.rowSpan?l.remove():(--l.$.rowSpan,m==h&&(m=f[h+1],m[k-1]?l.insertAfter(new CKEDITOR.dom.element(m[k-1])):new CKEDITOR.dom.element(e.$.rows[h+1]).append(l,1)));k+=l.$.colSpan-1}d.push(j)}f=e.$.rows;e=new CKEDITOR.dom.element(f[g+1]||(0<b?f[b-1]:null)||e.$.parentNode);for(h=d.length;0<=h;h--)c(d[h]);return e}b instanceof CKEDITOR.dom.element&&(e=b.getAscendant("table"),1==e.$.rows.length?e.remove():b.remove());return null}function d(a,b){for(var c=b?Infinity:0,d=0;d<a.length;d++){var e;e=a[d];for(var f=b,g=e.getParent().$.cells,h=0,i=0;i<g.length;i++){var j=g[i],h=h+(f?1:j.colSpan);if(j==e.$)break}e=h-1;if(b?e<c:e>c)c=e}return c}function e(b,c){for(var e=a(b),f=e[0].getAscendant("table"),g=d(e,1),e=d(e),g=c?g:e,h=CKEDITOR.tools.buildTableMap(f),f=[],e=[],i=h.length,j=0;j<i;j++)f.push(h[j][g]),e.push(c?h[j][g-1]:h[j][g+1]);for(j=0;j<i;j++)f[j]&&(1<f[j].colSpan&&e[j]==f[j]?(g=f[j],g.colSpan+=1):(g=new CKEDITOR.dom.element(f[j]).clone(),g.removeAttribute("colSpan"),g.appendBogus(),g[c?"insertBefore":"insertAfter"].call(g,new CKEDITOR.dom.element(f[j])),g=g.$),j+=g.rowSpan-1)}function f(a,b){var c=a.getStartElement();if(c=c.getAscendant("td",1)||c.getAscendant("th",1)){var d=c.clone();d.appendBogus();b?d.insertBefore(c):d.insertAfter(c)}}function g(b){if(b instanceof CKEDITOR.dom.selection){b=a(b);var c=b[0]&&b[0].getAscendant("table"),d;a:{var e=0;d=b.length-1;for(var f={},i,j;i=b[e++];)CKEDITOR.dom.element.setMarker(f,i,"delete_cell",!0);for(e=0;i=b[e++];)if((j=i.getPrevious())&&!j.getCustomData("delete_cell")||(j=i.getNext())&&!j.getCustomData("delete_cell")){CKEDITOR.dom.element.clearAllMarkers(f);d=j;break a}CKEDITOR.dom.element.clearAllMarkers(f);j=b[0].getParent();(j=j.getPrevious())?d=j.getLast():(j=b[d].getParent(),d=(j=j.getNext())?j.getChild(0):null)}for(j=b.length-1;0<=j;j--)g(b[j]);d?h(d,!0):c&&c.remove()}else b instanceof CKEDITOR.dom.element&&(c=b.getParent(),1==c.getChildCount()?c.remove():b.remove())}function h(a,b){var c=a.getDocument(),d=CKEDITOR.document;CKEDITOR.env.ie&&10==CKEDITOR.env.version&&(d.focus(),c.focus());c=new CKEDITOR.dom.range(c);c["moveToElementEdit"+(b?"End":"Start")](a)||(c.selectNodeContents(a),c.collapse(b?!1:!0));c.select(!0)}function i(a,b,c){a=a[b];if("undefined"==typeof c)return a;for(b=0;a&&b<a.length;b++){if(c.is&&a[b]==c.$)return b;if(b==c)return new CKEDITOR.dom.element(a[b])}return c.is?-1:null}function j(b,c,d){var e=a(b),f;if((c?1!=e.length:2>e.length)||(f=b.getCommonAncestor())&&f.type==CKEDITOR.NODE_ELEMENT&&f.is("table"))return!1;var g;b=e[0];f=b.getAscendant("table");var h=CKEDITOR.tools.buildTableMap(f),j=h.length,k=h[0].length,l=b.getParent().$.rowIndex,m=i(h,l,b);if(c){var n;try{var o=parseInt(b.getAttribute("rowspan"),10)||1;g=parseInt(b.getAttribute("colspan"),10)||1;n=h["up"==c?l-o:"down"==c?l+o:l]["left"==c?m-g:"right"==c?m+g:m]}catch(p){return!1}if(!n||b.$==n)return!1;e["up"==c||"left"==c?"unshift":"push"](new CKEDITOR.dom.element(n))}c=b.getDocument();var q=l,o=n=0,r=!d&&new CKEDITOR.dom.documentFragment(c),s=0;for(c=0;c<e.length;c++){g=e[c];var t=g.getParent(),u=g.getFirst(),v=g.$.colSpan,w=g.$.rowSpan,t=t.$.rowIndex,x=i(h,t,g),s=s+v*w,o=Math.max(o,x-m+v);n=Math.max(n,t-l+w);d||(v=g,(w=v.getBogus())&&w.remove(),v.trim(),g.getChildren().count()&&(t==q||!u||u.isBlockBoundary&&u.isBlockBoundary({br:1})||(q=r.getLast(CKEDITOR.dom.walker.whitespaces(!0)),!q||q.is&&q.is("br")||r.append("br")),g.moveChildren(r)),c?g.remove():g.setHtml(""));q=t}if(d)return n*o==s;r.moveChildren(b);b.appendBogus();o>=k?b.removeAttribute("rowSpan"):b.$.rowSpan=n;n>=j?b.removeAttribute("colSpan"):b.$.colSpan=o;d=new CKEDITOR.dom.nodeList(f.$.rows);e=d.count();for(c=e-1;0<=c;c--)f=d.getItem(c),f.$.cells.length||(f.remove(),e++);return b}function k(b,c){var d=a(b);if(1<d.length)return!1;if(c)return!0;var d=d[0],e=d.getParent(),f=e.getAscendant("table"),g=CKEDITOR.tools.buildTableMap(f),h=e.$.rowIndex,j=i(g,h,d),k=d.$.rowSpan,l;if(1<k){l=Math.ceil(k/2);for(var k=Math.floor(k/2),e=h+l,f=new CKEDITOR.dom.element(f.$.rows[e]),g=i(g,e),m,e=d.clone(),h=0;h<g.length;h++)if(m=g[h],m.parentNode==f.$&&h>j){e.insertBefore(new CKEDITOR.dom.element(m));break}else m=null;m||f.append(e)}else for(k=l=1,f=e.clone(),f.insertAfter(e),f.append(e=d.clone()),m=i(g,h),j=0;j<m.length;j++)m[j].rowSpan++;e.appendBogus();d.$.rowSpan=l;e.$.rowSpan=k;1==l&&d.removeAttribute("rowSpan");1==k&&e.removeAttribute("rowSpan");return e}function l(b,c){var d=a(b);if(1<d.length)return!1;if(c)return!0;var d=d[0],e=d.getParent(),f=e.getAscendant("table"),f=CKEDITOR.tools.buildTableMap(f),g=i(f,e.$.rowIndex,d),h=d.$.colSpan;if(1<h)e=Math.ceil(h/2),h=Math.floor(h/2);else{for(var h=e=1,j=[],k=0;k<f.length;k++){var l=f[k];j.push(l[g]);1<l[g].rowSpan&&(k+=l[g].rowSpan-1)}for(f=0;f<j.length;f++)j[f].colSpan++}f=d.clone();f.insertAfter(d);f.appendBogus();d.$.colSpan=e;f.$.colSpan=h;1==e&&d.removeAttribute("colSpan");1==h&&f.removeAttribute("colSpan");return f}var m=/^(?:td|th)$/;CKEDITOR.plugins.tabletools={requires:"table,dialog,contextmenu",init:function(d){function i(a){return CKEDITOR.tools.extend(a||{},{contextSensitive:1,refresh:function(a,b){this.setState(b.contains({td:1,th:1},1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}function m(a,b){var c=d.addCommand(a,b);d.addFeature(c)}var n=d.lang.table;m("cellProperties",new CKEDITOR.dialogCommand("cellProperties",i({allowedContent:"td th{width,height,border-color,background-color,white-space,vertical-align,text-align}[colspan,rowspan]",requiredContent:"table"})));CKEDITOR.dialog.add("cellProperties",this.path+"dialogs/tableCell.js");m("rowDelete",i({requiredContent:"table",exec:function(a){a=a.getSelection();h(c(a))}}));m("rowInsertBefore",i({requiredContent:"table",exec:function(a){a=a.getSelection();b(a,!0)}}));m("rowInsertAfter",i({requiredContent:"table",exec:function(a){a=a.getSelection();b(a)}}));m("columnDelete",i({requiredContent:"table",exec:function(b){b=b.getSelection();b=a(b);var c=b[0],d=b[b.length-1];b=c.getAscendant("table");for(var e=CKEDITOR.tools.buildTableMap(b),f,g,i=[],j=0,k=e.length;j<k;j++)for(var l=0,m=e[j].length;l<m;l++)e[j][l]==c.$&&(f=l),e[j][l]==d.$&&(g=l);for(j=f;j<=g;j++)for(l=0;l<e.length;l++)d=e[l],c=new CKEDITOR.dom.element(b.$.rows[l]),d=new CKEDITOR.dom.element(d[j]),d.$&&(1==d.$.colSpan?d.remove():--d.$.colSpan,l+=d.$.rowSpan-1,c.$.cells.length||i.push(c));g=b.$.rows[0]&&b.$.rows[0].cells;f=new CKEDITOR.dom.element(g[f]||(f?g[f-1]:b.$.parentNode));i.length==k&&b.remove();f&&h(f,!0)}}));m("columnInsertBefore",i({requiredContent:"table",exec:function(a){a=a.getSelection();e(a,!0)}}));m("columnInsertAfter",i({requiredContent:"table",exec:function(a){a=a.getSelection();e(a)}}));m("cellDelete",i({requiredContent:"table",exec:function(a){a=a.getSelection();g(a)}}));m("cellMerge",i({allowedContent:"td[colspan,rowspan]",requiredContent:"td[colspan,rowspan]",exec:function(a){h(j(a.getSelection()),!0)}}));m("cellMergeRight",i({allowedContent:"td[colspan]",requiredContent:"td[colspan]",exec:function(a){h(j(a.getSelection(),"right"),!0)}}));m("cellMergeDown",i({allowedContent:"td[rowspan]",requiredContent:"td[rowspan]",exec:function(a){h(j(a.getSelection(),"down"),!0)}}));m("cellVerticalSplit",i({allowedContent:"td[rowspan]",requiredContent:"td[rowspan]",exec:function(a){h(l(a.getSelection()))}}));m("cellHorizontalSplit",i({allowedContent:"td[colspan]",requiredContent:"td[colspan]",exec:function(a){h(k(a.getSelection()))}}));m("cellInsertBefore",i({requiredContent:"table",exec:function(a){a=a.getSelection();f(a,!0)}}));m("cellInsertAfter",i({requiredContent:"table",exec:function(a){a=a.getSelection();f(a)}}));d.addMenuItems&&d.addMenuItems({tablecell:{label:n.cell.menu,group:"tablecell",order:1,getItems:function(){var b=d.getSelection(),c=a(b);return{tablecell_insertBefore:CKEDITOR.TRISTATE_OFF,tablecell_insertAfter:CKEDITOR.TRISTATE_OFF,tablecell_delete:CKEDITOR.TRISTATE_OFF,tablecell_merge:j(b,null,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_right:j(b,"right",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_down:j(b,"down",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_vertical:l(b,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_horizontal:k(b,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_properties:0<c.length?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED}}},tablecell_insertBefore:{label:n.cell.insertBefore,group:"tablecell",command:"cellInsertBefore",order:5},tablecell_insertAfter:{label:n.cell.insertAfter,group:"tablecell",command:"cellInsertAfter",order:10},tablecell_delete:{label:n.cell.deleteCell,group:"tablecell",command:"cellDelete",order:15},tablecell_merge:{label:n.cell.merge,group:"tablecell",command:"cellMerge",order:16},tablecell_merge_right:{label:n.cell.mergeRight,group:"tablecell",command:"cellMergeRight",order:17},tablecell_merge_down:{label:n.cell.mergeDown,group:"tablecell",command:"cellMergeDown",order:18},tablecell_split_horizontal:{label:n.cell.splitHorizontal,group:"tablecell",command:"cellHorizontalSplit",order:19},tablecell_split_vertical:{label:n.cell.splitVertical,group:"tablecell",command:"cellVerticalSplit",order:20},tablecell_properties:{label:n.cell.title,group:"tablecellproperties",command:"cellProperties",order:21},tablerow:{label:n.row.menu,group:"tablerow",order:1,getItems:function(){return{tablerow_insertBefore:CKEDITOR.TRISTATE_OFF,tablerow_insertAfter:CKEDITOR.TRISTATE_OFF,tablerow_delete:CKEDITOR.TRISTATE_OFF}}},tablerow_insertBefore:{label:n.row.insertBefore,group:"tablerow",command:"rowInsertBefore",order:5},tablerow_insertAfter:{label:n.row.insertAfter,group:"tablerow",command:"rowInsertAfter",order:10},tablerow_delete:{label:n.row.deleteRow,group:"tablerow",command:"rowDelete",order:15},tablecolumn:{label:n.column.menu,group:"tablecolumn",order:1,getItems:function(){return{tablecolumn_insertBefore:CKEDITOR.TRISTATE_OFF,tablecolumn_insertAfter:CKEDITOR.TRISTATE_OFF,tablecolumn_delete:CKEDITOR.TRISTATE_OFF}}},tablecolumn_insertBefore:{label:n.column.insertBefore,group:"tablecolumn",command:"columnInsertBefore",order:5},tablecolumn_insertAfter:{label:n.column.insertAfter,group:"tablecolumn",command:"columnInsertAfter",order:10},tablecolumn_delete:{label:n.column.deleteColumn,group:"tablecolumn",command:"columnDelete",order:15}});d.contextMenu&&d.contextMenu.addListener(function(a,b,c){return(a=c.contains({td:1,th:1},1))&&!a.isReadOnly()?{tablecell:CKEDITOR.TRISTATE_OFF,tablerow:CKEDITOR.TRISTATE_OFF,tablecolumn:CKEDITOR.TRISTATE_OFF}:null})},getSelectedCells:a};CKEDITOR.plugins.add("tabletools",CKEDITOR.plugins.tabletools)})();CKEDITOR.tools.buildTableMap=function(a){a=a.$.rows;for(var b=-1,c=[],d=0;d<a.length;d++){b++;!c[b]&&(c[b]=[]);for(var e=-1,f=0;f<a[d].cells.length;f++){var g=a[d].cells[f];for(e++;c[b][e];)e++;for(var h=isNaN(g.colSpan)?1:g.colSpan,g=isNaN(g.rowSpan)?1:g.rowSpan,i=0;i<g;i++){c[b+i]||(c[b+i]=[]);for(var j=0;j<h;j++)c[b+i][e+j]=a[d].cells[f]}e+=h-1}}return c};(function(){var a=[CKEDITOR.CTRL+90,CKEDITOR.CTRL+89,CKEDITOR.CTRL+CKEDITOR.SHIFT+90],b={8:1,46:1};CKEDITOR.plugins.add("undo",{init:function(b){function d(a){g.enabled&&!1!==a.data.command.canUndo&&g.save()}function e(){g.enabled=b.readOnly?!1:"wysiwyg"==b.mode;g.onChange()}var g=b.undoManager=new c(b),h=g.editingHandler=new f(g),i=b.addCommand("undo",{exec:function(){g.undo()&&(b.selectionChange(),this.fire("afterUndo"))},startDisabled:!0,canUndo:!1}),j=b.addCommand("redo",{exec:function(){g.redo()&&(b.selectionChange(),this.fire("afterRedo"))},startDisabled:!0,canUndo:!1});b.setKeystroke([[a[0],"undo"],[a[1],"redo"],[a[2],"redo"]]);g.onChange=function(){i.setState(g.undoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED);j.setState(g.redoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)};b.on("beforeCommandExec",d);b.on("afterCommandExec",d);b.on("saveSnapshot",function(a){g.save(a.data&&a.data.contentOnly)});b.on("contentDom",h.attachListeners,h);b.on("instanceReady",function(){b.fire("saveSnapshot")});b.on("beforeModeUnload",function(){"wysiwyg"==b.mode&&g.save(!0)});b.on("mode",e);b.on("readOnly",e);b.ui.addButton&&(b.ui.addButton("Undo",{label:b.lang.undo.undo,command:"undo",toolbar:"undo,10"}),b.ui.addButton("Redo",{label:b.lang.undo.redo,command:"redo",toolbar:"undo,20"}));b.resetUndo=function(){g.reset();b.fire("saveSnapshot")};b.on("updateSnapshot",function(){g.currentImage&&g.update()});b.on("lockSnapshot",function(a){a=a.data;g.lock(a&&a.dontUpdate,a&&a.forceUpdate)});b.on("unlockSnapshot",g.unlock,g)}});CKEDITOR.plugins.undo={};var c=CKEDITOR.plugins.undo.UndoManager=function(a){this.strokesRecorded=[0,0];this.locked=null;this.previousKeyGroup=-1;this.limit=a.config.undoStackSize||20;this.strokesLimit=25;this.editor=a;this.reset()};c.prototype={type:function(a,b){var d=c.getKeyGroup(a),e=this.strokesRecorded[d]+1;b=b||e>=this.strokesLimit;this.typing||(this.hasUndo=this.typing=!0,this.hasRedo=!1,this.onChange());b?(e=0,this.editor.fire("saveSnapshot")):this.editor.fire("change");this.strokesRecorded[d]=e;this.previousKeyGroup=d},keyGroupChanged:function(a){return c.getKeyGroup(a)!=this.previousKeyGroup},reset:function(){this.snapshots=[];this.index=-1;this.currentImage=null;this.hasRedo=this.hasUndo=!1;this.locked=null;this.resetType()},resetType:function(){this.strokesRecorded=[0,0];this.typing=!1;this.previousKeyGroup=-1},refreshState:function(){this.hasUndo=!!this.getNextImage(!0);this.hasRedo=!!this.getNextImage(!1);this.resetType();this.onChange()},save:function(a,b,c){var e=this.editor;if(this.locked||"ready"!=e.status||"wysiwyg"!=e.mode)return!1;var f=e.editable();if(!f||"ready"!=f.status)return!1;f=this.snapshots;b||(b=new d(e));if(!1===b.contents)return!1;if(this.currentImage)if(b.equalsContent(this.currentImage)){if(a||b.equalsSelection(this.currentImage))return!1}else!1!==c&&e.fire("change");f.splice(this.index+1,f.length-this.index-1);f.length==this.limit&&f.shift();this.index=f.push(b)-1;this.currentImage=b;!1!==c&&this.refreshState();return!0},restoreImage:function(a){var b=this.editor,c;a.bookmarks&&(b.focus(),c=b.getSelection());this.locked={level:999};this.editor.loadSnapshot(a.contents);a.bookmarks?c.selectBookmarks(a.bookmarks):CKEDITOR.env.ie&&(c=this.editor.document.getBody().$.createTextRange(),c.collapse(!0),c.select());this.locked=null;this.index=a.index;this.currentImage=this.snapshots[this.index];this.update();this.refreshState();b.fire("change")},getNextImage:function(a){var b=this.snapshots,c=this.currentImage,d;if(c)if(a)for(d=this.index-1;0<=d;d--){if(a=b[d],!c.equalsContent(a))return a.index=d,a}else for(d=this.index+1;d<b.length;d++)if(a=b[d],!c.equalsContent(a))return a.index=d,a;return null},redoable:function(){return this.enabled&&this.hasRedo},undoable:function(){return this.enabled&&this.hasUndo},undo:function(){if(this.undoable()){this.save(!0);var a=this.getNextImage(!0);if(a)return this.restoreImage(a),!0}return!1},redo:function(){if(this.redoable()&&(this.save(!0),this.redoable())){var a=this.getNextImage(!1);if(a)return this.restoreImage(a),!0}return!1},update:function(a){if(!this.locked){a||(a=new d(this.editor));for(var b=this.index,c=this.snapshots;0<b&&this.currentImage.equalsContent(c[b-1]);)--b;c.splice(b,this.index-b+1,a);this.index=b;this.currentImage=a}},updateSelection:function(a){if(!this.snapshots.length)return!1;var b=this.snapshots,c=b[b.length-1];return c.equalsContent(a)&&!c.equalsSelection(a)?(this.currentImage=b[b.length-1]=a,!0):!1},lock:function(a,b){if(this.locked)this.locked.level++;else if(a)this.locked={level:1};else{var c=null;if(b)c=!0;else{var e=new d(this.editor,(!0));this.currentImage&&this.currentImage.equalsContent(e)&&(c=e)}this.locked={update:c,level:1}}},unlock:function(){if(this.locked&&!--this.locked.level){var a=this.locked.update;this.locked=null;if(!0===a)this.update();else if(a){var b=new d(this.editor,(!0));a.equalsContent(b)||this.update()}}}};c.navigationKeyCodes={37:1,38:1,39:1,40:1,36:1,35:1,33:1,34:1};c.keyGroups={PRINTABLE:0,FUNCTIONAL:1};c.isNavigationKey=function(a){return!!c.navigationKeyCodes[a]};c.getKeyGroup=function(a){var d=c.keyGroups;return b[a]?d.FUNCTIONAL:d.PRINTABLE};c.getOppositeKeyGroup=function(a){var b=c.keyGroups;return a==b.FUNCTIONAL?b.PRINTABLE:b.FUNCTIONAL};c.ieFunctionalKeysBug=function(a){return CKEDITOR.env.ie&&c.getKeyGroup(a)==c.keyGroups.FUNCTIONAL};var d=CKEDITOR.plugins.undo.Image=function(a,b){this.editor=a;a.fire("beforeUndoImage");var c=a.getSnapshot();CKEDITOR.env.ie&&c&&(c=c.replace(/\s+data-cke-expando=".*?"/g,""));this.contents=c;b||(this.bookmarks=(c=c&&a.getSelection())&&c.createBookmarks2(!0));a.fire("afterUndoImage")},e=/\b(?:href|src|name)="[^"]*?"/gi;d.prototype={equalsContent:function(a){var b=this.contents;a=a.contents;CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)&&(b=b.replace(e,""),a=a.replace(e,""));return b!=a?!1:!0},equalsSelection:function(a){var b=this.bookmarks;a=a.bookmarks;if(b||a){if(!b||!a||b.length!=a.length)return!1;for(var c=0;c<b.length;c++){var d=b[c],e=a[c];if(d.startOffset!=e.startOffset||d.endOffset!=e.endOffset||!CKEDITOR.tools.arrayCompare(d.start,e.start)||!CKEDITOR.tools.arrayCompare(d.end,e.end))return!1}}return!0}};var f=CKEDITOR.plugins.undo.NativeEditingHandler=function(a){this.undoManager=a;this.ignoreInputEvent=!1;this.keyEventsStack=new g;this.lastKeydownImage=null};f.prototype={onKeydown:function(b){var e=b.data.getKey();if(229!==e)if(-1<CKEDITOR.tools.indexOf(a,b.data.getKeystroke()))b.data.preventDefault();else if(this.keyEventsStack.cleanUp(b),b=this.undoManager,this.keyEventsStack.getLast(e)||this.keyEventsStack.push(e),this.lastKeydownImage=new d(b.editor),c.isNavigationKey(e)||this.undoManager.keyGroupChanged(e))if(b.strokesRecorded[0]||b.strokesRecorded[1])b.save(!1,this.lastKeydownImage,!1),b.resetType()},onInput:function(){if(this.ignoreInputEvent)this.ignoreInputEvent=!1;else{var a=this.keyEventsStack.getLast();a||(a=this.keyEventsStack.push(0));this.keyEventsStack.increment(a.keyCode);this.keyEventsStack.getTotalInputs()>=this.undoManager.strokesLimit&&(this.undoManager.type(a.keyCode,!0),this.keyEventsStack.resetInputs())}},onKeyup:function(a){var b=this.undoManager;a=a.data.getKey();var e=this.keyEventsStack.getTotalInputs();this.keyEventsStack.remove(a);if(!(c.ieFunctionalKeysBug(a)&&this.lastKeydownImage&&this.lastKeydownImage.equalsContent(new d(b.editor,(!0)))))if(0<e)b.type(a);else if(c.isNavigationKey(a))this.onNavigationKey(!0)},onNavigationKey:function(a){var b=this.undoManager;!a&&b.save(!0,null,!1)||b.updateSelection(new d(b.editor));
b.resetType()},ignoreInputEventListener:function(){this.ignoreInputEvent=!0},attachListeners:function(){var a=this.undoManager.editor,b=a.editable(),d=this;b.attachListener(b,"keydown",function(a){d.onKeydown(a);if(c.ieFunctionalKeysBug(a.data.getKey()))d.onInput()},null,null,999);b.attachListener(b,CKEDITOR.env.ie?"keypress":"input",d.onInput,d,null,999);b.attachListener(b,"keyup",d.onKeyup,d,null,999);b.attachListener(b,"paste",d.ignoreInputEventListener,d,null,999);b.attachListener(b,"drop",d.ignoreInputEventListener,d,null,999);b.attachListener(b.isInline()?b:a.document.getDocumentElement(),"click",function(){d.onNavigationKey()},null,null,999);b.attachListener(this.undoManager.editor,"blur",function(){d.keyEventsStack.remove(9)},null,null,999)}};var g=CKEDITOR.plugins.undo.KeyEventsStack=function(){this.stack=[]};g.prototype={push:function(a){a=this.stack.push({keyCode:a,inputs:0});return this.stack[a-1]},getLastIndex:function(a){if("number"!=typeof a)return this.stack.length-1;for(var b=this.stack.length;b--;)if(this.stack[b].keyCode==a)return b;return-1},getLast:function(a){a=this.getLastIndex(a);return-1!=a?this.stack[a]:null},increment:function(a){this.getLast(a).inputs++},remove:function(a){a=this.getLastIndex(a);-1!=a&&this.stack.splice(a,1)},resetInputs:function(a){if("number"==typeof a)this.getLast(a).inputs=0;else for(a=this.stack.length;a--;)this.stack[a].inputs=0},getTotalInputs:function(){for(var a=this.stack.length,b=0;a--;)b+=this.stack[a].inputs;return b},cleanUp:function(a){a=a.data.$;a.ctrlKey||a.metaKey||this.remove(17);a.shiftKey||this.remove(16);a.altKey||this.remove(18)}}})();CKEDITOR.plugins.add("wsc",{requires:"dialog",parseApi:function(a){a.config.wsc_onFinish="function"===typeof a.config.wsc_onFinish?a.config.wsc_onFinish:function(){};a.config.wsc_onClose="function"===typeof a.config.wsc_onClose?a.config.wsc_onClose:function(){}},parseConfig:function(a){a.config.wsc_customerId=a.config.wsc_customerId||CKEDITOR.config.wsc_customerId||"1:ua3xw1-2XyGJ3-GWruD3-6OFNT1-oXcuB1-nR6Bp4-hgQHc-EcYng3-sdRXG3-NOfFk";a.config.wsc_customDictionaryIds=a.config.wsc_customDictionaryIds||CKEDITOR.config.wsc_customDictionaryIds||"";a.config.wsc_userDictionaryName=a.config.wsc_userDictionaryName||CKEDITOR.config.wsc_userDictionaryName||"";a.config.wsc_customLoaderScript=a.config.wsc_customLoaderScript||CKEDITOR.config.wsc_customLoaderScript;CKEDITOR.config.wsc_cmd=a.config.wsc_cmd||CKEDITOR.config.wsc_cmd||"spell";CKEDITOR.config.wsc_version="v4.3.0-master-d769233";CKEDITOR.config.wsc_removeGlobalVariable=!0},init:function(a){var b=CKEDITOR.env;this.parseConfig(a);this.parseApi(a);a.addCommand("checkspell",new CKEDITOR.dialogCommand("checkspell")).modes={wysiwyg:!CKEDITOR.env.opera&&!CKEDITOR.env.air&&document.domain==window.location.hostname&&!(b.ie&&(8>b.version||b.quirks))};"undefined"==typeof a.plugins.scayt&&a.ui.addButton&&a.ui.addButton("SpellChecker",{label:a.lang.wsc.toolbar,click:function(a){var b=a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?a.container.getText():a.document.getBody().getText();(b=b.replace(/\s/g,""))?a.execCommand("checkspell"):alert("Nothing to check!")},toolbar:"spellchecker,10"});CKEDITOR.dialog.add("checkspell",this.path+(CKEDITOR.env.ie&&7>=CKEDITOR.env.version?"dialogs/wsc_ie.js":window.postMessage?"dialogs/wsc.js":"dialogs/wsc_ie.js"))}});CKEDITOR.config.plugins="dialogui,dialog,about,a11yhelp,dialogadvtab,basicstyles,bidi,blockquote,clipboard,button,panelbutton,panel,floatpanel,colorbutton,colordialog,templates,menu,contextmenu,div,resize,toolbar,elementspath,enterkey,entities,popup,filebrowser,find,fakeobjects,flash,floatingspace,listblock,richcombo,font,forms,format,horizontalrule,htmlwriter,iframe,wysiwygarea,image,indent,indentblock,indentlist,smiley,justify,menubutton,language,link,list,liststyle,magicline,maximize,newpage,pagebreak,pastetext,pastefromword,preview,print,removeformat,save,selectall,showblocks,showborders,sourcearea,specialchar,scayt,stylescombo,tab,table,tabletools,undo,wsc";CKEDITOR.config.skin="moono";(function(){var a=function(a,b){var c=CKEDITOR.getUrl("plugins/"+b);a=a.split(",");for(var d=0;d<a.length;d++)CKEDITOR.skin.icons[a[d]]={path:c,offset:-a[++d],bgsize:a[++d]}};if(CKEDITOR.env.hidpi)a("about,0,,bold,24,,italic,48,,strike,72,,subscript,96,,superscript,120,,underline,144,,bidiltr,168,,bidirtl,192,,blockquote,216,,copy-rtl,240,,copy,264,,cut-rtl,288,,cut,312,,paste-rtl,336,,paste,360,,bgcolor,384,,textcolor,408,,templates-rtl,432,,templates,456,,creatediv,480,,find-rtl,504,,find,528,,replace,552,,flash,576,,button,600,,checkbox,624,,form,648,,hiddenfield,672,,imagebutton,696,,radio,720,,select-rtl,744,,select,768,,textarea-rtl,792,,textarea,816,,textfield-rtl,840,,textfield,864,,horizontalrule,888,,iframe,912,,image,936,,indent-rtl,960,,indent,984,,outdent-rtl,1008,,outdent,1032,,smiley,1056,,justifyblock,1080,,justifycenter,1104,,justifyleft,1128,,justifyright,1152,,language,1176,,anchor-rtl,1200,,anchor,1224,,link,1248,,unlink,1272,,bulletedlist-rtl,1296,,bulletedlist,1320,,numberedlist-rtl,1344,,numberedlist,1368,,maximize,1392,,newpage-rtl,1416,,newpage,1440,,pagebreak-rtl,1464,,pagebreak,1488,,pastetext-rtl,1512,,pastetext,1536,,pastefromword-rtl,1560,,pastefromword,1584,,preview-rtl,1608,,preview,1632,,print,1656,,removeformat,1680,,save,1704,,selectall,1728,,showblocks-rtl,1752,,showblocks,1776,,source-rtl,1800,,source,1824,,specialchar,1848,,scayt,1872,,table,1896,,redo-rtl,1920,,redo,1944,,undo-rtl,1968,,undo,1992,,spellchecker,2016,","icons_hidpi.png");else a("about,0,auto,bold,24,auto,italic,48,auto,strike,72,auto,subscript,96,auto,superscript,120,auto,underline,144,auto,bidiltr,168,auto,bidirtl,192,auto,blockquote,216,auto,copy-rtl,240,auto,copy,264,auto,cut-rtl,288,auto,cut,312,auto,paste-rtl,336,auto,paste,360,auto,bgcolor,384,auto,textcolor,408,auto,templates-rtl,432,auto,templates,456,auto,creatediv,480,auto,find-rtl,504,auto,find,528,auto,replace,552,auto,flash,576,auto,button,600,auto,checkbox,624,auto,form,648,auto,hiddenfield,672,auto,imagebutton,696,auto,radio,720,auto,select-rtl,744,auto,select,768,auto,textarea-rtl,792,auto,textarea,816,auto,textfield-rtl,840,auto,textfield,864,auto,horizontalrule,888,auto,iframe,912,auto,image,936,auto,indent-rtl,960,auto,indent,984,auto,outdent-rtl,1008,auto,outdent,1032,auto,smiley,1056,auto,justifyblock,1080,auto,justifycenter,1104,auto,justifyleft,1128,auto,justifyright,1152,auto,language,1176,auto,anchor-rtl,1200,auto,anchor,1224,auto,link,1248,auto,unlink,1272,auto,bulletedlist-rtl,1296,auto,bulletedlist,1320,auto,numberedlist-rtl,1344,auto,numberedlist,1368,auto,maximize,1392,auto,newpage-rtl,1416,auto,newpage,1440,auto,pagebreak-rtl,1464,auto,pagebreak,1488,auto,pastetext-rtl,1512,auto,pastetext,1536,auto,pastefromword-rtl,1560,auto,pastefromword,1584,auto,preview-rtl,1608,auto,preview,1632,auto,print,1656,auto,removeformat,1680,auto,save,1704,auto,selectall,1728,auto,showblocks-rtl,1752,auto,showblocks,1776,auto,source-rtl,1800,auto,source,1824,auto,specialchar,1848,auto,scayt,1872,auto,table,1896,auto,redo-rtl,1920,auto,redo,1944,auto,undo-rtl,1968,auto,undo,1992,auto,spellchecker,2016,auto","icons.png")})();CKEDITOR.lang.languages={af:1,sq:1,ar:1,eu:1,bn:1,bs:1,bg:1,ca:1,"zh-cn":1,zh:1,hr:1,cs:1,da:1,nl:1,en:1,"en-au":1,"en-ca":1,"en-gb":1,eo:1,et:1,fo:1,fi:1,fr:1,"fr-ca":1,gl:1,ka:1,de:1,"de-ch":1,el:1,gu:1,he:1,hi:1,hu:1,is:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lv:1,lt:1,mk:1,ms:1,mn:1,no:1,nb:1,fa:1,pl:1,"pt-br":1,pt:1,ro:1,ru:1,sr:1,"sr-latn":1,si:1,sk:1,sl:1,es:1,sv:1,tt:1,th:1,tr:1,ug:1,uk:1,vi:1,cy:1}})();define("ckeditor",function(a){return function(){var b,c;return b||a.CKEDITOR}}(this));define("ur-ckeditor",["require","exports","module","underscore","jquery","art-dialog/dialog","app/util/richtext","ckeditor"],function(a,b,c){var d=a("underscore");var e=a("jquery");var f=a("art-dialog/dialog");var g=a("app/util/richtext");var h=a("ckeditor");h.basePath=location.protocol+"//"+location.host+"/js/lib/ckeditor/";var i=location.search;var j=i.match(/sid=([\d]+)/);var k=j&&j[1];h.disableAutoInline=true;var l={language:"zh-cn",skin:"moono",title:false,filebrowserBrowseUrl:"/sfile/survey/upload_file?survey_id="+k,filebrowserImageBrowsedUrl:"/sfile/survey/upload_file?survey_id="+k,filebrowserFlashBrowseUrl:"/sfile/survey/upload_file?survey_id="+k,filebrowserUploadUrl:"/sfile/survey/upload_file?survey_id="+k,filebrowserImageUploaddUrl:"/sfile/survey/upload_file?survey_id="+k,filebrowserFlashUploadUrl:"/sfile/survey/upload_file?survey_id="+k,replaceImageDetail:{width:"17",height:"15",borderStyle:"solid",borderWidth:0,margin:"",marginLeft:"",marginRight:"",marginTop:"",marginBottom:"",verticalAlign:"middle",url:"//wj.qq.com/image/pc/image_thumb_icon.png"},image_previewText:"QQQQQQQQQQQQQQ",startupFocus:false,startupSelectAll:false,dialog_backgroundCoverColor:"black",dialog_backgroundCoverOpacity:.7,toolbar:[],extraPlugins:"colordialog,fillblank,tencentvideo",format_tags:"p;h1;h2;h3;pre",enterMode:h.ENTER_P,shiftEnterMode:h.ENTER_P,extraAllowedContent:{img:{styles:"vertical-align"},span:{classes:"mod_fillblank",attributes:"data-id"},iframe:{classes:"video_showframe",attributes:"src,frameborder",match:function(a){return a.classes[0]=="video_showframe"}}},removeDialogTabs:"image:advanced;image:link;link:target;link:upload;link:advanced",replaceImage:false,enableFillblank:false};var m={toolbar:[{name:"basicstyles",items:["Bold","Italic"]},{name:"colors",items:["TextColor","BGColor"]},{name:"insert",items:["Image"]},{name:"links",items:["Link"]}]};var n={toolbar:[{name:"basicstyles",items:["Bold","Italic"]},{name:"colors",items:["TextColor","BGColor"]},{name:"insert",items:["Image","FillBlank"]},{name:"links",items:["Link","Tencentvideo"]}]};h.dialog.add("link",function(a){var b=h.plugins.link;var c=function(){var b=this.getDialog(),c=b.getContentElement("target","popupFeatures"),d=b.getContentElement("target","linkTargetName"),e=this.getValue();if(!c||!d)return;c=c.getElement();c.hide();d.setValue("");switch(e){case"frame":d.setLabel(a.lang.link.targetFrameName);d.getElement().show();break;case"popup":c.show();d.setLabel(a.lang.link.targetPopupName);d.getElement().show();break;default:d.setValue(e);d.getElement().hide();break}};var d=function(){var b=this.getDialog(),c=["urlOptions","anchorOptions","emailOptions"],d=this.getValue(),e=b.definition.getContents("upload"),f=e&&e.hidden;if(d=="url"){if(a.config.linkShowTargetTab)b.showPage("target");if(!f)b.showPage("upload")}else{b.hidePage("target");if(!f)b.hidePage("upload")}for(var g=0;g<c.length;g++){var h=b.getContentElement("info",c[g]);if(!h)continue;h=h.getElement().getParent().getParent();if(c[g]==d+"Options")h.show();else h.hide()}b.layout()};var e=function(a,b){if(b[a])this.setValue(b[a][this.id]||"")};var f=function(a){return e.call(this,"target",a)};var g=function(a){return e.call(this,"advanced",a)};var i=function(a,b){if(!b[a])b[a]={};b[a][this.id]=this.getValue()||""};var j=function(a){return i.call(this,"target",a)};var k=function(a){return i.call(this,"advanced",a)};var l=a.lang.common,m=a.lang.link,n;return{title:m.title,minWidth:350,minHeight:100,contents:[{id:"info",label:m.info,title:m.info,elements:[{type:"vbox",id:"urlOptions",children:[{type:"hbox",widths:["25%","75%"],children:[{id:"protocol",type:"select",label:l.protocol,"default":"http://",items:[["http://","http://"],["https://","https://"],["ftp://","ftp://"],["news://","news://"],[m.other,""]],setup:function(a){if(a.url)this.setValue(a.url.protocol||"")},commit:function(a){if(!a.url)a.url={};a.url.protocol=this.getValue()}},{type:"text",id:"url",label:l.url,required:true,onLoad:function(){this.allowOnChange=true},onKeyUp:function(){this.allowOnChange=false;var a=this.getDialog().getContentElement("info","protocol"),b=this.getValue(),c=/^(http|https|ftp|news):\/\/(?=.)/i,d=/^((javascript:)|[#\/\.\?])/i;var e=c.exec(b);if(e){this.setValue(b.substr(e[0].length));a.setValue(e[0].toLowerCase())}else if(d.test(b)){a.setValue("")}this.allowOnChange=true},onChange:function(){if(this.allowOnChange)this.onKeyUp()},validate:function(){var b=this.getDialog();if(b.getContentElement("info","linkType")&&b.getValueOf("info","linkType")!="url")return true;if(!a.config.linkJavaScriptLinksAllowed&&/javascript\:/.test(this.getValue())){alert(l.invalidValue);return false}if(this.getDialog().fakeObj)return true;var c=h.dialog.validate.notEmpty(m.noUrl);return c.apply(this)},setup:function(a){this.allowOnChange=false;if(a.url)this.setValue(a.url.url);this.allowOnChange=true},commit:function(a){this.onChange();if(!a.url)a.url={};a.url.url=this.getValue();this.allowOnChange=false}}],setup:function(){if(!this.getDialog().getContentElement("info","linkType"))this.getElement().show()}}]},{id:"linkType",type:"select",label:m.type,hidden:true,"default":"url",items:[[m.toUrl,"url"],[m.toAnchor,"anchor"],[m.toEmail,"email"]],onChange:d,setup:function(a){this.setValue(a.type||"url")},commit:function(a){a.type=this.getValue()}},{type:"vbox",hidden:true,id:"anchorOptions",width:260,align:"center",padding:0,children:[{type:"fieldset",id:"selectAnchorText",label:m.selectAnchor,setup:function(){n=b.getEditorAnchors(a);this.getElement()[n&&n.length?"show":"hide"]()},children:[{type:"hbox",id:"selectAnchor",children:[{type:"select",id:"anchorName","default":"",label:m.anchorName,style:"width: 100%;",items:[[""]],setup:function(a){this.clear();this.add("");if(n){for(var b=0;b<n.length;b++){if(n[b].name)this.add(n[b].name)}}if(a.anchor)this.setValue(a.anchor.name);var c=this.getDialog().getContentElement("info","linkType");if(c&&c.getValue()=="email")this.focus()},commit:function(a){if(!a.anchor)a.anchor={};a.anchor.name=this.getValue()}},{type:"select",id:"anchorId","default":"",label:m.anchorId,style:"width: 100%;",items:[[""]],setup:function(a){this.clear();this.add("");if(n){for(var b=0;b<n.length;b++){if(n[b].id)this.add(n[b].id)}}if(a.anchor)this.setValue(a.anchor.id)},commit:function(a){if(!a.anchor)a.anchor={};a.anchor.id=this.getValue()}}],setup:function(){this.getElement()[n&&n.length?"show":"hide"]()}}]},{type:"html",id:"noAnchors",style:"text-align: center;",html:'<div role="note" tabIndex="-1">'+h.tools.htmlEncode(m.noAnchors)+"</div>",focus:true,setup:function(){this.getElement()[n&&n.length?"hide":"show"]()}}],setup:function(){if(!this.getDialog().getContentElement("info","linkType"))this.getElement().hide()}},{type:"vbox",id:"emailOptions",hidden:true,padding:1,children:[{type:"text",id:"emailAddress",label:m.emailAddress,required:true,validate:function(){var a=this.getDialog();if(!a.getContentElement("info","linkType")||a.getValueOf("info","linkType")!="email")return true;var b=h.dialog.validate.notEmpty(m.noEmail);return b.apply(this)},setup:function(a){if(a.email)this.setValue(a.email.address);var b=this.getDialog().getContentElement("info","linkType");if(b&&b.getValue()=="email")this.select()},commit:function(a){if(!a.email)a.email={};a.email.address=this.getValue()}},{type:"text",id:"emailSubject",label:m.emailSubject,setup:function(a){if(a.email)this.setValue(a.email.subject)},commit:function(a){if(!a.email)a.email={};a.email.subject=this.getValue()}},{type:"textarea",id:"emailBody",label:m.emailBody,rows:3,"default":"",setup:function(a){if(a.email)this.setValue(a.email.body)},commit:function(a){if(!a.email)a.email={};a.email.body=this.getValue()}}],setup:function(){if(!this.getDialog().getContentElement("info","linkType"))this.getElement().hide()}}]},{id:"target",requiredContent:"a[target]",hidden:true,label:m.target,title:m.target,elements:[{type:"hbox",widths:["50%","50%"],children:[{type:"select",id:"linkTargetType",label:l.target,"default":"notSet",style:"width : 100%;",items:[[l.notSet,"notSet"],[m.targetFrame,"frame"],[m.targetPopup,"popup"],[l.targetNew,"_blank"],[l.targetTop,"_top"],[l.targetSelf,"_self"],[l.targetParent,"_parent"]],onChange:c,setup:function(a){if(a.target)this.setValue(a.target.type||"notSet");c.call(this)},commit:function(a){if(!a.target)a.target={};a.target.type=this.getValue()}},{type:"text",id:"linkTargetName",label:m.targetFrameName,"default":"",setup:function(a){if(a.target)this.setValue(a.target.name)},commit:function(a){if(!a.target)a.target={};a.target.name=this.getValue().replace(/\W/gi,"")}}]},{type:"vbox",width:"100%",align:"center",padding:2,id:"popupFeatures",children:[{type:"fieldset",label:m.popupFeatures,children:[{type:"hbox",children:[{type:"checkbox",id:"resizable",label:m.popupResizable,setup:f,commit:j},{type:"checkbox",id:"status",label:m.popupStatusBar,setup:f,commit:j}]},{type:"hbox",children:[{type:"checkbox",id:"location",label:m.popupLocationBar,setup:f,commit:j},{type:"checkbox",id:"toolbar",label:m.popupToolbar,setup:f,commit:j}]},{type:"hbox",children:[{type:"checkbox",id:"menubar",label:m.popupMenuBar,setup:f,commit:j},{type:"checkbox",id:"fullscreen",label:m.popupFullScreen,setup:f,commit:j}]},{type:"hbox",children:[{type:"checkbox",id:"scrollbars",label:m.popupScrollBars,setup:f,commit:j},{type:"checkbox",id:"dependent",label:m.popupDependent,setup:f,commit:j}]},{type:"hbox",children:[{type:"text",widths:["50%","50%"],labelLayout:"horizontal",label:l.width,id:"width",setup:f,commit:j},{type:"text",labelLayout:"horizontal",widths:["50%","50%"],label:m.popupLeft,id:"left",setup:f,commit:j}]},{type:"hbox",children:[{type:"text",labelLayout:"horizontal",widths:["50%","50%"],label:l.height,id:"height",setup:f,commit:j},{type:"text",labelLayout:"horizontal",label:m.popupTop,widths:["50%","50%"],id:"top",setup:f,commit:j}]}]}]}]},{id:"upload",label:m.upload,title:m.upload,hidden:true,filebrowser:"uploadButton",elements:[{type:"file",id:"upload",label:l.upload,style:"height:40px",size:29},{type:"fileButton",id:"uploadButton",label:l.uploadSubmit,filebrowser:"info:url","for":["upload","upload"]}]},{id:"advanced",label:m.advanced,title:m.advanced,elements:[{type:"vbox",padding:1,children:[{type:"hbox",widths:["45%","35%","20%"],children:[{type:"text",id:"advId",requiredContent:"a[id]",label:m.id,setup:g,commit:k},{type:"select",id:"advLangDir",requiredContent:"a[dir]",label:m.langDir,"default":"",style:"width:110px",items:[[l.notSet,""],[m.langDirLTR,"ltr"],[m.langDirRTL,"rtl"]],setup:g,commit:k},{type:"text",id:"advAccessKey",requiredContent:"a[accesskey]",width:"80px",label:m.acccessKey,maxLength:1,setup:g,commit:k}]},{type:"hbox",widths:["45%","35%","20%"],children:[{type:"text",label:m.name,id:"advName",requiredContent:"a[name]",setup:g,commit:k},{type:"text",label:m.langCode,id:"advLangCode",requiredContent:"a[lang]",width:"110px","default":"",setup:g,commit:k},{type:"text",label:m.tabIndex,id:"advTabIndex",requiredContent:"a[tabindex]",width:"80px",maxLength:5,setup:g,commit:k}]}]},{type:"vbox",padding:1,children:[{type:"hbox",widths:["45%","55%"],children:[{type:"text",label:m.advisoryTitle,requiredContent:"a[title]","default":"",id:"advTitle",setup:g,commit:k},{type:"text",label:m.advisoryContentType,requiredContent:"a[type]","default":"",id:"advContentType",setup:g,commit:k}]},{type:"hbox",widths:["45%","55%"],children:[{type:"text",label:m.cssClasses,requiredContent:"a(cke-xyz)","default":"",id:"advCSSClasses",setup:g,commit:k},{type:"text",label:m.charset,requiredContent:"a[charset]","default":"",id:"advCharset",setup:g,commit:k}]},{type:"hbox",widths:["45%","55%"],children:[{type:"text",label:m.rel,requiredContent:"a[rel]","default":"",id:"advRel",setup:g,commit:k},{type:"text",label:m.styles,requiredContent:"a{cke-xyz}","default":"",id:"advStyles",validate:h.dialog.validate.inlineStyle(a.lang.common.invalidInlineStyle),setup:g,commit:k}]}]}]}],onShow:function(){var a=this.getParentEditor(),c=a.getSelection(),d=null;if((d=b.getSelectedLink(a))&&d.hasAttribute("href")){if(!c.getSelectedElement())c.selectElement(d)}else{d=null}var e=b.parseLinkAttributes(a,d);this._.selectedElement=d;this.setupContent(e)},onOk:function(){var c={};this.commitContent(c);var d=a.getSelection(),e=b.getLinkAttributes(a,c);var f=e.removed.indexOf("target");e.removed.splice(f,1);e.set.target="_blank";if(!this._.selectedElement){var g=d.getRanges()[0];g.collapse();if(g.collapsed){var i=new h.dom.text(c.type=="email"?c.email.address:e.set["data-cke-saved-href"],a.document);var j=g.endContainer;var k=g.endContainer.getParent();if(j.type===1&&j.hasClass("mod_fillblank")){g.moveToPosition(j,h.POSITION_AFTER_END)}if(k.type===1&&k.hasClass("mod_fillblank")){g.moveToPosition(k,h.POSITION_AFTER_END)}g.insertNode(i);g.selectNodeContents(i)}var l=new h.style({element:"a",attributes:e.set});l.type=h.STYLE_INLINE;l.applyToRange(g,a);g.select()}else{var m=this._.selectedElement,n=m.data("cke-saved-href"),o=m.getHtml();m.setAttributes(e.set);m.removeAttributes(e.removed);if(n==o||c.type=="email"&&o.indexOf("@")!=-1){m.setHtml(c.type=="email"?c.email.address:e.set["data-cke-saved-href"]);d.selectElement(m)}delete this._.selectedElement}},onLoad:function(){if(!a.config.linkShowAdvancedTab)this.hidePage("advanced");if(!a.config.linkShowTargetTab)this.hidePage("target")},onFocus:function(){var a=this.getContentElement("info","linkType"),b;if(a&&a.getValue()=="url"){b=this.getContentElement("info","url");b.select()}}}});var o=function(a,b){var c=1,d=2,f=4,g=8,i=/^\s*(\d+)((px)|\%)?\s*$/i,j=/(^\s*(\d+)((px)|\%)?\s*$)|^$/i,k=/^\d+px$/;var l=function(){var a=this.getValue(),b=this.getDialog(),c=a.match(i);if(c){if(c[2]=="%")q(b,false);a=c[1]}if(b.lockRatio){var d=b.originalElement;if(d.getCustomData("isReady")=="true"){if(this.id=="txtHeight"){if(a&&a!="0")a=Math.round(d.$.width*(a/d.$.height));if(!isNaN(a))b.setValueOf("info","txtWidth",a)}else{if(a&&a!="0")a=Math.round(d.$.height*(a/d.$.width));if(!isNaN(a))b.setValueOf("info","txtHeight",a)}}}m(b)};var m=function(a){if(!a.originalElement||!a.preview)return 1;a.commitContent(f,a.preview);return 0};function n(){var a=arguments;var b=this.getContentElement("advanced","txtdlgGenStyle");b&&b.commit.apply(b,a);this.foreach(function(b){if(b.commit&&b.id!="txtdlgGenStyle")b.commit.apply(b,a)})}var o;function p(a){if(o)return;o=1;var b=this.getDialog(),d=b.imageElement;if(d){this.commit(c,d);a=[].concat(a);var e=a.length,f;for(var g=0;g<e;g++){f=b.getContentElement.apply(b,a[g].split(":"));f&&f.setup(c,d)}}o=0}var q=function(a,b){if(!a.getContentElement("info","ratioLock"))return null;var c=a.originalElement;if(!c)return null;if(b=="check"){if(!a.userlockRatio&&c.getCustomData("isReady")=="true"){var d=a.getValueOf("info","txtWidth"),e=a.getValueOf("info","txtHeight"),f=c.$.width*1e3/c.$.height,g=d*1e3/e;a.lockRatio=false;if(!d&&!e)a.lockRatio=true;else if(!isNaN(f)&&!isNaN(g)){if(Math.round(f)==Math.round(g))a.lockRatio=true}}}else if(b!==undefined)a.lockRatio=b;else{a.userlockRatio=1;a.lockRatio=!a.lockRatio}var i=h.document.getById(y);if(a.lockRatio)i.removeClass("cke_btn_unlocked");else i.addClass("cke_btn_unlocked");i.setAttribute("aria-checked",a.lockRatio);if(h.env.hc){var j=i.getChild(0);j.setHtml(a.lockRatio?h.env.ie?"":"":h.env.ie?"":"")}return a.lockRatio};var r=function(a){var b=a.originalElement;if(b.getCustomData("isReady")=="true"){var c=a.getContentElement("info","txtWidth"),d=a.getContentElement("info","txtHeight");c&&c.setValue(b.$.width);d&&d.setValue(b.$.height)}m(a)};var s=function(a,b){if(a!=c)return;function d(a,b){var c=a.match(i);if(c){if(c[2]=="%"){c[1]+="%";q(e,false)}return c[1]}return b}var e=this.getDialog(),f="",g=this.id=="txtWidth"?"width":"height",h=b.getAttribute("data-"+g);if(h){f=d(h,f)}else{f=d(b.getStyle(g),f)}this.setValue(f)};var t;var v=function(){var a=this.originalElement,b=h.document.getById(A);a.setCustomData("isReady","true");a.removeListener("load",v);a.removeListener("error",w);a.removeListener("abort",w);if(b)b.setStyle("display","none");if(!this.dontResetSize)if(this.firstLoad){h.tools.setTimeout(function(){q(this,"check")},0,this)}this.firstLoad=false;this.dontResetSize=false;m(this)};var w=function(){var a=this.originalElement,b=h.document.getById(A);a.removeListener("load",v);a.removeListener("error",w);a.removeListener("abort",w);var c=h.getUrl(h.plugins.get("image").path+"images/noimage.png");if(this.preview)this.preview.setAttribute("src",c);if(b)b.setStyle("display","none");q(this,false)};var x=function(a){return h.tools.getNextId()+"_"+a},y=x("btnLockSizes"),z=x("btnResetSize"),A=x("ImagePreviewLoader"),B=x("previewLink"),C=x("previewImage");return{title:a.lang.image[b=="image"?"title":"titleButton"],minWidth:500,minHeight:360,onShow:function(){this.imageElement=false;this.linkElement=false;this.imageEditMode=false;this.linkEditMode=false;this.lockRatio=true;this.userlockRatio=0;this.dontResetSize=false;this.firstLoad=true;this.addLink=false;var a=this.getParentEditor(),f=a.getSelection(),g=f&&f.getSelectedElement(),i=g&&a.elementPath(g).contains("a",1),j=h.document.getById(A);if(j){j.setStyle("display","none")}t=new h.dom.element("img",a.document);this.preview=h.document.getById(C);this.originalElement=a.document.createElement("img");this.originalElement.setAttribute("alt","");this.originalElement.setCustomData("isReady","false");if(i){this.linkElement=i;this.linkEditMode=true;var k=i.getChildren();if(k.count()==1){var l=k.getItem(0).getName();if(l=="img"||l=="input"){this.imageElement=k.getItem(0);if(this.imageElement.getName()=="img")this.imageEditMode="img";else if(this.imageElement.getName()=="input")this.imageEditMode="input"}}if(b=="image")this.setupContent(d,i)}if(this.customImageElement){this.imageEditMode="img";this.imageElement=this.customImageElement;delete this.customImageElement}else if(g&&g.getName()=="img"&&!g.data("cke-realelement")||g&&g.getName()=="input"&&g.getAttribute("type")=="image"){this.imageEditMode=g.getName();this.imageElement=g}if(this.imageEditMode){this.cleanImageElement=this.imageElement;this.imageElement=this.cleanImageElement.clone(true,true);var m=(this.imageElement.getAttribute("data-style")||"").split(";");for(var n=0;n<m.length;n++){if(!m[n].length){continue}var o=m[n].split(":");var p=e.trim(o[0]);var r=e.trim(o[1]);this.imageElement.setStyle(p,r)}this.setupContent(c,this.imageElement)}else{this.imageElement=a.document.createElement("img")}q(this,true);if(!h.tools.trim(this.getValueOf("info","txtUrl"))){this.preview.removeAttribute("src");this.preview.setStyle("display","none")}},onOk:function(){if(this.imageEditMode){var e=this.imageEditMode;if(b=="image"&&e=="input"&&confirm(a.lang.image.button2Img)){e="img";this.imageElement=a.document.createElement("img");this.imageElement.setAttribute("alt","");a.insertElement(this.imageElement)}else if(b!="image"&&e=="img"&&confirm(a.lang.image.img2Button)){e="input";this.imageElement=a.document.createElement("input");this.imageElement.setAttributes({type:"image",alt:""});a.insertElement(this.imageElement)}else{this.imageElement=this.cleanImageElement;delete this.cleanImageElement}}else{if(b=="image")this.imageElement=a.document.createElement("img");else{this.imageElement=a.document.createElement("input");this.imageElement.setAttribute("type","image")}this.imageElement.setAttribute("alt","")}if(!this.linkEditMode)this.linkElement=a.document.createElement("a");this.commitContent(c,this.imageElement);this.commitContent(d,this.linkElement);if(!this.imageElement.getAttribute("style"))this.imageElement.removeAttribute("style");if(!this.imageEditMode){u(a);if(this.addLink){if(!this.linkEditMode){a.insertElement(this.linkElement);this.linkElement.append(this.imageElement,false)}else{if(this.linkElement.equals(a.getSelection().getSelectedElement())){this.linkElement.setHtml("");this.linkElement.append(this.imageElement,false)}else{a.insertElement(this.imageElement)}}}else{a.insertElement(this.imageElement)}}else{if(!this.linkEditMode&&this.addLink){a.insertElement(this.linkElement);this.imageElement.appendTo(this.linkElement)}else if(this.linkEditMode&&!this.addLink){a.getSelection().selectElement(this.linkElement);a.insertElement(this.imageElement)}}},onLoad:function(){if(b!="image")this.hidePage("Link");var a=this._.element.getDocument();if(this.getContentElement("info","ratioLock")){this.addFocusable(a.getById(z),5);this.addFocusable(a.getById(y),5)}this.commitContent=n},onHide:function(){if(this.preview)this.commitContent(g,this.preview);if(this.originalElement){this.originalElement.removeListener("load",v);this.originalElement.removeListener("error",w);this.originalElement.removeListener("abort",w);this.originalElement.remove();this.originalElement=false}delete this.imageElement},contents:[{id:"info",accessKey:"I",elements:[{type:"hbox",widths:["80%","20%"],children:[{type:"file",id:"upload",label:"1MPNG,JPG,GIF",style:"height:35px",size:68},{type:"fileButton",id:"uploadButton",filebrowser:"info:txtUrl",label:a.lang.image.btnUpload,"for":["info","upload"]}]},{id:"txtUrl",type:"text",hidden:true,label:a.lang.common.url,required:true,onChange:function(){var a=this.getDialog(),b=this.getValue();if(b.length>0){a=this.getDialog();var c=a.originalElement;if(a.preview){a.preview.removeStyle("display")}c.setCustomData("isReady","false");var d=h.document.getById(A);if(d)d.setStyle("display","");c.on("load",v,a);c.on("error",w,a);c.on("abort",w,a);c.setAttribute("src",b);if(a.preview){t.setAttribute("src",b);a.preview.setAttribute("src",t.$.src);m(a)}}else if(a.preview){a.preview.removeAttribute("src");a.preview.setStyle("display","none")}},setup:function(a,b){if(a==c){var d=b.data("cke-saved-src")||b.getAttribute("src");var e=this;this.getDialog().dontResetSize=true;e.setValue(d);e.setInitValue()}},commit:function(a,b){if(a==c&&(this.getValue()||this.isChanged())){b.data("cke-saved-src",this.getValue());b.setAttribute("src",this.getValue())}else if(a==g){b.setAttribute("src","");b.removeAttribute("src")}},validate:h.dialog.validate.notEmpty(a.lang.image.urlMissing)},{type:"hbox",widths:["35%","65%"],children:[{id:"basic",type:"vbox",children:[{type:"hbox",requiredContent:"img{width,height}",widths:["50%","50%"],children:[{type:"vbox",padding:1,children:[{type:"text",width:"80px",id:"txtWidth",label:a.lang.common.width,onKeyUp:l,onChange:function(){p.call(this,"advanced:txtdlgGenStyle")},validate:function(){var b=this.getValue().match(j),c=!!(b&&parseInt(b[1],10)!==0);if(!c)alert(a.lang.common.invalidWidth);return c},setup:s,commit:function(b,d,e){var j=this.getValue();if(b==c){if(j&&a.activeFilter.check("img{width,height}"))d.setStyle("width",h.tools.cssLength(j));else d.removeStyle("width");!e&&d.removeAttribute("width")}else if(b==f){var k=j.match(i);if(!k){var l=this.getDialog().originalElement;if(l.getCustomData("isReady")=="true")d.setStyle("width",l.$.width+"px")}else{d.setStyle("width",h.tools.cssLength(j))}}else if(b==g){d.removeAttribute("width");d.removeStyle("width")}}},{type:"text",id:"txtHeight",width:"80px",label:a.lang.common.height,onKeyUp:l,onChange:function(){p.call(this,"advanced:txtdlgGenStyle")},validate:function(){var b=this.getValue().match(j),c=!!(b&&parseInt(b[1],10)!==0);if(!c)alert(a.lang.common.invalidHeight);return c},setup:s,commit:function(b,d,e){var j=this.getValue();if(b==c){if(j&&a.activeFilter.check("img{width,height}"))d.setStyle("height",h.tools.cssLength(j));else d.removeStyle("height");!e&&d.removeAttribute("height")}else if(b==f){var k=j.match(i);if(!k){var l=this.getDialog().originalElement;if(l.getCustomData("isReady")=="true")d.setStyle("height",l.$.height+"px")}else{d.setStyle("height",h.tools.cssLength(j))}}else if(b==g){d.removeAttribute("height");d.removeStyle("height")}}}]},{id:"ratioLock",type:"html",style:"margin-top:30px;width:40px;height:40px;",onLoad:function(){var a=h.document.getById(z),b=h.document.getById(y);if(a){a.on("click",function(a){r(this);
a.data&&a.data.preventDefault()},this.getDialog());a.on("mouseover",function(){this.addClass("cke_btn_over")},a);a.on("mouseout",function(){this.removeClass("cke_btn_over")},a)}if(b){b.on("click",function(a){q(this);var b=this.originalElement,c=this.getValueOf("info","txtWidth");if(b.getCustomData("isReady")=="true"&&c){var d=b.$.height/b.$.width*c;if(!isNaN(d)){this.setValueOf("info","txtHeight",Math.round(d));m(this)}}a.data&&a.data.preventDefault()},this.getDialog());b.on("mouseover",function(){this.addClass("cke_btn_over")},b);b.on("mouseout",function(){this.removeClass("cke_btn_over")},b)}},html:"<div>"+'<a href="javascript:void(0)" tabindex="-1" title="'+a.lang.image.lockRatio+'" class="cke_btn_locked" id="'+y+'" role="checkbox"><span class="cke_icon"></span><span class="cke_label">'+a.lang.image.lockRatio+"</span></a>"+'<a href="javascript:void(0)" tabindex="-1" title="'+a.lang.image.resetSize+'" class="cke_btn_reset" id="'+z+'" role="button"><span class="cke_label">'+a.lang.image.resetSize+"</span></a>"+"</div>"}]},{type:"vbox",padding:1,children:[{type:"text",id:"txtBorder",requiredContent:"img{border-width}",width:"80px",label:a.lang.image.border,"default":"",onKeyUp:function(){m(this.getDialog())},onChange:function(){p.call(this,"advanced:txtdlgGenStyle")},validate:h.dialog.validate.integer(a.lang.image.validateBorder),setup:function(a,b){if(a==c){var d,e=b.getStyle("border-width");e=e&&e.match(/^(\d+px)(?: \1 \1 \1)?$/);d=e&&parseInt(e[1],10);isNaN(parseInt(d,10))&&(d=b.getAttribute("border"));this.setValue(d)}},commit:function(a,b,d){var e=parseInt(this.getValue(),10);if(a==c||a==f){if(!isNaN(e)){b.setStyle("border-width",h.tools.cssLength(e));b.setStyle("border-style","solid")}else if(!e&&this.isChanged()){b.removeStyle("border")}if(!d&&a==c)b.removeAttribute("border")}else if(a==g){b.removeAttribute("border");b.removeStyle("border-width");b.removeStyle("border-style");b.removeStyle("border-color")}}},{type:"text",id:"txtHSpace",requiredContent:"img{margin-left,margin-right}",width:"80px",label:a.lang.image.hSpace,"default":"",onKeyUp:function(){m(this.getDialog())},onChange:function(){p.call(this,"advanced:txtdlgGenStyle")},validate:h.dialog.validate.integer(a.lang.image.validateHSpace),setup:function(a,b){if(a==c){var d,e,f,g=b.getStyle("margin-left"),h=b.getStyle("margin-right");g=g&&g.match(k);h=h&&h.match(k);e=parseInt(g,10);f=parseInt(h,10);d=e==f&&e;isNaN(parseInt(d,10))&&(d=b.getAttribute("hspace"));this.setValue(d)}},commit:function(a,b,d){var e=parseInt(this.getValue(),10);if(a==c||a==f){if(!isNaN(e)){b.setStyle("margin-left",h.tools.cssLength(e));b.setStyle("margin-right",h.tools.cssLength(e))}else if(!e&&this.isChanged()){b.removeStyle("margin-left");b.removeStyle("margin-right")}if(!d&&a==c)b.removeAttribute("hspace")}else if(a==g){b.removeAttribute("hspace");b.removeStyle("margin-left");b.removeStyle("margin-right")}}},{type:"text",id:"txtVSpace",requiredContent:"img{margin-top,margin-bottom}",width:"80px",label:a.lang.image.vSpace,"default":"",onKeyUp:function(){m(this.getDialog())},onChange:function(){p.call(this,"advanced:txtdlgGenStyle")},validate:h.dialog.validate.integer(a.lang.image.validateVSpace),setup:function(a,b){if(a==c){var d,e,f,g=b.getStyle("margin-top"),h=b.getStyle("margin-bottom");g=g&&g.match(k);h=h&&h.match(k);e=parseInt(g,10);f=parseInt(h,10);d=e==f&&e;isNaN(parseInt(d,10))&&(d=b.getAttribute("vspace"));this.setValue(d)}},commit:function(a,b,d){var e=parseInt(this.getValue(),10);if(a==c||a==f){if(!isNaN(e)){b.setStyle("margin-top",h.tools.cssLength(e));b.setStyle("margin-bottom",h.tools.cssLength(e))}else if(!e&&this.isChanged()){b.removeStyle("margin-top");b.removeStyle("margin-bottom")}if(!d&&a==c)b.removeAttribute("vspace")}else if(a==g){b.removeAttribute("vspace");b.removeStyle("margin-top");b.removeStyle("margin-bottom")}}},{id:"verticalAlign",requiredContent:"img{vertical-align}",type:"select",widths:["35%","65%"],style:"width:90px",label:a.lang.common.align,"default":"",items:[[a.lang.common.notSet,""],[a.lang.common.alignTop,"top"],[a.lang.common.alignMiddle,"middle"],[a.lang.common.alignBottom,"bottom"]],onChange:function(){m(this.getDialog());p.call(this,"advanced:txtdlgGenStyle")},setup:function(a,b){if(a==c){var d=b.getStyle("vertical-align");switch(d){case"inherit":case"none":d=""}this.setValue(d)}},commit:function(a,b,d){var e=this.getValue();if(a==c||a==f){if(e)b.setStyle("vertical-align",e);else b.removeStyle("vertical-align")}else if(a==g){b.removeStyle("vertical-align")}}},{id:"cmbAlign",hidden:true,requiredContent:"img{float}",type:"select",widths:["35%","65%"],style:"width:90px",label:a.lang.common.align,"default":"",items:[[a.lang.common.notSet,""],[a.lang.common.alignLeft,"left"],[a.lang.common.alignRight,"right"]],onChange:function(){m(this.getDialog());p.call(this,"advanced:txtdlgGenStyle")},setup:function(a,b){if(a==c){var d=b.getStyle("float");switch(d){case"inherit":case"none":d=""}!d&&(d=(b.getAttribute("align")||"").toLowerCase());this.setValue(d)}},commit:function(a,b,d){var e=this.getValue();if(a==c||a==f){if(e)b.setStyle("float",e);else b.removeStyle("float");if(!d&&a==c){e=(b.getAttribute("align")||"").toLowerCase();switch(e){case"left":case"right":b.removeAttribute("align")}}}else if(a==g){b.removeStyle("float")}}}]}]},{type:"vbox",height:"290px",children:[{type:"html",id:"htmlPreview",style:"width:95%;",html:"<div>"+h.tools.htmlEncode(a.lang.common.preview)+"<br>"+'<div id="'+A+'" class="ImagePreviewLoader" style="display:none"><div class="loading">&nbsp;</div></div>'+'<div class="ImagePreviewBox"><table><tr><td>'+'<a href="javascript:void(0)" target="_blank" onclick="return false;" id="'+B+'">'+'<img id="'+C+'" alt="" /></a>'+(a.config.image_previewText||"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. "+"Maecenas feugiat consequat diam. Maecenas metus. Vivamus diam purus, cursus a, commodo non, facilisis vitae, "+"nulla. Aenean dictum lacinia tortor. Nunc iaculis, nibh non iaculis aliquam, orci felis euismod neque, sed ornare massa mauris sed velit. Nulla pretium mi et risus. Fusce mi pede, tempor id, cursus ac, ullamcorper nec, enim. Sed tortor. Curabitur molestie. Duis velit augue, condimentum at, ultrices a, luctus ut, orci. Donec pellentesque egestas eros. Integer cursus, augue in cursus faucibus, eros pede bibendum sem, in tempus tellus justo quis ligula. Etiam eget tortor. Vestibulum rutrum, est ut placerat elementum, lectus nisl aliquam velit, tempor aliquam eros nunc nonummy metus. In eros metus, gravida a, gravida sed, lobortis id, turpis. Ut ultrices, ipsum at venenatis fringilla, sem nulla lacinia tellus, eget aliquet turpis mauris non enim. Nam turpis. Suspendisse lacinia. Curabitur ac tortor ut ipsum egestas elementum. Nunc imperdiet gravida mauris.")+"</td></tr></table></div></div>"}]}]}]}]}};h.dialog.add("image",function(a){return o(a,"image")});h.dialog.add("imagebutton",function(a){return o(a,"imagebutton")});var p={};p.init=function(a,b){b=d.defaults(b||{},l);b.toolbar=b.enableFillblank?n.toolbar:m.toolbar;e(a).each(function(a,c){if(e(c).attr("data-editor")!==undefined){return}c.contentEditable=true;var d=h.inline(c,b);d.on("instanceReady",r);d.on("getData",s);e(c).attr("data-editor",d.name)})};p.destroy=function(a){e(a).each(function(a,b){var c=e(b).attr("data-editor");if(h.instances[c]){h.instances[c].destroy()}e(b).attr("data-editor",null)})};p.getData=function(a){var b=e(a).attr("data-editor");var c=h.instances[b];if(!c){console.log(" ckeditor ");return""}return c.getData()};function q(a){var b=/<a(.*?)href="([^"]+)"(.*?)>(.*?)<\/a>/g;var c=/<img.*?\/>/g;var d="http://safejmp.com/?appid=4&appkey=wjdc&unknown=1&url=";a=a.replace(b,function(a,b,d,e,f){var h=a;var i=h.match(c);var j=i&&i.join("")||"";var k=g.plainTextFilter(f);return"<a"+b+'href="'+k+'"'+e+">"+k+"</a>"+j});return a}var r=function(a){var b=a.editor;var c=a.sender.element.$;var d=b.config;var e=d.enableFillblank;var f=d.replaceImage;if(f){}if(e){t(b)}b.addCommand("selectAll",{modes:{wysiwyg:1,source:1},exec:function(a){var b=a.editable();if(b){if(b.is("textarea")){var c=b.$;if(h.env.ie)c.createTextRange().execCommand("SelectAll");else{c.selectionStart=0;c.selectionEnd=c.value.length}c.focus()}else{if(b.is("body"))a.document.$.execCommand("SelectAll",false,null);else{var d=a.createRange();d.selectNodeContents(b);d.select()}a.forceNextSelectionCheck();a.selectionChange()}}},canUndo:false});b.on("focus",function(){var a=this;if(a.__focus_lock){return}a.__focus_lock=true;if(a.__hasFocused){return}setTimeout(function(){a.execCommand("selectAll");a.__focus_lock=false;a.__hasFocused=true},100)});b.setReadOnly(false);if(d.startupSelectAll){b.execCommand("selectAll")}b.on("doubleclick",function(a){var c=b.getSelection();var d=c.getStartElement();var e=d.getAttribute("class");if(e!=undefined&&e!=null&&e=="cke_iframe"){a.data.dialog="tencentvideo"}})};var s=function(a){var b=a.data;b.dataValue=q(b.dataValue)};var t=function(a){var b=e(a.element.$);var c=false;var f=function(){var a=document.createElement("input");return a.oninput!==undefined};var g=function(a,b){var c=document.createElement("span");c.innerHTML=a;c.className="mod_fillblank";if(b){c.setAttribute("data-nostyle",true)}return c};var i=function(a){a=a.replace(/&nbsp;/g,"");return document.createTextNode(a)};var j=function(){var b=a.getSelection();return b.getRanges()};var k=function(b,c){var d=a.createRange();d.collapse();if(b.length===0){d.moveToElementEditEnd(a.element);return d}if(b[0].startContainer.$!==c){var e=b[0].startContainer.$.length!==b[0].startOffset;if(e){d.moveToPosition(new h.dom.node(c),h.POSITION_BEFORE_START)}else{d.moveToPosition(new h.dom.node(c),h.POSITION_AFTER_END)}return d}return b[0]};var l=function(b){if(!b){return}if(!d.isArray(b)){b=[b]}a.getSelection().selectRanges(b)};var m=function(){if(c){return}if(a.status==="destroyed"){return}var d=j();var f=d[0]?d[0].startContainer.$:null;var h=[];var m=b.find("p").contents().filter(function(){return this.nodeType===3&&this.data!==""});var n=b.find("p").contents().filter(function(){return this.className==="mod_fillblank"});n.each(function(){this.setAttribute("data-nostyle",true)});var o=0;var p=0;m.each(function(a,b){var c=b.data;var d=document.createDocumentFragment();var e;var h=/([^_]*)([_]{2,})([^_]*)/g;while((e=h.exec(c))!==null){if(e[2]!==""){if(e[1]){d.appendChild(i(e[1]))}d.appendChild(g(e[2],true));if(e[3]){d.appendChild(i(e[3]))}}o++;console.log("text regex exec:"+o)}if(d.childNodes.length>0){if(f&&f===m[a]){f=d.lastChild}m.eq(a).replaceWith(d);p++;console.log("text replace DOM:"+p)}});var q=0;var r=0;n.each(function(a,b){var c=b.innerHTML;var d=document.createDocumentFragment();var h;if(c===""){b.parentNode.removeChild(b);return}var j=/([_]*)(<[^>]+>.*<\/[^>]+>)([_]*)/g;while((h=j.exec(c))!==null){if(h[2]!==""){if(h[1]){d.appendChild(g(h[1]))}d.appendChild(e.parseHTML(h[2])[0]);if(h[3]){d.appendChild(g(h[3]))}}q++;console.log("span regex exec:"+q)}if(d.childNodes.length===0){var k=/([_]*)([^_]+)([_]*)/g;while((h=k.exec(c))!==null){if(h[2]!==""){if(h[1]){d.appendChild(g(h[1]))}d.appendChild(i(h[2]));if(h[3]){d.appendChild(g(h[3]))}}q++;console.log("span regex exec:"+q)}}if(d.childNodes.length>0){if(f&&f===n[a]||f.parentElement===n[a]){f=d.lastChild}n.eq(a).replaceWith(d);r++;console.log("span replace DOM:"+r++)}});h.push(k(d,f));l(h)};var n=d.debounce(m,500);b.on("input",function(a){n()});b.on("keyup",function(a){var c=a.originalEvent.keyCode;switch(c){case 13:b.trigger("input");break;case 37:case 38:case 39:case 40:break;default:if(!f()){b.trigger("input")}break}});b.on("compositionstart",function(){c=true});b.on("compositionend",function(){c=false});a.on("paste",n);m()};var u=function(a){var b=a.getSelection();var c=b.getRanges();var d=undefined;if(c.length>0){d=c[0].startContainer.$}if(d&&d.nodeType===3&&/^[_]+$/.test(d.data)){var e=a.createRange();e.collapse();e.moveToPosition(new h.dom.node(d).getParent(),h.POSITION_AFTER_END);b.selectRanges([e])}};c.exports=p});(function(a){if(typeof define==="function"&&define.amd){define("rangeSlider",["jquery"],function(b){a(b,document,window,navigator)})}else{a(jQuery,document,window,navigator)}})(function(a,b,c,d,e){"use strict";var f=0;var g=function(){var b=d.userAgent,c=/msie\s\d+/i,e;if(b.search(c)>0){e=c.exec(b).toString();e=e.split(" ")[1];if(e<9){a("html").addClass("lt-ie9");return true}}return false}();if(!Function.prototype.bind){Function.prototype.bind=function m(a){var b=this;var c=[].slice;if(typeof b!="function"){throw new TypeError}var d=c.call(arguments,1),e=function(){if(this instanceof e){var f=function(){};f.prototype=b.prototype;var g=new f;var h=b.apply(g,d.concat(c.call(arguments)));if(Object(h)===h){return h}return g}else{return b.apply(a,d.concat(c.call(arguments)))}};return e}}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(a,b){var c;if(this==null){throw new TypeError('"this" is null or not defined')}var d=Object(this);var e=d.length>>>0;if(e===0){return-1}var f=+b||0;if(Math.abs(f)===Infinity){f=0}if(f>=e){return-1}c=Math.max(f>=0?f:e-Math.abs(f),0);while(c<e){if(c in d&&d[c]===a){return c}c++}return-1}}var h='<span class="irs">'+'<span class="irs-line" tabindex="-1"><span class="irs-line-left"></span><span class="irs-line-mid"></span><span class="irs-line-right"></span></span>'+'<span class="irs-min">0</span><span class="irs-max">1</span>'+'<span class="irs-from">0</span><span class="irs-to">0</span><span class="irs-single" role="presentation">0</span>'+"</span>"+'<span class="irs-grid"></span>'+'<span class="irs-bar"></span>';var i='<span class="irs-bar-edge"></span>'+'<span class="irs-shadow shadow-single"></span>'+'<span class="irs-slider single"></span>';var j='<span class="irs-shadow shadow-from"></span>'+'<span class="irs-shadow shadow-to"></span>'+'<span class="irs-slider from"></span>'+'<span class="irs-slider to"></span>';var k='<span class="irs-disable-mask"></span>';var l=function(d,e,f){this.VERSION="2.1.4";this.input=d;this.plugin_count=f;this.current_plugin=0;this.calc_count=0;this.update_tm=0;this.old_from=0;this.old_to=0;this.old_min_interval=null;this.raf_id=null;this.dragging=false;this.force_redraw=false;this.no_diapason=false;this.is_key=false;this.is_update=false;this.is_start=true;this.is_finish=false;this.is_active=false;this.is_resize=false;this.is_click=false;this.$cache={win:a(c),body:a(b.body),input:a(d),cont:null,rs:null,min:null,max:null,from:null,to:null,single:null,bar:null,line:null,s_single:null,s_from:null,s_to:null,shad_single:null,shad_from:null,shad_to:null,edge:null,grid:null,grid_labels:[]};this.coords={x_gap:0,x_pointer:0,w_rs:0,w_rs_old:0,w_handle:0,p_gap:0,p_gap_left:0,p_gap_right:0,p_step:0,p_pointer:0,p_handle:0,p_single_fake:0,p_single_real:0,p_from_fake:0,p_from_real:0,p_to_fake:0,p_to_real:0,p_bar_x:0,p_bar_w:0,grid_gap:0,big_num:0,big:[],big_w:[],big_p:[],big_x:[]};this.labels={w_min:0,w_max:0,w_from:0,w_to:0,w_single:0,p_min:0,p_max:0,p_from_fake:0,p_from_left:0,p_to_fake:0,p_to_left:0,p_single_fake:0,p_single_left:0};var g=this.$cache.input,h=g.prop("value"),i,j,k;i={type:"single",min:10,max:100,from:null,to:null,step:1,min_interval:0,max_interval:0,drag_interval:false,values:[],p_values:[],from_fixed:false,from_min:null,from_max:null,from_shadow:false,to_fixed:false,to_min:null,to_max:null,to_shadow:false,prettify_enabled:true,prettify_separator:" ",prettify:null,force_edges:false,keyboard:false,keyboard_step:5,grid:false,grid_margin:true,grid_num:4,grid_snap:false,hide_min_max:false,hide_from_to:false,prefix:"",postfix:"",max_postfix:"",decorate_both:true,values_separator:"  ",input_values_separator:";",disable:false,onStart:null,onChange:null,onFinish:null,onUpdate:null};j={type:g.data("type"),min:g.data("min"),max:g.data("max"),from:g.data("from"),to:g.data("to"),step:g.data("step"),min_interval:g.data("minInterval"),max_interval:g.data("maxInterval"),drag_interval:g.data("dragInterval"),values:g.data("values"),from_fixed:g.data("fromFixed"),from_min:g.data("fromMin"),from_max:g.data("fromMax"),from_shadow:g.data("fromShadow"),to_fixed:g.data("toFixed"),to_min:g.data("toMin"),to_max:g.data("toMax"),to_shadow:g.data("toShadow"),prettify_enabled:g.data("prettifyEnabled"),prettify_separator:g.data("prettifySeparator"),force_edges:g.data("forceEdges"),keyboard:g.data("keyboard"),keyboard_step:g.data("keyboardStep"),grid:g.data("grid"),grid_margin:g.data("gridMargin"),grid_num:g.data("gridNum"),grid_snap:g.data("gridSnap"),hide_min_max:g.data("hideMinMax"),hide_from_to:g.data("hideFromTo"),prefix:g.data("prefix"),postfix:g.data("postfix"),max_postfix:g.data("maxPostfix"),decorate_both:g.data("decorateBoth"),values_separator:g.data("valuesSeparator"),input_values_separator:g.data("inputValuesSeparator"),disable:g.data("disable")};j.values=j.values&&j.values.split(",");for(k in j){if(j.hasOwnProperty(k)){if(!j[k]&&j[k]!==0){delete j[k]}}}if(h){h=h.split(j.input_values_separator||e.input_values_separator||";");if(h[0]&&h[0]==+h[0]){h[0]=+h[0]}if(h[1]&&h[1]==+h[1]){h[1]=+h[1]}if(e&&e.values&&e.values.length){i.from=h[0]&&e.values.indexOf(h[0]);i.to=h[1]&&e.values.indexOf(h[1])}else{i.from=h[0]&&+h[0];i.to=h[1]&&+h[1]}}a.extend(i,e);a.extend(i,j);this.options=i;this.validate();this.result={input:this.$cache.input,slider:null,min:this.options.min,max:this.options.max,from:this.options.from,from_percent:0,from_value:null,to:this.options.to,to_percent:0,to_value:null};this.init()};l.prototype={init:function(a){this.no_diapason=false;this.coords.p_step=this.convertToPercent(this.options.step,true);this.target="base";this.toggleInput();this.append();this.setMinMax();if(a){this.force_redraw=true;this.calc(true);this.callOnUpdate()}else{this.force_redraw=true;this.calc(true);this.callOnStart()}this.updateScene()},append:function(){var a='<span class="irs js-irs-'+this.plugin_count+'"></span>';this.$cache.input.before(a);this.$cache.input.prop("readonly",true);this.$cache.cont=this.$cache.input.prev();this.result.slider=this.$cache.cont;this.$cache.cont.html(h);this.$cache.rs=this.$cache.cont.find(".irs");this.$cache.min=this.$cache.cont.find(".irs-min");this.$cache.max=this.$cache.cont.find(".irs-max");this.$cache.from=this.$cache.cont.find(".irs-from");this.$cache.to=this.$cache.cont.find(".irs-to");this.$cache.single=this.$cache.cont.find(".irs-single");this.$cache.bar=this.$cache.cont.find(".irs-bar");this.$cache.line=this.$cache.cont.find(".irs-line");this.$cache.grid=this.$cache.cont.find(".irs-grid");if(this.options.type==="single"){this.$cache.cont.append(i);this.$cache.edge=this.$cache.cont.find(".irs-bar-edge");this.$cache.s_single=this.$cache.cont.find(".single");this.$cache.from[0].style.visibility="hidden";this.$cache.to[0].style.visibility="hidden";this.$cache.shad_single=this.$cache.cont.find(".shadow-single")}else{this.$cache.cont.append(j);this.$cache.s_from=this.$cache.cont.find(".from");this.$cache.s_to=this.$cache.cont.find(".to");this.$cache.shad_from=this.$cache.cont.find(".shadow-from");this.$cache.shad_to=this.$cache.cont.find(".shadow-to");this.setTopHandler()}if(this.options.hide_from_to){this.$cache.from[0].style.display="none";this.$cache.to[0].style.display="none";this.$cache.single[0].style.display="none"}this.appendGrid();if(this.options.disable){this.appendDisableMask();this.$cache.input[0].disabled=true}else{this.$cache.cont.removeClass("irs-disabled");this.$cache.input[0].disabled=false;this.bindEvents()}if(this.options.drag_interval){this.$cache.bar[0].style.cursor="ew-resize"}},setTopHandler:function(){var a=this.options.min,b=this.options.max,c=this.options.from,d=this.options.to;if(c>a&&d===b){this.$cache.s_from.addClass("type_last")}else if(d<b){this.$cache.s_to.addClass("type_last")}},changeLevel:function(a){switch(a){case"single":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_single_fake);break;case"from":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake);this.$cache.s_from.addClass("state_hover");this.$cache.s_from.addClass("type_last");this.$cache.s_to.removeClass("type_last");break;case"to":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_to_fake);this.$cache.s_to.addClass("state_hover");this.$cache.s_to.addClass("type_last");this.$cache.s_from.removeClass("type_last");break;case"both":this.coords.p_gap_left=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake);this.coords.p_gap_right=this.toFixed(this.coords.p_to_fake-this.coords.p_pointer);this.$cache.s_to.removeClass("type_last");this.$cache.s_from.removeClass("type_last");break}},appendDisableMask:function(){this.$cache.cont.append(k);this.$cache.cont.addClass("irs-disabled")},remove:function(){this.$cache.cont.remove();this.$cache.cont=null;this.$cache.line.off("keydown.irs_"+this.plugin_count);this.$cache.body.off("touchmove.irs_"+this.plugin_count);this.$cache.body.off("mousemove.irs_"+this.plugin_count);this.$cache.win.off("touchend.irs_"+this.plugin_count);this.$cache.win.off("mouseup.irs_"+this.plugin_count);if(g){this.$cache.body.off("mouseup.irs_"+this.plugin_count);this.$cache.body.off("mouseleave.irs_"+this.plugin_count)}this.$cache.grid_labels=[];this.coords.big=[];this.coords.big_w=[];this.coords.big_p=[];this.coords.big_x=[];cancelAnimationFrame(this.raf_id)},bindEvents:function(){if(this.no_diapason){return}this.$cache.body.on("touchmove.irs_"+this.plugin_count,this.pointerMove.bind(this));this.$cache.body.on("mousemove.irs_"+this.plugin_count,this.pointerMove.bind(this));this.$cache.win.on("touchend.irs_"+this.plugin_count,this.pointerUp.bind(this));this.$cache.win.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this));this.$cache.line.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.line.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));if(this.options.drag_interval&&this.options.type==="double"){this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"both"));this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"both"))}else{this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))}if(this.options.type==="single"){this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single"));this.$cache.s_single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single"));this.$cache.shad_single.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single"));this.$cache.s_single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single"));this.$cache.edge.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.shad_single.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))}else{this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,null));this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,null));this.$cache.from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from"));this.$cache.s_from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from"));this.$cache.to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to"));this.$cache.s_to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to"));this.$cache.shad_from.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.shad_to.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from"));this.$cache.s_from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from"));this.$cache.to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to"));this.$cache.s_to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to"));this.$cache.shad_from.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.shad_to.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))}if(this.options.keyboard){this.$cache.line.on("keydown.irs_"+this.plugin_count,this.key.bind(this,"keyboard"))}if(g){this.$cache.body.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this));this.$cache.body.on("mouseleave.irs_"+this.plugin_count,this.pointerUp.bind(this))}},pointerMove:function(a){if(!this.dragging){return}var b=a.pageX||a.originalEvent.touches&&a.originalEvent.touches[0].pageX;this.coords.x_pointer=b-this.coords.x_gap;this.calc()},pointerUp:function(b){if(this.current_plugin!==this.plugin_count){return}if(this.is_active){this.is_active=false}else{return}this.$cache.cont.find(".state_hover").removeClass("state_hover");this.force_redraw=true;if(g){a("*").prop("unselectable",false)}this.updateScene();this.restoreOriginalMinInterval();if(a.contains(this.$cache.cont[0],b.target)||this.dragging){this.is_finish=true;this.callOnFinish()}this.dragging=false},pointerDown:function(b,c){c.preventDefault();var d=c.pageX||c.originalEvent.touches&&c.originalEvent.touches[0].pageX;if(c.button===2){return}if(b==="both"){this.setTempMinInterval()}if(!b){b=this.target}this.current_plugin=this.plugin_count;this.target=b;this.is_active=true;this.dragging=true;this.coords.x_gap=this.$cache.rs.offset().left;this.coords.x_pointer=d-this.coords.x_gap;this.calcPointerPercent();this.changeLevel(b);if(g){a("*").prop("unselectable",true)}this.$cache.line.trigger("focus");this.updateScene()},pointerClick:function(a,b){b.preventDefault();var c=b.pageX||b.originalEvent.touches&&b.originalEvent.touches[0].pageX;if(b.button===2){return}this.current_plugin=this.plugin_count;this.target=a;this.is_click=true;this.coords.x_gap=this.$cache.rs.offset().left;this.coords.x_pointer=+(c-this.coords.x_gap).toFixed();this.force_redraw=true;this.calc();this.$cache.line.trigger("focus")},key:function(a,b){if(this.current_plugin!==this.plugin_count||b.altKey||b.ctrlKey||b.shiftKey||b.metaKey){return}switch(b.which){case 83:case 65:case 40:case 37:b.preventDefault();this.moveByKey(false);break;case 87:case 68:case 38:case 39:b.preventDefault();this.moveByKey(true);break}return true},moveByKey:function(a){var b=this.coords.p_pointer;if(a){b+=this.options.keyboard_step}else{b-=this.options.keyboard_step}this.coords.x_pointer=this.toFixed(this.coords.w_rs/100*b);this.is_key=true;this.calc()},setMinMax:function(){if(!this.options){return}if(this.options.hide_min_max){this.$cache.min[0].style.display="none";this.$cache.max[0].style.display="none";return}if(this.options.values.length){this.$cache.min.html(this.decorate(this.options.p_values[this.options.min]));this.$cache.max.html(this.decorate(this.options.p_values[this.options.max]))}else{this.$cache.min.html(this.decorate(this._prettify(this.options.min),this.options.min));this.$cache.max.html(this.decorate(this._prettify(this.options.max),this.options.max))}this.labels.w_min=this.$cache.min.outerWidth(false);this.labels.w_max=this.$cache.max.outerWidth(false)},setTempMinInterval:function(){var a=this.result.to-this.result.from;if(this.old_min_interval===null){this.old_min_interval=this.options.min_interval}this.options.min_interval=a},restoreOriginalMinInterval:function(){if(this.old_min_interval!==null){this.options.min_interval=this.old_min_interval;this.old_min_interval=null}},calc:function(a){if(!this.options){return}this.calc_count++;if(this.calc_count===10||a){this.calc_count=0;this.coords.w_rs=this.$cache.rs.outerWidth(false);this.calcHandlePercent()}if(!this.coords.w_rs){return}this.calcPointerPercent();var b=this.getHandleX();if(this.target==="click"){this.coords.p_gap=this.coords.p_handle/2;b=this.getHandleX();if(this.options.drag_interval){this.target="both_one"}else{this.target=this.chooseHandle(b)}}switch(this.target){case"base":var c=(this.options.max-this.options.min)/100,d=(this.result.from-this.options.min)/c,e=(this.result.to-this.options.min)/c;this.coords.p_single_real=this.toFixed(d);this.coords.p_from_real=this.toFixed(d);this.coords.p_to_real=this.toFixed(e);this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max);this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max);this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max);this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real);this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);this.target=null;break;case"single":if(this.options.from_fixed){break}this.coords.p_single_real=this.convertToRealPercent(b);this.coords.p_single_real=this.calcWithStep(this.coords.p_single_real);this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max);this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real);break;case"from":if(this.options.from_fixed){break}this.coords.p_from_real=this.convertToRealPercent(b);this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real);if(this.coords.p_from_real>this.coords.p_to_real){this.coords.p_from_real=this.coords.p_to_real}this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max);this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from");this.coords.p_from_real=this.checkMaxInterval(this.coords.p_from_real,this.coords.p_to_real,"from");this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);break;case"to":if(this.options.to_fixed){break}this.coords.p_to_real=this.convertToRealPercent(b);this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real);if(this.coords.p_to_real<this.coords.p_from_real){this.coords.p_to_real=this.coords.p_from_real}this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max);this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to");this.coords.p_to_real=this.checkMaxInterval(this.coords.p_to_real,this.coords.p_from_real,"to");this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both":if(this.options.from_fixed||this.options.to_fixed){break}b=this.toFixed(b+this.coords.p_handle*.1);this.coords.p_from_real=this.convertToRealPercent(b)-this.coords.p_gap_left;this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real);this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max);this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from");this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);this.coords.p_to_real=this.convertToRealPercent(b)+this.coords.p_gap_right;this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real);this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max);this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to");this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both_one":if(this.options.from_fixed||this.options.to_fixed){break}var f=this.convertToRealPercent(b),g=this.result.from_percent,h=this.result.to_percent,i=h-g,j=i/2,k=f-j,l=f+j;if(k<0){k=0;l=k+i}if(l>100){l=100;k=l-i}this.coords.p_from_real=this.calcWithStep(k);this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max);this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);this.coords.p_to_real=this.calcWithStep(l);this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max);
this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break}if(this.options.type==="single"){this.coords.p_bar_x=this.coords.p_handle/2;this.coords.p_bar_w=this.coords.p_single_fake;this.result.from_percent=this.coords.p_single_real;this.result.from=this.convertToValue(this.coords.p_single_real);if(this.options.values.length){this.result.from_value=this.options.values[this.result.from]}}else{this.coords.p_bar_x=this.toFixed(this.coords.p_from_fake+this.coords.p_handle/2);this.coords.p_bar_w=this.toFixed(this.coords.p_to_fake-this.coords.p_from_fake);this.result.from_percent=this.coords.p_from_real;this.result.from=this.convertToValue(this.coords.p_from_real);this.result.to_percent=this.coords.p_to_real;this.result.to=this.convertToValue(this.coords.p_to_real);if(this.options.values.length){this.result.from_value=this.options.values[this.result.from];this.result.to_value=this.options.values[this.result.to]}}this.calcMinMax();this.calcLabels()},calcPointerPercent:function(){if(!this.coords.w_rs){this.coords.p_pointer=0;return}if(this.coords.x_pointer<0||isNaN(this.coords.x_pointer)){this.coords.x_pointer=0}else if(this.coords.x_pointer>this.coords.w_rs){this.coords.x_pointer=this.coords.w_rs}this.coords.p_pointer=this.toFixed(this.coords.x_pointer/this.coords.w_rs*100)},convertToRealPercent:function(a){var b=100-this.coords.p_handle;return a/b*100},convertToFakePercent:function(a){var b=100-this.coords.p_handle;return a/100*b},getHandleX:function(){var a=100-this.coords.p_handle,b=this.toFixed(this.coords.p_pointer-this.coords.p_gap);if(b<0){b=0}else if(b>a){b=a}return b},calcHandlePercent:function(){if(this.options.type==="single"){this.coords.w_handle=this.$cache.s_single.outerWidth(false)}else{this.coords.w_handle=this.$cache.s_from.outerWidth(false)}this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100)},chooseHandle:function(a){if(this.options.type==="single"){return"single"}else{var b=this.coords.p_from_real+(this.coords.p_to_real-this.coords.p_from_real)/2;if(a>=b){return this.options.to_fixed?"from":"to"}else{return this.options.from_fixed?"to":"from"}}},calcMinMax:function(){if(!this.coords.w_rs){return}this.labels.p_min=this.labels.w_min/this.coords.w_rs*100;this.labels.p_max=this.labels.w_max/this.coords.w_rs*100},calcLabels:function(){if(!this.coords.w_rs||this.options.hide_from_to){return}if(this.options.type==="single"){this.labels.w_single=this.$cache.single.outerWidth(false);this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100;this.labels.p_single_left=this.coords.p_single_fake+this.coords.p_handle/2-this.labels.p_single_fake/2;this.labels.p_single_left=this.checkEdges(this.labels.p_single_left,this.labels.p_single_fake)}else{this.labels.w_from=this.$cache.from.outerWidth(false);this.labels.p_from_fake=this.labels.w_from/this.coords.w_rs*100;this.labels.p_from_left=this.coords.p_from_fake+this.coords.p_handle/2-this.labels.p_from_fake/2;this.labels.p_from_left=this.toFixed(this.labels.p_from_left);this.labels.p_from_left=this.checkEdges(this.labels.p_from_left,this.labels.p_from_fake);this.labels.w_to=this.$cache.to.outerWidth(false);this.labels.p_to_fake=this.labels.w_to/this.coords.w_rs*100;this.labels.p_to_left=this.coords.p_to_fake+this.coords.p_handle/2-this.labels.p_to_fake/2;this.labels.p_to_left=this.toFixed(this.labels.p_to_left);this.labels.p_to_left=this.checkEdges(this.labels.p_to_left,this.labels.p_to_fake);this.labels.w_single=this.$cache.single.outerWidth(false);this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100;this.labels.p_single_left=(this.labels.p_from_left+this.labels.p_to_left+this.labels.p_to_fake)/2-this.labels.p_single_fake/2;this.labels.p_single_left=this.toFixed(this.labels.p_single_left);this.labels.p_single_left=this.checkEdges(this.labels.p_single_left,this.labels.p_single_fake)}},updateScene:function(){if(this.raf_id){cancelAnimationFrame(this.raf_id);this.raf_id=null}clearTimeout(this.update_tm);this.update_tm=null;if(!this.options){return}this.drawHandles();if(this.is_active){this.raf_id=requestAnimationFrame(this.updateScene.bind(this))}else{this.update_tm=setTimeout(this.updateScene.bind(this),300)}},drawHandles:function(){this.coords.w_rs=this.$cache.rs.outerWidth(false);if(!this.coords.w_rs){return}if(this.coords.w_rs!==this.coords.w_rs_old){this.target="base";this.is_resize=true}if(this.coords.w_rs!==this.coords.w_rs_old||this.force_redraw){this.setMinMax();this.calc(true);this.drawLabels();if(this.options.grid){this.calcGridMargin();this.calcGridLabels()}this.force_redraw=true;this.coords.w_rs_old=this.coords.w_rs;this.drawShadow()}if(!this.coords.w_rs){return}if(!this.dragging&&!this.force_redraw&&!this.is_key){return}if(this.old_from!==this.result.from||this.old_to!==this.result.to||this.force_redraw||this.is_key){this.drawLabels();this.$cache.bar[0].style.left=this.coords.p_bar_x+"%";this.$cache.bar[0].style.width=this.coords.p_bar_w+"%";if(this.options.type==="single"){this.$cache.s_single[0].style.left=this.coords.p_single_fake+"%";this.$cache.single[0].style.left=this.labels.p_single_left+"%";if(this.options.values.length){this.$cache.input.prop("value",this.result.from_value)}else{this.$cache.input.prop("value",this.result.from)}this.$cache.input.data("from",this.result.from)}else{this.$cache.s_from[0].style.left=this.coords.p_from_fake+"%";this.$cache.s_to[0].style.left=this.coords.p_to_fake+"%";if(this.old_from!==this.result.from||this.force_redraw){this.$cache.from[0].style.left=this.labels.p_from_left+"%"}if(this.old_to!==this.result.to||this.force_redraw){this.$cache.to[0].style.left=this.labels.p_to_left+"%"}this.$cache.single[0].style.left=this.labels.p_single_left+"%";if(this.options.values.length){this.$cache.input.prop("value",this.result.from_value+this.options.input_values_separator+this.result.to_value)}else{this.$cache.input.prop("value",this.result.from+this.options.input_values_separator+this.result.to)}this.$cache.input.data("from",this.result.from);this.$cache.input.data("to",this.result.to)}if((this.old_from!==this.result.from||this.old_to!==this.result.to)&&!this.is_start){this.$cache.input.trigger("change")}this.old_from=this.result.from;this.old_to=this.result.to;if(!this.is_resize&&!this.is_update&&!this.is_start&&!this.is_finish){this.callOnChange()}if(this.is_key||this.is_click){this.is_key=false;this.is_click=false;this.callOnFinish()}this.is_update=false;this.is_resize=false;this.is_finish=false}this.is_start=false;this.is_key=false;this.is_click=false;this.force_redraw=false},drawLabels:function(){if(!this.options){return}var a=this.options.values.length,b=this.options.p_values,c,d,e;if(this.options.hide_from_to){return}if(this.options.type==="single"){if(a){c=this.decorate(b[this.result.from]);this.$cache.single.html(c)}else{c=this.decorate(this._prettify(this.result.from),this.result.from);this.$cache.single.html(c)}this.calcLabels();if(this.labels.p_single_left<this.labels.p_min+1){this.$cache.min[0].style.visibility="hidden"}else{this.$cache.min[0].style.visibility="visible"}if(this.labels.p_single_left+this.labels.p_single_fake>100-this.labels.p_max-1){this.$cache.max[0].style.visibility="hidden"}else{this.$cache.max[0].style.visibility="visible"}}else{if(a){if(this.options.decorate_both){c=this.decorate(b[this.result.from]);c+=this.options.values_separator;c+=this.decorate(b[this.result.to])}else{c=this.decorate(b[this.result.from]+this.options.values_separator+b[this.result.to])}d=this.decorate(b[this.result.from]);e=this.decorate(b[this.result.to]);this.$cache.single.html(c);this.$cache.from.html(d);this.$cache.to.html(e)}else{if(this.options.decorate_both){c=this.decorate(this._prettify(this.result.from),this.result.from);c+=this.options.values_separator;c+=this.decorate(this._prettify(this.result.to),this.result.to)}else{c=this.decorate(this._prettify(this.result.from)+this.options.values_separator+this._prettify(this.result.to),this.result.to)}d=this.decorate(this._prettify(this.result.from),this.result.from);e=this.decorate(this._prettify(this.result.to),this.result.to);this.$cache.single.html(c);this.$cache.from.html(d);this.$cache.to.html(e)}this.calcLabels();var f=Math.min(this.labels.p_single_left,this.labels.p_from_left),g=this.labels.p_single_left+this.labels.p_single_fake,h=this.labels.p_to_left+this.labels.p_to_fake,i=Math.max(g,h);if(this.labels.p_from_left+this.labels.p_from_fake>=this.labels.p_to_left){this.$cache.from[0].style.visibility="hidden";this.$cache.to[0].style.visibility="hidden";this.$cache.single[0].style.visibility="visible";if(this.result.from===this.result.to){if(this.target==="from"){this.$cache.from[0].style.visibility="visible"}else if(this.target==="to"){this.$cache.to[0].style.visibility="visible"}else if(!this.target){this.$cache.from[0].style.visibility="visible"}this.$cache.single[0].style.visibility="hidden";i=h}else{this.$cache.from[0].style.visibility="hidden";this.$cache.to[0].style.visibility="hidden";this.$cache.single[0].style.visibility="visible";i=Math.max(g,h)}}else{this.$cache.from[0].style.visibility="visible";this.$cache.to[0].style.visibility="visible";this.$cache.single[0].style.visibility="hidden"}if(f<this.labels.p_min+1){this.$cache.min[0].style.visibility="hidden"}else{this.$cache.min[0].style.visibility="visible"}if(i>100-this.labels.p_max-1){this.$cache.max[0].style.visibility="hidden"}else{this.$cache.max[0].style.visibility="visible"}}},drawShadow:function(){var a=this.options,b=this.$cache,c=typeof a.from_min==="number"&&!isNaN(a.from_min),d=typeof a.from_max==="number"&&!isNaN(a.from_max),e=typeof a.to_min==="number"&&!isNaN(a.to_min),f=typeof a.to_max==="number"&&!isNaN(a.to_max),g,h,i,j;if(a.type==="single"){if(a.from_shadow&&(c||d)){g=this.convertToPercent(c?a.from_min:a.min);h=this.convertToPercent(d?a.from_max:a.max)-g;g=this.toFixed(g-this.coords.p_handle/100*g);h=this.toFixed(h-this.coords.p_handle/100*h);g=g+this.coords.p_handle/2;b.shad_single[0].style.display="block";b.shad_single[0].style.left=g+"%";b.shad_single[0].style.width=h+"%"}else{b.shad_single[0].style.display="none"}}else{if(a.from_shadow&&(c||d)){g=this.convertToPercent(c?a.from_min:a.min);h=this.convertToPercent(d?a.from_max:a.max)-g;g=this.toFixed(g-this.coords.p_handle/100*g);h=this.toFixed(h-this.coords.p_handle/100*h);g=g+this.coords.p_handle/2;b.shad_from[0].style.display="block";b.shad_from[0].style.left=g+"%";b.shad_from[0].style.width=h+"%"}else{b.shad_from[0].style.display="none"}if(a.to_shadow&&(e||f)){i=this.convertToPercent(e?a.to_min:a.min);j=this.convertToPercent(f?a.to_max:a.max)-i;i=this.toFixed(i-this.coords.p_handle/100*i);j=this.toFixed(j-this.coords.p_handle/100*j);i=i+this.coords.p_handle/2;b.shad_to[0].style.display="block";b.shad_to[0].style.left=i+"%";b.shad_to[0].style.width=j+"%"}else{b.shad_to[0].style.display="none"}}},callOnStart:function(){if(this.options.onStart&&typeof this.options.onStart==="function"){this.options.onStart(this.result)}},callOnChange:function(){if(this.options.onChange&&typeof this.options.onChange==="function"){this.options.onChange(this.result)}},callOnFinish:function(){if(this.options.onFinish&&typeof this.options.onFinish==="function"){this.options.onFinish(this.result)}},callOnUpdate:function(){if(this.options.onUpdate&&typeof this.options.onUpdate==="function"){this.options.onUpdate(this.result)}},toggleInput:function(){this.$cache.input.toggleClass("irs-hidden-input")},convertToPercent:function(a,b){var c=this.options.max-this.options.min,d=c/100,e,f;if(!c){this.no_diapason=true;return 0}if(b){e=a}else{e=a-this.options.min}f=e/d;return this.toFixed(f)},convertToValue:function(a){var b=this.options.min,c=this.options.max,d=b.toString().split(".")[1],e=c.toString().split(".")[1],f,g,h=0,i=0;if(a===0){return this.options.min}if(a===100){return this.options.max}if(d){f=d.length;h=f}if(e){g=e.length;h=g}if(f&&g){h=f>=g?f:g}if(b<0){i=Math.abs(b);b=+(b+i).toFixed(h);c=+(c+i).toFixed(h)}var j=(c-b)/100*a+b,k=this.options.step.toString().split(".")[1],l;if(k){j=+j.toFixed(k.length)}else{j=j/this.options.step;j=j*this.options.step;j=+j.toFixed(0)}if(i){j-=i}if(k){l=+j.toFixed(k.length)}else{l=this.toFixed(j)}if(l<this.options.min){l=this.options.min}else if(l>this.options.max){l=this.options.max}return l},calcWithStep:function(a){var b=Math.round(a/this.coords.p_step)*this.coords.p_step;if(b>100){b=100}if(a===100){b=100}return this.toFixed(b)},checkMinInterval:function(a,b,c){var d=this.options,e,f;if(!d.min_interval){return a}e=this.convertToValue(a);f=this.convertToValue(b);if(c==="from"){if(f-e<d.min_interval){e=f-d.min_interval}}else{if(e-f<d.min_interval){e=f+d.min_interval}}return this.convertToPercent(e)},checkMaxInterval:function(a,b,c){var d=this.options,e,f;if(!d.max_interval){return a}e=this.convertToValue(a);f=this.convertToValue(b);if(c==="from"){if(f-e>d.max_interval){e=f-d.max_interval}}else{if(e-f>d.max_interval){e=f+d.max_interval}}return this.convertToPercent(e)},checkDiapason:function(a,b,c){var d=this.convertToValue(a),e=this.options;if(typeof b!=="number"){b=e.min}if(typeof c!=="number"){c=e.max}if(d<b){d=b}if(d>c){d=c}return this.convertToPercent(d)},toFixed:function(a){a=a.toFixed(9);return+a},_prettify:function(a){if(!this.options.prettify_enabled){return a}if(this.options.prettify&&typeof this.options.prettify==="function"){return this.options.prettify(a)}else{return this.prettify(a)}},prettify:function(a){var b=a.toString();return b.replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1"+this.options.prettify_separator)},checkEdges:function(a,b){if(!this.options.force_edges){return this.toFixed(a)}if(a<0){a=0}else if(a>100-b){a=100-b}return this.toFixed(a)},validate:function(){var a=this.options,b=this.result,c=a.values,d=c.length,e,f;if(typeof a.min==="string")a.min=+a.min;if(typeof a.max==="string")a.max=+a.max;if(typeof a.from==="string")a.from=+a.from;if(typeof a.to==="string")a.to=+a.to;if(typeof a.step==="string")a.step=+a.step;if(typeof a.from_min==="string")a.from_min=+a.from_min;if(typeof a.from_max==="string")a.from_max=+a.from_max;if(typeof a.to_min==="string")a.to_min=+a.to_min;if(typeof a.to_max==="string")a.to_max=+a.to_max;if(typeof a.keyboard_step==="string")a.keyboard_step=+a.keyboard_step;if(typeof a.grid_num==="string")a.grid_num=+a.grid_num;if(a.max<a.min){a.max=a.min}if(d){a.p_values=[];a.min=0;a.max=d-1;a.step=1;a.grid_num=a.max;a.grid_snap=true;for(f=0;f<d;f++){e=+c[f];if(!isNaN(e)){c[f]=e;e=this._prettify(e)}else{e=c[f]}a.p_values.push(e)}}if(typeof a.from!=="number"||isNaN(a.from)){a.from=a.min}if(typeof a.to!=="number"||isNaN(a.from)){a.to=a.max}if(a.type==="single"){if(a.from<a.min){a.from=a.min}if(a.from>a.max){a.from=a.max}}else{if(a.from<a.min||a.from>a.max){a.from=a.min}if(a.to>a.max||a.to<a.min){a.to=a.max}if(a.from>a.to){a.from=a.to}}if(typeof a.step!=="number"||isNaN(a.step)||!a.step||a.step<0){a.step=1}if(typeof a.keyboard_step!=="number"||isNaN(a.keyboard_step)||!a.keyboard_step||a.keyboard_step<0){a.keyboard_step=5}if(typeof a.from_min==="number"&&a.from<a.from_min){a.from=a.from_min}if(typeof a.from_max==="number"&&a.from>a.from_max){a.from=a.from_max}if(typeof a.to_min==="number"&&a.to<a.to_min){a.to=a.to_min}if(typeof a.to_max==="number"&&a.from>a.to_max){a.to=a.to_max}if(b){if(b.min!==a.min){b.min=a.min}if(b.max!==a.max){b.max=a.max}if(b.from<b.min||b.from>b.max){b.from=a.from}if(b.to<b.min||b.to>b.max){b.to=a.to}}if(typeof a.min_interval!=="number"||isNaN(a.min_interval)||!a.min_interval||a.min_interval<0){a.min_interval=0}if(typeof a.max_interval!=="number"||isNaN(a.max_interval)||!a.max_interval||a.max_interval<0){a.max_interval=0}if(a.min_interval&&a.min_interval>a.max-a.min){a.min_interval=a.max-a.min}if(a.max_interval&&a.max_interval>a.max-a.min){a.max_interval=a.max-a.min}},decorate:function(a,b){var c="",d=this.options;if(d.prefix){c+=d.prefix}c+=a;if(d.max_postfix){if(d.values.length&&a===d.p_values[d.max]){c+=d.max_postfix;if(d.postfix){c+=" "}}else if(b===d.max){c+=d.max_postfix;if(d.postfix){c+=" "}}}if(d.postfix){c+=d.postfix}return c},updateFrom:function(){this.result.from=this.options.from;this.result.from_percent=this.convertToPercent(this.result.from);if(this.options.values){this.result.from_value=this.options.values[this.result.from]}},updateTo:function(){this.result.to=this.options.to;this.result.to_percent=this.convertToPercent(this.result.to);if(this.options.values){this.result.to_value=this.options.values[this.result.to]}},updateResult:function(){this.result.min=this.options.min;this.result.max=this.options.max;this.updateFrom();this.updateTo()},appendGrid:function(){if(!this.options.grid){return}var a=this.options,b,c,d=a.max-a.min,e=a.grid_num,f=0,g=0,h=4,i,j,k=0,l,m="";this.calcGridMargin();if(a.grid_snap){e=d/a.step;f=this.toFixed(a.step/(d/100))}else{f=this.toFixed(100/e)}if(e>4){h=3}if(e>7){h=2}if(e>14){h=1}if(e>28){h=0}for(b=0;b<e+1;b++){i=h;g=this.toFixed(f*b);if(g>100){g=100;i-=2;if(i<0){i=0}}this.coords.big[b]=g;j=(g-f*(b-1))/(i+1);for(c=1;c<=i;c++){if(g===0){break}k=this.toFixed(g-j*c);m+='<span class="irs-grid-pol small" style="left: '+k+'%"></span>'}m+='<span class="irs-grid-pol" style="left: '+g+'%"></span>';l=this.convertToValue(g);if(a.values.length){l=a.p_values[l]}else{l=this._prettify(l)}m+='<span class="irs-grid-text js-grid-text-'+b+'" style="left: '+g+'%">'+l+"</span>"}this.coords.big_num=Math.ceil(e+1);this.$cache.cont.addClass("irs-with-grid");this.$cache.grid.html(m);this.cacheGridLabels()},cacheGridLabels:function(){var a,b,c=this.coords.big_num;for(b=0;b<c;b++){a=this.$cache.grid.find(".js-grid-text-"+b);this.$cache.grid_labels.push(a)}this.calcGridLabels()},calcGridLabels:function(){var a,b,c=[],d=[],e=this.coords.big_num;for(a=0;a<e;a++){this.coords.big_w[a]=this.$cache.grid_labels[a].outerWidth(false);this.coords.big_p[a]=this.toFixed(this.coords.big_w[a]/this.coords.w_rs*100);this.coords.big_x[a]=this.toFixed(this.coords.big_p[a]/2);c[a]=this.toFixed(this.coords.big[a]-this.coords.big_x[a]);d[a]=this.toFixed(c[a]+this.coords.big_p[a])}if(this.options.force_edges){if(c[0]<-this.coords.grid_gap){c[0]=-this.coords.grid_gap;d[0]=this.toFixed(c[0]+this.coords.big_p[0]);this.coords.big_x[0]=this.coords.grid_gap}if(d[e-1]>100+this.coords.grid_gap){d[e-1]=100+this.coords.grid_gap;c[e-1]=this.toFixed(d[e-1]-this.coords.big_p[e-1]);this.coords.big_x[e-1]=this.toFixed(this.coords.big_p[e-1]-this.coords.grid_gap)}}this.calcGridCollision(2,c,d);this.calcGridCollision(4,c,d);for(a=0;a<e;a++){b=this.$cache.grid_labels[a][0];b.style.marginLeft=-this.coords.big_x[a]+"%"}},calcGridCollision:function(a,b,c){var d,e,f,g=this.coords.big_num;for(d=0;d<g;d+=a){e=d+a/2;if(e>=g){break}f=this.$cache.grid_labels[e][0];if(c[d]<=b[e]){f.style.visibility="visible"}else{f.style.visibility="hidden"}}},calcGridMargin:function(){if(!this.options.grid_margin){return}this.coords.w_rs=this.$cache.rs.outerWidth(false);if(!this.coords.w_rs){return}if(this.options.type==="single"){this.coords.w_handle=this.$cache.s_single.outerWidth(false)}else{this.coords.w_handle=this.$cache.s_from.outerWidth(false)}this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100);this.coords.grid_gap=this.toFixed(this.coords.p_handle/2-.1);this.$cache.grid[0].style.width=this.toFixed(100-this.coords.p_handle)+"%";this.$cache.grid[0].style.left=this.coords.grid_gap+"%"},update:function(b){if(!this.input){return}this.is_update=true;this.options.from=this.result.from;this.options.to=this.result.to;this.options=a.extend(this.options,b);this.validate();this.updateResult(b);this.toggleInput();this.remove();this.init(true)},reset:function(){if(!this.input){return}this.updateResult();this.update()},destroy:function(){if(!this.input){return}this.toggleInput();this.$cache.input.prop("readonly",false);a.data(this.input,"ionRangeSlider",null);this.remove();this.input=null;this.options=null}};a.fn.ionRangeSlider=function(b){return this.each(function(){if(!a.data(this,"ionRangeSlider")){a.data(this,"ionRangeSlider",new l(this,b,(f++)))}})};(function(){var a=0;var b=["ms","moz","webkit","o"];for(var d=0;d<b.length&&!c.requestAnimationFrame;++d){c.requestAnimationFrame=c[b[d]+"RequestAnimationFrame"];c.cancelAnimationFrame=c[b[d]+"CancelAnimationFrame"]||c[b[d]+"CancelRequestAnimationFrame"]}if(!c.requestAnimationFrame)c.requestAnimationFrame=function(b,d){var e=(new Date).getTime();var f=Math.max(0,16-(e-a));var g=c.setTimeout(function(){b(e+f)},f);a=e+f;return g};if(!c.cancelAnimationFrame)c.cancelAnimationFrame=function(a){clearTimeout(a)}})()});define("app/common/views/question",["require","exports","module","jquery","rangeSlider"],function(a,b,c){var d=a("jquery");a("rangeSlider");c.exports=e;function e(){}e.adjustMatrixStar=f;function f(a){if(!a.is(":visible")){return}var b=Boolean(Number(a.attr("data-revert")));a.find("input.star_range").each(function(){c(d(this),b)});function c(a,b){if(!a.is(".star_range")){return}var c=Number(a.attr("min"));var d=Number(a.attr("max"));var g=a.attr("disabled");var h=a.attr("value");if(!a.data("ionRangeSlider")){a.ionRangeSlider({type:"single",from:f(d,c,b,h),values:e(c,d,b),onChange:function(a){a.input.parents(".matrix_item").attr("selected","selected")},disable:Boolean(g)});if(h){a.parents(".matrix_item").attr("selected","selected")}}}function e(a,b,c){var d=[];var e;a=a!==undefined?a:1;b=b!==undefined?b:6;for(e=a;e<=b;e++){d.push(e)}return c?d.reverse():d}function f(a,b,c,d){if(d){return c?a-d:d-b}var e=0;if(c){e=Math.ceil((a+b)/2-b)}else{e=Math.floor((a+b)/2-b)}return e}}});define("amd-templates/common/pc/survey/questions/title",["../../../../template"],function(a){return a("common/pc/survey/questions/title",function(a){"use strict";var b=this,c=(b.$helpers,b.$escape),d=a.id,e=a.index,f=b.$string,g=a.title,h=a.required,i=a.description,j="";return j+='<div class="title" id="questionTitle_',j+=c(d),j+='"> <div role="presetation" > <span class="title_index"> <span class="question_index" data-for=',j+=c(d),j+=">",j+=c(e),j+='</span>. </span> <h3 class="title_text"> ',j+=f(g),j+=" </h3> ",h&&(j+=' <span class="required" title="" aria-label="" alt="" style="display: none;">*',j+=c(h),j+="</span> "),j+=' </div> <span class="tips" role="alert">  </span> </div> <div class="description"> <div class="description_text"> ',j+=f(i),j+=" </div> </div> ",new String(j)})});define("amd-templates/common/pc/survey/questions/question_refer",["../../../../template"],function(a){return a("common/pc/survey/questions/question_refer",function(a){"use strict";var b=this,c=(b.$helpers,b.$escape),d=a.refer,e="";return e+=' <div class="no_refer_answer"><span class="lng_referFrom"></span><b class="question_index" data-for="',e+=c(d),e+='"></b><span class="lng_referFill"></span><b class="question_index" data-for="',e+=c(d),e+='"></b><span class="lng_referQues"></span></div> ',new String(e)})});define("amd-templates/common/pc/survey/questions/radio",["../../../../template","./title","./question_refer"],function(a){return a("common/pc/survey/questions/radio",function(a,b){"use strict";var c=this,d=(c.$helpers,c.$escape),e=a.type,f=a.id,g=a.required,h=function(d,e){e=e||a;var f=c.$include(d,e,b);return n+=f},i=a.refer,j=c.$each,k=a.options,l=(a.option,a.index,a.maxRow),m=c.$string,n="";return n+='<div class="question question_',n+=d(e),n+='" id="question_',n+=d(f),n+='" data-type="',n+=d(e),n+='" data-id="',n+=d(f),n+='" role="group" data-role="',n+=d(e),n+='group" ',g&&(n+=' aria-required="true" '),n+='> <div class="inner"> ',h("./title"),n+=" ",i?(n+=" ",h("./question_refer"),n+=' <div class="inputs" style="display:none;"> '):n+=' <div class="inputs"> ',n+=" ",j(k,function(a){n+=' <div class="option_item" style="width: ',n+=d(100/l),n+='%;" role="',n+=d(e),n+='" tabindex=',n+=d("checkbox"===e?"0":"-1"),n+=' aria-checked="false"> <input class="survey_form_checkbox" type="',n+=d(e),n+='" name="answer_',n+=d(f),n+='" data-oid="',n+=d(a.id),n+='" data-exclusive="',n+=d(a.exclusive?1:0),n+='" id="option_',n+=d(f),n+="_",n+=d(a.id),n+='" value="',n+=d(a.text),n+='" /> <label for="option_',n+=d(f),n+="_",n+=d(a.id),n+='"> <i class="survey_form_ui"></i> <div class="option_text">',n+=m(a.text),n+='</div> <div class="stat"> <div class="bar"></div> <span class="rate"></span> <span class="count"></span> </div> </label> </div> '}),n+=" </div> </div> </div> ",new String(n)})});define("amd-templates/common/pc/survey/questions/checkbox",["../../../../template","./radio"],function(a){return a("common/pc/survey/questions/checkbox",function(a,b){"use strict";var c=this,d=(c.$helpers,function(d,f){f=f||a;var g=c.$include(d,f,b);return e+=g}),e="";return d("./radio"),e+=" ",new String(e)})});define("amd-templates/common/pc/survey/questions/select",["../../../../template","./title","./question_refer"],function(a){return a("common/pc/survey/questions/select",function(a,b){"use strict";var c=this,d=(c.$helpers,c.$escape),e=a.type,f=a.id,g=function(d,e){e=e||a;var f=c.$include(d,e,b);return k+=f},h=a.refer,i=c.$each,j=a.options,k=(a.option,a.index,"");return k+='<div class="question question_',k+=d(e),k+='" id="question_',k+=d(f),k+='" data-type="',k+=d(e),k+='" data-id="',k+=d(f),k+='"> <div class="inner"> ',g("./title"),k+=" ",h&&(k+=" ",g("./question_refer"),k+=" "),k+=' <div class="inputs" style="',h&&(k+="display: none;"),k+='"> <select name="answer_',k+=d(f),k+='" class="survey_form_input" aria-labelledby="questionTitle_',k+=d(f),k+='"> <option disabled selected value aria-disabled="true" aria-label="" class="lng_chooseline">----</option> ',i(j,function(a){k+=' <option aria-label="',k+=d(a.text),k+='" aria-checked="false" aria-selected="false" id="',"98"===a.id?(k+="option_",k+=d(f),k+="_other"):(k+="option_",k+=d(f),k+="_",k+=d(a.id)),k+='" value="',k+=d(a.id),k+='" data-oid="',k+=d(a.id),k+='" class="',"98"===a.id&&(k+="others"),k+='"> ',k+=d(a.text),k+=" </option> "}),k+=' </select> <input class="survey_form_input survey_form_input_other" style="display: none; vertical-align: middle;" type="text" id="option_',k+=d(f),k+='_other_text\'" value=""/> </div> </div> </div> ',new String(k)})});define("amd-templates/common/pc/survey/questions/text",["../../../../template","./title"],function(a){return a("common/pc/survey/questions/text",function(a,b){"use strict";var c=this,d=(c.$helpers,c.$escape),e=a.type,f=a.id,g=function(d,e){e=e||a;var f=c.$include(d,e,b);return k+=f},h=a.size,i=a.maxlength,j=a.defaultValue,k="";return k+='<div class="question question_',k+=d(e),k+='" data-type="',k+=d(e),k+='" id="question_',k+=d(f),k+='" data-id="',k+=d(f),k+='"> <div class="inner"> ',g("./title"),k+=' <div class="inputs"> <input aria-labelledby="questionTitle_',k+=d(f),k+='" class="survey_form_input" type="text" size="',k+=d(h),k+='" maxlength="',k+=d(i),k+='" id="text_',k+=d(f),k+='" name="answer_',k+=d(f),k+='" value="',k+=d(j),k+='" /> </div> </div> </div> ',new String(k)})});define("amd-templates/common/pc/survey/questions/textarea",["../../../../template","./title"],function(a){return a("common/pc/survey/questions/textarea",function(a,b){"use strict";var c=this,d=(c.$helpers,c.$escape),e=a.type,f=a.id,g=function(d,e){e=e||a;var f=c.$include(d,e,b);return k+=f},h=a.rows,i=a.cols,j=a.defaultValue,k="";return k+='<div class="question question_',k+=d(e),k+='" data-type="',k+=d(e),k+='" id="question_',k+=d(f),k+='" data-id="',k+=d(f),k+='"> <div class="inner"> ',g("./title"),k+=' <div class="inputs"> <textarea role="textbox" aria-labelledby="questionTitle_',k+=d(f),k+='" class="survey_form_input" id="textarea_',k+=d(f),k+='" name="answer_',k+=d(f),k+='" rows="',k+=h?d(h):"5",k+='" cols="',k+=i?d(i):"45",k+='">',k+=d(j),k+="</textarea> </div> </div> </div> ",new String(k)})});define("amd-templates/common/pc/survey/questions/star",["../../../../template","./title"],function(a){return a("common/pc/survey/questions/star",function(a,b){"use strict";var c=this,d=(c.$helpers,c.$escape),e=a.type,f=a.id,g=a.required,h=function(d,e){e=e||a;var f=c.$include(d,e,b);return p+=f},i=a.starType,j=a.revertSort,k=a.starShowCustomStart,l=a.starShow,m=a.starShowCustomEnd,n=c.$each,o=a.starOptions,p=(a.value,a.index,"");return p+='<div class="question question_',p+=d(e),p+='" data-type="',p+=d(e),p+='" id="question_',p+=d(f),p+='" data-id="',p+=d(f),p+='" role="radiogroup" data-role="radiogroup" ',g&&(p+=' aria-required="true" '),p+='> <div class="inner"> ',h("./title"),p+=' <div class="inputs"> <div class="rating_area rating_type_',p+=d(i),p+='"> ',j?(p+=' <span class="star_tip">',p+=d(m?m:""+l),p+="</span> "):(p+=' <span class="star_tip">',p+=d(k?k:""+l),p+="</span> "),p+=" ",n(o,function(a){p+=' <div class="star_item" role="radio" tabindex="-1" aria-checked="false"> <input name="answer_',p+=d(f),p+='" type="radio" class="rating survey_form_rating" value="',p+=d(a),p+='" id="option_',p+=d(f),p+="_",p+=d(a),p+='"/> <label for="option_',p+=d(f),p+="_",p+=d(a),p+='"> <i class="survey_form_ui"></i> <span>',p+=d(a),p+="</span> </label> </div> "}),p+=" ",j?(p+=' <span class="star_tip">',p+=d(k?k:""+l),p+="</span> "):(p+=' <span class="star_tip">',p+=d(m?m:""+l),p+="</span> "),p+=" </div> </div> </div> </div> ",new String(p)})});define("amd-templates/common/pc/survey/questions/matrix_radio",["../../../../template","./title","./question_refer"],function(a){return a("common/pc/survey/questions/matrix_radio",function(a,b){"use strict";var c=this,d=(c.$helpers,c.$escape),e=a.type,f=a.id,g=function(d,e){e=e||a;var f=c.$include(d,e,b);return m+=f},h=a.refer,i=c.$each,j=a.options,k=(a.option,a.index,c.$string),l=a.subTitles,m=(a.subTitle,"");return m+='<div class="question question_',m+=d(e),m+='" data-type="',m+=d(e),m+='" id="question_',m+=d(f),m+='" data-id="',m+=d(f),m+='"> <div class="inner"> ',g("./title"),m+=" ",h?(m+=" ",g("./question_refer"),m+=' <div class="inputs" style="display:none;"> '):m+=' <div class="inputs"> ',m+=' <div class="matrix_group table_scroll"> <table> <thead> <tr> <td></td> ',i(j,function(a,b){m+=' <th class="option_title" scope="col"> <div class="option_text"> <label id="',m+=d(f+a.id+b),m+='">',m+=k(a.text),m+="</label> </div> </th> "}),m+=" </tr> </thead> <tbody> ",i(l,function(a){m+=' <tr class="matrix_item" data-tid="',m+=d(a.id),m+='" data-role="',m+=d("matrix_checkbox"===e?"checkboxgroup":"radiogroup"),m+='" role="group"> <th class="sub_title" scope="row"> <div class="subtitle_text">',m+=k(a.text),m+="</div> </th> ",i(j,function(b,c){m+=' <td> <div class="matrix_option" role="',m+=d("matrix_checkbox"===e?"checkbox":"radio"),m+='" tabindex="-1" aria-checked="false" aria-labelledby="',m+=d(f+b.id+c),m+='" aria-label="',m+=d(b.text),m+='">  <input data-oid=',m+=d(b.id),m+=' class="survey_form_checkbox" name="answer_',m+=d(f),m+="_",m+=d(a.id),m+='" id="option_',m+=d(f),m+="_",m+=d(a.id),m+="_",m+=d(b.id),m+='" type="',m+=d(e.slice(7)),m+='" /> <label for="option_',m+=d(f),m+="_",m+=d(a.id),m+="_",m+=d(b.id),m+='"> <i class="survey_form_ui"></i> </label> </div> </td> '}),m+=" </tr> "}),m+=" </tbody> </table> </div> </div> </div> </div> ",new String(m)})});define("amd-templates/common/pc/survey/questions/matrix_checkbox",["../../../../template","./matrix_radio"],function(a){return a("common/pc/survey/questions/matrix_checkbox",function(a,b){"use strict";var c=this,d=(c.$helpers,function(d,f){f=f||a;var g=c.$include(d,f,b);return e+=g}),e="";return d("./matrix_radio"),e+=" ",new String(e)})});define("amd-templates/common/pc/survey/questions/matrix_star",["../../../../template","./title","./question_refer"],function(a){return a("common/pc/survey/questions/matrix_star",function(a,b){"use strict";var c=this,d=(c.$helpers,c.$escape),e=a.type,f=a.id,g=a.revertSort,h=a.starNum,i=function(d,e){e=e||a;var f=c.$include(d,e,b);return s+=f},j=a.refer,k=a.starShowCustomStart,l=a.starShow,m=a.starShowCustomEnd,n=c.$each,o=a.subTitles,p=(a.subTitle,a.index,c.$string),q=a.starBeginNum,r=a.starOptions,s=(a.value,"");return s+='<div class="question question_',s+=d(e),s+='" data-type="',
s+=d(e),s+='" id="question_',s+=d(f),s+='" data-id="',s+=d(f),s+='" data-revert="',s+=d(g),s+='" data-optionnum="',s+=d(h),s+='" > <div class="inner"> ',i("./title"),s+=" ",j&&(s+=" ",i("./question_refer"),s+=" "),s+=' <div class="inputs" ',j&&(s+='style="display:none;"'),s+='> <div class="matrix_group table_scroll"> ',h>7?(s+=' <table> <thead> <tr> <td class="sub_title" scope="col"></td> <th scope="col"> <div class="star_tips"> ',g?(s+=' <div class="star_tips_first"> ',s+=d(m?m:""+l),s+=' </div> <div class="star_tips_last"> ',s+=d(k?k:""+l),s+=" </div> "):(s+=' <div class="star_tips_first"> ',s+=d(k?k:""+l),s+=' </div> <div class="star_tips_last"> ',s+=d(m?m:""+l),s+=" </div> "),s+=" </div> </th> </tr> </thead> <tbody> ",n(o,function(a){s+=' <tr class="matrix_item" data-tid="',s+=d(a.id),s+='"> <td class="sub_title" scope="row"> <div class="subtitle_text"> ',s+=p(a.text),s+=' </div> </td> <td> <div class="star_bar_container" data-aria="slider" tabIndex="0"> <div class="star_bar"> <input class="star_range" type="range" min="',s+=d(q),s+='" step = "1" max="',s+=d(+h+q-1),s+='" aria-valuemin="1" aria-valuemax="',s+=d(+h+q-1),s+='" aria-valuenow="',s+=d((+h+2*q-1)/2),s+='" role="slider" > </div> </div> </td> </tr> '}),s+=" </tbody> </table> "):(s+=' <table> <thead> <tr> <td class="sub_title"></td> ',n(r,function(a,b){s+=" <th>  ",0===b&&(s+=' <div class="star_tips"> ',g?(s+=" ",s+=d(m?m:""+l),s+=" "):(s+=" ",s+=d(k?k:""+l),s+=" "),s+=" </div> "),s+="   ",b===h-1&&(s+=' <div class="star_tips"> ',g?(s+=" ",s+=d(k?k:""+l),s+=" "):(s+=" ",s+=d(m?m:""+l),s+=" "),s+=" </div> "),s+=" </th> "}),s+=" </tr> </thead> <tbody> ",n(o,function(a){s+=' <tr class="matrix_item" data-tid="',s+=d(a.id),s+='" data-role="radiogroup"> <th class="sub_title"> <div class="subtitle_text"> ',s+=p(a.text),s+=" </div> </th> ",n(r,function(b){s+=' <td> <div class="matrix_option" role="radio" tabindex="-1" aria-checked="false"> <div class="star_item"> <input name="answer_',s+=d(f),s+="_",s+=d(a.id),s+='" type="radio" class="rating survey_form_rating" value="',s+=d(b),s+='" id="option_',s+=d(f),s+="_",s+=d(a.id),s+="_",s+=d(b),s+='" /> <label for="option_',s+=d(f),s+="_",s+=d(a.id),s+="_",s+=d(b),s+='"> <i class="survey_form_ui"></i> <span>',s+=d(b),s+="</span> </label> </div> </div> </td> "}),s+=" </tr> "}),s+=" </tbody> </table> "),s+=" </div> </div> </div> </div> ",new String(s)})});define("amd-templates/common/pc/survey/questions/sort",["../../../../template","./title","./question_refer"],function(a){return a("common/pc/survey/questions/sort",function(a,b){"use strict";var c=this,d=(c.$helpers,c.$escape),e=a.type,f=a.id,g=function(d,e){e=e||a;var f=c.$include(d,e,b);return l+=f},h=a.refer,i=c.$each,j=a.options,k=(a.option,a.index,c.$string),l="";return l+='<div class="question question_',l+=d(e),l+='" id="question_',l+=d(f),l+='" data-type="',l+=d(e),l+='" data-id="',l+=d(f),l+='" data-role="sortgroup" > <div class="inner"> ',g("./title"),l+=" ",h&&(l+=" ",g("./question_refer"),l+=" "),l+=' <div class="inputs" ',h&&(l+='style="display:none;"'),l+='> <div class="sort_tip lng_tip_sort"> Tips: </div> <div class="sort_container"> <div class="index_container"> ',i(j,function(a,b){l+=' <div class="index"> ',l+=d(b+1),l+=" </div> "}),l+=' </div> <div class="answer_container"></div> <div class="option_container"> ',i(j,function(a){l+=' <div class="sort_option_item" data-oid="',l+=d(a.id),l+='" role="option" aria-dropeffect="move" tabindex="-1" aria-checked="false"> <div class="text">',l+=k(a.text),l+='</div> <div class="handle"> <i class="ico" role="tooltip" alt="" aria-hidden="true"></i> </div> </div> '}),l+=" </div> </div> </div> </div> </div> ",new String(l)})});define("amd-templates/common/pc/survey/questions/chained_selects",["../../../../template","./title"],function(a){return a("common/pc/survey/questions/chained_selects",function(a,b){"use strict";var c=this,d=(c.$helpers,c.$escape),e=a.type,f=a.id,g=function(d,e){e=e||a;var f=c.$include(d,e,b);return k+=f},h=a.refer,i=c.$each,j=a.levels,k=(a.level,a.i,"");return k+='<div class="question question_',k+=d(e),k+='" id="question_',k+=d(f),k+='" data-type="',k+=d(e),k+='" data-id="',k+=d(f),k+='" data-role="chainsgroup"> <div class="inner"> ',g("./title"),k+=' <div class="inputs" style="',h&&(k+="display: none;"),k+='"> <div class="options_container"> ',i(j,function(a,b){k+=' <div class="level" data-role="chainsgroupLever"> <label class="name" for="question_',k+=d(f),k+="_options_",k+=d(b),k+='"><b data-level="',k+=d(b+1),k+='">',k+=d(a),k+='</b></label> <div class="options" data-level="',k+=d(b+1),k+='" id="question_',k+=d(f),k+="_options_",k+=d(b),k+='" role="radiogroup"></div> </div> '}),k+=" </div> </div> </div> </div> ",new String(k)})});define("amd-templates/common/pc/survey/questions/upload",["../../../../template","./title"],function(a){return a("common/pc/survey/questions/upload",function(a,b){"use strict";var c=this,d=(c.$helpers,c.$escape),e=a.type,f=a.id,g=function(d,e){e=e||a;var f=c.$include(d,e,b);return h+=f},h="";return h+='<div class="question question_',h+=d(e),h+='" data-type="',h+=d(e),h+='" id="question_',h+=d(f),h+='" data-id="',h+=d(f),h+='"> <div class="inner"> ',g("./title"),h+=' <div class="inputs"> <div class="fileupload_wrap"> <div class="empty"> <input aria-labelledby="questionTitle_',h+=d(f),h+='" type="file" name="file" class="fileupload" id="fileupload_',h+=d(f),h+='" /> <div class="tip"> <div class="tip_content"> <i class="ico ico_upload"></i> <p> <span style="color: #58a6e7;" class="lng_clickFile"></span><span class="support_dnd lng_dragFile" style="color: #333;"></span> <br /> <span style="color: #999;"><span class="lng_fileLimit"></span>: 5M </span> </p> </div> </div> </div> <div class="uploading"> <img src="" class="thumbnail" /> <div class="uploadingbar"> <img src="/image/uploading.gif" alt="" /> </div> <i class="ico ico_filetype"></i> <div class="progress_bar"> <div class="loaded"></div> <div class="total"></div> </div> <div class="info"> <span class="filename"></span> <span class="progress">(<span class="loaded"></span>/<span class="total"></span>)</span> <span style="color: #58a6e7; cursor: pointer" class="abort lng_cancel"></span> </div> </div> <div class="uploaded"> <img src="" class="thumbnail"/> <i class="ico ico_filetype"></i> <div class="info"> <span class="filename"></span> <span class="filesize"></span> <span style="color: #58a6e7; cursor: pointer" class="cancel lng_delete"></span> </div> </div> </div> </div> </div> </div> ',new String(h)})});define("amd-templates/common/pc/survey/questions/description",["../../../../template"],function(a){return a("common/pc/survey/questions/description",function(a){"use strict";var b=this,c=(b.$helpers,b.$escape),d=a.type,e=a.id,f=b.$string,g=a.title,h="";return h+='<div class="question question_',h+=c(d),h+='" id="question_',h+=c(e),h+='" data-type="',h+=c(d),h+='" data-id="',h+=c(e),h+='"> <div class="inner"> <div class="description_content"> ',h+=f(g),h+=" </div> </div> </div> ",new String(h)})});define("amd-templates/common/pc/survey/questions/text_multiple",["../../../../template","./title"],function(a){return a("common/pc/survey/questions/text_multiple",function(a,b){"use strict";var c=this,d=(c.$helpers,c.$escape),e=a.type,f=a.id,g=function(d,e){e=e||a;var f=c.$include(d,e,b);return h+=f},h="";return h+='<div class="question question_',h+=d(e),h+='" data-type="',h+=d(e),h+='" id="question_',h+=d(f),h+='" data-id="',h+=d(f),h+='"> <div class="inner"> ',g("./title"),h+=" </div> </div> ",new String(h)})});define("amd-templates/common/pc/survey/question",["../../../template","./questions/radio","./questions/checkbox","./questions/select","./questions/text","./questions/textarea","./questions/star","./questions/matrix_radio","./questions/matrix_checkbox","./questions/matrix_star","./questions/sort","./questions/chained_selects","./questions/upload","./questions/description","./questions/text_multiple"],function(a){return a("common/pc/survey/question",function(a,b){"use strict";var c=this,d=(c.$helpers,a.type),e=function(d,e){e=e||a;var g=c.$include(d,e,b);return f+=g},f="";return"radio"==d&&(f+=" ",e("./questions/radio"),f+=" "),f+=" ","checkbox"==d&&(f+=" ",e("./questions/checkbox"),f+=" "),f+=" ","select"==d&&(f+=" ",e("./questions/select"),f+=" "),f+=" ","text"==d&&(f+=" ",e("./questions/text"),f+=" "),f+=" ","textarea"==d&&(f+=" ",e("./questions/textarea"),f+=" "),f+=" ","star"==d&&(f+=" ",e("./questions/star"),f+=" "),f+=" ","matrix_radio"==d&&(f+=" ",e("./questions/matrix_radio"),f+=" "),f+=" ","matrix_checkbox"==d&&(f+=" ",e("./questions/matrix_checkbox"),f+=" "),f+=" ","matrix_star"==d&&(f+=" ",e("./questions/matrix_star"),f+=" "),f+=" ","sort"==d&&(f+=" ",e("./questions/sort"),f+=" "),f+=" ","chained_selects"==d&&(f+=" ",e("./questions/chained_selects"),f+=" "),f+=" ","upload"==d&&(f+=" ",e("./questions/upload"),f+=" "),f+=" ","description"==d&&(f+=" ",e("./questions/description"),f+=" "),f+=" ","text_multiple"===d&&(f+=" ",e("./questions/text_multiple"),f+=" "),f+=" ",new String(f)})});define("amd-templates/edit/pc/include/question_control",["../../../template"],function(a){return a("edit/pc/include/question_control",' <div class="control_mask"></div> <div class="control"> <ul> <li class="control_btn edit"><b title="" ><i></i></b></li> <li class="control_btn copy"><b title="" ><i></i></b></li> <li class="control_btn logic"><b title="" ><i></i></b></li> <li class="control_btn delete"><b title="" ><i></i></b></li> <li class="control_btn fav"><b title="" ><i></i></b></li> </ul> </div> ')});define("amd-templates/common/pc/survey/questions/chained_selects/option",["../../../../../template"],function(a){return a("common/pc/survey/questions/chained_selects/option",function(a){"use strict";var b=this,c=(b.$helpers,a.selected),d=b.$escape,e=a.id,f=a.text,g=a.index,h=a.last,i="";return i+='<div class="option ',c&&(i+="selected"),i+='" data-id="',i+=d(e),i+='" role="radio" aria-label="',i+=d(f),i+='" ',i+=0===g?' tabindex="0" ':' tabindex="-1" ',i+=' aria-checked="false"> <div class="option_text">',i+=d(f),i+="</div> ",h||(i+=' <i class="right_arrow"></i> '),i+=" </div> ",new String(i)})});define("amd-templates/edit/pc/include/question_logic_tips",["../../../template"],function(a){return a("edit/pc/include/question_logic_tips",function(a){"use strict";var b=this,c=(b.$helpers,a._goto),d=b.$escape,e=a._default,f=a._gotoEnd,g="";return c&&(g+=' <span class="goto_tip"> : <b class="page_index" data-for="',g+=d(c.id),g+='"> ',g+=d(c.index),g+=" </b> </span> "),g+=" ",e&&(g+=' <span class="goto_tip"> ',e.description?(g+=" ",g+=d(e.description),g+=" "):(g+='  <b class="question_index" data-for="',g+=d(e.id),g+='">',g+=d(e.id),g+="</b>  "),g+=" </span> "),g+=" ",f&&(g+=' <span class="goto_tip">  </span> '),new String(g)})});define("amd-templates/edit/pc/include/option_logic_tips",["../../../template"],function(a){return a("edit/pc/include/option_logic_tips",function(a){"use strict";var b=this,c=(b.$helpers,a.option),d=b.$escape,e=a.display,f=b.$string,g="";return g+=' <div class="display_tip" > ',c._goto&&(g+=' <span> : <b class="page_index" data-for="',g+=d(c._goto.id),g+='"> ',g+=d(c._goto.index),g+=" </b> </span> "),g+=" ","end"==c.goto_id&&(g+=" <span></span> "),g+=" ",c.goto_question&&(g+=" <span> ",c.description?(g+=" ",g+=d(c.description),g+=" "):(g+='  <b class="question_index" data-for="',g+=d(c.goto_id),g+='">',g+=d(c.goto_id),g+="</b>  "),g+=" </span> "),g+=" ",e&&(g+=" <span> : ",g+=f(e),g+=" </span> "),g+=" </div> ",new String(g)})});define("amd-templates/edit/pc/logic_detail",["../../template"],function(a){return a("edit/pc/logic_detail",function(a){"use strict";var b=this,c=(b.$helpers,a._goto),d=a._display,e=b.$escape,f=b.$each,g=(a.q,a.index,"");return c&&d.length?(g+=" <p>",g+=e(c),g+="</p> "):c?(g+=" <p>",g+=e(c),g+="</p> "):g+=" <p></p> ",g+=" <ul> ",f(d,function(a){g+=" <li> ","description"===a.type?(g+=" ",g+=e(a.title),g+=" "):(g+=" ",g+=e(a.index+1),g+=".",g+=e(a.title),g+=" "),g+=" </li> "}),g+=" </ul> ",new String(g)})});define("app/edit/pc/views/question_logic",["require","exports","module","jquery","underscore","bind_events","art-dialog/dialog","app/util/richtext","amd-templates/edit/pc/include/question_logic_tips","amd-templates/edit/pc/include/option_logic_tips","amd-templates/edit/pc/logic_detail"],function(a,b,c){"use strict";var d=a("jquery");var e=a("underscore");var f=a("bind_events");var g=a("art-dialog/dialog");var h=a("app/util/richtext");var i=a("amd-templates/edit/pc/include/question_logic_tips");var j=a("amd-templates/edit/pc/include/option_logic_tips");var k=a("amd-templates/edit/pc/logic_detail");var l=g({align:"top",content:null,skin:"logic_tip"});var m=function(a){var b=["radio","checkbox","select"];return b.indexOf(a.type)!==-1};var n=function(a){this.surveyModel=a.surveyModel;this.questionModel=e.pick(a.questionModel,"goto","id","type");this.questionModel.options=d.extend(true,[],a.questionModel.options);this.questionView=a.questionView;this.init()};e.extend(n.prototype,{init:function(){var a=this.questionModel;var b={};var c={};var d={};var f={};var g=0;var h=0;e.forEach(this.surveyModel.get("survey.pages"),function(a){b[a.id]=a;a.p_index=g;g++;e.forEach(a.questions,function(a){c[a.id]=a;a.q_index=h;d[h]=a;h++})});e.forEach(this.surveyModel.get("survey.survey_rules.list"),function(a){var b=a.rule["=="][0]["var"].split(".");if(b[0]==="q"){var d=b[1];if(d in c){if(!(d in f))f[d]={};var e="end";if(a.action[0].q_target_id!="end"){e=a.action[0].q_target_id}if(b[2]=="answered"){f[d]["default"]=e}if(b[4]=="selected"){f[d][b[3]]=e}}}});this.pidMap=b;this.qidMap=c;this.qIndexMap=d;this.v2LogicMap=f;this._questionLogic();if(m(a)){this._optionLogic()}this.render();this.bindUIEvents()},bindUIEvents:function(){},render:function(){var a=this.questionView.$el;var b=this.questionModel;var c=this.surveyModel;var f=c.get("survey.survey_rules");var g=this.qidMap;var h=this.v2LogicMap;if(f.version==="1.0"&&h[b.id]&&h[b.id]["default"]){if(h[b.id]["default"]==="end"){var k=i({_gotoEnd:true});a.find(".title").append(k);return}var l={id:g[h[b.id]["default"]].id,index:h[b.id]["default"]};if(g[h[b.id]["default"]].type==="description"){l.description=g[h[b.id]["default"]].title.replace(/<(?:.|\n)*?>/gm,"").trim()}var k=i({_default:l});a.find(".title").append(k)}if(f.version==="1.0"&&h[b.id]){e.each(b.options,function(c,e){if(h[b.id][c.id]){console.log("",h,h[b.id][c.id]);var f={goto_id:h[b.id][c.id],goto_question:h[b.id][c.id]==="end"?null:g[h[b.id][c.id]]};if(h[b.id][c.id]!="end"&&g[h[b.id][c.id]].type==="description"){f.description=g[h[b.id][c.id]].title.replace(/<(?:.|\n)*?>/gm,"").trim()}var i=d(j({option:f}));a.find("label").eq(e).append(i)}})}if(f.version==="2.0"&&b._goto){var k=i({_goto:b._goto});a.find(".title").append(k)}if(f.version==="2.0"&&m(b)){e.each(b.options,function(b,c){var e={option:b,display:""};b._display.forEach(function(a,b){if(!a.index){e.display+='<b class="question_index">'+a.title+"</b>"}else{var c=a.index+1;e.display+='<b class="question_index">'+c+"</b>"}});var f=d(j(e));a.find("label").eq(c).append(f)})}},_showDialog:function(a){var b=this.surveyModel;var c=d(a.target).closest(".display_tip");var f=d(c).data("goto")||"";var g=d(c).data("display")||"";f=String(f);g=String(g);if(g.length){g=g.split(",")}else{g=[]}g=e.map(g,function(a){var c=b.exec("getQuestionField",a,"title");return{id:b.exec("getQuestionField",a,"id"),index:b.exec("getQuestionField",a,"index"),title:h.plainTextFilter(c)}});if(f.length){if(f==="-1"){f=""}else{f=""+(b.exec("getPageField",f,"index")+1)}}else{f=null}l.content(k({_goto:f,_display:g}));l.show(c[0])},_closeDialog:function(a){l.close()},_optionLogic:function(){var a=this.questionModel;var b=this.surveyModel;e.forEach(a.options,function(a){var c=e.keys(a.display)||[];a._display=e.map(c,function(a){var c=b.exec("getQuestionField",a,"title");return{id:b.exec("getQuestionField",a,"id"),index:b.exec("getQuestionField",a,"index"),title:h.plainTextFilter(c)}});a.__display=c.join(",");a._gotoIndex=null;a._gotoId=null;if(a["goto"]&&a["goto"].length){if(a["goto"]==="-1"){a._goto={index:"",id:"-1"}}else{a._goto={id:b.exec("getPageField",a["goto"],"id"),index:b.exec("getPageField",a["goto"],"index")+1}}a._gotoId=a._goto.id}})},_questionLogic:function(){var a=this.questionModel;var b=this.surveyModel;a._goto=null;if(a["goto"]&&a["goto"].length){if(a["goto"]==="-1"){a._goto={index:"",id:"-1"}}else{a._goto={id:b.exec("getPageField",a["goto"],"id"),index:b.exec("getPageField",a["goto"],"index")+1}}}}});c.exports=n});define("model",["require","underscore","app/util/events"],function(a){var b=a("underscore");var c=a("app/util/events");function d(a){e(this,d.prototype.__defaults,a);this.initialize(a);return this.__getInterface()}b.extend(d.prototype,c,{__defaults:{},initialize:function(){},toJSON:function(){return g(this)},__getInterface:function(){return new f(this)},__beforeDispatch:function(){return true},__afterDispatch:function(){return true}});d.extend=function(a,c){var f=this;var g=function(a){e(this,g.prototype.__defaults,a,c);this.initialize.apply(this,arguments);return this.__getInterface()};h(g.prototype,f.prototype,a);g.prototype.__defaults=e({},f.prototype.__defaults,a.defaults);g.prototype.__superclass=f;g.prototype.__selfclass=g;var i=b.keys(f);b.forEach(i,function(a){g[a]=f[a]});g.extend=d.extend;return g};function e(a,c,d,e){if(e&&e.notDeepCopy){return b.extend(a,i(c),d)}return b.extend(a,i(c),i(d))}function f(a){this.__model=a}b.extend(f.prototype,{get:function(a,c){var d=a.split(".");var e=this.__model;b.forEach(d,function(a){e=e[a]});if(c&&c.ref){return e}return i(e)},toJSON:function(a,c){if(a){var d=a.split(".");var e=this.__model;b.forEach(d,function(a){e=e[a]});return g(e)}else{if(c&&c.ref){return this.__model}return g(this.__model)}},exec:function(a){var c=b.toArray(arguments).slice(1);return this.__model[a].apply(this.__model,c)},dispatch:function(a){var c;var d=b.toArray(arguments).slice(1);var e=this.__model.__beforeDispatch.apply(this.__model,arguments);if(!e){return}c=this.__model["action_"+a].apply(this.__model,d);this.__model.__afterDispatch.apply(this.__model,arguments);return c}});b.mapObject(c,function(a,b){f.prototype[b]=function(){return this.__model[b].apply(this.__model,arguments)}});function g(a){var c=b.pick(a,b.without(b.keys(a),"_events"));try{return i(c)}catch(d){if(d instanceof RangeError){return b.extend({},c)}}}function h(){var a,c,d,e,g,i,j=arguments[0]||{},k=1,l=arguments.length,m=false;if(typeof j==="boolean"){m=j;j=arguments[k]||{};k++}if(typeof j!=="object"&&!b.isFunction(j)){j={}}if(k===l){j=this;k--}for(;k<l;k++){if((a=arguments[k])!=null){for(c in a){d=j[c];e=a[c];if(j===e){continue}if(m&&e&&((g=b.isArray(e))||b.isObject(e)&&!b.isFunction(e))){if(g){g=false;i=d&&b.isArray(d)?d:[]}else{i=d&&b.isObject(d)&&!b.isFunction(d)?d:{}}if(e&&e instanceof f){e=e.toJSON()}j[c]=h(m,i,e)}else if(e!==undefined){j[c]=e}}}}return j}function i(a){if(a===null||a===undefined){return a}else if(b.isFunction(a)){return null}else if(b.isArray(a)){return h(true,[],a)}else if(b.isObject(a)){return h(true,{},a)}else{return a}}return d});define("app/util/uuid",["require"],function(a){return function(){var a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");return function(b,c){var d=a,e=[],f=Math.random;c=c||d.length;if(b){for(var g=0;g<b;g++)e[g]=d[0|f()*c]}else{var h;e[8]=e[13]=e[18]=e[23]="-";e[14]="4";for(var g=0;g<36;g++){if(!e[g]){h=0|f()*16;e[g]=d[g==19?h&3|8:h&15]}}}return e.join("")}}()});define("app/util/standard_result",["require","underscore"],function(a){var b=a("underscore");var c={success:0,warning:1,error:2};var d=["success","warning","error"];function e(a,b){this.result="success";this.info={error:[],warning:[]};if(a){this._quickInit(a,b)}}e.RESULT_CODE=c;b.extend(e.prototype,{_quickInit:function(a,c){if(b.isString(a)){if(c){this.info[a].push(c)}}else{throw new Error}},isSuccess:function(){return this.result==="success"},isError:function(){return this.result==="error"},isWarning:function(){return this.result==="warning"},success:function(){},warning:function(a){this.setResult("warning");this.info["warning"].push(a)},error:function(a){this.setResult("error");this.info["error"].push(a)},setResult:function(a){if(c[this.result]<c[a]){this.result=a}}});return e});define("app/common/models/create_question",["require","exports","module","underscore","jquery","model","app/util/uuid","app/util/standard_result"],function(a,b,c){var d=a("underscore");var e=a("jquery");var f=a("model");var g=a("app/util/uuid");var h=a("app/util/standard_result");var i={id:null,type:"",title:"",description:"",options:[{id:"o-100-ABCD",text:"",display:{},"goto":""},{id:"o-101-EFGH",text:"",display:{},"goto":""}],required:true,maxRow:"1",maxlength:"",cols:"60",rows:"5",validate:"",random:false,refer:null,"goto":"",show_stat:false,assess:null,subTitles:[{id:"g-1-ABCD",text:""},{id:"g-2-EFGH",text:""}],starShow:"",otherStr:"",isOther:false,starNum:5,starBeginNum:1,starType:"default",revertSort:0,starShowCustomStart:"",starShowCustomEnd:"",file_size_limit:5*1024,file_type_limit:["gif","png","jpg","jpeg","bmp","doc","docx","pdf","xls","xlsx","ppt","pptx","txt","zip","gzip","rar"],levels:[],groups:[],blank_setting:[]};var j=["id","type","title","description","required","goto","blank_setting"];var k={};k.radio=j.concat(["maxRow","options","refer","show_stat","assess","random"]);k.checkbox=k.radio.concat(["maxlength"]);k.select=k.checkbox;k.text=j.concat(["maxlength","validate"]);k.textarea=j.concat(["cols","rows"]);k.matrix_radio=j.concat(["options","subTitles","refer"]);k.matrix_checkbox=k.matrix_radio;k.star=j.concat(["starShow","otherStr","isOther","starNum","starBeginNum","starType","revertSort","starShowCustomStart","starShowCustomEnd"]);k.matrix_star=k.star.concat(["subTitles","refer"]);k.sort=j.concat(["options","refer","random"]);k.chained_selects=j.concat(["levels","groups"]);k.upload=j.concat(["file_size_limit","file_type_limit"]);k.description=j;k.text_multiple=j;var l=f.extend({initialize:function(a,b,c){var e=a.type;var f=k[e];var g=d.pick(i,f);if(e==="text_multiple"&&!a.title){a.title=": ________"}d.extend(this,g,a);this._filterAttrs(b);this.filterAttrs(b);if(!c){this.isValid(b)}},_filterAttrsForType:function(a){},_filterAttrs:function(a){var b=this;var c=d.keys(b);var e=undefined;var f=undefined;var g=undefined;if(b.type){e=b.type;f=k[e];g=d.pick(i,f)}d.each(c,function(a){if(g){if(!(a in g)){delete b[a]}}else{if(!(a in i)){delete b[a]}}})},filterAttrs:function(){},isValid:function(a){var b=this;var c=d.keys(b);var e=d.keys(d.pick(m,c));d.each(e,function(c){m[c].call(b,b[c],a)});return a}});var m={id:function(a,b){},title:function(a,b){if(!a||a.length===0){b.error("")}},required:function(a,b){},maxRow:function(a,b){a=Number(a);if(!a||a<1){b.error("1")}},maxlength:function(a,b){if(!a){return}if(d.isNaN(Number(a))){b.error("")}},random:function(a,b){if(!d.isBoolean(a)){b.error("bool")}},options:function(a,b){if(this.type.indexOf("matrix")===-1&&this.refer){return}var c;if(!a||!a.length){b.error("")}b.emptyOptionText=[];var f={};var h=[100];var i=[];d.each(a,function(a,d){if(!e.trim(a.text).length){b.error("");b.emptyOptionText.push(d)}a.id=String(a.id);if(a.id==="98"){c=d}if(!a.id||f[a.id]){b.warning("ID");i.push(a)}f[a.id]=a;if(Number(a.id)){h.push(Number(a.id));i.push(a)}else{var g=/o-(\d+)-\w+|(\d+)-\w+/;var j=a.id.match(g);h.push(Number(j?j[1]||j[2]:100))}});if(c&&c<a.length-1){var j=a.splice(c,1)[0];a.push(j)}var k=d.max(h);if(i.length){d.each(i,function(a){if(a.id!=98){k++;a.id=String("o"+"-"+k+"-"+g(4))}else{a.id="98"}})}},subTitles:function(a,b){if(this.refer){return}b.emptySubtitleText=[];d.each(a,function(a,c){if(!e.trim(a.text).length){b.error("");b.emptySubtitleText.push(c)}});if(!a||a.length===0){b.error("")}var c={};var f=[1];var h=[];d.each(a,function(a){if(!a.id||c[a.id]){b.warning("ID");h.push(a)}c[a.id]=a;if(Number(a.id)){f.push(Number(a.id))}else{var d=/g-(\d+)-\w+|(\d+)-\w+/;var e=a.id.match(d);f.push(Number(e?e[1]||e[2]:1))}});var i=d.max(f);if(h.length){d.each(h,function(a){i++;a.id=String("g"+"-"+i+"-"+g(4))})}},starNum:function(a,b){a=Number(a);var c=true;if(/\./.test(a.toString())){c=false}if(a<2||a>100||!a){c=false}if(!c){b.error("0 ~ 10")}},starBeginNum:function(a,b){var c=a!=="";var d=!isNaN(a);var e=!/\./.test(a.toString());var f=c&&d&&e;if(!f){b.error("")}},cols:function(a,b){if(a&&d.isNaN(Number(a))){b.error("")}},rows:function(a,b){if(a&&d.isNaN(Number(a))){b.error("")}},groups:function(a,b){var c={};var e=[1];var f=[];if(!a||a.length===0){b.error("");return}function h(a,b){d.forEach(a,function(a){var b=a[0];if(!b||c[b]){f.push(a)}else{c[b]=a;var d=/(\d+)-\w+/;var g=b.match(d);e.push(Number(g?g[1]:1))}var i=a[2];if(i&&i.length){h(i)}else{a.splice(2)}})}h(a);var i=d.max(e);if(f.length){d.forEach(f,function(a){i++;a[0]=String(i+"-"+g(2))})}},levels:function(a,b){b.emptyLevelText=[];if(!a||a.length===0){b.error("")}d.forEach(a,function(a,c){if(!e.trim(a).length){b.error("");b.emptyLevelText.push(c)}})}};function n(a,b,c){b=b||new h;var d=a.type;if(!k[d]){b.error("")}else{b.question=new l(a,b,c)}return b}function o(a){if(a.type!=="star"&&a.type!=="matrix_star"){return a}a.starBeginNum=a.starBeginNum===undefined?1:a.starBeginNum;var b=Number(a.starBeginNum);var c=Number(a.starNum);var e=d.range(b,b+c);a.starOptions=a.revertSort?e.reverse():e;return a}n.patch_star=o;c.exports=n});define("app/edit/pc/views/question",["require","exports","module","underscore","jquery","app/common/views/question","amd-templates/common/pc/survey/question","amd-templates/edit/pc/include/question_control","amd-templates/common/pc/survey/questions/chained_selects/option","./question_logic","app/common/models/create_question"],function(a,b,c){"use strict";var d=a("underscore");var e=a("jquery");var f=a("app/common/views/question");var g=a("amd-templates/common/pc/survey/question");var h=a("amd-templates/edit/pc/include/question_control");var i=a("amd-templates/common/pc/survey/questions/chained_selects/option");var j=a("./question_logic");var k=a("app/common/models/create_question");var l=function(a,b){var c=this;a=k.patch_star(a);this.$el=e(g(a));var d=e(h());new j({surveyModel:b,questionModel:a,questionView:c});this.$el.append(d);if(a.required){this.$el.addClass("required")}return this.$el};l.onAppend={chained_selects:function(a,b){var c=b.data("id");var e=a.exec("_getQuestionByID",c);var f=e.groups;var g=0;while(f&&f.length){h(g,f);f=f[0][2];g++}b.find(".options").slice(g).hide();function h(a,c){var e="";d.forEach(c,function(a,b){e+=i({index:b,id:a[0],text:a[1],selected:false,last:!a[2]||a[2].length===0})});b.find(".options").eq(a).html(e)}},sort:function(a,b){var c=b.find(".answer_container");var d=b.find(".option_container");var f=b.find(".index_container");var g=d.children().length;i();var h=d.find("img").length;d.find("img").each(function(a,b){b.onload=function(){h--;if(!h){i()}}});function i(){var a=d.height();c.height(a-1);f.height(a-1);f.children().each(function(b,c){e(c).height((a-1)/g)})}},description:function(a,b){b.find(".description_content")[0].contenteditable=true},matrix_star:function(a,b){f.adjustMatrixStar(b)}};c.exports=l});(function(a){var b=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global;if(typeof define==="function"&&define.amd){define("backbone",["underscore","jquery","exports"],function(c,d,e){b.Backbone=a(b,e,c,d)})}else if(typeof exports!=="undefined"){var c=require("underscore"),d;try{d=require("jquery")}catch(e){}a(b,exports,c,d)}else{b.Backbone=a(b,{},b._,b.jQuery||b.Zepto||b.ender||b.$)}})(function(a,b,c,d){var e=a.Backbone;var f=Array.prototype.slice;b.VERSION="1.3.3";b.$=d;b.noConflict=function(){a.Backbone=e;return this};b.emulateHTTP=false;b.emulateJSON=false;var g=function(a,b,d){switch(a){case 1:return function(){return c[b](this[d])};case 2:return function(a){return c[b](this[d],a)};case 3:return function(a,e){return c[b](this[d],i(a,this),e)};case 4:return function(a,e,f){return c[b](this[d],i(a,this),e,f)};default:return function(){var a=f.call(arguments);a.unshift(this[d]);return c[b].apply(c,a)}}};var h=function(a,b,d){c.each(b,function(b,e){if(c[e])a.prototype[e]=g(b,e,d)})};var i=function(a,b){if(c.isFunction(a))return a;if(c.isObject(a)&&!b._isModel(a))return j(a);if(c.isString(a))return function(b){return b.get(a)};return a};var j=function(a){var b=c.matches(a);return function(a){return b(a.attributes)}};var k=b.Events={};var l=/\s+/;var m=function(a,b,d,e,f){var g=0,h;if(d&&typeof d==="object"){if(e!==void 0&&"context"in f&&f.context===void 0)f.context=e;for(h=c.keys(d);g<h.length;g++){b=m(a,b,h[g],d[h[g]],f)}}else if(d&&l.test(d)){for(h=d.split(l);g<h.length;g++){b=a(b,h[g],e,f)}}else{b=a(b,d,e,f)}return b};k.on=function(a,b,c){return n(this,a,b,c)};var n=function(a,b,c,d,e){a._events=m(o,a._events||{},b,c,{context:d,ctx:a,listening:e});if(e){var f=a._listeners||(a._listeners={});f[e.id]=e}return a};k.listenTo=function(a,b,d){if(!a)return this;var e=a._listenId||(a._listenId=c.uniqueId("l"));var f=this._listeningTo||(this._listeningTo={});var g=f[e];if(!g){var h=this._listenId||(this._listenId=c.uniqueId("l"));g=f[e]={obj:a,objId:e,id:h,listeningTo:f,count:0}}n(a,b,d,this,g);return this};var o=function(a,b,c,d){if(c){var e=a[b]||(a[b]=[]);var f=d.context,g=d.ctx,h=d.listening;if(h)h.count++;e.push({callback:c,context:f,ctx:f||g,listening:h})}return a};k.off=function(a,b,c){if(!this._events)return this;this._events=m(p,this._events,a,b,{context:c,listeners:this._listeners});return this};k.stopListening=function(a,b,d){var e=this._listeningTo;if(!e)return this;var f=a?[a._listenId]:c.keys(e);for(var g=0;g<f.length;g++){var h=e[f[g]];if(!h)break;h.obj.off(b,d,this)}return this};var p=function(a,b,d,e){if(!a)return;var f=0,g;var h=e.context,i=e.listeners;if(!b&&!d&&!h){var j=c.keys(i);for(;f<j.length;f++){g=i[j[f]];delete i[g.id];delete g.listeningTo[g.objId]}return}var k=b?[b]:c.keys(a);for(;f<k.length;f++){b=k[f];var l=a[b];if(!l)break;var m=[];for(var n=0;n<l.length;n++){var o=l[n];if(d&&d!==o.callback&&d!==o.callback._callback||h&&h!==o.context){m.push(o)}else{g=o.listening;if(g&&--g.count===0){delete i[g.id];delete g.listeningTo[g.objId]}}}if(m.length){a[b]=m}else{delete a[b]}}return a};k.once=function(a,b,d){var e=m(q,{},a,b,c.bind(this.off,this));if(typeof a==="string"&&d==null)b=void 0;return this.on(e,b,d)};k.listenToOnce=function(a,b,d){var e=m(q,{},b,d,c.bind(this.stopListening,this,a));return this.listenTo(a,e)};var q=function(a,b,d,e){if(d){var f=a[b]=c.once(function(){e(b,f);d.apply(this,arguments)});f._callback=d}return a};k.trigger=function(a){if(!this._events)return this;var b=Math.max(0,arguments.length-1);var c=Array(b);for(var d=0;d<b;d++)c[d]=arguments[d+1];m(r,this._events,a,void 0,c);return this};var r=function(a,b,c,d){if(a){var e=a[b];var f=a.all;if(e&&f)f=f.slice();if(e)s(e,d);if(f)s(f,[b].concat(d))}return a};var s=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],h=b[2];switch(b.length){case 0:while(++d<e)(c=a[d]).callback.call(c.ctx);return;case 1:while(++d<e)(c=a[d]).callback.call(c.ctx,f);return;case 2:while(++d<e)(c=a[d]).callback.call(c.ctx,f,g);return;case 3:while(++d<e)(c=a[d]).callback.call(c.ctx,f,g,h);return;default:while(++d<e)(c=a[d]).callback.apply(c.ctx,b);return}};k.bind=k.on;k.unbind=k.off;c.extend(b,k);var t=b.Model=function(a,b){var d=a||{};b||(b={});this.cid=c.uniqueId(this.cidPrefix);this.attributes={};if(b.collection)this.collection=b.collection;if(b.parse)d=this.parse(d,b)||{};
var e=c.result(this,"defaults");d=c.defaults(c.extend({},e,d),e);this.set(d,b);this.changed={};this.initialize.apply(this,arguments)};c.extend(t.prototype,k,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(a){return c.clone(this.attributes)},sync:function(){return b.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return c.escape(this.get(a))},has:function(a){return this.get(a)!=null},matches:function(a){return!!c.iteratee(a,this)(this.attributes)},set:function(a,b,d){if(a==null)return this;var e;if(typeof a==="object"){e=a;d=b}else{(e={})[a]=b}d||(d={});if(!this._validate(e,d))return false;var f=d.unset;var g=d.silent;var h=[];var i=this._changing;this._changing=true;if(!i){this._previousAttributes=c.clone(this.attributes);this.changed={}}var j=this.attributes;var k=this.changed;var l=this._previousAttributes;for(var m in e){b=e[m];if(!c.isEqual(j[m],b))h.push(m);if(!c.isEqual(l[m],b)){k[m]=b}else{delete k[m]}f?delete j[m]:j[m]=b}if(this.idAttribute in e)this.id=this.get(this.idAttribute);if(!g){if(h.length)this._pending=d;for(var n=0;n<h.length;n++){this.trigger("change:"+h[n],this,j[h[n]],d)}}if(i)return this;if(!g){while(this._pending){d=this._pending;this._pending=false;this.trigger("change",this,d)}}this._pending=false;this._changing=false;return this},unset:function(a,b){return this.set(a,void 0,c.extend({},b,{unset:true}))},clear:function(a){var b={};for(var d in this.attributes)b[d]=void 0;return this.set(b,c.extend({},a,{unset:true}))},hasChanged:function(a){if(a==null)return!c.isEmpty(this.changed);return c.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?c.clone(this.changed):false;var b=this._changing?this._previousAttributes:this.attributes;var d={};for(var e in a){var f=a[e];if(c.isEqual(b[e],f))continue;d[e]=f}return c.size(d)?d:false},previous:function(a){if(a==null||!this._previousAttributes)return null;return this._previousAttributes[a]},previousAttributes:function(){return c.clone(this._previousAttributes)},fetch:function(a){a=c.extend({parse:true},a);var b=this;var d=a.success;a.success=function(c){var e=a.parse?b.parse(c,a):c;if(!b.set(e,a))return false;if(d)d.call(a.context,b,c,a);b.trigger("sync",b,c,a)};P(this,a);return this.sync("read",this,a)},save:function(a,b,d){var e;if(a==null||typeof a==="object"){e=a;d=b}else{(e={})[a]=b}d=c.extend({validate:true,parse:true},d);var f=d.wait;if(e&&!f){if(!this.set(e,d))return false}else if(!this._validate(e,d)){return false}var g=this;var h=d.success;var i=this.attributes;d.success=function(a){g.attributes=i;var b=d.parse?g.parse(a,d):a;if(f)b=c.extend({},e,b);if(b&&!g.set(b,d))return false;if(h)h.call(d.context,g,a,d);g.trigger("sync",g,a,d)};P(this,d);if(e&&f)this.attributes=c.extend({},i,e);var j=this.isNew()?"create":d.patch?"patch":"update";if(j==="patch"&&!d.attrs)d.attrs=e;var k=this.sync(j,this,d);this.attributes=i;return k},destroy:function(a){a=a?c.clone(a):{};var b=this;var d=a.success;var e=a.wait;var f=function(){b.stopListening();b.trigger("destroy",b,b.collection,a)};a.success=function(c){if(e)f();if(d)d.call(a.context,b,c,a);if(!b.isNew())b.trigger("sync",b,c,a)};var g=false;if(this.isNew()){c.defer(a.success)}else{P(this,a);g=this.sync("delete",this,a)}if(!e)f();return g},url:function(){var a=c.result(this,"urlRoot")||c.result(this.collection,"url")||O();if(this.isNew())return a;var b=this.get(this.idAttribute);return a.replace(/[^\/]$/,"$&/")+encodeURIComponent(b)},parse:function(a,b){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(a){return this._validate({},c.extend({},a,{validate:true}))},_validate:function(a,b){if(!b.validate||!this.validate)return true;a=c.extend({},this.attributes,a);var d=this.validationError=this.validate(a,b)||null;if(!d)return true;this.trigger("invalid",this,d,c.extend(b,{validationError:d}));return false}});var u={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};h(t,u,"attributes");var v=b.Collection=function(a,b){b||(b={});if(b.model)this.model=b.model;if(b.comparator!==void 0)this.comparator=b.comparator;this._reset();this.initialize.apply(this,arguments);if(a)this.reset(a,c.extend({silent:true},b))};var w={add:true,remove:true,merge:true};var x={add:true,remove:false};var y=function(a,b,c){c=Math.min(Math.max(c,0),a.length);var d=Array(a.length-c);var e=b.length;var f;for(f=0;f<d.length;f++)d[f]=a[f+c];for(f=0;f<e;f++)a[f+c]=b[f];for(f=0;f<d.length;f++)a[f+e+c]=d[f]};c.extend(v.prototype,k,{model:t,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return b.sync.apply(this,arguments)},add:function(a,b){return this.set(a,c.extend({merge:false},b,x))},remove:function(a,b){b=c.extend({},b);var d=!c.isArray(a);a=d?[a]:a.slice();var e=this._removeModels(a,b);if(!b.silent&&e.length){b.changes={added:[],merged:[],removed:e};this.trigger("update",this,b)}return d?e[0]:e},set:function(a,b){if(a==null)return;b=c.extend({},w,b);if(b.parse&&!this._isModel(a)){a=this.parse(a,b)||[]}var d=!c.isArray(a);a=d?[a]:a.slice();var e=b.at;if(e!=null)e=+e;if(e>this.length)e=this.length;if(e<0)e+=this.length+1;var f=[];var g=[];var h=[];var i=[];var j={};var k=b.add;var l=b.merge;var m=b.remove;var n=false;var o=this.comparator&&e==null&&b.sort!==false;var p=c.isString(this.comparator)?this.comparator:null;var q,r;for(r=0;r<a.length;r++){q=a[r];var s=this.get(q);if(s){if(l&&q!==s){var t=this._isModel(q)?q.attributes:q;if(b.parse)t=s.parse(t,b);s.set(t,b);h.push(s);if(o&&!n)n=s.hasChanged(p)}if(!j[s.cid]){j[s.cid]=true;f.push(s)}a[r]=s}else if(k){q=a[r]=this._prepareModel(q,b);if(q){g.push(q);this._addReference(q,b);j[q.cid]=true;f.push(q)}}}if(m){for(r=0;r<this.length;r++){q=this.models[r];if(!j[q.cid])i.push(q)}if(i.length)this._removeModels(i,b)}var u=false;var v=!o&&k&&m;if(f.length&&v){u=this.length!==f.length||c.some(this.models,function(a,b){return a!==f[b]});this.models.length=0;y(this.models,f,0);this.length=this.models.length}else if(g.length){if(o)n=true;y(this.models,g,e==null?this.length:e);this.length=this.models.length}if(n)this.sort({silent:true});if(!b.silent){for(r=0;r<g.length;r++){if(e!=null)b.index=e+r;q=g[r];q.trigger("add",q,this,b)}if(n||u)this.trigger("sort",this,b);if(g.length||i.length||h.length){b.changes={added:g,removed:i,merged:h};this.trigger("update",this,b)}}return d?a[0]:a},reset:function(a,b){b=b?c.clone(b):{};for(var d=0;d<this.models.length;d++){this._removeReference(this.models[d],b)}b.previousModels=this.models;this._reset();a=this.add(a,c.extend({silent:true},b));if(!b.silent)this.trigger("reset",this,b);return a},push:function(a,b){return this.add(a,c.extend({at:this.length},b))},pop:function(a){var b=this.at(this.length-1);return this.remove(b,a)},unshift:function(a,b){return this.add(a,c.extend({at:0},b))},shift:function(a){var b=this.at(0);return this.remove(b,a)},slice:function(){return f.apply(this.models,arguments)},get:function(a){if(a==null)return void 0;return this._byId[a]||this._byId[this.modelId(a.attributes||a)]||a.cid&&this._byId[a.cid]},has:function(a){return this.get(a)!=null},at:function(a){if(a<0)a+=this.length;return this.models[a]},where:function(a,b){return this[b?"find":"filter"](a)},findWhere:function(a){return this.where(a,true)},sort:function(a){var b=this.comparator;if(!b)throw new Error("Cannot sort a set without a comparator");a||(a={});var d=b.length;if(c.isFunction(b))b=c.bind(b,this);if(d===1||c.isString(b)){this.models=this.sortBy(b)}else{this.models.sort(b)}if(!a.silent)this.trigger("sort",this,a);return this},pluck:function(a){return this.map(a+"")},fetch:function(a){a=c.extend({parse:true},a);var b=a.success;var d=this;a.success=function(c){var e=a.reset?"reset":"set";d[e](c,a);if(b)b.call(a.context,d,c,a);d.trigger("sync",d,c,a)};P(this,a);return this.sync("read",this,a)},create:function(a,b){b=b?c.clone(b):{};var d=b.wait;a=this._prepareModel(a,b);if(!a)return false;if(!d)this.add(a,b);var e=this;var f=b.success;b.success=function(a,b,c){if(d)e.add(a,c);if(f)f.call(c.context,a,b,c)};a.save(null,b);return a},parse:function(a,b){return a},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(a){return a[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(a,b){if(this._isModel(a)){if(!a.collection)a.collection=this;return a}b=b?c.clone(b):{};b.collection=this;var d=new this.model(a,b);if(!d.validationError)return d;this.trigger("invalid",this,d.validationError,b);return false},_removeModels:function(a,b){var c=[];for(var d=0;d<a.length;d++){var e=this.get(a[d]);if(!e)continue;var f=this.indexOf(e);this.models.splice(f,1);this.length--;delete this._byId[e.cid];var g=this.modelId(e.attributes);if(g!=null)delete this._byId[g];if(!b.silent){b.index=f;e.trigger("remove",e,this,b)}c.push(e);this._removeReference(e,b)}return c},_isModel:function(a){return a instanceof t},_addReference:function(a,b){this._byId[a.cid]=a;var c=this.modelId(a.attributes);if(c!=null)this._byId[c]=a;a.on("all",this._onModelEvent,this)},_removeReference:function(a,b){delete this._byId[a.cid];var c=this.modelId(a.attributes);if(c!=null)delete this._byId[c];if(this===a.collection)delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){if(b){if((a==="add"||a==="remove")&&c!==this)return;if(a==="destroy")this.remove(b,d);if(a==="change"){var e=this.modelId(b.previousAttributes());var f=this.modelId(b.attributes);if(e!==f){if(e!=null)delete this._byId[e];if(f!=null)this._byId[f]=b}}}this.trigger.apply(this,arguments)}});var z={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3};h(v,z,"models");var A=b.View=function(a){this.cid=c.uniqueId("view");c.extend(this,c.pick(a,C));this._ensureElement();this.initialize.apply(this,arguments)};var B=/^(\S+)\s*(.*)$/;var C=["model","collection","el","id","attributes","className","tagName","events"];c.extend(A.prototype,k,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){this._removeElement();this.stopListening();return this},_removeElement:function(){this.$el.remove()},setElement:function(a){this.undelegateEvents();this._setElement(a);this.delegateEvents();return this},_setElement:function(a){this.$el=a instanceof b.$?a:b.$(a);this.el=this.$el[0]},delegateEvents:function(a){a||(a=c.result(this,"events"));if(!a)return this;this.undelegateEvents();for(var b in a){var d=a[b];if(!c.isFunction(d))d=this[d];if(!d)continue;var e=b.match(B);this.delegate(e[1],e[2],c.bind(d,this))}return this},delegate:function(a,b,c){this.$el.on(a+".delegateEvents"+this.cid,b,c);return this},undelegateEvents:function(){if(this.$el)this.$el.off(".delegateEvents"+this.cid);return this},undelegate:function(a,b,c){this.$el.off(a+".delegateEvents"+this.cid,b,c);return this},_createElement:function(a){return document.createElement(a)},_ensureElement:function(){if(!this.el){var a=c.extend({},c.result(this,"attributes"));if(this.id)a.id=c.result(this,"id");if(this.className)a["class"]=c.result(this,"className");this.setElement(this._createElement(c.result(this,"tagName")));this._setAttributes(a)}else{this.setElement(c.result(this,"el"))}},_setAttributes:function(a){this.$el.attr(a)}});b.sync=function(a,d,e){var f=D[a];c.defaults(e||(e={}),{emulateHTTP:b.emulateHTTP,emulateJSON:b.emulateJSON});var g={type:f,dataType:"json"};if(!e.url){g.url=c.result(d,"url")||O()}if(e.data==null&&d&&(a==="create"||a==="update"||a==="patch")){g.contentType="application/json";g.data=JSON.stringify(e.attrs||d.toJSON(e))}if(e.emulateJSON){g.contentType="application/x-www-form-urlencoded";g.data=g.data?{model:g.data}:{}}if(e.emulateHTTP&&(f==="PUT"||f==="DELETE"||f==="PATCH")){g.type="POST";if(e.emulateJSON)g.data._method=f;var h=e.beforeSend;e.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",f);if(h)return h.apply(this,arguments)}}if(g.type!=="GET"&&!e.emulateJSON){g.processData=false}var i=e.error;e.error=function(a,b,c){e.textStatus=b;e.errorThrown=c;if(i)i.call(e.context,a,b,c)};var j=e.xhr=b.ajax(c.extend(g,e));d.trigger("request",d,j,e);return j};var D={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};b.ajax=function(){return b.$.ajax.apply(b.$,arguments)};var E=b.Router=function(a){a||(a={});if(a.routes)this.routes=a.routes;this._bindRoutes();this.initialize.apply(this,arguments)};var F=/\((.*?)\)/g;var G=/(\(\?)?:\w+/g;var H=/\*\w+/g;var I=/[\-{}\[\]+?.,\\\^$|#\s]/g;c.extend(E.prototype,k,{initialize:function(){},route:function(a,d,e){if(!c.isRegExp(a))a=this._routeToRegExp(a);if(c.isFunction(d)){e=d;d=""}if(!e)e=this[d];var f=this;b.history.route(a,function(c){var g=f._extractParameters(a,c);if(f.execute(e,g,d)!==false){f.trigger.apply(f,["route:"+d].concat(g));f.trigger("route",d,g);b.history.trigger("route",f,d,g)}});return this},execute:function(a,b,c){if(a)a.apply(this,b)},navigate:function(a,c){b.history.navigate(a,c);return this},_bindRoutes:function(){if(!this.routes)return;this.routes=c.result(this,"routes");var a,b=c.keys(this.routes);while((a=b.pop())!=null){this.route(a,this.routes[a])}},_routeToRegExp:function(a){a=a.replace(I,"\\$&").replace(F,"(?:$1)?").replace(G,function(a,b){return b?a:"([^/?]+)"}).replace(H,"([^?]*?)");return new RegExp("^"+a+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(a,b){var d=a.exec(b).slice(1);return c.map(d,function(a,b){if(b===d.length-1)return a||null;return a?decodeURIComponent(a):null})}});var J=b.History=function(){this.handlers=[];this.checkUrl=c.bind(this.checkUrl,this);if(typeof window!=="undefined"){this.location=window.location;this.history=window.history}};var K=/^[#\/]|\s+$/g;var L=/^\/+|\/+$/g;var M=/#.*$/;J.started=false;c.extend(J.prototype,k,{interval:50,atRoot:function(){var a=this.location.pathname.replace(/[^\/]$/,"$&/");return a===this.root&&!this.getSearch()},matchRoot:function(){var a=this.decodeFragment(this.location.pathname);var b=a.slice(0,this.root.length-1)+"/";return b===this.root},decodeFragment:function(a){return decodeURI(a.replace(/%25/g,"%2525"))},getSearch:function(){var a=this.location.href.replace(/#.*/,"").match(/\?.+/);return a?a[0]:""},getHash:function(a){var b=(a||this).location.href.match(/#(.*)$/);return b?b[1]:""},getPath:function(){var a=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return a.charAt(0)==="/"?a.slice(1):a},getFragment:function(a){if(a==null){if(this._usePushState||!this._wantsHashChange){a=this.getPath()}else{a=this.getHash()}}return a.replace(K,"")},start:function(a){if(J.started)throw new Error("Backbone.history has already been started");J.started=true;this.options=c.extend({root:"/"},this.options,a);this.root=this.options.root;this._wantsHashChange=this.options.hashChange!==false;this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7);this._useHashChange=this._wantsHashChange&&this._hasHashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.history&&this.history.pushState);this._usePushState=this._wantsPushState&&this._hasPushState;this.fragment=this.getFragment();this.root=("/"+this.root+"/").replace(L,"/");if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var b=this.root.slice(0,-1)||"/";this.location.replace(b+"#"+this.getPath());return true}else if(this._hasPushState&&this.atRoot()){this.navigate(this.getHash(),{replace:true})}}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe");this.iframe.src="javascript:0";this.iframe.style.display="none";this.iframe.tabIndex=-1;var d=document.body;var e=d.insertBefore(this.iframe,d.firstChild).contentWindow;e.document.open();e.document.close();e.location.hash="#"+this.fragment}var f=window.addEventListener||function(a,b){return attachEvent("on"+a,b)};if(this._usePushState){f("popstate",this.checkUrl,false)}else if(this._useHashChange&&!this.iframe){f("hashchange",this.checkUrl,false)}else if(this._wantsHashChange){this._checkUrlInterval=setInterval(this.checkUrl,this.interval)}if(!this.options.silent)return this.loadUrl()},stop:function(){var a=window.removeEventListener||function(a,b){return detachEvent("on"+a,b)};if(this._usePushState){a("popstate",this.checkUrl,false)}else if(this._useHashChange&&!this.iframe){a("hashchange",this.checkUrl,false)}if(this.iframe){document.body.removeChild(this.iframe);this.iframe=null}if(this._checkUrlInterval)clearInterval(this._checkUrlInterval);J.started=false},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(a){var b=this.getFragment();if(b===this.fragment&&this.iframe){b=this.getHash(this.iframe.contentWindow)}if(b===this.fragment)return false;if(this.iframe)this.navigate(b);this.loadUrl()},loadUrl:function(a){if(!this.matchRoot())return false;a=this.fragment=this.getFragment(a);return c.some(this.handlers,function(b){if(b.route.test(a)){b.callback(a);return true}})},navigate:function(a,b){if(!J.started)return false;if(!b||b===true)b={trigger:!!b};a=this.getFragment(a||"");var c=this.root;if(a===""||a.charAt(0)==="?"){c=c.slice(0,-1)||"/"}var d=c+a;a=this.decodeFragment(a.replace(M,""));if(this.fragment===a)return;this.fragment=a;if(this._usePushState){this.history[b.replace?"replaceState":"pushState"]({},document.title,d)}else if(this._wantsHashChange){this._updateHash(this.location,a,b.replace);if(this.iframe&&a!==this.getHash(this.iframe.contentWindow)){var e=this.iframe.contentWindow;if(!b.replace){e.document.open();e.document.close()}this._updateHash(e.location,a,b.replace)}}else{return this.location.assign(d)}if(b.trigger)return this.loadUrl(a)},_updateHash:function(a,b,c){if(c){var d=a.href.replace(/(javascript:|#).*$/,"");a.replace(d+"#"+b)}else{a.hash="#"+b}}});b.history=new J;var N=function(a,b){var d=this;var e;if(a&&c.has(a,"constructor")){e=a.constructor}else{e=function(){return d.apply(this,arguments)}}c.extend(e,d,b);e.prototype=c.create(d.prototype,a);e.prototype.constructor=e;e.__super__=d.prototype;return e};t.extend=v.extend=E.extend=A.extend=J.extend=N;var O=function(){throw new Error('A "url" property or function must be specified')};var P=function(a,b){var c=b.error;b.error=function(d){if(c)c.call(b.context,a,d,b);a.trigger("error",a,d,b)}};return b});define("amd-templates/edit/pc/question_editor",["../../template"],function(a){return a("edit/pc/question_editor",'<div class="editor_question"> <div class="inner"></div> </div> ')});define("app/common/views/dialogPreviewImage",["require","exports","module","jquery","art-dialog/dialog"],function(a,b,c){var d=a("jquery");var e=a("art-dialog/dialog");var f=function(a,b){var c={skin:"dialog_preview_image",content:null,autofocus:false};d.extend(c,b);var f=e(c);var g='<div class="preview_container">'+'<img class="preview_error_img" src="/image/pc/ico/ico_error_tips.png" srcset="/image/pc/ico/ico_error_tips@2x.png 2x"/>'+'<div class="preview_error_txt"></div>'+"</div>";d(document).on("mouseenter",a,function(a){var b=d(a.currentTarget);if(b.attr("class")=="cke_iframe"){return}var c=b.attr("data-src")||b.attr("data-sourceURL")||b.attr("src");var e=document.createElement("div");var h=document.createElement("span");var i=document.createElement("img");e.appendChild(i);e.appendChild(h);e.className="preview_container";i.onload=function(){f.follow=a.currentTarget;f.content(e).show()};i.onerror=function(){f.follow=a.currentTarget;f.content(g).show()};i.src=c});d(document).on("mouseleave",a,function(a){f.close()});return f};c.exports=f});define("app/edit/pc/views/question_editor/_basic",["require","jquery","underscore","bind_events","ur-ckeditor","app/util/richtext","app/util/uuid"],function(a){var b=a("jquery");var c=a("underscore");var d=a("bind_events");var e=a("ur-ckeditor");var f=a("app/util/richtext");var g=a("app/util/uuid");function h(a){}c.extend(h.prototype,{bindCommonUIEvents:function(){d.bindUIEvents(this,this.$el,{"click .toggle_adv_setting":"toggleAdvSetting"})},toggleAdvSetting:function(){this.$el.parents(".editor_question").toggleClass("show_adv");var a;var b=this.$el.parents(".editor_question").find(".editor_adv");if(this.$el.parents(".editor_question").hasClass("show_adv")){a="";b.slideDown(200)}else{a="";b.slideUp(200)}this.$el.find(".toggle_adv_setting .txt").text(a)},getTitle:function(a){var b=this.$el.find(".question_title");var c=this.$el.find(".question_description");a.title=f.outputFilter(e.getData(b));a.description=f.outputFilter(e.getData(c));a.required=this.$el.find("[name=question_required]").prop("checked")},renderRichTextEditor:function(){var a=this.$el.find(".mod_editor");if(this.model.type==="description"){e.init(this.$el.find(".mod_editor"),{replaceImage:true});return}e.init(a.not(".question_title"),{replaceImage:true,enableFillblank:true});if(this.model.type==="text_multiple"){e.init(a.filter(".question_title"),{replaceImage:true,startupFocus:true,enableFillblank:true})}else{e.init(a.filter(".question_title"),{replaceImage:true,startupFocus:true,startupSelectAll:true,enableFillblank:true})}},destroy:function(){e.destroy(this.$el.find(".mod_editor"))},removeQuestionsRandomQuestion:function(a){var b=this.surveyModel.get("survey.questions_random");var d=c.map(b,function(a){return c.range(a[0],a[1]+1)});var e=c.flatten(d);return c.filter(a,function(a){return e.indexOf(a.index)===-1})},advanceRenderRefer:function(){var a;var b;if(this.model.id){a=this.surveyModel.exec("getQuestionsByQuery",{type:"checkbox",before:this.model.id});a=this.removeQuestionsRandomQuestion(a)}else{var d=this.surveyModel.get("currentPageIndex");var e=this.surveyModel.get("survey").pages;var g=e.slice(0,d+1);var h=0;c.forEach(g,function(a){h+=a.questions.length});var i=this.surveyModel.get("questions").slice(0,h);a=c.filter(i,{type:"checkbox"});a=this.removeQuestionsRandomQuestion(a)}c.forEach(a,function(a){a.title=f.plainTextFilter(a.title)});if(this.model.refer){this.refer=this.model.refer;if(this.model.type.indexOf("matrix")===-1){this.model.options=[{id:"o-100-ABCD",text:"",display:{},"goto":""},{id:"o-101-EDFG",text:"",display:{},"goto":""}]}else{this.model.subTitles=[{id:"g-1-ABCD",text:""},{id:"g-2-EDFG",text:""}]}b=this.surveyModel.exec("getQuestionByID",this.model.refer)}return{validCheckboxQuestions:a,referQuestion:b}},getDataForFillblank:function(){var a=this;var c=a.model.blank_setting||[];var d=a.$el.find(".mod_fillblank:visible");var e=[];var f={};d.each(function(d,h){var i=b(h);var j=i.data("setting");var k=i.attr("data-id");if(!k){k="fillblank-"+g(4);i.attr("data-id",k)}if(f[k]){k="fillblank-"+g(4);i.attr("data-id",k)}if(!j&&k){j=c.filter(function(a){return a.id===k});j=j.length>0?j[0]:undefined}if(!j){j={id:k,validate:null}}f[k]=j;var l=i.closest(".question_title, .option_item");if(l.hasClass("question_title")){j.type="question";j.attach_id=a.model.id}if(l.hasClass("option_item")){j.type="option";j.attach_id=l.data("id")||"98"}e.push(j)});return e}});return h});define("app/common/survey_parser/wjx2json",["require","jquery","underscore","app/util/events","app/util/uuid","app/util/standard_result","app/common/models/create_question","app/util/richtext"],function(a){var b=a("jquery");var c=a("underscore");var d=a("app/util/events");var e=a("app/util/uuid");var f=a("app/util/standard_result");var g=a("app/common/models/create_question");var h=a("app/util/richtext");var i={radio:["","radio"],checkbox:["","checkbox"],select:["","select"],text:["","text"],textarea:["","","textarea"],star:["","","star"],sort:["","sort"],matrix_radio:["","","matrix_radio"],matrix_checkbox:["","matrix_checkbox"],matrix_star:["","matrix_star"],chained_selects:["","chained_selects"],upload:["","upload"],description:["","description"],text_multiple:["","text_multiple"]};var j={dict:i,extend:function(a){var c=j.dict;b.each(a,function(b,d){if(c[b]){c[b].concat(a[b])}else{c[b]=a[b].slice(0)}})},getType:function(a){var c;a=b.trim(a);b.each(j.dict,function(b,d){if(d.indexOf(a)!==-1){c=b}});return c}};var k={GET_SURVEY_TITLE:10,GET_SURVEY_PREFIX:11,GET_CONTENT:2,GET_QUESTION:30,"GET_QUESTION_TYPE&TITLE":31,GET_QUESTION_DESCRIPTION:32,GET_QUESTION_DETAILS:33,GET_NEXT_SPLITOR:9999};var l=/(.*)[\[](.*?)[\]]\s*(?:[\(](.*)[\)])?$/;var m={display:"~",regex:/[~]/};function n(a){var b=a.match(l);if(!b){return false}return!!j.getType(b[2])}function o(a){var b=new f;var c=a.match(l);var d=c[1];var e=c[2];var g=c[3];if(d.length===0){b.error("")}if(!j.getType(e)){b.error("")}b.question={title:d,type:j.getType(e),description:g||""};return b}var p=/\s*={3,}\s*\s*={3,}\s*/;function q(a){return!!a.match(p)}function r(a){return n(a)||q(a)}function s(a,b,c){var d=o(a[0].lineContent);if(!d.isSuccess()){c[d.result]({lineNumber:a[0].lineNumber,info:d.info[d.result].join(", ")})}var e=d.question;e.id=b;e.title=t.replaceFillblank(e.title,b,e);e.description=t.replaceFillblank(e.description,b,e);t[e.type](a.slice(1),e,c);var f=new g(e);var h=f.question;if(!f.isSuccess()){c[f.result]({lineNumber:a[0].lineNumber,info:f.info[f.result].join(", ")})}return h.toJSON()}var t={radio:function(a,b,c,d){b.options=[];var f=100;var g,h,i;for(var j=0;j<a.length;j++){g=a[j];i=g.lineNumber;h=g.lineContent;if(h.length===0){continue}else{var k=String("o-"+ ++f+"-"+e(4));var l=t.replaceFillblank(h,k,b);b.options.push({id:k,text:l})}}if(!d&&b.options.length>0){var m=b.options[b.options.length-1];var n=/^\+(.*)/;var o=m.text.match(n);if(o){m.id="98";var p=m.text.slice(1);if(p.length>0){m.text=t.replaceFillblank(p,"98",b)}else{m.text=""}}}},text:function(a,b,c){var d,e,f;for(var g=0;g<a.length;g++){d=a[g];f=d.lineNumber;e=d.lineContent;if(e.length===0){continue}else{c.warning({lineNumber:f,info:""})}}},upload:function(a,b,c){var d,e,f;for(var g=0;g<a.length;g++){d=a[g];f=d.lineNumber;e=d.lineContent;if(e.length===0){continue}else{c.warning({lineNumber:f,info:""})}}},description:function(a,b,c){var d,e,f;for(var g=0;g<a.length;g++){d=a[g];f=d.lineNumber;e=d.lineContent;if(e.length===0){continue}else{c.warning({lineNumber:f,info:""})}}},star:function(a,b,c){var d,e,f;var g=false;for(var h=0;h<a.length;h++){d=a[h];f=d.lineNumber;e=d.lineContent;if(e.length===0){continue}else{if(g){c.warning({lineNumber:f,info:""})}else{var i=e.split(m.regex);i=i.map(function(a){return Number(a)});var j=i[0]>i[1];var k=j?i[1]:i[0];var l=j?i[0]:i[1];var n=l-k+1;b.starBeginNum=k;b.starNum=n;b.revertSort=j?1:0;g=true}}}},matrix_radio:function(a,d,f){var g=false;var h=/\s+/;d.options=[];d.subTitles=[];var i;var j=0;var k=100;var l,m,n;for(var o=0;o<a.length;o++){l=a[o];n=l.lineNumber;m=l.lineContent;if(m.length===0){continue}else{if(!g){var p=b.trim(m).split(h);c.forEach(p,function(a){d.options.push({id:String("o-"+ ++k+"-"+e(4)),text:a})});if(p.length){g=true}}else{d.subTitles.push({id:String("g-"+ ++k+"-"+e(4)),text:m})}}}},matrix_star:function(a,b,c){var d,f,g;var h=false;var i=false;b.subTitles=[];var j=100;for(var k=0;k<a.length;k++){d=a[k];g=d.lineNumber;f=d.lineContent;if(f.length===0){continue}else{if(!h){if(i){c.warning({lineNumber:g,info:""})}else{var l=f.split(m.regex);l=l.map(function(a){return Number(a)});var n=l[0]>l[1];var o=n?l[1]:l[0];var p=n?l[0]:l[1];var q=p-o+1;b.starBeginNum=o;b.starNum=q;b.revertSort=n?1:0;i=true;h=true}}else{b.subTitles.push({id:String("g-"+"g-"+ ++j+"-"+e(4)),text:f})}}}},chained_selects:function(a,c,d){var e=false;var f=/\s+/;var g=/(\+*)(.*)/;c.groups=[];var h=[c.groups];var i=1;var j=1;var k;var l,m,n;for(var o=0;o<a.length;o++){l=a[o];n=l.lineNumber;m=l.lineContent;if(m.length===0){continue}else{if(!e){c.levels=b.trim(m).split(f);if(c.levels.length){k=c.levels.length;if(k>10){alert("10");d.error({lineNumber:n,info:"10"})}e=true}}else{var p=m.match(g);var q=p[1].length;var r=p[2];var s=[null,r,[]];if(q+1>k){d.error({lineNumber:n,lineContent:m,info:"("+k+")"});continue}if(!h[q]){d.error({lineNumber:n,lineContent:m,info:""});continue}h[q].push(s);h=h.slice(0,q+1);h.push(s[2])}}}},text_multiple:function(a,b,c){var d,e,f;for(var g=0;g<a.length;g++){d=a[g];f=d.lineNumber;e=d.lineContent;if(e.length===0){continue}else{c.warning({lineNumber:f,info:""})}}}};t["checkbox"]=t["radio"];t["select"]=t["radio"];t["sort"]=t["radio"];t["textarea"]=t["text"];t["matrix_checkbox"]=t["matrix_radio"];t["replaceFillblank"]=function(a,b,c){var d=c.blank_setting||[];var f;var g=b.indexOf("q")!==-1?"question":"option";var h=function(a){return a.replace(/<span[^>]*>([_]{2,})<\/span>/g,"$1").replace(/[_]{2,}/g,function(){var a=arguments[0];var c="fillblank-"+e(4);d.push({id:c,validate:null,maxLength:"",required:null,attach_id:b,type:g});return'<span class="mod_fillblank" data-id="'+c+'">'+a+"</span>"})};f=h(a);if(!c.blank_setting){c.blank_setting=d}return f};var u={radio:function(a,b){var d="";b=b||"\n";c.forEach(a.options,function(a){if(a.id!=98){d+=a.text+b}else{d+="+"+a.text+b}});return d},text:function(a,b){return""},star:function(a,b){var c=Number(a.starBeginNum);var d=Number(a.starNum);var e=Boolean(a.revertSort);var f=d+c-1;b=b||"\n";var g=e?f+m.display+c:c+m.display+f;return g+b},matrix_radio:function(a,b){var c="";b=b||"\n";c+=a.options.map(function(a){return a.text}).join(" ")+b;c+=a.subTitles.map(function(a){return a.text}).join(b);c+=b;return c},matrix_star:function(a,b){var c="";var d=Number(a.starNum);var e=Number(a.starBeginNum);var f=Boolean(a.revertSort);var g=d+e-1;var h=f?g+m.display+e:e+m.display+g;b=b||"\n";c+=h+b;c+=a.subTitles.map(function(a){return a.text}).join(b);c+=b;return c},chained_selects:function(a,b){var d="";var e="+";b=b||"\n";if(!a.levels||a.levels.length===0){return d}d+=a.levels.map(function(a){return a}).join(" ")+b;c.forEach(a.groups,function(a){f(a,"")});function f(a,e){var g=a[1];var h=a[2];d+=e+g+b;if(h&&h.length){c.forEach(h,function(a){f(a,e+"+")})}}return d},text_multiple:function(a,b){return""}};u["checkbox"]=u["radio"];u["select"]=u["radio"];u["sort"]=u["radio"];u["textarea"]=u["text"];u["upload"]=u["text"];u["description"]=u["text"];u["matrix_checkbox"]=u["matrix_radio"];var v=function(a,b){var c="";b=b||"\n";if(a.type==="description"){var d=a.title.replace(/\n/g," ");c+=d+"["+i[a.type][0]+"]"}else{c+=a.title+"["+i[a.type][0]+"]"}if(a.description){c+="("+a.description+")"}c+=b;c+=u[a.type](a,b);c+=b;return c};function w(){}c.extend(w.prototype,d,{parse:function(a){var d=this;var g=a.split("\n");var h=new f;var i={title:"",prefix:[],pages:[]};h.survey=i;var j=0;var l={id:m(),questions:[]};i.pages.push(l);function m(){j++;return"p-"+j+"-"+e(4)}var o=0;var p=null;var t;var u=[];function v(){o++;return"q-"+o+"-"+e(4)}var w=10,x=0,y;d.trigger("start:PARSE",x);d.trigger("start:GET_SURVEY_TITLE",x);for(;x<g.length;x++){y=g[x];y=b.trim(y);switch(w){case k["GET_SURVEY_TITLE"]:if(y.length>0){i.title=y;d.trigger("end:GET_SURVEY_TITLE",x,i.title);w=k["GET_SURVEY_PREFIX"];d.trigger("start:GET_SURVEY_PREFIX",x+1)}break;case k["GET_SURVEY_PREFIX"]:if(r(y)){i.prefix=i.prefix.join("\n");d.trigger("end:GET_SURVEY_PREFIX",x-1,i.prefix);w=k["GET_CONTENT"];x--}else{i.prefix.push(y)}break;case k["GET_CONTENT"]:if(n(y)){d.trigger("start:GET_QUESTION",x);w=k["GET_QUESTION"];x--}else if(q(y)){d.trigger("start:GET_PAGE",x);w=k["GET_PAGE"];x--}else if(y.length===0){}else{
h.warning({lineNumber:x,info:""})}break;case k["GET_PAGE"]:l={id:m(),questions:[]};i.pages.push(l);d.trigger("end:GET_PAGE",x-1,i.pages.slice(-1)[0]);w=k["GET_CONTENT"];break;case k["GET_QUESTION"]:if(r(y)){if(u.length){t=s(u,v(),h);l.questions.push(t);u.length=0;d.trigger("end:GET_QUESTION",x-1,t);w=k["GET_CONTENT"];x--}else{u.push({lineNumber:x,lineContent:y})}}else{u.push({lineNumber:x,lineContent:y})}break;default:break}}if(c.isArray(i.prefix)){i.prefix=i.prefix.join("\n");d.trigger("end:GET_QUESTION",x,i.prefix)}if(u.length){t=s(u,v(),h);l.questions.push(t);d.trigger("end:GET_QUESTION",x,t)}if(i.title.length===0){h.error({lineNumber:0,info:""})}d.trigger("end:PARSE",x,i);return h},stringify:function(a,b){b=b||"\n";a=h.formatPlainTextSurvey(a);var c="";c+=a.title+b+b;if(a.prefix){c+=a.prefix+b+b}var d,e,f;for(var g=0;g<a.pages.length;g++){d=a.pages[g];e=d.questions;for(var i=0;i<e.length;i++){f=e[i];c+=v(f,b)}if(g!==a.pages.length-1){c+="======"+b+b}}return c},QuestionType:j});w.QUESTION_TYPE_ENUM=i;w.QUESTION_PARSER=t;w.QUESTION_STRINGIFIER=u;w.QuestionStringify=v;return w});define("amd-templates/edit/pc/include/editor_title",["../../../template"],function(a){return a("edit/pc/include/editor_title",function(a){"use strict";var b=this,c=(b.$helpers,b.$string),d=a.question,e="";return e+='<div class="row editor_title"> <label class="row_title"></label> <div class="row_content"> <div contenteditable class="question_title mod_editor inline_editor">',e+=c(d.title),e+="</div> </div> </div> ",new String(e)})});define("amd-templates/edit/pc/include/editor_description",["../../../template"],function(a){return a("edit/pc/include/editor_description",function(a){"use strict";var b=this,c=(b.$helpers,b.$string),d=a.question,e="";return e+='<div class="row editor_description"> <label class="row_title"></label> <div class="row_content"> <div placeholder="()" contenteditable class="question_description mod_editor inline_editor">',e+=c(d.description),e+="</div> </div> </div> ",new String(e)})});define("amd-templates/edit/pc/include/editor_type",["../../../template"],function(a){return a("edit/pc/include/editor_type",function(a){"use strict";var b=this,c=(b.$helpers,a.question),d=a.referQuestion,e="";return e+='<div class="row editor_type"> <div class="row_content"> <select id="question_type"> <option value="radio" ',"radio"==c.type&&(e+=" selected "),e+='></option> <option value="checkbox" ',"checkbox"==c.type&&(e+=" selected "),e+='></option> <option value="select" ',"select"==c.type&&(e+=" selected "),e+='></option> <option value="text" ',"text"==c.type&&(e+=" selected "),e+='></option> <option value="textarea" ',"textarea"==c.type&&(e+=" selected "),e+='></option> <option value="matrix_radio" ',"matrix_radio"==c.type&&(e+=" selected "),e+='></option> <option value="matrix_checkbox" ',"matrix_checkbox"==c.type&&(e+=" selected "),e+='></option> <option value="matrix_star" ',"matrix_star"==c.type&&(e+=" selected "),e+='></option> <option value="star" ',"star"==c.type&&(e+=" selected "),e+='></option> <option value="sort" ',"sort"==c.type&&(e+=" selected "),e+='></option> <option value="chained_selects" ',"chained_selects"==c.type&&(e+=" selected "),e+='></option> <option value="upload" ',"upload"==c.type&&(e+=" selected "),e+='></option> <option value="text_multiple" ',"text_multiple"==c.type&&(e+=" selected "),e+='></option> </select> <label> <input name="question_required" style="margin-right: 0;" type="checkbox" ',d?(e+=" disabled ",d.required&&(e+=" checked "),e+=" "):(e+=" ",c.required&&(e+=" checked "),e+=" "),e+=" /> </label> </div> </div> ",new String(e)})});define("amd-templates/edit/pc/include/advanced_trigger",["../../../template"],function(a){return a("edit/pc/include/advanced_trigger",'<div class="row row_split"> <div class="split"></div> <a class="toggle_adv_setting" href="javascript:;"> <span class="txt"></span> <i></i> </a> </div> ')});define("amd-templates/edit/pc/include/buttons",["../../../template"],function(a){return a("edit/pc/include/buttons",'<div class="row editor_control"> <a href="javascript:;" id="editor_confirm_btn" class="btn btn_small btn_blue btn_confirm"></a> <a href="javascript:;" id="editor_cancel_btn" class="btn btn_small btn_white btn_cancel"></a> </div> ')});define("amd-templates/edit/pc/question_editor/radio",["../../../template","../include/editor_title","../include/editor_description","../include/editor_type","../include/advanced_trigger","../include/buttons"],function(a){return a("edit/pc/question_editor/radio",function(a,b){"use strict";var c=this,d=(c.$helpers,function(d,e){e=e||a;var f=c.$include(d,e,b);return m+=f}),e=a.question,f=a.hasOther,g=c.$escape,h=a.otherOption,i=c.$string,j=a.referQuestion,k=c.$each,l=a.validCheckboxQuestions,m=(a.index,"");return m+='<div class="inner radio"> ',d("../include/editor_title"),m+=" ",d("../include/editor_description"),m+=" ",d("../include/editor_type"),m+=' <div class="row editor_options" style="',e.refer&&(m+="display:none;"),m+='"> <ul class="options_list"> <div class="additional_setting_title"> <span class="no_random" style="',e.random||(m+="display:none;"),m+='"></span> <span class="correct_answer" style="',e.assess||(m+="display:none;"),m+='"></span> </div> <ul class="normal_options_list"> </ul>  <li class="option_item option_create"> <div class="option_input_wrap"> <span class="add_option"></span> </div> </li>  <li class="option_item other_option" style="',f||(m+="display: none;"),m+='" data-display="',m+=g(h._display||""),m+='" data-goto="',m+=g(h.goto||""),m+='"> <span class="handle"></span>  <div class="option_input_wrap"> <div class="mod_editor inline_editor option_text other_option_text" contenteditable="true">',m+=i(h.text),m+='</div> </div> <a href="javascript:;" class="btn btn_del_other">&times;</a> <div class="additional_setting"> <input class="no_random" type="checkbox" ',h.noRandom&&(m+="checked"),m+=' style="',e.random||(m+="display: none;"),m+='"/> <input class="correct_answer" type="checkbox" ',h.correct_answer&&(m+="checked"),m+=' style="',e.isAssess||(m+="display: none;"),m+='"/> </div> </li> </ul> <div class="options_control"> <a class="add_other ',f&&(m+="disabled"),m+='" href="javascript:;"></a> | <a class="add_options" href="javascript:;"></a> </div> </div> <div class="row refer_detail" style="',e.refer||(m+="display:none;"),m+='"> <p><b class="refer_question_index">&nbsp;',j&&(m+=g(j.index+1)),m+="&nbsp;</b></p> </div> ",d("../include/advanced_trigger"),m+=' <div class="row editor_adv"> <div class="row"> <label> <select name="maxRow" ',e.show_stat&&(m+="disabled"),m+="> <option ",1==e.maxRow&&(m+="selected"),m+=' value="1">1</option> <option ',2==e.maxRow&&(m+="selected"),m+=' value="2">2</option> <option ',3==e.maxRow&&(m+="selected"),m+=' value="3">3</option> <option ',4==e.maxRow&&(m+="selected"),m+=' value="4">4</option> <option ',5==e.maxRow&&(m+="selected"),m+=' value="5">5</option> <option ',6==e.maxRow&&(m+="selected"),m+=' value="6">6</option> <option ',7==e.maxRow&&(m+="selected"),m+=' value="7">7</option> <option ',8==e.maxRow&&(m+="selected"),m+=' value="8">8</option> <option ',9==e.maxRow&&(m+="selected"),m+=' value="9">9</option> <option ',10==e.maxRow&&(m+="selected"),m+=' value="10">10</option> </select> </label> </div> <div class="row"> <label><input name="random" type="checkbox" ',e.random&&(m+="checked"),m+="/></label> <label ",e.assess&&(m+='class="disabled"'),m+='><input name="show_stat" ',e.assess&&(m+="disabled"),m+=' type="checkbox" ',e.show_stat&&(m+="checked"),m+='/></label> </div> <div class="row"> <label ',(e.refer||e.show_stat)&&(m+='class="disabled"'),m+='><input name="assess" type="checkbox" ',(e.refer||e.show_stat)&&(m+="disabled"),m+=" ",e.assess&&(m+="checked"),m+='/></label> <label class="',e.assess&&(m+="disabled"),m+=' editor_quote_label"> <input name="refer_options" type="checkbox" ',e.assess&&(m+="disabled"),m+=" ",e.refer&&(m+="checked"),m+='/> </label> <select class="refer_question_select" ',e.refer||(m+='style="display: none;"'),m+='> <option value=""></option> ',k(l,function(a){m+=" <option ",j&&a.id==j.id&&(m+="selected"),m+=' value="',m+=g(a.id),m+='">',m+=g(a.index+1),m+=".",m+=g(a.title),m+="</option> "}),m+=' </select> </div> <div class="row"> <div class="assess_adv_setting" style="background:#eee;padding: 5px 10px; ',e.assess||(m+="display: none;"),m+='"> <label> <input class="score" type="number" min="0" name="score" value="',m+=g(e.assess&&e.assess.score||1),m+='" /> </label> </div> </div> </div> ',d("../include/buttons"),m+=" </div> ",new String(m)})});define("amd-templates/edit/pc/question_editor/_option",["../../../template"],function(a){return a("edit/pc/question_editor/_option",function(a){"use strict";var b=this,c=(b.$helpers,b.$escape),d=a.option,e=a.type,f=b.$string,g=a.random,h=a.isAssess,i=a.hasExclusive,j="";return j+='<li class="option_item" data-id="',j+=c(d.id),j+='" data-display="',j+=c(d._display||""),j+='" data-goto="',j+=c(d.goto||""),j+='"> <span class="handle"></span> ',("radio"==e||"checkbox"==e)&&(j+=' <!--<input type="',j+=c(e),j+='" disabled/>--> '),j+=' <div class="option_input_wrap"> <div class="mod_editor inline_editor option_text" contenteditable="true">',j+=f(d.text),j+='</div> </div> <a href="javascript:;" class="btn btn_del btn_del_option">&times;</a> <div class="additional_setting"> ',("radio"==e||"checkbox"==e||"select"==e)&&(j+=' <input class="no_random" type="checkbox" ',d.noRandom&&(j+="checked"),j+=' style="',g||(j+="display: none;"),j+='"/> <input class="correct_answer" type="checkbox" ',d.correct_answer&&(j+="checked"),j+=' style="',h||(j+="display: none;"),j+='"/> '),j+=" ","checkbox"==e&&(j+=' <input class="exclusive" type="checkbox" ',d.exclusive&&(j+="checked"),j+=' style="',i||(j+="display: none;"),j+='"/> '),j+=" </div> </li> ",new String(j)})});define("amd-templates/edit/pc/question_editor/_add_options",["../../../template"],function(a){return a("edit/pc/question_editor/_add_options",function(a){"use strict";var b=this,c=(b.$helpers,b.$escape),d=a.value,e="";return e+='<div id="add_batch"> <textarea id="add_batch_content" name="add_batch_content" rows="10" cols="30">',e+=c(d),e+="</textarea> </div> ",new String(e)})});define("app/edit/pc/views/question_editor/radio",["require","jquery","underscore","art-dialog/dialog","bind_events","app/util/animate","app/util/richtext","ur-ckeditor","app/util/uuid","./_basic","app/common/survey_parser/wjx2json","amd-templates/edit/pc/question_editor/radio","amd-templates/edit/pc/question_editor/_option","amd-templates/edit/pc/question_editor/_add_options"],function(a){var b=a("jquery");var c=a("underscore");var d=a("art-dialog/dialog");var e=a("bind_events");var f=a("app/util/animate");var g=a("app/util/richtext");var h=a("ur-ckeditor");var i=a("app/util/uuid");var j=a("./_basic");var k=a("app/common/survey_parser/wjx2json").QUESTION_PARSER;var l=a("amd-templates/edit/pc/question_editor/radio");var m=a("amd-templates/edit/pc/question_editor/_option");var n=a("amd-templates/edit/pc/question_editor/_add_options");function o(a){this.template=l;this.model=a.model;this.surveyModel=a.surveyModel;this.editMode=a.editMode;this.render();this.bindUIEvents()}c.extend(o.prototype,j.prototype,{bindUIEvents:function(){this.bindCommonUIEvents(this);e.bindUIEvents(this,this.$el,{"click .add_option":"addOption","click .btn_del":"removeOption","click .add_other":"addOtherOption","click .btn_del_other":"removeOtherOption","click .add_options":"addOptions","change [name=random]":"randomSwitch","change [name=assess]":"assessSwitch","click .correct_answer":"correctAnswerChange","change [name=refer_options]":"referOptions","change .refer_question_select":"onReferChange","change [name=show_stat]":"onChangeShowStat"})},_beforeConfirm:function(){if(this.$el.find("[name=refer_options]")[0].checked&&!this.refer){f.errorShake(this.$el.find(".refer_question_select"));return false}if(this.$el.find("[name=assess]")[0].checked){var a=Number(this.$el.find("[name=score]").val());if(!a||a<=0){f.errorShake(this.$el.find("[name=score]"));return false}var c=false;this.$el.find(".correct_answer").each(function(a,b){if(b.checked){c=true}});if(!c){f.errorShake(this.$el.find("span.correct_answer"));b("span.correct_answer").css({color:"#d92424"})}return c}},getData:function(){var a={options:[]};this.getTitle(a);var c;if(this.refer){a.refer=this.refer}else{a.refer=null;this.$el.find(".normal_options_list .option_item").each(function(c,d){var e={};var f=b.trim(String(b(d).data("display")));if(f.length){f.split(" ").forEach(function(a,b){e[a]=1})}a.options.push({id:b(d).data("id"),"goto":b(d).data("goto"),display:e,noRandom:b(d).find(".no_random").prop("checked"),text:g.outputFilter(h.getData(b(d).find(".mod_editor")))})});c=this.$el.find(".other_option");if(c.is(":visible")){var d={};var e=b.trim(String(c.data("display")));if(e.length){e.split(" ").forEach(function(a,b){d[a]=1})}a.options.push({id:"98","goto":c.data("goto"),display:d,noRandom:c.find(".no_random").prop("checked"),text:g.outputFilter(h.getData(".other_option_text"))})}}if(this.$el.find("[name=assess]").prop("checked")){var f={};this.$el.find(".normal_options_list .option_item").each(function(c,d){if(b(d).find(".correct_answer").prop("checked")){f[a.options[c].id]={flag:true}}});c=this.$el.find(".other_option");if(c.is(":visible")&&c.find(".correct_answer").prop("checked")){f[a.options[a.options.length-1].id]={flag:true}}a.assess={type:0,score:Number(this.$el.find("[name=score]").val()),options:f}}else{a.assess=null}a.random=this.$el.find("[name=random]").prop("checked");a.show_stat=this.$el.find("[name=show_stat]").prop("checked");a.maxRow=this.$el.find("[name=maxRow]").val();return a},addOption:function(a,c){if(!a.id){var d=this.$el.find(".normal_options_list").children().length;a.id=String("o"+"-"+d+"-"+i(4))}var e=m({option:a,display:{},"goto":"",random:this.model.random,isAssess:this.model.isAssess,hasExclusive:this.model.hasExclusive,type:this.model.type});e=b(e);this.$el.find(".normal_options_list").append(e);h.init(e.find(".mod_editor"),{replaceImage:true,startupFocus:!c,enableFillblank:true})},removeOption:function(a){var c=this;var e=b(a.target).closest(".option_item");var f=c.surveyModel.get("survey.recycle");if(this.editMode==="supplementary"&&f>0){d({title:"",width:300,height:100,skin:"ui-dialog-small",content:""+f+"",button:[{value:"",callback:function(){}},{value:"",callback:function(){c.surveyModel.exec("copySurvey").done(function(a){location.href="/edit.html?sid="+a.data.id+"&prev_oper=copy"})}},{value:"",autofocus:true,callback:function(){h.destroy(e.find(".mod_editor"));e.remove()}}]}).showModal()}else{h.destroy(e.find(".mod_editor"));e.remove()}},addOtherOption:function(a){if(this.$el.find(".add_other").hasClass("disabled")){return}var b=this.$el.find(".other_option");b.show();this.$el.find(".add_other").addClass("disabled")},setOtherOption:function(a){this.$el.find(".other_option_text").html("<p>"+a+"</p>")},removeOtherOption:function(){var a=this.$el.find(".other_option");var b=this;var c=b.surveyModel.get("survey.recycle");if(this.editMode==="supplementary"&&c>0){d({title:"",width:300,height:100,skin:"ui-dialog-small",content:""+c+"",button:[{value:"",callback:function(){}},{value:"",callback:function(){b.surveyModel.exec("copySurvey").done(function(a){location.href="/edit.html?sid="+a.data.id+"&prev_oper=copy"})}},{value:"",autofocus:true,callback:function(){a.hide();b.$el.find(".add_other").removeClass("disabled")}}]}).showModal()}else{a.hide();this.$el.find(".add_other").removeClass("disabled")}},addOptions:function(){var a=this;var e=a.surveyModel.get("survey.recycle");if(this.editMode==="supplementary"&&e>0){d({title:"",width:300,height:100,skin:"ui-dialog-small",content:"",ok:function(){},okValue:""}).showModal();return}var f=c.map(this.getData().options,function(a){if(a.id==="98"){return"+"+g.plainTextFilter(a.text)}else{return g.plainTextFilter(a.text)}}).join("\n");d({title:"",content:n({value:f}),skin:"add_options",width:500,height:400,okValue:"",ok:function(){var c=b("#add_batch_content").val();c=c.split("\n").map(function(a){return{lineContent:a}});var d={};k["radio"](c,d);h.destroy(a.$el.find(".normal_options_list .mod_editor"));a.$el.find(".normal_options_list").empty();a.removeOtherOption();d.options.forEach(function(b){if(b.id==="98"){a.addOtherOption();a.setOtherOption(b.text)}else{a.addOption(b,true)}})},cancal:function(){}}).showModal()},randomSwitch:function(a){if(b(a.currentTarget)[0].checked){this.$el.find(".no_random").show();this.model.random=true}else{this.$el.find(".no_random").hide();this.$el.find(".no_random[type=checkbox]").each(function(a,b){b.checked=false});this.model.random=false}},assessSwitch:function(a){if(b(a.currentTarget)[0].checked){this.$el.find(".correct_answer").show();this.$el.find(".assess_adv_setting").show();this.model.isAssess=true;this.$el.find("[name=refer_options]")[0].disabled=true;this.$el.find("[name=refer_options]").closest("label").addClass("disabled");if(this.model.type!=="select"){this.$el.find("[name=show_stat]")[0].disabled=true;this.$el.find("[name=show_stat]").closest("label").addClass("disabled")}this.$el.find("[name=score]").select().focus()}else{this.$el.find(".correct_answer").hide();this.$el.find(".correct_answer[type=checkbox]").each(function(a,b){b.checked=false});this.$el.find(".assess_adv_setting").hide();this.model.isAssess=false;this.$el.find("[name=refer_options]")[0].disabled=false;this.$el.find("[name=refer_options]").closest("label").removeClass("disabled");if(this.model.type!=="select"){this.$el.find("[name=show_stat]")[0].disabled=false;this.$el.find("[name=show_stat]").closest("label").removeClass("disabled")}}},correctAnswerChange:function(a){if(a.currentTarget.checked===true&&(this.model.type==="radio"||this.model.type==="select")){this.$el.find("input[type=checkbox].correct_answer").each(function(a,b){b.checked=false});b(a.currentTarget)[0].checked=true}},referOptions:function(a){if(b(a.currentTarget)[0].checked){this.$el.find(".editor_options").slideUp(300);this.$el.find(".refer_detail").show();this.$el.find(".refer_question_select").show();this.$el.find("[name=assess]")[0].disabled=true;this.$el.find("[name=assess]").closest("label").addClass("disabled");if(this.model.type==="checkbox"){this.$el.find("[name=has_exclusive]")[0].disabled=true;this.$el.find("[name=has_exclusive]").closest("label").addClass("disabled")}}else{this.$el.find(".editor_options").slideDown(300);this.$el.find(".refer_detail").hide();this.$el.find(".refer_question_select").val("").hide();this.$el.find(".refer_detail p b").text("  ");this.$el.find("[name=question_required]")[0].disabled=false;this.refer=null;this.$el.find("[name=assess]")[0].disabled=false;this.$el.find("[name=assess]").closest("label").removeClass("disabled");if(this.model.type==="checkbox"){this.$el.find("[name=has_exclusive]")[0].disabled=false;this.$el.find("[name=has_exclusive]").closest("label").removeClass("disabled")}}},onReferChange:function(){var a=this.$el.find(".refer_question_select").val();var b=2;if(a){var c=this.surveyModel.exec("getQuestionByID",a);var d=c.index;this.$el.find(".refer_detail p b").text(d+1);this.$el.find("[name=question_required]")[0].checked=c.required;this.$el.find("[name=question_required]")[0].disabled=true;this.refer=a}else{this.refer=null;this.$el.find("[name=question_required]")[0].disabled=false;this.$el.find("[name=refer_options]")[0].checked=false;this.$el.find(".editor_options").show();this.$el.find(".refer_detail").hide();this.$el.find(".refer_question_select").val("").hide();this.$el.find("[name=assess]")[0].disabled=false;this.$el.find("[name=assess]").closest("label").removeClass("disabled")}},onChangeShowStat:function(){var a=this.$el.find("[name=show_stat]");var b=this.$el.find("[name=maxRow]");if(a[0].checked){b.val(1);if(b[0]){b[0].disabled=true}this.$el.find("[name=assess]")[0].disabled=true;this.$el.find("[name=assess]").closest("label").addClass("disabled");var c=d({skin:"tips edit_error_tips",content:"1",align:"top left"}).show(b[0]);setTimeout(function(){c.close().remove()},5e3)}else{if(b[0]){b[0].disabled=false}this.$el.find("[name=assess]")[0].disabled=false;this.$el.find("[name=assess]").closest("label").removeClass("disabled")}},render:function(){var a=this;var d=a.advanceRenderRefer();var e=c.filter(this.model.options,function(a){return a.id!=="98"});var f={id:"98",display:{},"goto":"",text:"____"};var g=this.model.options.some(function(a){if(a.id==="98"){f=a}return a.id==="98"});this.model.options.forEach(function(a){a["goto"]=a["goto"];a._display=c.keys(a.display).join(" ")});this.model.hasExclusive=c.some(this.model.options,function(a){return a.exclusive});this.model.isAssess=!!this.model.assess;var h=this.model.assess;if(h){c.each(this.model.options,function(a,b){var c=a.id;var d=h.options[c];a.correct_answer=d&&d.flag?true:false})}this.el=this.template({question:this.model,normalOptions:e,hasOther:g,otherOption:f,referQuestion:d.referQuestion,validCheckboxQuestions:d.validCheckboxQuestions});this.$el=b(this.el);e.forEach(function(b){a.addOption(b,true)});this.renderRichTextEditor()}});return o});define("amd-templates/edit/pc/question_editor/checkbox",["../../../template","../include/editor_title","../include/editor_description","../include/editor_type","../include/advanced_trigger","../include/buttons"],function(a){return a("edit/pc/question_editor/checkbox",function(a,b){"use strict";var c=this,d=(c.$helpers,function(d,e){e=e||a;var f=c.$include(d,e,b);return m+=f}),e=a.question,f=a.hasOther,g=c.$escape,h=a.otherOption,i=c.$string,j=a.referQuestion,k=c.$each,l=a.validCheckboxQuestions,m=(a.index,"");return m+='<div class="inner checkbox"> ',d("../include/editor_title"),m+=" ",d("../include/editor_description"),m+=" ",d("../include/editor_type"),m+=' <div class="row editor_options" style="',e.refer&&(m+="display:none;"),m+='"> <ul class="options_list"> <div class="additional_setting_title"> <span class="no_random" style="',e.random||(m+="display:none;"),m+='"></span> <span class="correct_answer" style="',e.assess||(m+="display:none;"),m+='"></span> <span class="exclusive" style="',e.hasExclusive||(m+="display:none;"),m+='"></span> </div> <ul class="normal_options_list"> </ul>  <li class="option_item option_create"> <div class="option_input_wrap"> <span class="add_option"></span> </div> </li>  <li class="option_item other_option" style="',f||(m+="display: none;"),m+='" data-display="',m+=g(h._display||""),m+='" data-goto="',m+=g(h.goto||""),m+='"> <span class="handle"></span>  <div class="option_input_wrap"> <div class="mod_editor inline_editor option_text other_option_text" contenteditable="true">',m+=i(h.text),m+='</div> </div> <a href="javascript:;" class="btn btn_del_other">&times;</a> <div class="additional_setting"> <input class="no_random" type="checkbox" ',h.noRandom&&(m+="checked"),m+=' style="',e.random||(m+="display: none;"),m+='"/> <input class="correct_answer" type="checkbox" ',h.correct_answer&&(m+="checked"),m+=' style="',e.isAssess||(m+="display: none;"),m+='"/> <input class="exclusive" type="checkbox" ',h.exclusive&&(m+="checked"),m+=' style="',e.hasExclusive||(m+="display: none;"),m+='"/> </div> </li> </ul> <div class="options_control"> <a class="add_other ',f&&(m+="disabled"),m+='" href="javascript:;"></a> | <a class="add_options" href="javascript:;"></a> </div> </div> <div class="row refer_detail" style="',e.refer||(m+="display:none;"),m+='"> <p><b class="refer_question_index">&nbsp;',j&&(m+=g(j.index+1)),m+="&nbsp;</b></p> </div> ",d("../include/advanced_trigger"),m+=' <div class="row editor_adv"> <div class="row"> <label> <select name="maxRow" ',e.show_stat&&(m+="disabled"),m+="> <option ",1==e.maxRow&&(m+="selected"),m+=' value="1">1</option> <option ',2==e.maxRow&&(m+="selected"),m+=' value="2">2</option> <option ',3==e.maxRow&&(m+="selected"),m+=' value="3">3</option> <option ',4==e.maxRow&&(m+="selected"),m+=' value="4">4</option> <option ',5==e.maxRow&&(m+="selected"),m+=' value="5">5</option> <option ',6==e.maxRow&&(m+="selected"),m+=' value="6">6</option> <option ',7==e.maxRow&&(m+="selected"),m+=' value="7">7</option> <option ',8==e.maxRow&&(m+="selected"),m+=' value="8">8</option> <option ',9==e.maxRow&&(m+="selected"),m+=' value="9">9</option> <option ',10==e.maxRow&&(m+="selected"),m+=' value="10">10</option> </select> </label> <label> <select name="maxlength"></select> </label> </div> <div class="row"> <label><input name="random" type="checkbox" ',e.random&&(m+="checked"),m+="/></label> <label ",e.assess&&(m+='class="disabled"'),m+='><input name="show_stat" ',e.assess&&(m+="disabled"),m+=' type="checkbox" ',e.show_stat&&(m+="checked"),m+="/></label> <label ",e.refer&&(m+='class="disabled"'),m+='><input name="has_exclusive" type="checkbox" ',e.refer&&(m+="disabled"),m+=" ",e.hasExclusive&&(m+="checked"),m+='/> <i class="ico ico_info"></i> </label> </div> <div class="row"> <label ',(e.refer||e.show_stat)&&(m+='class="disabled"'),m+='><input name="assess" type="checkbox" ',(e.refer||e.show_stat)&&(m+="disabled"),m+=" ",e.assess&&(m+="checked"),m+='/></label> <label class="',e.assess&&(m+="disabled"),m+=' editor_quote_label"> <input name="refer_options" type="checkbox" ',e.assess&&(m+="disabled"),m+=" ",e.refer&&(m+="checked"),m+='/> </label> <select class="refer_question_select" ',e.refer||(m+='style="display: none;"'),m+='> <option value=""></option> ',k(l,function(a){m+=" <option ",j&&a.id==j.id&&(m+="selected"),m+=' value="',m+=g(a.id),m+='">',m+=g(a.index+1),m+=".",m+=g(a.title),m+="</option> "}),m+=' </select> </div> <div class="row"> <div class="assess_adv_setting" style="background:#eee;padding: 5px 10px; ',e.assess||(m+="display: none;"),m+='"> <label style="margin-right: 10px"> <input class="score" type="number" min="0" name="score" value="',m+=g(e.assess&&e.assess.score||1),m+='" /> </label> <label style="margin-right: 10px"> <select name="assess_type"> <option ',e.assess&&2!=e.assess.type||(m+="selected"),m+=' value="2"></option> <option ',e.assess&&1==e.assess.type&&(m+="selected"),m+=' value="1"></option> </select> </label> <!--<label style="margin-right: 10px; ',e.assess&&1==e.assess.type||(m+="display:none;"),m+='">--> <!--<input type="number" min="1" name="assess_option_score" value="',m+=g(e.assess&&e.assess.score_option||1),m+='" />-->  </div> </div> </div> ',d("../include/buttons"),m+=" </div> ",new String(m)})});define("app/edit/pc/views/question_editor/checkbox",["require","./radio","bind_events","art-dialog/dialog","jquery","underscore","amd-templates/edit/pc/question_editor/checkbox"],function(a){var b=a("./radio");var c=a("bind_events");var d=a("art-dialog/dialog");var e=a("jquery");var f=a("underscore");var g=a("amd-templates/edit/pc/question_editor/checkbox");function h(a){this.template=g;this.model=a.model;this.surveyModel=a.surveyModel;this.editMode=a.editMode;this.render();this.bindUIEvents()}f.extend(h.prototype,b.prototype,{bindUIEvents:function(){b.prototype.bindUIEvents.call(this);c.bindUIEvents(this,this.$el,{"change [name=has_exclusive]":"exclusiveSwitch","change [name=assess_type]":"assessTypeSwitch"});var a=null;e(this.$el).on("mouseenter",".ico_info",function(b){if(!a){a=d({skin:"tips setting_login_tips",align:"right",content:'<br>""'}).show(b.currentTarget)}});e(this.$el).on("mouseleave",".ico_info",function(b){if(a){a.remove();a=null}})},addOption:function(a,c){b.prototype.addOption.call(this,a,c);this._updateMaxSelect()},removeOption:function(a){b.prototype.removeOption.call(this,a);this._updateMaxSelect()},exclusiveSwitch:function(a){if(e(a.currentTarget)[0].checked){this.$el.find(".exclusive").show();this.model.hasExclusive=true}else{this.$el.find(".exclusive").hide();this.$el.find(".exclusive[type=checkbox]").each(function(a,b){b.checked=false});this.model.hasExclusive=false}},assessTypeSwitch:function(a){var b=e(a.currentTarget).val();switch(b){case"1":break;case"2":break}},updateMaxLength:function(){var a=this.$el.find(".normal_options_list").children().length;var b=this.$el.find("[name=maxlength]").val()||this.model.maxlength;var c=[{value:"",text:""}];for(var d=0;d<a;d++){c.push({value:d+1,text:d+1})}var e=c.map(function(a){return"<option "+(b==a.value?"selected ":"")+"value='"+a.value+"'>"+a.text+"</option>"}).join("");this.$el.find("[name=maxlength]").html(e)},getData:function(){var a=b.prototype.getData.call(this);if(!a.refer){this.$el.find(".normal_options_list .option_item").each(function(b,c){a.options[b].exclusive=e(c).find(".exclusive")[0].checked});var c=this.$el.find(".other_option");if(c.is(":visible")){a.options[a.options.length-1].exclusive=c.find(".exclusive")[0].checked}}a.maxlength=this.$el.find("[name=maxlength]").val();if(this.$el.find("[name=assess]")[0].checked){a.assess.type=Number(this.$el.find("[name=assess_type]").val());switch(a.assess.type){case 1:a.assess.score=Number(this.$el.find("[name=score]").val());break;case 2:break}}else{a.assess=null}return a},render:function(){b.prototype.render.call(this);var a=this;var c=setInterval(function(){if(!a.$el.is(":visible")){clearInterval(c)}},100);setTimeout(function(){var b=a.model.maxlength;var c=a.model.options.length||2;if(a.refer){var d=a.surveyModel.exec("getQuestionByID",a.refer);c=d.maxlength||d.options.length}a._updateMaxSelect(c,b)},100)},_updateMaxSelect:function(a,b){var c=this.$el.find(".normal_options_list").children().length;var d=this.$el.find("select[name=maxlength]");var e=1;a=Number(a)||c;b=Number(b||this.model.maxlength);if(b>a){b=a}var f=b?['<option value=""></option>']:['<option selected value=""></option>'];for(e;e<=a;e++){e===b?f.push('<option selected value="'+e+'">'+e+"</option>"):f.push('<option value="'+e+'">'+e+"</option>")}d.html(f)},referOptions:function(a){if(e(a.currentTarget)[0].checked){this.$el.find(".editor_options").slideUp(300);this.$el.find(".refer_detail").show();this.$el.find(".refer_question_select").show();this.$el.find("[name=assess]")[0].disabled=true;this.$el.find("[name=assess]").closest("label").addClass("disabled");if(this.model.type==="checkbox"){this.$el.find("[name=has_exclusive]")[0].disabled=true;this.$el.find("[name=has_exclusive]").closest("label").addClass("disabled")}}else{this.$el.find(".editor_options").slideDown(300);this.$el.find(".refer_detail").hide();this.$el.find(".refer_question_select").val("").hide();this.$el.find(".refer_detail p b").text("  ");this.$el.find("[name=question_required]")[0].disabled=false;this.refer=null;this.$el.find("[name=assess]")[0].disabled=false;this.$el.find("[name=assess]").closest("label").removeClass("disabled");if(this.model.type==="checkbox"){this.$el.find("[name=has_exclusive]")[0].disabled=false;this.$el.find("[name=has_exclusive]").closest("label").removeClass("disabled")}}this._updateMaxSelect()},onReferChange:function(){var a=this.$el.find(".refer_question_select").val();var b=2;if(a){var c=this.surveyModel.exec("getQuestionByID",a);var d=c.index;this.$el.find(".refer_detail p b").text(d+1);this.$el.find("[name=question_required]")[0].checked=c.required;this.$el.find("[name=question_required]")[0].disabled=true;this.refer=a;b=c.maxlength||c.options.length}else{this.refer=null;this.$el.find("[name=question_required]")[0].disabled=false;this.$el.find("[name=refer_options]")[0].checked=false;this.$el.find(".editor_options").show();this.$el.find(".refer_detail").hide();this.$el.find(".refer_question_select").val("").hide();this.$el.find("[name=assess]")[0].disabled=false;this.$el.find("[name=assess]").closest("label").removeClass("disabled");
}this._updateMaxSelect(b)}});return h});define("amd-templates/edit/pc/question_editor/select",["../../../template","../include/editor_title","../include/editor_description","../include/editor_type","../include/advanced_trigger","../include/buttons"],function(a){return a("edit/pc/question_editor/select",function(a,b){"use strict";var c=this,d=(c.$helpers,function(d,e){e=e||a;var f=c.$include(d,e,b);return l+=f}),e=a.question,f=a.hasOther,g=c.$escape,h=a.otherOption,i=a.referQuestion,j=c.$each,k=a.validCheckboxQuestions,l=(a.index,"");return l+='<div class="inner select"> ',d("../include/editor_title"),l+=" ",d("../include/editor_description"),l+=" ",d("../include/editor_type"),l+=' <div class="row editor_options" style="',e.refer&&(l+="display:none;"),l+='"> <ul class="options_list"> <div class="additional_setting_title"> <span class="no_random" style="',e.random||(l+="display:none;"),l+='"></span> <span class="correct_answer" style="',e.assess||(l+="display:none;"),l+='"></span> </div> <ul class="normal_options_list"> </ul>  <li class="option_item option_create"> <div class="option_input_wrap"> <span class="add_option"></span> </div> </li>  <li class="option_item other_option" style="',f||(l+="display: none;"),l+='" data-display="',l+=g(h._display||""),l+='" data-goto="',l+=g(h.goto||""),l+='"> <div class="option_input_wrap"> <input type="text" class="option_text other_option_text" value="',l+=g(h.text),l+='" style="padding: 0 10px; min-height: 36px; line-height: 36px;" /> </div> <a href="javascript:;" class="btn btn_del_other">&times;</a> <div class="additional_setting"> <input class="no_random" type="checkbox" ',h.noRandom&&(l+="checked"),l+=' style="',e.random||(l+="display: none;"),l+='"/> <input class="correct_answer" type="checkbox" ',h.correct_answer&&(l+="checked"),l+=' style="',e.isAssess||(l+="display: none;"),l+='"/> </div> </li> </ul> <div class="options_control"> <a class="add_other ',f&&(l+="disabled"),l+='" href="javascript:;"></a> | <a class="add_options" href="javascript:;"></a> </div> </div> <div class="row refer_detail" style="',e.refer||(l+="display:none;"),l+='"> <p><b class="refer_question_index">&nbsp;',i&&(l+=g(i.index+1)),l+="&nbsp;</b></p> </div> ",d("../include/advanced_trigger"),l+=' <div class="row editor_adv"> <div class="row"> <label><input name="random" type="checkbox" ',e.random&&(l+="checked"),l+='/></label> </div> <div class="row"> <label ',(e.refer||e.show_stat)&&(l+='class="disabled"'),l+='><input name="assess" type="checkbox" ',(e.refer||e.show_stat)&&(l+="disabled"),l+=" ",e.assess&&(l+="checked"),l+='/></label> <label class="',e.assess&&(l+="disabled"),l+=' editor_quote_label"> <input name="refer_options" type="checkbox" ',e.assess&&(l+="disabled"),l+=" ",e.refer&&(l+="checked"),l+='/> </label> <select class="refer_question_select" ',e.refer||(l+='style="display: none;"'),l+='> <option value=""></option> ',j(k,function(a){l+=" <option ",i&&a.id==i.id&&(l+="selected"),l+=' value="',l+=g(a.id),l+='">',l+=g(a.index+1),l+=".",l+=g(a.title),l+="</option> "}),l+=' </select> </div> <div class="row"> <div class="assess_adv_setting" style="background:#eee;padding: 5px 10px; ',e.assess||(l+="display: none;"),l+='"> <label> <input class="score" type="number" min="0" name="score" value="',l+=g(e.assess&&e.assess.score||1),l+='" /> </label> </div> </div> </div> ',d("../include/buttons"),l+=" </div> ",new String(l)})});define("amd-templates/edit/pc/question_editor/_select_option",["../../../template"],function(a){return a("edit/pc/question_editor/_select_option",function(a){"use strict";var b=this,c=(b.$helpers,b.$escape),d=a.option,e=a.random,f=a.isAssess,g="";return g+='<li class="option_item" data-id="',g+=c(d.id),g+='" data-display="',g+=c(d._display||""),g+='" data-goto="',g+=c(d.goto||""),g+='"> <span class="handle"></span> <div class="option_input_wrap"> <input type="text" class="option_text" value="',g+=c(d.text),g+='" /> </div> <a href="javascript:;" class="btn btn_del">&times;</a> <div class="additional_setting"> <input class="no_random" type="checkbox" ',d.noRandom&&(g+="checked"),g+=' style="',e||(g+="display: none;"),g+='"/> <input class="correct_answer" type="checkbox" ',d.correct_answer&&(g+="checked"),g+=' style="',f||(g+="display: none;"),g+='"/> </div> </li> ',new String(g)})});define("app/edit/pc/views/question_editor/select",["require","./radio","app/util/richtext","art-dialog/dialog","app/util/uuid","jquery","underscore","amd-templates/edit/pc/question_editor/select","amd-templates/edit/pc/question_editor/_select_option"],function(a){var b=a("./radio");var c=a("app/util/richtext");var d=a("art-dialog/dialog");var e=a("app/util/uuid");var f=a("jquery");var g=a("underscore");var h=a("amd-templates/edit/pc/question_editor/select");var i=a("amd-templates/edit/pc/question_editor/_select_option");function j(a){this.template=h;this.model=a.model;this.surveyModel=a.surveyModel;this.removeRichText();this.render();this.editMode=a.editMode;this.bindUIEvents();this.$el.on("click",".option_text",function(a){f(a.target).select()})}g.extend(j.prototype,b.prototype,{getData:function(){var a={};this.getTitle(a);a.options=[];if(this.refer){a.refer=this.refer}else{a.refer=null;this.$el.find(".normal_options_list .option_item").each(function(b,c){var d={};var e=f.trim(String(f(c).data("display")));if(e.length){e.split(" ").forEach(function(a,b){d[a]=1})}a.options.push({id:f(c).data("id"),"goto":f(c).data("goto"),display:d,noRandom:f(c).find(".no_random")[0].checked,text:f(c).find(".option_text").val()})});var b=this.$el.find(".other_option");if(b.is(":visible")){a.options.push({id:"98",noRandom:b.find(".no_random")[0].checked,text:b.find(".other_option_text").val()})}}if(this.$el.find("[name=assess]")[0].checked){var c={};this.$el.find(".normal_options_list .option_item").each(function(b,d){if(f(d).find(".correct_answer")[0].checked){c[a.options[b].id]={flag:true}}});var d=this.$el.find(".other_option");if(d.is(":visible")&&d.find(".correct_answer")[0].checked){c[a.options[a.options.length-1].id]={flag:true}}a.assess={type:0,score:Number(this.$el.find("[name=score]").val()),options:c}}else{a.assess=null}a.random=this.$el.find("[name=random]")[0].checked;return a},addOption:function(a,b){if(!a.id){var c=this.$el.find(".normal_options_list").children().length;a.id=String("o"+"-"+c+"-"+e(4))}var d=i({option:a,display:{},"goto":"",random:this.model.random,isAssess:this.model.isAssess,type:this.model.type});d=f(d);this.$el.find(".normal_options_list").append(d);d.find(".option_text").focus()},removeOption:function(a){var b=this;var c=f(a.target).closest(".option_item");var e=b.surveyModel.get("survey.recycle");if(this.editMode==="supplementary"&&e>0){d({title:"",width:300,height:100,skin:"ui-dialog-small",content:""+e+"",button:[{value:"",callback:function(){}},{value:"",callback:function(){b.surveyModel.exec("copySurvey").done(function(a){location.href="/edit.html?sid="+a.data.id+"&prev_oper=copy"})}},{value:"",autofocus:true,callback:function(){c.remove()}}]}).showModal()}else{c.remove()}},removeRichText:function(){g.forEach(this.model.options,function(a){a.text=c.plainTextFilter(a.text)})}});return j});define("amd-templates/edit/pc/question_editor/text",["../../../template","../include/editor_title","../include/editor_description","../include/editor_type","../include/advanced_trigger","../include/buttons"],function(a){return a("edit/pc/question_editor/text",function(a,b){"use strict";var c=this,d=(c.$helpers,function(d,e){e=e||a;var f=c.$include(d,e,b);return g+=f}),e=c.$escape,f=a.question,g="";return g+='<div class="inner text"> ',d("../include/editor_title"),g+=" ",d("../include/editor_description"),g+=" ",d("../include/editor_type"),g+=" ",d("../include/advanced_trigger"),g+=' <div class="row editor_adv"> <label> <input class="maxlength editor_input number_input" type="number" min="1" name="maxlength" value="',g+=e(f.maxlength),g+='" />  </label> <label> <select name="validate"> <option ',""==f.validate&&(g+="selected"),g+=' value=""></option> <option ',"number"==f.validate&&(g+="selected"),g+=' value="number"></option> <option ',"date"==f.validate&&(g+="selected"),g+=' value="date">2014-01-01</option> <option ',"email"==f.validate&&(g+="selected"),g+=' value="email"></option> <option ',"chinese"==f.validate&&(g+="selected"),g+=' value="chinese"></option> <option ',"english"==f.validate&&(g+="selected"),g+=' value="english"></option> <option ',"url"==f.validate&&(g+="selected"),g+=' value="url"></option> <option ',"idCard"==f.validate&&(g+="selected"),g+=' value="idCard"></option> <option ',"qq"==f.validate&&(g+="selected"),g+=' value="qq">QQ</option> <option ',"mobile"==f.validate&&(g+="selected"),g+=' value="mobile">()</option> <option ',"phone"==f.validate&&(g+="selected"),g+=' value="phone"></option> </select> </label> </div> ',d("../include/buttons"),g+=" </div> ",new String(g)})});define("app/edit/pc/views/question_editor/text",["require","jquery","underscore","bind_events","./_basic","amd-templates/edit/pc/question_editor/text"],function(a){var b=a("jquery");var c=a("underscore");var d=a("bind_events");var e=a("./_basic");var f=a("amd-templates/edit/pc/question_editor/text");function g(a){this.template=f;this.model=a.model;this.surveyModel=a.surveyModel;this.editMode=a.editMode;this.render();this.bindUIEvents()}c.extend(g.prototype,e.prototype,{bindUIEvents:function(){this.bindCommonUIEvents(this);d.bindUIEvents(this,this.$el,{})},getData:function(){var a={};this.getTitle(a);a.maxlength=this.$el.find("[name=maxlength]").val();a.validate=this.$el.find("[name=validate]").val();return a},render:function(){this.el=this.template({question:this.model});this.$el=b(this.el);this.renderRichTextEditor()}});return g});define("amd-templates/edit/pc/question_editor/textarea",["../../../template","../include/editor_title","../include/editor_description","../include/editor_type","../include/advanced_trigger","../include/buttons"],function(a){return a("edit/pc/question_editor/textarea",function(a,b){"use strict";var c=this,d=(c.$helpers,function(d,e){e=e||a;var f=c.$include(d,e,b);return g+=f}),e=c.$escape,f=a.question,g="";return g+='<div class="inner textarea"> ',d("../include/editor_title"),g+=" ",d("../include/editor_description"),g+=" ",d("../include/editor_type"),g+=" ",d("../include/advanced_trigger"),g+=' <div class="row editor_adv"> <div class="row_title"></div> <div class="row_content"> <label style="display: none;">  <input class="editor_input number_input" type="number" min="1" name="cols" value="',g+=e(f.cols),g+='" />  </label> <label>  <input class="editor_input number_input" type="number" min="1" name="rows" value="',g+=e(f.rows),g+='" />  </label> </div> </div> ',d("../include/buttons"),g+=" </div> ",new String(g)})});define("app/edit/pc/views/question_editor/textarea",["require","jquery","underscore","bind_events","./_basic","amd-templates/edit/pc/question_editor/textarea"],function(a){var b=a("jquery");var c=a("underscore");var d=a("bind_events");var e=a("./_basic");var f=a("amd-templates/edit/pc/question_editor/textarea");function g(a){this.template=f;this.model=a.model;this.surveyModel=a.surveyModel;this.editMode=a.editMode;this.render();this.bindUIEvents()}c.extend(g.prototype,e.prototype,{bindUIEvents:function(){this.bindCommonUIEvents(this);d.bindUIEvents(this,this.$el,{})},getData:function(){var a={};this.getTitle(a);a.rows=this.$el.find("[name=rows]").val();a.cols=this.$el.find("[name=cols]").val();return a},render:function(){this.el=this.template({question:this.model});this.$el=b(this.el);this.renderRichTextEditor()}});return g});define("amd-templates/edit/pc/question_editor/star",["../../../template","../include/editor_title","../include/editor_description","../include/editor_type","../include/advanced_trigger","../include/buttons"],function(a){return a("edit/pc/question_editor/star",function(a,b){"use strict";var c=this,d=(c.$helpers,function(d,e){e=e||a;var f=c.$include(d,e,b);return g+=f}),e=a.question,f=c.$escape,g="";return g+='<div class="inner star"> ',d("../include/editor_title"),g+=" ",d("../include/editor_description"),g+=" ",d("../include/editor_type"),g+=' <div class="row editor_options"> <label> <select name="starShow"> <option ',""==e.starShow&&(g+="selected"),g+=' value=""></option> <option ',""==e.starShow&&(g+="selected"),g+=' value=""></option> <option ',""==e.starShow&&(g+="selected"),g+=' value=""></option> <option ',""==e.starShow&&(g+="selected"),g+=' value=""></option> <option ',""==e.starShow&&(g+="selected"),g+=' value=""></option> <option ',""==e.starShow&&(g+="selected"),g+=' value=""></option> </select> </label> <label id="starShowCustom" for="starShowCustom" ',""!=e.starShow&&(g+=' style="display: none;"'),g+='>  <input type="text" name="starShowCustomStart" value="',g+=f(e.starShowCustomStart),g+='" /> - <input type="text" name="starShowCustomEnd" value="',g+=f(e.starShowCustomEnd),g+='" /> </label> <label class="starNum"> <input class="editor_input number_input" type="number" min="2" max="100" name="starNum" value="',g+=f(e.starNum),g+='" /> </label> <label> <input class="editor_input number_input" type="number" name="starBeginNum" value="',g+=f(void 0!==e.starBeginNum?e.starBeginNum:1),g+='"/> </label> </div> ',d("../include/advanced_trigger"),g+=' <div class="row editor_adv"> <label><input name="revertSort" type="checkbox" ',e.revertSort&&(g+="checked"),g+="/></label> </div> ",d("../include/buttons"),g+=" </div> ",new String(g)})});define("app/edit/pc/views/question_editor/star",["require","jquery","underscore","art-dialog/dialog","bind_events","app/util/animate","amd-templates/edit/pc/question_editor/star","./_basic"],function(a){var b=a("jquery");var c=a("underscore");var d=a("art-dialog/dialog");var e=a("bind_events");var f=a("app/util/animate");var g=a("amd-templates/edit/pc/question_editor/star");var h=a("./_basic");function i(a){this.model=a.model;this.surveyModel=a.surveyModel;this.render();this.editMode=a.editMode;this.bindUIEvents()}c.extend(i.prototype,h.prototype,{bindUIEvents:function(){this.bindCommonUIEvents(this);e.bindUIEvents(this,this.$el,{"change [name=starShow]":"changeStarShow"})},changeStarShow:function(a){var c=b("#starShowCustom");if(b("[name=starShow]").val()===""){c.show()}else{c.hide()}},getData:function(){var a={};this.getTitle(a);a.revertSort=this.$el.find("[name=revertSort]")[0].checked?1:0;a.starShow=this.$el.find("[name=starShow]").val();a.starNum=this.$el.find("[name=starNum]").val();a.starBeginNum=Number(this.$el.find("[name=starBeginNum]").val());if(b("[name=starShow]").val()===""){a.starShowCustomStart=this.$el.find("[name=starShowCustomStart]").val();a.starShowCustomEnd=this.$el.find("[name=starShowCustomEnd]").val()}else{a.starShowCustomStart="";a.starShowCustomEnd=""}return a},render:function(){this.el=g({question:this.model});this.$el=b(this.el);this.renderRichTextEditor()}});return i});define("amd-templates/edit/pc/question_editor/matrix_radio",["../../../template","../include/editor_title","../include/editor_description","../include/editor_type","../include/advanced_trigger","../include/buttons"],function(a){return a("edit/pc/question_editor/matrix_radio",function(a,b){"use strict";var c=this,d=(c.$helpers,function(d,e){e=e||a;var f=c.$include(d,e,b);return j+=f}),e=a.question,f=a.referQuestion,g=c.$escape,h=c.$each,i=a.validCheckboxQuestions,j=(a.index,"");return j+='<div class="inner matrix_radio"> ',d("../include/editor_title"),j+=" ",d("../include/editor_description"),j+=" ",d("../include/editor_type"),j+=' <div class="row editor_options"> <div class="subtitle"> <h3></h3> <ul class="subtitles_list" style="',e.refer&&(j+="display:none;"),j+='"> <ul class="normal_subtitles_list"> </ul> <li class="subtitle_item subtitle_create"> <div class="option_input_wrap"> <span class="add_subtitle"></span> </div> </li> </ul> <div class="subtitles_control" style="',e.refer&&(j+="display:none;"),j+='"> <a class="add_subtitles" href="javascript:;"></a> </div> <div class="refer_detail" style="margin: 10px 0px; ',e.refer||(j+="display:none;"),j+='"> <p><b class="refer_question_index">&nbsp;',f&&(j+=g(f.index+1)),j+='&nbsp;</b></p> </div> </div> <div class="options"> <h3></h3> <ul class="options_list"> <ul class="normal_options_list"> </ul> <li class="option_item option_create"> <div class="option_input_wrap"> <span class="add_option"></span> </div> </li> </ul> <div class="options_control"> <a class="add_options" href="javascript:;"></a> </div> </div> </div> ',d("../include/advanced_trigger"),j+=' <div class="row editor_adv"> <div> <label class="editor_quote_label"> <input name="refer_options" type="checkbox" ',e.refer&&(j+="checked"),j+='/> </label> <select class="refer_question_select" ',e.refer||(j+='style="display: none;"'),j+='> <option value=""></option> ',h(i,function(a){j+=" <option ",f&&a.id==f.id&&(j+="selected"),j+=' value="',j+=g(a.id),j+='">',j+=g(a.index+1),j+=".",j+=g(a.title),j+="</option> "}),j+=" </select> </div> </div> ",d("../include/buttons"),j+=" </div> ",new String(j)})});define("amd-templates/edit/pc/question_editor/_subtitle",["../../../template"],function(a){return a("edit/pc/question_editor/_subtitle",function(a){"use strict";var b=this,c=(b.$helpers,b.$escape),d=a.subtitle,e=a.type,f=b.$string,g="";return g+='<li class="subtitle_item" data-id="',g+=c(d.id),g+='"> <span class="handle"></span> ',"select"!=e&&(g+=' <!--<input type="',g+=c(e),g+='" disabled/>--> '),g+=' <div class="option_input_wrap"> <div class="mod_editor inline_editor subtitle_text" contenteditable="true">',g+=f(d.text),g+='</div> </div> <a href="javascript:;" class="btn btn_del btn_del_subtitle">&times;</a> </li> ',new String(g)})});define("app/edit/pc/views/question_editor/matrix_radio",["require","jquery","underscore","art-dialog/dialog","bind_events","app/util/animate","app/util/richtext","ur-ckeditor","./_basic","app/common/survey_parser/wjx2json","amd-templates/edit/pc/question_editor/matrix_radio","amd-templates/edit/pc/question_editor/_subtitle","amd-templates/edit/pc/question_editor/_option","amd-templates/edit/pc/question_editor/_add_options"],function(a){var b=a("jquery");var c=a("underscore");var d=a("art-dialog/dialog");var e=a("bind_events");var f=a("app/util/animate");var g=a("app/util/richtext");var h=a("ur-ckeditor");var i=a("./_basic");var j=a("app/common/survey_parser/wjx2json").QUESTION_PARSER;var k=a("amd-templates/edit/pc/question_editor/matrix_radio");var l=a("amd-templates/edit/pc/question_editor/_subtitle");var m=a("amd-templates/edit/pc/question_editor/_option");var n=a("amd-templates/edit/pc/question_editor/_add_options");function o(a){this.model=a.model;this.surveyModel=a.surveyModel;this.editMode=a.editMode;this.render();this.bindUIEvents()}c.extend(o.prototype,i.prototype,{bindUIEvents:function(){this.bindCommonUIEvents(this);e.bindUIEvents(this,this.$el,{"click .add_option":"addOption","click .btn_del_option":"removeOption","click .add_options":"addOptions","click .add_subtitle":"addSubtitle","click .btn_del_subtitle":"removeSubtitle","click .add_subtitles":"addSubtitles","change [name=refer_options]":"referOptions","change .refer_question_select":"onReferChange"})},_beforeConfirm:function(){if(this.$el.find("[name=refer_options]")[0].checked&&!this.refer){f.errorShake(this.$el.find(".refer_question_select"));return false}},getData:function(){var a={};this.getTitle(a);a.options=[];a.subTitles=[];if(this.refer){a.refer=this.refer}else{a.refer=null;this.$el.find(".normal_subtitles_list .subtitle_item").each(function(c,d){a.subTitles.push({id:b(d).data("id"),text:g.outputFilter(h.getData(b(d).find(".mod_editor")))})})}this.$el.find(".normal_options_list .option_item").each(function(c,d){a.options.push({id:b(d).data("id"),text:g.outputFilter(h.getData(b(d).find(".mod_editor")))})});return a},addOption:function(a,c){var d=b(m({option:a,type:this.model.type.slice("7")}));d.addClass("matrix_item");this.$el.find(".normal_options_list").append(d);h.init(d.find(".mod_editor"),{replaceImage:true,startupFocus:!c})},removeOption:function(a){var c=this;var e=b(a.target).closest(".option_item");var f=c.surveyModel.get("survey.recycle");if(this.editMode==="supplementary"&&f>0){d({title:"",width:300,height:100,skin:"ui-dialog-small",content:""+f+"",button:[{value:"",callback:function(){}},{value:"",callback:function(){c.surveyModel.exec("copySurvey").done(function(a){location.href="/edit.html?sid="+a.data.id+"&prev_oper=copy"})}},{value:"",autofocus:true,callback:function(){h.destroy(e.find(".mod_editor"));e.remove()}}]}).showModal()}else{h.destroy(e.find(".mod_editor"));e.remove()}},addOptions:function(){var a=this;var e=a.surveyModel.get("survey.recycle");if(this.editMode==="supplementary"&&e>0){d({title:"",width:300,height:100,skin:"ui-dialog-small",content:"",ok:function(){},okValue:""}).showModal();return}var f=c.map(this.getData().options,function(a){return g.plainTextFilter(a.text)}).join("\n");d({title:"",content:n({value:f}),skin:"add_options",width:500,height:400,okValue:"",ok:function(){var c=b("#add_batch_content").val();c=c.split("\n").map(function(a){return{lineContent:a}});var d={};var e=true;j["radio"](c,d,null,e);h.destroy(a.$el.find(".normal_options_list .mod_editor"));a.$el.find(".normal_options_list").empty();d.options.forEach(function(b){a.addOption(b,true)})},cancal:function(){}}).showModal()},addSubtitle:function(a,c){var d=b(l({subtitle:a,type:this.model.type.slice("7")}));d.addClass("matrix_item");this.$el.find(".normal_subtitles_list").append(d);h.init(d.find(".mod_editor"),{replaceImage:true,startupFocus:!c})},removeSubtitle:function(a){var c=this;var e=b(a.target).closest(".subtitle_item");var f=c.surveyModel.get("survey.recycle");if(this.editMode==="supplementary"&&f>0){d({title:"",width:300,height:100,skin:"ui-dialog-small",content:""+f+"",button:[{value:"",callback:function(){}},{value:"",callback:function(){c.surveyModel.exec("copySurvey").done(function(a){location.href="/edit.html?sid="+a.data.id+"&prev_oper=copy"})}},{value:"",autofocus:true,callback:function(){h.destroy(e.find(".mod_editor"));e.remove()}}]}).showModal()}else{h.destroy(e.find(".mod_editor"));e.remove()}},addSubtitles:function(){var a=this;var e=a.surveyModel.get("survey.recycle");if(this.editMode==="supplementary"&&e>0){d({title:"",width:300,height:100,skin:"ui-dialog-small",content:"",ok:function(){},okValue:""}).showModal();return}var f=c.map(this.getData().subTitles,function(a){return g.plainTextFilter(a.text)}).join("\n");d({title:"",content:n({value:f}),skin:"add_options",width:500,height:400,okValue:"",ok:function(){var c=b("#add_batch_content").val();c=c.split("\n").map(function(a){return{lineContent:a}});var d={};j["radio"](c,d);h.destroy(a.$el.find(".normal_subtitles_list .mod_editor"));a.$el.find(".normal_subtitles_list").empty();d.options.forEach(function(b){a.addSubtitle(b,true)})},cancal:function(){}}).showModal()},referOptions:function(a){if(b(a.currentTarget)[0].checked){this.$el.find(".subtitles_list, .subtitles_control").hide();this.$el.find(".refer_detail").show();this.$el.find(".refer_question_select").show()}else{this.$el.find(".subtitles_list, .subtitles_control").show();this.$el.find(".refer_detail").hide();this.$el.find(".refer_question_select").val("").hide();this.$el.find(".refer_detail p b").text("  ");this.$el.find("[name=question_required]")[0].disabled=false;this.refer=null}},onReferChange:function(){var a=this.$el.find(".refer_question_select").val();if(a){var b=this.surveyModel.exec("getQuestionByID",a);var c=b.index;this.$el.find(".refer_detail p b").text(c+1);this.$el.find("[name=question_required]")[0].checked=b.required;this.$el.find("[name=question_required]")[0].disabled=true;this.refer=a}else{this.refer=null;this.$el.find("[name=question_required]")[0].disabled=false;this.$el.find("[name=refer_options]")[0].checked=false;this.$el.find(".subtitles_list, .subtitles_control").show();this.$el.find(".refer_detail").hide();this.$el.find(".refer_question_select").val("").hide()}},render:function(){var a=this;var c=a.advanceRenderRefer();this.el=k({question:this.model,referQuestion:c.referQuestion,validCheckboxQuestions:c.validCheckboxQuestions});this.$el=b(this.el);this.model.subTitles.forEach(function(b){a.addSubtitle(b,true)});this.model.options.forEach(function(b){a.addOption(b,true)});this.renderRichTextEditor()}});return o});define("app/edit/pc/views/question_editor/matrix_checkbox",["require","./matrix_radio"],function(a){var b=a("./matrix_radio");return b});define("amd-templates/edit/pc/question_editor/matrix_star",["../../../template","../include/editor_title","../include/editor_description","../include/editor_type","../include/advanced_trigger","../include/buttons"],function(a){return a("edit/pc/question_editor/matrix_star",function(a,b){"use strict";var c=this,d=(c.$helpers,function(d,e){e=e||a;var f=c.$include(d,e,b);return j+=f}),e=a.question,f=a.referQuestion,g=c.$escape,h=c.$each,i=a.validCheckboxQuestions,j=(a.index,"");return j+='<div class="inner matrix_star"> ',d("../include/editor_title"),j+=" ",d("../include/editor_description"),j+=" ",d("../include/editor_type"),j+=' <div class="row editor_options"> <div class="subtitle"> <h3></h3> <ul class="subtitles_list" style="',e.refer&&(j+="display:none;"),j+='"> <ul class="normal_subtitles_list"> </ul> <li class="subtitle_item subtitle_create"> <div class="option_input_wrap"> <span class="add_subtitle"></span> </div> </li> </ul> <div class="subtitles_control" style="',e.refer&&(j+="display:none;"),j+='"> <a class="add_subtitles" href="javascript:;"></a> </div> <div class="refer_detail" style="margin: 10px 0px; ',e.refer||(j+="display:none;"),j+='"> <p><b class="refer_question_index">&nbsp;',f&&(j+=g(f.index+1)),j+='&nbsp;</b></p> </div> </div> <div class="setting"> <h3></h3> <div class="setting_row"> <label> <select name="starShow"> <option ',""==e.starShow&&(j+="selected"),j+=' value=""></option> <option ',""==e.starShow&&(j+="selected"),j+=' value=""></option> <option ',""==e.starShow&&(j+="selected"),j+=' value=""></option> <option ',""==e.starShow&&(j+="selected"),j+=' value=""></option> <option ',""==e.starShow&&(j+="selected"),j+=' value=""></option> <option ',""==e.starShow&&(j+="selected"),j+=' value=""></option> </select> </label> </div> <div class="setting_row" ',""!=e.starShow&&(j+=' style="display: none;"'),j+='c> <label id="starShowCustom" for="starShowCustom">  <input class="matrix_star_custom" type="text" name="starShowCustomStart" value="',j+=g(e.starShowCustomStart),j+='"/> -- <input class="matrix_star_custom" type="text" name="starShowCustomEnd" value="',j+=g(e.starShowCustomEnd),j+='" /> </label> </div> <div class="setting_row"> <label> <input class="editor_input number_input" type="number" min="2" max="100" name="starNum" value="',j+=g(e.starNum),j+='" /> </label> </div> <div class="setting_row"> <label> <input class="editor_input number_input" type="number" name="starBeginNum" value="',j+=g(void 0!==e.starBeginNum?e.starBeginNum:1),j+='" /> </label> </div> </div> </div> ',d("../include/advanced_trigger"),j+=' <div class="row editor_adv"> <div class="row"> <label class="editor_quote_label"> <input name="refer_options" type="checkbox" ',e.refer&&(j+="checked"),j+='/> </label> <select class="refer_question_select" ',e.refer||(j+='style="display: none;"'),j+='> <option value=""></option> ',h(i,function(a){j+=" <option ",f&&a.id==f.id&&(j+="selected"),j+=' value="',j+=g(a.id),j+='">',j+=g(a.index+1),j+=".",j+=g(a.title),j+="</option> "}),j+=' </select> </div> <div class="row"> <label><input name="revertSort" type="checkbox" ',e.revertSort&&(j+="checked"),j+="/></label> </div> </div> ",d("../include/buttons"),j+=" </div> ",new String(j)})});define("app/edit/pc/views/question_editor/matrix_star",["require","exports","module","jquery","underscore","./_basic","bind_events","ur-ckeditor","art-dialog/dialog","app/util/animate","app/util/richtext","app/common/survey_parser/wjx2json","amd-templates/edit/pc/question_editor/matrix_star","amd-templates/edit/pc/question_editor/_subtitle","amd-templates/edit/pc/question_editor/_add_options"],function(a,b,c){var d=a("jquery");var e=a("underscore");var f=a("./_basic");var g=a("bind_events");var h=a("ur-ckeditor");var i=a("art-dialog/dialog");var j=a("app/util/animate");var k=a("app/util/richtext");var l=a("app/common/survey_parser/wjx2json").QUESTION_PARSER;var m=a("amd-templates/edit/pc/question_editor/matrix_star");var n=a("amd-templates/edit/pc/question_editor/_subtitle");var o=a("amd-templates/edit/pc/question_editor/_add_options");var p=function(a){this.model=a.model;this.surveyModel=a.surveyModel;this.editMode=a.editMode;this.render();this.bindUIEvents()};e.extend(p.prototype,f.prototype,{bindUIEvents:function(){this.bindCommonUIEvents(this);g.bindUIEvents(this,this.$el,{"change [name=starShow]":"onChangeStarShow","click .add_subtitle":"onAddSubTitle","click .btn_del_subtitle":"onRemoveSubTitle","click .add_subtitles":"onEditSubTitles","change [name=refer_options]":"onReferEnabled","change .refer_question_select":"onReferChange"})},render:function(){var a=this;var b=a.advanceRenderRefer();this.el=m({question:this.model,referQuestion:b.referQuestion,validCheckboxQuestions:b.validCheckboxQuestions});this.$el=d(this.el);this.model.subTitles.forEach(function(b){a.onAddSubTitle(b,true)});this.renderRichTextEditor()},getData:function(){var a={};this.getTitle(a);a.revertSort=this.$el.find("[name=revertSort]")[0].checked?1:0;a.starShow=this.$el.find("[name=starShow]").val();a.starNum=this.$el.find("[name=starNum]").val();a.starBeginNum=Number(this.$el.find("[name=starBeginNum]").val());if(a.starNum){a.starNum=Number(a.starNum).toFixed()}if(d("[name=starShow]").val()===""){a.starShowCustomStart=this.$el.find("[name=starShowCustomStart]").val();a.starShowCustomEnd=this.$el.find("[name=starShowCustomEnd]").val()}else{a.starShowCustomStart="";a.starShowCustomEnd=""}a.subTitles=[];if(this.refer){a.refer=this.refer}else{a.refer=null;this.$el.find(".normal_subtitles_list .subtitle_item").each(function(b,c){a.subTitles.push({id:d(c).data("id"),text:k.outputFilter(h.getData(d(c).find(".mod_editor")))})})}return a},onAddSubTitle:function(a,b){var c=d(n({subtitle:a,type:this.model.type.slice("7")}));c.addClass("matrix_item");this.$el.find(".normal_subtitles_list").append(c);h.init(c.find(".mod_editor"),{replaceImage:true,startupFocus:!b})},onRemoveSubTitle:function(a){var b=this;var c=d(a.target).closest(".subtitle_item");var e=b.surveyModel.get("survey.recycle");if(this.editMode==="supplementary"&&e>0){i({title:"",width:300,height:100,skin:"ui-dialog-small",content:""+e+"",button:[{value:"",callback:function(){}},{value:"",callback:function(){b.surveyModel.exec("copySurvey").done(function(a){location.href="/edit.html?sid="+a.data.id+"&prev_oper=copy"})}},{value:"",autofocus:true,callback:function(){h.destroy(c.find(".mod_editor"));c.remove()}}]}).showModal()}else{h.destroy(c.find(".mod_editor"));c.remove()}},onEditSubTitles:function(){var a=this;var b=a.surveyModel.get("survey.recycle");if(this.editMode==="supplementary"&&b>0){i({title:"",width:300,height:100,skin:"ui-dialog-small",content:"",ok:function(){},okValue:""}).showModal();return}var c=e.map(this.getData().subTitles,function(a){return k.plainTextFilter(a.text)}).join("\n");i({title:"",content:o({
value:c}),skin:"add_options",width:500,height:400,okValue:"",ok:function(){var b=d("#add_batch_content").val();b=b.split("\n").map(function(a){return{lineContent:a}});var c={};l["radio"](b,c);h.destroy(a.$el.find(".normal_subtitles_list .mod_editor"));a.$el.find(".normal_subtitles_list").empty();c.options.forEach(function(b){a.onAddSubTitle(b,true)})},cancal:function(){}}).showModal()},onChangeStarShow:function(a){var b=d("#starShowCustom").parent();if(d("[name=starShow]").val()===""){b.show()}else{b.hide()}},onBeforeConfirm:function(){if(this.$el.find("[name=refer_options]")[0].checked&&!this.refer){j.errorShake(this.$el.find(".refer_question_select"));return false}},onReferEnabled:function(a){if(d(a.currentTarget)[0].checked){this.$el.find(".subtitles_list, .subtitles_control").hide();this.$el.find(".refer_detail").show();this.$el.find(".refer_question_select").show()}else{this.$el.find(".subtitles_list, .subtitles_control").show();this.$el.find(".refer_detail").hide();this.$el.find(".refer_question_select").val("").hide();this.$el.find(".refer_detail p b").text("  ");this.$el.find("[name=question_required]")[0].disabled=false;this.refer=null}},onReferChange:function(){var a=this.$el.find(".refer_question_select").val();if(a){var b=this.surveyModel.exec("getQuestionByID",a);var c=b.index;this.$el.find(".refer_detail p b").text(c+1);this.$el.find("[name=question_required]")[0].checked=b.required;this.$el.find("[name=question_required]")[0].disabled=true;this.refer=a}else{this.refer=null;this.$el.find("[name=question_required]")[0].disabled=false;this.$el.find("[name=refer_options]")[0].checked=false;this.$el.find(".subtitles_list, .subtitles_control").show();this.$el.find(".refer_detail").hide();this.$el.find(".refer_question_select").val("").hide()}},_beforeConfirm:function(){return this.onBeforeConfirm()}});c.exports=p});define("amd-templates/edit/pc/question_editor/sort",["../../../template","../include/editor_title","../include/editor_description","../include/editor_type","../include/advanced_trigger","../include/buttons"],function(a){return a("edit/pc/question_editor/sort",function(a,b){"use strict";var c=this,d=(c.$helpers,function(d,e){e=e||a;var f=c.$include(d,e,b);return j+=f}),e=a.question,f=a.referQuestion,g=c.$escape,h=c.$each,i=a.validCheckboxQuestions,j=(a.index,"");return j+='<div class="inner sort"> ',d("../include/editor_title"),j+=" ",d("../include/editor_description"),j+=" ",d("../include/editor_type"),j+=' <div class="row editor_options" style="',e.refer&&(j+="display:none;"),j+=' > <ul class="options_list"> <ul class="normal_options_list"> </ul>  <li class="option_item option_create"> <div class="option_input_wrap"> <span class="add_option"></span> </div> </li> </ul> <div class="options_control"> <a class="add_options" href="javascript:;"></a> </div> </div> <div class="row refer_detail" style="',e.refer||(j+="display:none;"),j+='"> <p><b class="refer_question_index">&nbsp;',f&&(j+=g(f.index+1)),j+="&nbsp;</b></p> </div> ",d("../include/advanced_trigger"),j+=' <div class="row editor_adv"> <div class="row"> <label class="editor_quote_label"> <input name="refer_options" type="checkbox" ',e.refer&&(j+="checked"),j+=' /> </label> <select class="refer_question_select" ',e.refer||(j+='style="display: none;"'),j+='> <option value=""></option> ',h(i,function(a){j+=" <option ",f&&a.id==f.id&&(j+="selected"),j+=' value="',j+=g(a.id),j+='">',j+=g(a.index+1),j+=".",j+=g(a.title),j+="</option> "}),j+=" </select> </div> </div> ",d("../include/buttons"),j+=" </div> ",new String(j)})});define("app/edit/pc/views/question_editor/sort",["require","jquery","underscore","art-dialog/dialog","bind_events","app/util/richtext","ur-ckeditor","./_basic","app/common/survey_parser/wjx2json","amd-templates/edit/pc/question_editor/sort","amd-templates/edit/pc/question_editor/_option","amd-templates/edit/pc/question_editor/_add_options"],function(a){var b=a("jquery");var c=a("underscore");var d=a("art-dialog/dialog");var e=a("bind_events");var f=a("app/util/richtext");var g=a("ur-ckeditor");var h=a("./_basic");var i=a("app/common/survey_parser/wjx2json").QUESTION_PARSER;var j=a("amd-templates/edit/pc/question_editor/sort");var k=a("amd-templates/edit/pc/question_editor/_option");var l=a("amd-templates/edit/pc/question_editor/_add_options");function m(a){this.template=j;this.model=a.model;this.surveyModel=a.surveyModel;this.editMode=a.editMode;this.render();this.bindUIEvents()}c.extend(m.prototype,h.prototype,{bindUIEvents:function(){this.bindCommonUIEvents(this);e.bindUIEvents(this,this.$el,{"click .add_option":"addOption","click .btn_del":"removeOption","click .add_options":"addOptions","click [name=refer_options]":"referOptions","change .refer_question_select":"onReferChange"})},getData:function(){var a={options:[]};this.getTitle(a);var c;if(this.refer){a.refer=this.refer}else{a.refer=null;this.$el.find(".normal_options_list .option_item").each(function(c,d){var e={};var h=b.trim(String(b(d).data("display")));if(h.length){h.split(" ").forEach(function(a,b){e[a]=1})}a.options.push({id:b(d).data("id"),"goto":b(d).data("goto"),display:e,noRandom:b(d).find(".no_random").prop("checked"),text:f.outputFilter(g.getData(b(d).find(".mod_editor")))})});c=this.$el.find(".other_option");if(c.is(":visible")){var d={};var e=b.trim(String(c.data("display")));if(e.length){e.split(" ").forEach(function(a,b){d[a]=1})}a.options.push({id:"98","goto":c.data("goto"),display:d,noRandom:c.find(".no_random").prop("checked"),text:f.outputFilter(g.getData(".other_option_text"))})}}a.options=[];this.$el.find(".normal_options_list .option_item").each(function(c,d){a.options.push({id:b(d).data("id"),text:f.outputFilter(g.getData(b(d).find(".mod_editor")))})});return a},addOption:function(a,c){var d=k({option:a,type:this.model.type});d=b(d);this.$el.find(".normal_options_list").append(d);g.init(d.find(".mod_editor"),{replaceImage:true,startupFocus:!c})},removeOption:function(a){var c=this;var e=b(a.target).closest(".option_item");var f=c.surveyModel.get("survey.recycle");if(this.editMode==="supplementary"&&f>0){d({title:"",width:300,height:100,skin:"ui-dialog-small",content:""+f+"",button:[{value:"",callback:function(){}},{value:"",callback:function(){c.surveyModel.exec("copySurvey").done(function(a){location.href="/edit.html?sid="+a.data.id+"&prev_oper=copy"})}},{value:"",autofocus:true,callback:function(){g.destroy(e.find(".mod_editor"));e.remove()}}]}).showModal()}else{g.destroy(e.find(".mod_editor"));e.remove()}},addOptions:function(){var a=this;var e=a.surveyModel.get("survey.recycle");if(this.editMode==="supplementary"&&e>0){d({title:"",width:300,height:100,skin:"ui-dialog-small",content:"",ok:function(){},okValue:""}).showModal();return}var h=c.map(this.getData().options,function(a){return f.plainTextFilter(a.text)}).join("\n");d({title:"",content:l({value:h}),skin:"add_options",width:500,height:400,okValue:"",ok:function(){var c=b("#add_batch_content").val();c=c.split("\n").map(function(a){return{lineContent:a}});var d={};i["sort"](c,d);g.destroy(a.$el.find(".normal_options_list .mod_editor"));a.$el.find(".normal_options_list").empty();d.options.forEach(function(b){a.addOption(b,true)})},cancal:function(){}}).showModal()},render:function(){var a=this;var d=a.advanceRenderRefer();this.el=this.template({question:this.model,options:this.model.options,validCheckboxQuestions:d.validCheckboxQuestions,referQuestion:d.referQuestion});this.$el=b(this.el);c.forEach(this.model.options,function(b){a.addOption(b,true)});this.renderRichTextEditor()},referOptions:function(a){var c=b(a.currentTarget);var d=c.prop("checked");if(d){this.$el.find(".editor_options").slideUp(300);this.$el.find(".refer_detail").show();this.$el.find(".refer_question_select").show();this.$el.find("[name=assess]").prop("disabled",true);this.$el.find("[name=assess]").closest("label").addClass("disabled");if(this.model.type==="checkbox"){this.$el.find("[name=has_exclusive]").prop("disabled",true);this.$el.find("[name=has_exclusive]").closest("label").addClass("disabled")}}else{this.$el.find(".editor_options").slideDown(300);this.$el.find(".refer_detail").hide();this.$el.find(".refer_question_select").val("").hide();this.$el.find(".refer_detail p b").text("  ");this.$el.find("[name=question_required]").prop("disabled",false);this.refer=null;this.$el.find("[name=assess]").prop("disabled",false);this.$el.find("[name=assess]").closest("label").removeClass("disabled");if(this.model.type==="checkbox"){this.$el.find("[name=has_exclusive]").prop("disabled",false);this.$el.find("[name=has_exclusive]").closest("label").removeClass("disabled")}}},onReferChange:function(){var a=this.$el.find(".refer_question_select").val();if(a){var b=this.surveyModel.exec("getQuestionByID",a);var c=b.index;this.$el.find(".refer_detail p b").text(c+1);this.$el.find("[name=question_required]").prop("checked",b.required);this.$el.find("[name=question_required]").prop("disabled",true);this.refer=a}else{this.refer=null;this.$el.find("[name=question_required]").prop("disabled",false);this.$el.find("[name=refer_options]").prop("checked",false);this.$el.find(".editor_options").show();this.$el.find(".refer_detail").hide();this.$el.find(".refer_question_select").val("").hide();this.$el.find("[name=assess]").prop("disabled",false);this.$el.find("[name=assess]").closest("label").removeClass("disabled")}}});return m});define("amd-templates/edit/pc/include/title",["../../../template","../include/editor_title","../include/editor_description","../include/editor_type"],function(a){return a("edit/pc/include/title",function(a,b){"use strict";var c=this,d=(c.$helpers,function(d,f){f=f||a;var g=c.$include(d,f,b);return e+=g}),e="";return e+=" ",d("../include/editor_title"),e+=" ",d("../include/editor_description"),e+=" ",d("../include/editor_type"),e+=" ",new String(e)})});define("amd-templates/edit/pc/question_editor/chained_selects",["../../../template","../include/title","../include/advanced_trigger","../include/buttons"],function(a){return a("edit/pc/question_editor/chained_selects",function(a,b){"use strict";var c=this,d=(c.$helpers,function(d,f){f=f||a;var g=c.$include(d,f,b);return e+=g}),e="";return e+='<div class="inner chained_selects"> ',d("../include/title"),e+=' <div class="row editor_wrap"> <div class="row editor_cols"> <div class="cols_container"> </div> <div type="text" class="add_col"></div> </div> <div class="row editor_options"> </div> <div class="row"> <a href="javascript:;" class="add_options"></a> </div> </div> <!--',d("../include/advanced_trigger"),e+="--> ",d("../include/buttons"),e+=" </div> ",new String(e)})});define("amd-templates/edit/pc/question_editor/chained_selects/col",["../../../../template"],function(a){return a("edit/pc/question_editor/chained_selects/col",function(a){"use strict";var b=this,c=(b.$helpers,b.$escape),d=a.level,e=a.text,f="";return f+='<div class="col" data-level="',f+=c(d),f+='"> ',1===d?(f+=' <input type="text" placeholder="1" value="',f+=c(e),f+='" /> '):2===d?(f+=' <input type="text" placeholder="2" value="',f+=c(e),f+='" /> '):3===d?(f+=' <input type="text" placeholder="3" value="',f+=c(e),f+='" /> '):(f+=' <input type="text" placeholder="',f+=c(d),f+='" value="',f+=c(e),f+='" /> '),f+=' <i class="remove_col">&times;</i> </div> ',new String(f)})});define("amd-templates/edit/pc/question_editor/chained_selects/col_content",["../../../../template"],function(a){return a("edit/pc/question_editor/chained_selects/col_content",function(a){"use strict";var b=this,c=(b.$helpers,b.$escape),d=a.level,e="";return e+='<div class="options_container" data-level="',e+=c(d),e+='"> <div class="options"> </div> <div class="add_option">  </div> <div class="disabled_tip">  </div> </div> ',new String(e)})});define("amd-templates/edit/pc/question_editor/chained_selects/option",["../../../../template"],function(a){return a("edit/pc/question_editor/chained_selects/option",function(a){"use strict";var b=this,c=(b.$helpers,b.$escape),d=a.id,e=a.text,f="";return f+='<div class="option" data-id="',f+=c(d),f+='"> <input class="option_text" type="text" value="',f+=c(e),f+='"> <i class="right_arrow"></i> <i class="remove_option">&times;</i> <div class="select_layer"></div> </div> ',new String(f)})});define("amd-templates/edit/pc/question_editor/chained_selects/add_options",["../../../../template"],function(a){return a("edit/pc/question_editor/chained_selects/add_options",function(a){"use strict";var b=this,c=(b.$helpers,b.$escape),d=a.value,e="";return e+='<div id="add_batch"> <textarea id="add_batch_content" name="add_batch_content" rows="10" cols="30">',e+=c(d),e+='</textarea> <a id="show_example" href="javascript:;" style="margin-top: 3px; margin-left: 3px; color: #58a6e7; display: block;"></a> </div> ',new String(e)})});define("app/edit/pc/views/question_editor/chained_selects",["require","jquery","underscore","art-dialog/dialog","bind_events","./_basic","app/util/standard_result","app/common/survey_parser/wjx2json","app/common/survey_parser/wjx2json","amd-templates/edit/pc/question_editor/chained_selects","amd-templates/edit/pc/question_editor/chained_selects/col","amd-templates/edit/pc/question_editor/chained_selects/col_content","amd-templates/edit/pc/question_editor/chained_selects/option","amd-templates/edit/pc/question_editor/chained_selects/add_options"],function(a){var b=a("jquery");var c=a("underscore");var d=a("art-dialog/dialog");var e=a("bind_events");var f=a("./_basic");var g=a("app/util/standard_result");var h=a("app/common/survey_parser/wjx2json").QUESTION_PARSER;var i=a("app/common/survey_parser/wjx2json").QUESTION_STRINGIFIER;var j=a("amd-templates/edit/pc/question_editor/chained_selects");var k=a("amd-templates/edit/pc/question_editor/chained_selects/col");var l=a("amd-templates/edit/pc/question_editor/chained_selects/col_content");var m=a("amd-templates/edit/pc/question_editor/chained_selects/option");var n=a("amd-templates/edit/pc/question_editor/chained_selects/add_options");function o(a){this.template=j;this.model=a.model;this.surveyModel=a.surveyModel;this.editMode=a.editMode;this.render();this.bindUIEvents();this.editing=null;this.cache=this.model.groups}c.extend(o.prototype,f.prototype,{bindUIEvents:function(){this.bindCommonUIEvents(this);e.bindUIEvents(this,this.$el,{"click .add_col":"addCol","click .remove_col":"removeCol","click .select_layer":"selectOption","blur .option_text":"updateOption","keypress .option_text":"insertOption","click .add_option":"addOption","click .remove_option":"removeOption","click .add_options":"addOptions"})},getData:function(){var a={};this.getTitle(a);a.levels=[];this.$el.find(".col input").each(function(c,d){a.levels.push(b(d).val())});a.groups=this.cache;return a},addCol:function(){var a=this.$el.find(".cols_container").children().length;if(a===10){d({title:"",width:300,height:100,skin:"ui-dialog-small",content:"10",ok:function(){},okValue:""}).showModal();return}this.$el.find(".cols_container").append(k({text:"",level:a+1}));var b=this.$el.find(".editor_options");b.append(l({level:a+1}));this.updateCols();this.$el.find(".col input").last().focus()},removeCol:function(a){var e=b(a.target).closest(".col");var f=Number(e.data("level"));if(e.parent().children().length!==f){alert("tips");return}var g=this;var h=g.surveyModel.get("survey.recycle");if(this.editMode==="supplementary"&&h>0){d({title:"",width:300,height:100,skin:"ui-dialog-small",content:""+h+"",button:[{value:"",callback:function(){}},{value:"",callback:function(){g.surveyModel.exec("copySurvey").done(function(a){location.href="/edit.html?sid="+a.data.id+"&prev_oper=copy"})}},{value:"",autofocus:true,callback:function(){i(g)}}]}).showModal()}else{i(this)}function i(a){d({title:"",width:300,height:100,skin:"ui-dialog-small",content:"",button:[{value:"",callback:function(){a.updateCols()}},{value:"",autofocus:true,callback:function(){a.$el.find(".cols_container").children().last().remove();a.$el.find(".editor_options").children().last().remove();j(a.cache,1,f);a.updateCols()}}]}).showModal()}function j(a,b,d){if(b+1===d){c.forEach(a,function(a){a[2]=[]});return}c.forEach(a,function(a){j(a[2],b+1,d)})}},updateCols:function(){this.$el.find(".cols_container").children().removeClass("last").last().addClass("last");this.$el.find(".editor_options").children().removeClass("last").last().addClass("last");this.updateDisabledContainer()},_getSelectOptionIndex:function(a){var b=[];var c=null;var d=null;var e=this.$el.find(".options_container .options");for(var f=0;f<a;f++){d=e.eq(f);c=d.find(".selected").index();b.push(c)}return b},selectOption:function(a){var c=b(a.target).closest(".option");this._selectOption(c)},_selectOption:function(a){a.addClass("selected").siblings().removeClass("selected");var c=b(a).closest(".options_container").data("level");var d=this._getSelectOptionIndex(c);var e=this.cache;for(var f=0;f<d.length;f++){e=e[d[f]][2]}this.renderOptions(e,c+1)},addOption:function(a){this._insertNewOption(a)},insertOption:function(a){if(a.which!==13){return}b(a.target).blur();if(!b(a.target).val()){return}var c=b(a.target).closest(".option").index();this._insertNewOption(a,c)},_insertNewOption:function(a,c){var d=b(a.target).closest(".options_container");var e=d.data("level");var f=d.find(".options");var g=b(m({id:"",text:"",children:[]}));var h=this._getSelectOptionIndex(e);var i=this.cache;for(var j=0;j<h.length-1;j++){if(!i[h[j]][2]){i[h[j]][2]=[]}i=i[h[j]][2]}if(c!==undefined){f.children().eq(c).after(g);i.splice(c+1,0,[null,"",[]])}else{f.append(g);i.push([null,"",[]])}this._selectOption(g);g.find("input").focus()},updateOption:function(a){var c=b(a.target).closest(".options_container").data("level");var d=this._getSelectOptionIndex(c);var e=this.cache;for(var f=0;f<d.length-1;f++){e=e[d[f]][2]}var g=b(a.target).val();if(!g.length&&!e[d[f]][2].length){this.removeOption(a,true);return}e[d[f]][1]=g},removeOption:function(a,c){var e=b(a.target).closest(".options_container").data("level");var f=b(a.target).closest(".option");var g=f.index();var h=this;var i=h.surveyModel.get("survey.recycle");if(!c&&this.editMode==="supplementary"&&i>0){d({title:"",width:300,height:100,skin:"ui-dialog-small",content:""+i+"",button:[{value:"",callback:function(){}},{value:"",callback:function(){h.surveyModel.exec("copySurvey").done(function(a){location.href="/edit.html?sid="+a.data.id+"&prev_oper=copy"})}},{value:"",autofocus:true,callback:function(){j(h)}}]}).showModal()}else{j(this)}function j(a){var b=a._getSelectOptionIndex(e);var c=a.cache;for(var h=0;h<b.length-1;h++){c=c[b[h]][2]}if(c[g][2]&&c[g][2].length){d({title:"",width:300,height:100,skin:"ui-dialog-small",content:"",button:[{value:"",callback:function(){}},{value:"",autofocus:true,callback:function(){f.remove();c.splice(g,1);a.updateDisabledContainer(e)}}]}).showModal()}else{f.remove();c.splice(g,1);a.updateDisabledContainer(e)}}},addOptions:function(a){var c=this;var e=this.surveyModel.get("survey.recycle");if(this.editMode==="supplementary"&&e>0){d({title:"",width:300,height:100,skin:"ui-dialog-small",content:"",ok:function(){},okValue:""}).showModal();return}var f=[];this.$el.find(".col input").each(function(a,c){f.push(b(c).val())});var j=i["chained_selects"]({levels:f,groups:this.cache});d({title:"",content:n({value:j}),skin:"add_options",width:500,height:430,okValue:"",onshow:function(){b(this.node).find("#show_example").on("click",function(){d({title:"",skin:"add_options",content:'<div class="example"><div class="source" style="font-size: 15px;vertical-align: top;display: inline-block;background: #f0f0f0;border: 1px solid #ddd;width: 310px;height: 130px;line-height: 180%;padding: 20px;color: #333;height: 190px;"><div> </div> <div></div> <div>+iPhone5</div> <div>+iPhone6</div> <div></div> <div>+Galaxy S5</div> <div>+Galaxy S6</div> </div> <div class="dist" style="height: 190px;margin-left: 15px;font-size: 15px;     vertical-align: top;     display: inline-block;     background: #f0f0f0;     border: 1px solid #ddd;     width: 310px;        line-height: 180%;     padding: 20px;     color: #333;"> <div class="level" style=""> <div class="name"></div> <select style=" width: 100%; "> <option></option> <option></option> <option></option> </select> </div> <div class="level" style=""> <div class="name"></div> <select style=" width: 100%; "> <option></option> <option>iPhone5</option> <option>iPhone6</option> </select> </div> </div> <div class="arrow" style="color: #58a6e7;     font-size: 30px;     position: absolute;left: 340px;top: 100px;"></div> </div>',width:730,height:260,okValue:"",ok:function(){}}).showModal()})},ok:function(){var a=b("#add_batch_content").val();a=a.split("\n").map(function(a,b){return{lineNumber:b+1,lineContent:a}});var d={};var e=new g;h["chained_selects"](a,d,e);if(e.isError()){var f=e.info.error[0];var i="\n"+""+f.lineNumber+":"+f.lineContent+"\n"+f.info+"\n";alert(i);return false}c.cache=d.groups;c.renderCols(d.levels);c.renderOptions(d.groups,1);c.updateCols()},cancal:function(){}}).showModal()},renderOptions:function(a,b){var d=this.$el.find(".options").eq(b-1);if(d.length){d.empty();c.forEach(a,function(a,b){var c=a[0];var e=a[1];var f=a[2];d.append(m({id:c,text:e,children:f}))})}this.updateDisabledContainer(b)},updateDisabledContainer:function(a){var c=this.$el.find(".options_container");if(!a){a=1;c.each(function(c,d){if(b(d).find(".selected").length){a=c+2}})}c.slice(0,a).removeClass("disabled");c.slice(a).addClass("disabled")},renderCols:function(a){var b=this.$el.find(".cols_container");var d=this.$el.find(".editor_options");b.empty();d.empty();c.forEach(a,function(a,c){b.append(k({text:a||"",level:c+1}));d.append(l({level:c+1}))})},render:function(){this.el=this.template({question:this.model});this.$el=b(this.el);this.renderCols(this.model.levels);this.renderOptions(this.model.groups,1);this.updateCols();this.renderRichTextEditor()}});return o});define("amd-templates/edit/pc/question_editor/upload",["../../../template","../include/editor_title","../include/editor_description","../include/editor_type","../include/buttons"],function(a){return a("edit/pc/question_editor/upload",function(a,b){"use strict";var c=this,d=(c.$helpers,function(d,f){f=f||a;var g=c.$include(d,f,b);return e+=g}),e="";return e+='<div class="inner upload"> ',d("../include/editor_title"),e+=" ",d("../include/editor_description"),e+=" ",d("../include/editor_type"),e+=' <div class="row"> <div class="row_content"> <p class="upload_info"><i class="ico ico_warn"></i>500M30<a href="https://wj.qq.com/article/single-151.html" target="_blank"></a></p> </div> </div> ',d("../include/buttons"),e+=" </div> ",new String(e)})});define("app/edit/pc/views/question_editor/upload",["require","jquery","underscore","bind_events","./_basic","amd-templates/edit/pc/question_editor/upload"],function(a){var b=a("jquery");var c=a("underscore");var d=a("bind_events");var e=a("./_basic");var f=a("amd-templates/edit/pc/question_editor/upload");function g(a){this.template=f;this.model=a.model;this.surveyModel=a.surveyModel;this.editMode=a.editMode;this.render();this.bindUIEvents()}c.extend(g.prototype,e.prototype,{bindUIEvents:function(){this.bindCommonUIEvents(this);d.bindUIEvents(this,this.$el,{})},getData:function(){var a={};this.getTitle(a);return a},render:function(){this.el=this.template({question:this.model});this.$el=b(this.el);this.renderRichTextEditor()}});return g});define("amd-templates/edit/pc/question_editor/description",["../../../template","../include/buttons"],function(a){return a("edit/pc/question_editor/description",function(a,b){"use strict";var c=this,d=(c.$helpers,c.$string),e=a.question,f=function(d,e){e=e||a;var f=c.$include(d,e,b);return g+=f},g="";return g+='<div class="inner description"> <div class="row editor_title">  <div class="row_content"> <div contenteditable class="question_title mod_editor inline_editor">',g+=d(e.title),g+="</div> </div> </div> ",f("../include/buttons"),g+=" </div> ",new String(g)})});define("app/edit/pc/views/question_editor/description",["require","jquery","underscore","amd-templates/edit/pc/question_editor/description","app/util/richtext","ur-ckeditor","./_basic"],function(a){var b=a("jquery");var c=a("underscore");var d=a("amd-templates/edit/pc/question_editor/description");var e=a("app/util/richtext");var f=a("ur-ckeditor");var g=a("./_basic");function h(a){this.$el=a.$el;this.model=a.model;this.surveyModel=a.surveyModel;this.render()}c.extend(h.prototype,g.prototype,{getData:function(){var a={title:e.outputFilter(f.getData(".question_title"))};return a},render:function(){this.$el=b(d({question:this.model}));this.renderRichTextEditor()}});return h});define("amd-templates/edit/pc/question_editor/text_multiple",["../../../template","../include/editor_description","../include/editor_type","../include/buttons"],function(a){return a("edit/pc/question_editor/text_multiple",function(a,b){"use strict";var c=this,d=(c.$helpers,c.$string),e=a.question,f=function(d,e){e=e||a;var f=c.$include(d,e,b);return g+=f},g="";return g+='<div class="inner text_multipe"> <div class="row editor_title"> <label class="row_title"></label> <div class="row_content"> <div contenteditable class="question_title mod_editor inline_editor">',g+=d(e.title),g+="</div> </div> </div> ",f("../include/editor_description"),g+=" ",f("../include/editor_type"),g+=" ",f("../include/buttons"),g+=" </div> ",new String(g)})});define("app/edit/pc/views/question_editor/text_multiple",["require","exports","module","jquery","underscore","bind_events","./_basic","amd-templates/edit/pc/question_editor/text_multiple"],function(a,b,c){var d=a("jquery");var e=a("underscore");var f=a("bind_events");var g=a("./_basic");var h=a("amd-templates/edit/pc/question_editor/text_multiple");function i(a){this.template=h;this.model=a.model;this.surveyModel=a.surveyModel;this.editMode=a.editMode;this.render();this.bindUIEvents()}e.extend(i.prototype,g.prototype,{bindUIEvents:function(){this.bindCommonUIEvents(this);f.bindUIEvents(this,this.$el,{})},render:function(){this.el=this.template({question:this.model});this.$el=d(this.el);this.renderRichTextEditor()},getData:function(){var a={};this.getTitle(a);return a}});c.exports=i});define("amd-templates/edit/pc/dialog_fillblank_setting",["../../template"],function(a){return a("edit/pc/dialog_fillblank_setting",function(a){"use strict";var b=this,c=(b.$helpers,b.$escape),d=a.fullDate,e="";return e+='<div class="item"> <div class="item_title"></div> <div class="item_content"> <select name="validate" id="fillblank_setting_validate"> <option value=""></option> <option value="number"></option> <option value="date">',e+=c(d),e+='</option> <option value="email"></option> <option value="chinese"></option> <option value="english"></option> <option value="url"></option> <option value="idCard"></option> <option value="qq">QQ</option> <option value="mobile">()</option> <option value="phone"></option> </select> </div> </div> <div class="item"> <div class="item_title"></div> <div class="item_content"><input type="number" id="fillblank_setting_maxlength"></div> </div> <div class="item"> <div class="item_title"></div> <div class="item_content"><input type="checkbox" id="fillblank_setting_required"></div> </div> ',new String(e)})});define("app/edit/pc/views/question_editor",["require","exports","module","jquery","underscore","bowser","bind_events","dragula","app/util/animate","app/util/uuid","art-dialog/dialog","amd-templates/edit/pc/question_editor","scrollIntoViewIfNeeded","app/common/models/create_question","app/common/views/dialogPreviewImage","./question_editor/radio","./question_editor/checkbox","./question_editor/select","./question_editor/text","./question_editor/textarea","./question_editor/star","./question_editor/matrix_radio","./question_editor/matrix_checkbox","./question_editor/matrix_star","./question_editor/sort","./question_editor/chained_selects","./question_editor/upload","./question_editor/description","./question_editor/text_multiple","amd-templates/edit/pc/dialog_fillblank_setting"],function(a,b,c){"use strict";var d=a("jquery");var e=a("underscore");var f=a("bowser");var g=a("bind_events");var h=a("dragula");var i=a("app/util/animate");var j=a("app/util/uuid");var k=a("art-dialog/dialog");var l=a("amd-templates/edit/pc/question_editor");a("scrollIntoViewIfNeeded");var m=a("app/common/models/create_question");var n=a("app/common/views/dialogPreviewImage");var o=a("./question_editor/radio");var p=a("./question_editor/checkbox");var q=a("./question_editor/select");var r=a("./question_editor/text");var s=a("./question_editor/textarea");var t=a("./question_editor/star");var u=a("./question_editor/matrix_radio");var v=a("./question_editor/matrix_checkbox");var w=a("./question_editor/matrix_star");var x=a("./question_editor/sort");var y=a("./question_editor/chained_selects");var z=a("./question_editor/upload");var A=a("./question_editor/description");var B=a("./question_editor/text_multiple");var C={radio:o,checkbox:p,select:q,text:r,textarea:s,matrix_radio:u,matrix_checkbox:v,matrix_star:w,star:t,sort:x,chained_selects:y,upload:z,description:A,text_multiple:B};var D;var E=function(a){if(D){var b=D.$el.closest(".page").index();if(b!==-1){D.surveyModel.exec("setCurrentPageIndex",b);D.shake();return}}this.surveyModel=a.surveyModel;this.surveyView=a.surveyView;this.$originQuestion=a.$originQuestion;this.isNew=this.$originQuestion?false:true;this.question=a.question||m({type:a.type},null,true).question.toJSON();this.prevQuestionType=this.question.type;D=this;this.init()};e.extend(E.prototype,{editorView:undefined,init:function(){this.render();this.bindCommonUIEvents();this.bindCommonModelEvents();this.registerBeforeunload()},render:function(){this.$el=d(l());this._updateEditorView();if(this.$originQuestion){this.$originQuestion.after(this.$el);this.hideOriginQuestion()}else{var a=this.surveyView.$el.find(".page:visible");a.append(this.$el);setTimeout(function(){d(".question_title").focus()},25)}this.$el.scrollIntoViewIfNeeded(d(".editor_main"))},renderDescription:function(){D=null;var a,b,c;if(this.$originQuestion){b=new C["description"]({$el:this.$originQuestion,model:this.question,surveyModel:this.surveyModel})}else{b=new C["description"]({$el:null,model:this.question,surveyModel:this.surveyModel});a=b.$el;c=this.surveyView.$el.find(".page:visible");c.append(a)}},destroy:function(){this.showOriginQuestion();this.editorView.destroy();this.$el.remove();D=undefined;this.unregisterBeforeunload()},registerBeforeunload:function(){if(f.msie){return}this.originBeforeUnload=window.onbeforeunload;window.onbeforeunload=function(){return""}},unregisterBeforeunload:function(){window.onbeforeunload=this.originBeforeUnload||function(){}},shake:function(){i.shake(this.$el)},errorHandler:function(a){a.info.error.forEach(function(b){var c,e;switch(b){case"":case"":i.errorShake(d(".question_title"));d(".question_title").focus();break;case"":case"":i.errorShake(d(".option_item.option_create"));break;case"":i.errorShake(d(".subtitle_item.subtitle_create"));break;case"":c=a.emptyOptionText[0];e=d(".options_list .option_item").eq(c);i.errorShake(e);e.focus();break;case"":c=a.emptySubtitleText[0];e=d(".subtitle_item").eq(c);i.errorShake(e);e.focus();break;case"":e=d(".add_col");i.errorShake(e);break;case"":c=a.emptyLevelText[0];e=d(".col input").eq(c);i.errorShake(e);e.focus();break;case"":e=d(".add_option").eq(0);i.errorShake(e);e.focus();
break}})},bindCommonUIEvents:function(){g.bindUIEvents(this,this.$el,{"change #question_type":"questionTypeChangeHandler","click #editor_confirm_btn":"_confirmHandler","click #editor_cancel_btn":"_cancelHandler","click .mod_fillblank":"_clickFillblankHandler"});n(".cke_editable img",{align:"bottom"})},bindCommonModelEvents:function(){g.bindModelEvents(this,this.surveyModel,{edit_error:"errorHandler"})},afterConfirm:function(){},afterCancel:function(){},questionTypeChangeHandler:function(a){var b=this;var c=b.surveyModel.get("survey.recycle");if(this.surveyModel.get("editMode")==="supplementary"&&c>0){k({title:"",width:300,height:100,skin:"ui-dialog-small",content:""+c+"",button:[{value:"",callback:function(){d(a.target).val(b.prevQuestionType)}},{value:"",callback:function(){b.surveyModel.exec("copySurvey").done(function(a){location.href="/edit.html?sid="+a.data.id+"&prev_oper=copy"})}},{value:"",autofocus:true,callback:function(){b.question.type=d(a.target).val();b._updateData(true);b._updateEditorView()}}]}).showModal()}else{this.question.type=d(a.target).val();this._updateData(true);this._updateEditorView()}},hideOriginQuestion:function(){this.$originQuestion&&this.$originQuestion.hide()},showOriginQuestion:function(){this.$originQuestion&&this.$originQuestion.show()},_initDrag:function(){var a=this.$el.find(".normal_options_list");if(a.length>0){c(a)}var b=this.$el.find(".normal_subtitles_list");if(b.length>0){c(b)}function c(a){if(a.length===0){return}h([a[0]],{moves:function(a,b,c){return c.className==="handle"}})}},_updateEditorView:function(){if(this.editorView){this.editorView.destroy()}this.editorView=new C[this.question.type]({model:this.question,surveyModel:this.surveyModel,editMode:this.surveyModel.get("editMode")});this.$el.html(this.editorView.$el);this._initDrag()},_updateData:function(a){var b=m({type:this.question.type},null,true).question.toJSON();e.defaults(this.question,b);this.question.blank_setting=this.editorView.getDataForFillblank();e.extend(this.question,this.editorView.getData());if(a&&this.question.assess){this.question.assess=null}},_confirmHandler:function(){var a=this;var b=a.surveyModel.get("survey.recycle");var c;if(f.msie&&f.version<=10){var d=function(){};var g=function(){d=function(a,b){if(a){a[b]=null}};window.setTimeout(g,10)};g()}if(this.editorView._beforeConfirm&&this.editorView._beforeConfirm()===false){return}var h=this._blankIsChanged();this._updateData();var i=false;if(this.editorView.model.title.indexOf("&lt;iframe")>0||this.editorView.model.description.indexOf("&lt;iframe")>0){alert("");return}e.forEach(this.editorView.model.options,function(a){if(a.text.indexOf("&lt;iframe")>0){alert("");i=true}});if(i)return;if(this.isNew){c=this.surveyModel.exec("edit","addQuestion",this.question);if(!c.isError()){this.destroy();this.afterConfirm()}}else{if(h&&b>0){k({title:"",width:300,height:100,skin:"ui-dialog-small",content:""+b+"",button:[{value:"",callback:function(){}},{value:"",callback:function(){a.surveyModel.exec("copySurvey").done(function(a){location.href="/edit.html?sid="+a.data.id+"&prev_oper=copy"})}},{value:"",autofocus:true,callback:function(){if(a.prevQuestionType!==a.question.type){c=a.surveyModel.exec("edit","updateQuestion",a.question,true)}else{c=a.surveyModel.exec("edit","updateQuestion",a.question)}if(!c.isError()){a.destroy();a.afterConfirm()}}}]}).showModal()}else{if(this.prevQuestionType!==this.question.type){c=this.surveyModel.exec("edit","updateQuestion",this.question,true)}else{c=this.surveyModel.exec("edit","updateQuestion",this.question)}if(!c.isError()){this.destroy();this.afterConfirm()}}}},_blankIsChanged:function(){var a=this.editorView.getDataForFillblank();a=a.map(function(a){return a.id});var b=this.question.blank_setting||[];b=b.map(function(a){return a.id});var c=e.difference(b,a);return c.length>0},_cancelHandler:function(){this.destroy();this.afterCancel()},_clickFillblankHandler:function(b){var c=F();var f=d(b.currentTarget);var g=this.question;var h=a("amd-templates/edit/pc/dialog_fillblank_setting")({fullDate:c});var i=k.getCurrent();if(i){i.remove()}k({skin:"dialog_fillblank_setting",title:"",content:h,cancel:false,quickClose:true,onshow:function(){var a=f.attr("data-id");var b=d(this.node);var c=f.data("setting");if(!c){c=e.find(g.blank_setting,function(b){return b.id===a})}if(c){b.find("#fillblank_setting_validate option").filter(function(a,b){return b.value===c.validate}).attr("selected","selected");b.find("#fillblank_setting_maxlength").val(c.maxLength);b.find("#fillblank_setting_required").prop("checked",c.required)}},button:[{value:"",autofocus:true,callback:function(){var a=d(this.node);var b=f.attr("data-id")||"fillblank-"+j(4);f.attr("data-id",b);var c={id:b,validate:a.find("#fillblank_setting_validate").val(),maxLength:a.find("#fillblank_setting_maxlength").val(),required:a.find("#fillblank_setting_required").prop("checked")};if(c.maxLength&&/\D/.test(c.maxLength)){alert("");return false}f.data("setting",c)}},{value:"",callback:function(){}}]}).show(b.currentTarget);return false}});function F(){function a(b,c,d){b=b.toString();c=c.toString();d=d.toString();return b.length>=d?b:a(c+b,c,d)}var b=new Date;var c=b.getFullYear();var d=a(b.getMonth()+1,0,2);var e=a(b.getDate(),0,2);return c+"-"+d+"-"+e}c.exports=E});define("app/common/dataBac",["require","exports","module"],function(a,b,c){var d=[{id:null,title:"",description:"",type:"radio",required:true,random:false,refer:"",maxRow:"1","goto":"",options:[{text:"",display:{},fix:false,"goto":""},{text:"",display:{},fix:false,"goto":""}],rawType:"",uqid:0,subTitle:"",category:""},{id:null,title:"",description:"",type:"select",required:true,random:false,refer:"","goto":"",options:[{text:"2005",display:{},fix:false,"goto":""},{text:"2005",display:{},fix:false,"goto":""},{text:"2004",display:{},fix:false,"goto":""},{text:"2003",display:{},fix:false,"goto":""},{text:"2002",display:{},fix:false,"goto":""},{text:"2001",display:{},fix:false,"goto":""},{text:"2000",display:{},fix:false,"goto":""},{text:"1999",display:{},fix:false,"goto":""},{text:"1998",display:{},fix:false,"goto":""},{text:"1997",display:{},fix:false,"goto":""},{text:"1996",display:{},fix:false,"goto":""},{text:"1995",display:{},fix:false,"goto":""},{text:"1994",display:{},fix:false,"goto":""},{text:"1993",display:{},fix:false,"goto":""},{text:"1992",display:{},fix:false,"goto":""},{text:"1991",display:{},fix:false,"goto":""},{text:"1990",display:{},fix:false,"goto":""},{text:"1989",display:{},fix:false,"goto":""},{text:"1988",display:{},fix:false,"goto":""},{text:"1987",display:{},fix:false,"goto":""},{text:"1986",display:{},fix:false,"goto":""},{text:"1985",display:{},fix:false,"goto":""},{text:"1984",display:{},fix:false,"goto":""},{text:"1983",display:{},fix:false,"goto":""},{text:"1982",display:{},fix:false,"goto":""},{text:"1981",display:{},fix:false,"goto":""},{text:"1980",display:{},fix:false,"goto":""},{text:"1979",display:{},fix:false,"goto":""},{text:"1978",display:{},fix:false,"goto":""},{text:"1977",display:{},fix:false,"goto":""},{text:"1976",display:{},fix:false,"goto":""},{text:"1975",display:{},fix:false,"goto":""},{text:"1974",display:{},fix:false,"goto":""},{text:"1973",display:{},fix:false,"goto":""},{text:"1972",display:{},fix:false,"goto":""},{text:"1971",display:{},fix:false,"goto":""},{text:"1970",display:{},fix:false,"goto":""},{text:"1969",display:{},fix:false,"goto":""},{text:"1968",display:{},fix:false,"goto":""},{text:"1967",display:{},fix:false,"goto":""},{text:"1966",display:{},fix:false,"goto":""},{text:"1965",display:{},fix:false,"goto":""},{text:"1964",display:{},fix:false,"goto":""},{text:"1963",display:{},fix:false,"goto":""},{text:"1962",display:{},fix:false,"goto":""},{text:"1961",display:{},fix:false,"goto":""},{text:"1960",display:{},fix:false,"goto":""},{text:"1960",display:{},fix:false,"goto":""}],rawType:"",uqid:1,subTitle:"",category:""},{id:null,title:"()",description:"",type:"radio",required:true,random:false,refer:"",maxRow:"1","goto":"",options:[{text:"",display:{},fix:false,"goto":""},{text:"//",display:{},fix:false,"goto":""},{text:"",display:{},fix:false,"goto":""},{text:"",display:{},fix:false,"goto":""},{text:"",display:{},fix:false,"goto":""}],rawType:"",uqid:2,subTitle:"",category:""},{id:null,description:"",required:true,"goto":"",title:"",type:"chained_selects",subTitle:"",category:"",levels:["","",""],groups:[[null,"",[[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]]]],[null,"",[[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null," "]]]]],[null,"",[[null,"",[[null,""],[null,""],[null,""],[null,""],[null," "],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null," "],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,"  "],[null,""],[null," "],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null," "],[null,"  "],[null,""],[null,""],[null," "],[null,""],[null,""],[null,""],[null," "],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null," "],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null," "],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null," "],[null,""],[null,""],[null,""],[null,""],[null,""],[null," "],[null,""],[null," "],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null," "],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,"  "],[null," "],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null," "],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null," "],[null,""],[null,""],[null,""]]]]],[null,"",[[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,"  "],[null," "],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,"  "],[null," "],[null,"  "],[null,""],[null," "]]],[null,"",[[null,"  "],[null," "],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null," "],[null,""],[null,""]]],[null,"",[[null," "],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null," "],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null," "],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,"  "],[null," "],[null,""],[null,""],[null," "],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null," "],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null," "],[null,""],[null,""],[null,"  "],[null,""],[null," "],[null,""],[null,""],[null," "],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null," "],[null,"  "],[null,""],[null,""]]]]],[null,"",[[null,"",[[null,""],[null,""],[null,""],[null," "],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null," "],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""]]]]],[null,"",[[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""]]]]],[null,"",[[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""]]]]],[null,"",[[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""]]]]],[null,"",[[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]]]],[null,"",[[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""]]]]],[null,"",[[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""]]]]],[null,"",[[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""]]]]],[null,"",[[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""]]]]],[null,"",[[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""]]]]],[null,"",[[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""]]]]],[null,"",[[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""]]],[null,"",[[null,""]]]]],[null,"",[[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""]]],[null,"",[[null,""]]],[null,"",[[null,""]]],[null,"",[[null,""]]],[null,"",[[null,""]]]]],[null,"",[[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""]]]]],[null,"",[[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]]]],[null,"",[[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""]]]]],[null,"",[[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""]]],[null,"",[[null,""]]],[null,"",[[null,""]]],[null,"",[[null,""]]],[null,"",[[null,""]]],[null,"",[[null,""]]],[null,"",[[null,""]]],[null,"",[[null,""]]],[null,"",[[null,""]]],[null,"",[[null,""]]],[null,"",[[null,""]]],[null,"",[[null,""]]],[null,"",[[null,""]]],[null,"",[[null,""]]],[null,"",[[null,""]]],[null,"",[[null,""]]],[null,"",[[null,""]]],[null,"",[[null,""]]]]],[null,"",[[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]]]],[null,"",[[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""]]]]],[null,"",[[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""]]]]],[null,"",[[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""]]]]],[null,"",[[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""]]]]],[null,"",[[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""]]]]],[null,"",[[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""]]]]],[null,"",[[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""]]]]],[null,"",[[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""]]]]],[null,"",[[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""]]],[null,"",[[null,""]]],[null,"",[[null,""]]],[null,"",[[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""]]]]],[null,"",[[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""]]]]],[null,"",[[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]]]],[null,"",[[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]]]],[null,"",[[null,"",[[null,""]]]]]]
},{id:null,description:"",required:true,"goto":"",title:"",type:"chained_selects",subTitle:"",category:"",levels:["",""],groups:[[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null," "],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,"()"],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null," "],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null," "],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,"()"],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,"()"],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,"()"],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,"()"],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,"()"],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,"IT"],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,"()"],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null," "],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,"The Open University of HongKong"]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]]]
},{id:null,description:"",required:true,"goto":"",title:"",type:"chained_selects",subTitle:"",category:"",levels:["",""],groups:[[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,"/"],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""]]],[null,"",[[null,""],[null,""]]],[null,"",[[null,""]]],[null,"",[[null,""],[null,""],[null,""]]],[null,"",[[null,""],[null,""]]],[null,"",[[null,"()"],[null,""],[null,""]]]]},{id:null,description:"",required:true,"goto":"",title:"",type:"chained_selects",subTitle:"",category:"",levels:["",""],groups:[[null,"IT///",[[null,"/"],[null,"IT(//)"],[null,""],[null,""],[null,"//"],[null,"//"],[null,""],[null,"//"]]],[null,"",[[null,"///"],[null,""],[null,"///"],[null,""]]],[null,"/",[[null,"///"],[null,"//"],[null,"/"]]],[null,"",[[null,"/(//)"],[null,""],[null,"//"],[null,"//"],[null,""]]],[null,"///",[[null,"///"],[null,"/"],[null,"////"],[null,"/"],[null,""]]],[null,"/",[[null,"////"],[null,"//"]]],[null,"//",[[null,"/"],[null,"/"],[null,"//"],[null,"/"],[null,"//"],[null,""],[null,""],[null,"/"],[null,"/"]]],[null,"///",[[null,"/"],[null,"/"]]],[null,"",[[null,"////"],[null,"/"],[null,"/"]]],[null,"///",[[null,"//"],[null,"///"]]],[null,"//",[[null,"///"],[null,"//"],[null,""],[null,"//"]]],[null,"/",[[null,"//"],[null,"/"]]],[null,"////",[[null,"///"],[null,""]]]]},{id:null,title:"",description:"",type:"radio",required:true,random:false,refer:"",maxRow:"1","goto":"",options:[{text:"",display:{},fix:false,"goto":""},{text:"//",display:{},fix:false,"goto":""},{text:"",display:{},fix:false,"goto":""},{text:"/",display:{},fix:false,"goto":""},{text:"////",display:{},fix:false,"goto":""},{text:"/",display:{},fix:false,"goto":""},{text:"//",display:{},fix:false,"goto":""},{text:"/",display:{},fix:false,"goto":""},{text:"",display:{},fix:false,"goto":""},{text:"",display:{},fix:false,"goto":""},{text:"",display:{},fix:false,"goto":""},{text:"",display:{},fix:false,"goto":""},{id:"98",text:"",display:{},fix:false,"goto":""}],rawType:"",uqid:3,subTitle:"",category:""},{id:null,title:"",description:"",type:"radio",required:true,random:false,refer:"",maxRow:"1","goto":"",options:[{text:"500",display:{},fix:false,"goto":""},{text:"500-1000",display:{},fix:false,"goto":""},{text:"1001-1500",display:{},fix:false,"goto":""},{text:"1501-2000",display:{},fix:false,"goto":""},{text:"2001-3000",display:{},fix:false,"goto":""},{text:"3001-5000",display:{},fix:false,"goto":""},{text:"5001-8000",display:{},fix:false,"goto":""},{text:"8000",display:{},fix:false,"goto":""},{text:"",display:{},fix:false,"goto":""}],rawType:"",uqid:4,subTitle:"",category:""},{id:null,title:"",description:"",type:"text",minlength:"",maxlength:"",validate:"","goto":"",required:true,rawType:"",uqid:5,subTitle:"",category:""},{id:null,title:"QQ",description:"",type:"text",minlength:"",maxlength:"",validate:"","goto":"",required:true,rawType:"",uqid:6,subTitle:"QQ",category:""},{id:null,title:" ",description:"",type:"text",minlength:"",maxlength:"",validate:"","goto":"",required:true,rawType:"",uqid:6,subTitle:"",category:""},{id:null,title:"",description:"",type:"radio",required:true,random:false,refer:"",maxRow:"1","goto":"",options:[{text:"1",display:{},fix:false,"goto":""},{text:"1-33",display:{},fix:false,"goto":""},{text:"3-77",display:{},fix:false,"goto":""},{text:"7-1010",display:{},fix:false,"goto":""},{text:"10-1515",display:{},fix:false,"goto":""},{text:"15",display:{},fix:false,"goto":""}],rawType:"",uqid:7,subTitle:"",category:""},{id:null,title:"",description:"",type:"radio",required:true,random:false,refer:"",maxRow:"1","goto":"",options:[{text:"1",display:{},fix:false,"goto":""},{text:"1-33",display:{},fix:false,"goto":""},{text:"3-55",display:{},fix:false,"goto":""},{text:"5-88",display:{},fix:false,"goto":""},{text:"8-1010",display:{},fix:false,"goto":""},{text:"10",display:{},fix:false,"goto":""}],rawType:"",uqid:8,subTitle:"",category:""},{id:null,title:"",description:"",type:"checkbox",required:true,random:false,refer:"",maxRow:1,maxlength:"","goto":"",options:[{text:"",display:{},fix:false,"goto":""},{text:"",display:{},fix:false,"goto":""},{text:"",display:{},fix:false,"goto":""},{text:"",display:{},fix:false,"goto":""},{id:"98",text:"",display:{},fix:false,"goto":""}],rawType:"",uqid:9,subTitle:"",category:""},{id:null,title:"",description:"",type:"checkbox",required:true,random:false,refer:"",maxRow:1,maxlength:"","goto":"",options:[{text:"",display:{},fix:false,"goto":""},{text:"",display:{},fix:false,"goto":""},{text:"Wi-Fi/WLAN",display:{},fix:false,"goto":""},{text:"",display:{},fix:false,"goto":""},{id:"98",text:"",display:{},fix:false,"goto":""}],rawType:"",uqid:10,subTitle:"",category:""},{id:null,title:"",description:"",type:"radio",required:true,random:false,refer:"",maxRow:"1","goto":"",options:[{text:"1",display:{},fix:false,"goto":""},{text:"1-33",display:{},fix:false,"goto":""},{text:"3-55",display:{},fix:false,"goto":""},{text:"5-88",display:{},fix:false,"goto":""},{text:"8-1010",display:{},fix:false,"goto":""},{text:"10",display:{},fix:false,"goto":""}],rawType:"",uqid:11,subTitle:"",category:""},{id:null,title:"",description:"",type:"checkbox",required:true,random:false,refer:"",maxRow:1,maxlength:"","goto":"",options:[{text:"",display:{},fix:false,"goto":""},{text:"",display:{},fix:false,"goto":""},{text:"/",display:{},fix:false,"goto":""},{text:"",display:{},fix:false,"goto":""},{text:"",display:{},fix:false,"goto":""},{id:"98",text:"",display:{},fix:false,"goto":""}],rawType:"",uqid:12,subTitle:"",category:""},{id:null,title:"",description:"",type:"checkbox",required:true,random:false,refer:"",maxRow:1,maxlength:"","goto":"",options:[{text:"2GGPRS",display:{},fix:false,"goto":""},{text:"3G",display:{},fix:false,"goto":""},{text:"4G",display:{},fix:false,"goto":""},{text:"Wifi/Wlan",display:{},fix:false,"goto":""},{text:"",display:{},fix:false,"goto":""},{id:"98",text:"",display:{},fix:false,"goto":""}],rawType:"",uqid:13,subTitle:"",category:""},{id:null,title:"",description:"",type:"radio",required:true,random:false,refer:"",maxRow:"1","goto":"",options:[{text:"1",display:{},fix:false,"goto":""},{text:"1-33",display:{},fix:false,"goto":""},{text:"3-55",display:{},fix:false,"goto":""},{text:"5-88",display:{},fix:false,"goto":""},{text:"8-1010",display:{},fix:false,"goto":""},{text:"10",display:{},fix:false,"goto":""}],rawType:"",uqid:14,subTitle:"",category:""},{id:null,title:"",description:"",type:"checkbox",required:true,random:false,refer:"",maxRow:1,maxlength:"","goto":"",options:[{text:"",display:{},fix:false,"goto":""},{text:"",display:{},fix:false,"goto":""},{text:"",display:{},fix:false,"goto":""},{text:"",display:{},fix:false,"goto":""},{text:"KTV",display:{},fix:false,"goto":""},{text:"",display:{},fix:false,"goto":""},{text:"",display:{},fix:false,"goto":""},{text:"",display:{},fix:false,"goto":""},{id:"98",text:"",display:{},fix:false,"goto":""}],rawType:"",uqid:15,subTitle:"",category:""},{id:null,title:"/***",description:"",type:"radio",required:true,random:false,refer:"",maxRow:"1","goto":"",options:[{text:"1",display:{},fix:false,"goto":""},{text:"1-3 3",display:{},fix:false,"goto":""},{text:"3-6 6",display:{},fix:false,"goto":""},{text:"6-12 12",display:{},fix:false,"goto":""},{text:"1",display:{},fix:false,"goto":""}],rawType:"",uqid:16,subTitle:"XX",category:""},{id:null,title:"/***",description:"",type:"radio",required:true,random:false,refer:"",maxRow:"1","goto":"",options:[{text:"3",display:{},fix:false,"goto":""},{text:"3-6 6",display:{},fix:false,"goto":""},{text:"6-12 12",display:{},fix:false,"goto":""},{text:"1-3",display:{},fix:false,"goto":""},{text:"3",display:{},fix:false,"goto":""}],rawType:"",uqid:17,subTitle:"XX",category:""},{id:null,title:"/***",description:"",type:"radio",required:true,random:false,refer:"",maxRow:"1","goto":"",options:[{text:"",display:{},fix:false,"goto":""},{text:"-11",display:{},fix:false,"goto":""},{text:"1-33",display:{},fix:false,"goto":""},{text:"3-55",display:{},fix:false,"goto":""},{text:"5-88",display:{},fix:false,"goto":""},{text:"8",display:{},fix:false,"goto":""}],rawType:"",uqid:18,subTitle:"XX",category:""},{id:null,title:"***",description:"",type:"radio",required:true,random:false,refer:"",maxRow:"1","goto":"",options:[{text:"",display:{},fix:false,"goto":""},{text:"",display:{},fix:false,"goto":""},{text:"",display:{},fix:false,"goto":""},{text:"",display:{},fix:false,"goto":""}],rawType:"",uqid:19,subTitle:"XX",category:""},{id:null,title:"XX101",description:"",type:"star",required:true,starShow:"",otherStr:"",isOther:false,starNum:"10",starType:1,revertSort:false,starShowCustomStart:"",starShowCustomEnd:"",rawType:"",uqid:20,subTitle:"",category:""},{id:null,title:"XX101",description:"",type:"star",required:true,starShow:"",otherStr:"",isOther:false,starNum:"10",starType:1,revertSort:false,starShowCustomStart:"",starShowCustomEnd:"",rawType:"",uqid:21,subTitle:"",category:""},{id:null,title:"QQ101",description:"",type:"star",required:true,starShow:"",otherStr:"",isOther:false,starNum:"10",starType:1,revertSort:false,starShowCustomStart:"",starShowCustomEnd:"",rawType:"",uqid:22,subTitle:"",category:""},{id:null,title:"",description:"",type:"radio",required:true,random:false,refer:"",maxRow:"1","goto":"",options:[{text:"Android",display:{},fix:false,"goto":""},{text:"iOS",display:{},fix:false,"goto":""},{text:"Symbian",display:{},fix:false,"goto":""},{text:"Windows Phone/ Windows Mobile",display:{},fix:false,"goto":""},{text:"Blackberry",display:{},fix:false,"goto":""},{text:"Java/Kjava/MTK",display:{},fix:false,"goto":""},{text:"",display:{},fix:false,"goto":""},{id:"98",text:"",display:{},fix:false,"goto":""}],rawType:"",uqid:23,subTitle:"",category:""},{id:null,title:"XXAPP",description:"",type:"checkbox",required:true,random:false,refer:"",maxRow:1,maxlength:"","goto":"",options:[{text:"",display:{},fix:false,"goto":""},{text:"",display:{},fix:false,"goto":""},{text:"",display:{},fix:false,"goto":""},{text:"",display:{},fix:false,"goto":""},{text:"",display:{},fix:false,"goto":""},{text:"",display:{},fix:false,"goto":""},{text:"",display:{},fix:false,"goto":""},{id:"98",text:"",display:{},fix:false,"goto":""}],rawType:"",uqid:24,subTitle:"APP",category:""},{id:null,title:"XX",description:"",type:"radio",required:true,random:false,refer:"",maxRow:"1","goto":"",options:[{text:"30",display:{},fix:false,"goto":""},{text:"31~50",display:{},fix:false,"goto":""},{text:"51~100",display:{},fix:false,"goto":""},{text:"101-200",display:{},fix:false,"goto":""},{text:"201-300",display:{},fix:false,"goto":""},{text:"301-500",display:{},fix:false,"goto":""},{text:"500",display:{},fix:false,"goto":""}],rawType:"",uqid:25,subTitle:"",category:""},{id:null,title:"XX",description:"",type:"radio",required:true,random:false,refer:"",maxRow:"1","goto":"",options:[{text:"1~5",display:{},fix:false,"goto":""},{text:"6~10",display:{},fix:false,"goto":""},{text:"11~15",display:{},fix:false,"goto":""},{text:"16~20",display:{},fix:false,"goto":""},{text:"21~30",display:{},fix:false,"goto":""},{text:"30",display:{},fix:false,"goto":""}],rawType:"",uqid:26,subTitle:"",category:""},{id:null,title:"XX",description:"",type:"checkbox",required:true,random:false,refer:"",maxRow:1,maxlength:"","goto":"",options:[{text:"",display:{},fix:false,"goto":""},{text:"",display:{},fix:false,"goto":""},{text:"//",display:{},fix:false,"goto":""},{text:"",display:{},fix:false,"goto":""},{text:"",display:{},fix:false,"goto":""},{text:"",display:{},fix:false,"goto":""},{text:"/",display:{},fix:false,"goto":""},{text:"",display:{},fix:false,"goto":""},{text:"",display:{},fix:false,"goto":""},{text:"BBS",display:{},fix:false,"goto":""},{text:"",display:{},fix:false,"goto":""},{text:"",display:{},fix:false,"goto":""},{text:"QQ",display:{},fix:false,"goto":""},{id:"98",text:"",display:{},fix:false,"goto":""}],rawType:"",uqid:27,subTitle:"XX",category:""},{id:null,title:"XX",description:"",type:"radio",required:true,random:false,refer:"",maxRow:"1","goto":"",options:[{text:"10%",display:{},fix:false,"goto":""},{text:"11%-30%",display:{},fix:false,"goto":""},{text:"31-50%",display:{},fix:false,"goto":""},{text:"51%-80%",display:{},fix:false,"goto":""},{text:"80%",display:{},fix:false,"goto":""}],rawType:"",uqid:28,subTitle:"",category:""}];c.exports=d});(function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i=typeof require=="function"&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}var f=typeof require=="function"&&require;for(var g=0;g<d.length;g++)e(d[g]);return e})({1:[function(a,b,c){var d=a("cssfilter").FilterCSS;var e=a("./util");var f={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","colspan","align","valign"],tfoot:["align","valign"],th:["width","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","loop","preload","src","height","width"]};var g=new d;function h(a,b,c){}function i(a,b,c){}function j(a,b,c){}function k(a,b,c){}function l(a){return a.replace(n,"&lt;").replace(o,"&gt;")}function m(a,b,c,d){d=d||g;c=F(c);if(b==="href"||b==="src"){c=e.trim(c);if(c==="#")return"#";if(!(c.substr(0,7)==="http://"||c.substr(0,8)==="https://"||c.substr(0,7)==="mailto:"||c[0]==="/")){return""}}else if(b==="background"){v.lastIndex=0;if(v.test(c)){return""}}else if(b==="style"){y.lastIndex=0;if(y.test(c)){return""}z.lastIndex=0;if(z.test(c)){v.lastIndex=0;if(v.test(c)){return""}}c=d.process(c)}c=G(c);return c}var n=/</g;var o=/>/g;var p=/"/g;var q=/&quot;/g;var r=/&#([a-zA-Z0-9]*);?/gim;var s=/&colon;?/gim;var t=/&newline;?/gim;var u=/\/\*|\*\//gm;var v=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi;var w=/^[\s"'`]*(d\s*a\s*t\s*a\s*)\:/gi;var x=/^[\s"'`]*(d\s*a\s*t\s*a\s*)\:\s*image\//gi;var y=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi;var z=/u\s*r\s*l\s*\(.*/gi;function A(a){return a.replace(p,"&quot;")}function B(a){return a.replace(q,'"')}function C(a){return a.replace(r,function b(a,c){return c[0]==="x"||c[0]==="X"?String.fromCharCode(parseInt(c.substr(1),16)):String.fromCharCode(parseInt(c,10))})}function D(a){return a.replace(s,":").replace(t," ")}function E(a){var b="";for(var c=0,d=a.length;c<d;c++){b+=a.charCodeAt(c)<32?" ":a.charAt(c)}return e.trim(b)}function F(a){a=B(a);a=C(a);a=D(a);a=E(a);return a}function G(a){a=A(a);a=l(a);return a}function H(){return""}function I(a,b){if(typeof b!=="function"){b=function(){}}var c=!Array.isArray(a);function d(b){if(c)return true;return e.indexOf(a,b)!==-1}var f=[];var g=false;return{onIgnoreTag:function(a,c,e){if(d(a)){if(e.isClosing){var h="[/removed]";var i=e.position+h.length;f.push([g!==false?g:e.position,i]);g=false;return h}else{if(!g){g=e.position}return"[removed]"}}else{return b(a,c,e)}},remove:function(a){var b="";var c=0;e.forEach(f,function(d){b+=a.slice(c,d[0]);c=d[1]});b+=a.slice(c);return b}}}function J(a){return a.replace(K,"")}var K=/<!--[\s\S]*?-->/g;function L(a){var b=a.split("");b=b.filter(function(a){var b=a.charCodeAt(0);if(b===127)return false;if(b<=31){if(b===10||b===13)return true;return false}return true});return b.join("")}c.whiteList=f;c.onTag=h;c.onIgnoreTag=i;c.onTagAttr=j;c.onIgnoreTagAttr=k;c.safeAttrValue=m;c.escapeHtml=l;c.escapeQuote=A;c.unescapeQuote=B;c.escapeHtmlEntities=C;c.escapeDangerHtml5Entities=D;c.clearNonPrintableCharacter=E;c.friendlyAttrValue=F;c.escapeAttrValue=G;c.onIgnoreTagStripAll=H;c.StripTagBody=I;c.stripCommentTag=J;c.stripBlankChar=L;c.cssFilter=g},{"./util":4,cssfilter:8}],2:[function(a,b,c){var d=a("./default");var e=a("./parser");var f=a("./xss");function g(a,b){var c=new f(b);return c.process(a)}c=b.exports=g;c.FilterXSS=f;for(var h in d)c[h]=d[h];for(var h in e)c[h]=e[h];if(typeof define==="function"&&define.amd){define("xss",[],function(){return b.exports})}if(typeof window!=="undefined"){window.filterXSS=b.exports}},{"./default":1,"./parser":3,"./xss":5}],3:[function(a,b,c){var d=a("./util");function e(a){var b=a.indexOf(" ");if(b===-1){var c=a.slice(1,-1)}else{var c=a.slice(1,b+1)}c=d.trim(c).toLowerCase();if(c.slice(0,1)==="/")c=c.slice(1);if(c.slice(-1)==="/")c=c.slice(0,-1);return c}function f(a){return a.slice(0,2)==="</"}function g(a,b,c){"user strict";var d="";var g=0;var h=false;var i=false;var j=0;var k=a.length;var l="";var m="";for(j=0;j<k;j++){var n=a.charAt(j);if(h===false){if(n==="<"){h=j;continue}}else{if(i===false){if(n==="<"){d+=c(a.slice(g,j));h=j;g=j;continue}if(n===">"){d+=c(a.slice(g,h));l=a.slice(h,j+1);m=e(l);d+=b(h,d.length,m,l,f(l));g=j+1;h=false;continue}if(n==='"'||n==="'"){i=n;continue}}else{if(n===i){i=false;continue}}}}if(g<a.length){d+=c(a.substr(g))}return d}var h=/[^a-zA-Z0-9_:\.\-]/gim;function i(a,b){"user strict";var c=0;var e=[];var f=false;var g=a.length;function i(a,c){a=d.trim(a);a=a.replace(h,"").toLowerCase();if(a.length<1)return;e.push(b(a,c||""))}for(var j=0;j<g;j++){var k=a.charAt(j),l;if(f===false&&k==="="){f=a.slice(c,j);c=j+1;continue}if(f!==false){if(j===c&&(k==='"'||k==="'")){var m=a.indexOf(k,j+1);if(m===-1){break}else{l=d.trim(a.slice(c+1,m));i(f,l);f=false;j=m;c=j+1;continue}}}if(k===" "){l=d.trim(a.slice(c,j));if(f===false){i(l)}else{i(f,l)}f=false;c=j+1;continue}}if(c<a.length){if(f===false){i(a.slice(c))}else{i(f,a.slice(c))}}return d.trim(e.join(" "))}c.parseTag=g;c.parseAttr=i},{"./util":4}],4:[function(a,b,c){b.exports={indexOf:function(a,b){var c,d;if(Array.prototype.indexOf){return a.indexOf(b)}for(c=0,d=a.length;c<d;c++){if(a[c]===b){return c}}return-1},forEach:function(a,b,c){var d,e;if(Array.prototype.forEach){return a.forEach(b,c)}for(d=0,e=a.length;d<e;d++){b.call(c,a[d],d,a)}},trim:function(a){if(String.prototype.trim){return a.trim()}return a.replace(/(^\s*)|(\s*$)/g,"")}}},{}],5:[function(a,b,c){var d=a("cssfilter").FilterCSS;var e=a("./default");var f=a("./parser");var g=f.parseTag;var h=f.parseAttr;var i=a("./util");function j(a){return a===undefined||a===null}function k(a){var b=a.indexOf(" ");if(b===-1){return{html:"",closing:a[a.length-2]==="/"}}a=i.trim(a.slice(b+1,-1));var c=a[a.length-1]==="/";if(c)a=i.trim(a.slice(0,-1));return{html:a,closing:c}}function l(a){a=a||{};if(a.stripIgnoreTag){if(a.onIgnoreTag){console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time')}a.onIgnoreTag=e.onIgnoreTagStripAll}a.whiteList=a.whiteList||e.whiteList;a.onTag=a.onTag||e.onTag;a.onTagAttr=a.onTagAttr||e.onTagAttr;a.onIgnoreTag=a.onIgnoreTag||e.onIgnoreTag;a.onIgnoreTagAttr=a.onIgnoreTagAttr||e.onIgnoreTagAttr;a.safeAttrValue=a.safeAttrValue||e.safeAttrValue;a.escapeHtml=a.escapeHtml||e.escapeHtml;a.css=a.css||{};this.options=a;this.cssFilter=new d(a.css)}l.prototype.process=function(a){a=a||"";a=a.toString();if(!a)return"";var b=this;var c=b.options;var d=c.whiteList;var f=c.onTag;var l=c.onIgnoreTag;var m=c.onTagAttr;var n=c.onIgnoreTagAttr;var o=c.safeAttrValue;var p=c.escapeHtml;var q=b.cssFilter;if(c.stripBlankChar){a=e.stripBlankChar(a)}if(!c.allowCommentTag){a=e.stripCommentTag(a)}if(c.stripIgnoreTagBody){var r=e.StripTagBody(c.stripIgnoreTagBody,l);l=r.onIgnoreTag}else{r=false}var s=g(a,function(a,b,c,e,g){var r={sourcePosition:a,position:b,isClosing:g,isWhite:c in d};var s=f(c,e,r);if(!j(s))return s;if(r.isWhite){if(r.isClosing){return"</"+c+">"}var t=k(e);var u=d[c];var v=h(t.html,function(a,b){var d=i.indexOf(u,a)!==-1;var e=m(c,a,b,d);if(!j(e))return e;if(d){b=o(c,a,b,q);if(b){return a+'="'+b+'"'}else{return a}}else{var e=n(c,a,b,d);if(!j(e))return e;return}});var e="<"+c;if(v)e+=" "+v;if(t.closing)e+=" /";e+=">";return e}else{var s=l(c,e,r);if(!j(s))return s;return p(e)}},p);if(r){s=r.remove(s)}return s};b.exports=l},{"./default":1,"./parser":3,"./util":4,cssfilter:8}],6:[function(a,b,c){var d=a("./default");var e=a("./parser");var f=a("./util");function g(a){return a===undefined||a===null}function h(a){a=a||{};a.whiteList=a.whiteList||d.whiteList;a.onAttr=a.onAttr||d.onAttr;a.onIgnoreAttr=a.onIgnoreAttr||d.onIgnoreAttr;this.options=a}h.prototype.process=function(a){a=a||"";a=a.toString();if(!a)return"";var b=this;var c=b.options;var d=c.whiteList;var f=c.onAttr;var h=c.onIgnoreAttr;var i=e(a,function(a,b,c,e,i){var j=d[c];var k=false;if(j===true)k=j;else if(typeof j==="function")k=j(e);else if(j instanceof RegExp)k=j.test(e);if(k!==true)k=false;var l={position:b,sourcePosition:a,source:i,isWhite:k};if(k){var m=f(c,e,l);if(g(m)){return c+":"+e}else{return m}}else{var m=h(c,e,l);if(!g(m)){return m}}});return i};b.exports=h},{"./default":7,"./parser":9,"./util":10}],7:[function(a,b,c){var d={};d["align-content"]=false;d["align-items"]=false;d["align-self"]=false;d["alignment-adjust"]=false;d["alignment-baseline"]=false;d["all"]=false;d["anchor-point"]=false;d["animation"]=false;d["animation-delay"]=false;d["animation-direction"]=false;d["animation-duration"]=false;d["animation-fill-mode"]=false;d["animation-iteration-count"]=false;d["animation-name"]=false;d["animation-play-state"]=false;d["animation-timing-function"]=false;d["azimuth"]=false;d["backface-visibility"]=false;d["background"]=true;d["background-attachment"]=true;d["background-clip"]=true;d["background-color"]=true;d["background-image"]=true;d["background-origin"]=true;d["background-position"]=true;d["background-repeat"]=true;d["background-size"]=true;d["baseline-shift"]=false;d["binding"]=false;d["bleed"]=false;d["bookmark-label"]=false;d["bookmark-level"]=false;d["bookmark-state"]=false;d["border"]=true;d["border-bottom"]=true;d["border-bottom-color"]=true;d["border-bottom-left-radius"]=true;d["border-bottom-right-radius"]=true;d["border-bottom-style"]=true;d["border-bottom-width"]=true;d["border-collapse"]=true;d["border-color"]=true;d["border-image"]=true;d["border-image-outset"]=true;d["border-image-repeat"]=true;d["border-image-slice"]=true;d["border-image-source"]=true;d["border-image-width"]=true;d["border-left"]=true;d["border-left-color"]=true;d["border-left-style"]=true;d["border-left-width"]=true;d["border-radius"]=true;d["border-right"]=true;d["border-right-color"]=true;d["border-right-style"]=true;d["border-right-width"]=true;d["border-spacing"]=true;d["border-style"]=true;d["border-top"]=true;d["border-top-color"]=true;d["border-top-left-radius"]=true;d["border-top-right-radius"]=true;d["border-top-style"]=true;d["border-top-width"]=true;d["border-width"]=true;d["bottom"]=false;d["box-decoration-break"]=true;d["box-shadow"]=true;d["box-sizing"]=true;d["box-snap"]=true;d["box-suppress"]=true;d["break-after"]=true;d["break-before"]=true;d["break-inside"]=true;d["caption-side"]=false;d["chains"]=false;d["clear"]=true;d["clip"]=false;d["clip-path"]=false;d["clip-rule"]=false;d["color"]=true;d["color-interpolation-filters"]=true;d["column-count"]=false;d["column-fill"]=false;d["column-gap"]=false;d["column-rule"]=false;d["column-rule-color"]=false;d["column-rule-style"]=false;d["column-rule-width"]=false;d["column-span"]=false;d["column-width"]=false;d["columns"]=false;d["contain"]=false;d["content"]=false;d["counter-increment"]=false;d["counter-reset"]=false;d["counter-set"]=false;d["crop"]=false;d["cue"]=false;d["cue-after"]=false;d["cue-before"]=false;d["cursor"]=false;d["direction"]=false;d["display"]=true;d["display-inside"]=true;d["display-list"]=true;d["display-outside"]=true;d["dominant-baseline"]=false;d["elevation"]=false;d["empty-cells"]=false;d["filter"]=false;d["flex"]=false;d["flex-basis"]=false;d["flex-direction"]=false;d["flex-flow"]=false;d["flex-grow"]=false;d["flex-shrink"]=false;d["flex-wrap"]=false;d["float"]=false;d["float-offset"]=false;d["flood-color"]=false;d["flood-opacity"]=false;d["flow-from"]=false;d["flow-into"]=false;d["font"]=true;d["font-family"]=true;d["font-feature-settings"]=true;d["font-kerning"]=true;d["font-language-override"]=true;d["font-size"]=true;d["font-size-adjust"]=true;d["font-stretch"]=true;d["font-style"]=true;d["font-synthesis"]=true;d["font-variant"]=true;d["font-variant-alternates"]=true;d["font-variant-caps"]=true;d["font-variant-east-asian"]=true;d["font-variant-ligatures"]=true;d["font-variant-numeric"]=true;d["font-variant-position"]=true;d["font-weight"]=true;d["grid"]=false;d["grid-area"]=false;d["grid-auto-columns"]=false;d["grid-auto-flow"]=false;d["grid-auto-rows"]=false;d["grid-column"]=false;d["grid-column-end"]=false;
d["grid-column-start"]=false;d["grid-row"]=false;d["grid-row-end"]=false;d["grid-row-start"]=false;d["grid-template"]=false;d["grid-template-areas"]=false;d["grid-template-columns"]=false;d["grid-template-rows"]=false;d["hanging-punctuation"]=false;d["height"]=true;d["hyphens"]=false;d["icon"]=false;d["image-orientation"]=false;d["image-resolution"]=false;d["ime-mode"]=false;d["initial-letters"]=false;d["inline-box-align"]=false;d["justify-content"]=false;d["justify-items"]=false;d["justify-self"]=false;d["left"]=false;d["letter-spacing"]=true;d["lighting-color"]=true;d["line-box-contain"]=false;d["line-break"]=false;d["line-grid"]=false;d["line-height"]=false;d["line-snap"]=false;d["line-stacking"]=false;d["line-stacking-ruby"]=false;d["line-stacking-shift"]=false;d["line-stacking-strategy"]=false;d["list-style"]=true;d["list-style-image"]=true;d["list-style-position"]=true;d["list-style-type"]=true;d["margin"]=true;d["margin-bottom"]=true;d["margin-left"]=true;d["margin-right"]=true;d["margin-top"]=true;d["marker-offset"]=false;d["marker-side"]=false;d["marks"]=false;d["mask"]=false;d["mask-box"]=false;d["mask-box-outset"]=false;d["mask-box-repeat"]=false;d["mask-box-slice"]=false;d["mask-box-source"]=false;d["mask-box-width"]=false;d["mask-clip"]=false;d["mask-image"]=false;d["mask-origin"]=false;d["mask-position"]=false;d["mask-repeat"]=false;d["mask-size"]=false;d["mask-source-type"]=false;d["mask-type"]=false;d["max-height"]=true;d["max-lines"]=false;d["max-width"]=true;d["min-height"]=true;d["min-width"]=true;d["move-to"]=false;d["nav-down"]=false;d["nav-index"]=false;d["nav-left"]=false;d["nav-right"]=false;d["nav-up"]=false;d["object-fit"]=false;d["object-position"]=false;d["opacity"]=false;d["order"]=false;d["orphans"]=false;d["outline"]=false;d["outline-color"]=false;d["outline-offset"]=false;d["outline-style"]=false;d["outline-width"]=false;d["overflow"]=false;d["overflow-wrap"]=false;d["overflow-x"]=false;d["overflow-y"]=false;d["padding"]=true;d["padding-bottom"]=true;d["padding-left"]=true;d["padding-right"]=true;d["padding-top"]=true;d["page"]=false;d["page-break-after"]=false;d["page-break-before"]=false;d["page-break-inside"]=false;d["page-policy"]=false;d["pause"]=false;d["pause-after"]=false;d["pause-before"]=false;d["perspective"]=false;d["perspective-origin"]=false;d["pitch"]=false;d["pitch-range"]=false;d["play-during"]=false;d["position"]=false;d["presentation-level"]=false;d["quotes"]=false;d["region-fragment"]=false;d["resize"]=false;d["rest"]=false;d["rest-after"]=false;d["rest-before"]=false;d["richness"]=false;d["right"]=false;d["rotation"]=false;d["rotation-point"]=false;d["ruby-align"]=false;d["ruby-merge"]=false;d["ruby-position"]=false;d["shape-image-threshold"]=false;d["shape-outside"]=false;d["shape-margin"]=false;d["size"]=false;d["speak"]=false;d["speak-as"]=false;d["speak-header"]=false;d["speak-numeral"]=false;d["speak-punctuation"]=false;d["speech-rate"]=false;d["stress"]=false;d["string-set"]=false;d["tab-size"]=false;d["table-layout"]=false;d["text-align"]=true;d["text-align-last"]=true;d["text-combine-upright"]=true;d["text-decoration"]=true;d["text-decoration-color"]=true;d["text-decoration-line"]=true;d["text-decoration-skip"]=true;d["text-decoration-style"]=true;d["text-emphasis"]=true;d["text-emphasis-color"]=true;d["text-emphasis-position"]=true;d["text-emphasis-style"]=true;d["text-height"]=true;d["text-indent"]=true;d["text-justify"]=true;d["text-orientation"]=true;d["text-overflow"]=true;d["text-shadow"]=true;d["text-space-collapse"]=true;d["text-transform"]=true;d["text-underline-position"]=true;d["text-wrap"]=true;d["top"]=false;d["transform"]=false;d["transform-origin"]=false;d["transform-style"]=false;d["transition"]=false;d["transition-delay"]=false;d["transition-duration"]=false;d["transition-property"]=false;d["transition-timing-function"]=false;d["unicode-bidi"]=false;d["vertical-align"]=false;d["visibility"]=false;d["voice-balance"]=false;d["voice-duration"]=false;d["voice-family"]=false;d["voice-pitch"]=false;d["voice-range"]=false;d["voice-rate"]=false;d["voice-stress"]=false;d["voice-volume"]=false;d["volume"]=false;d["white-space"]=false;d["widows"]=false;d["width"]=true;d["will-change"]=false;d["word-break"]=true;d["word-spacing"]=true;d["word-wrap"]=true;d["wrap-flow"]=false;d["wrap-through"]=false;d["writing-mode"]=false;d["z-index"]=false;function e(a,b,c){}function f(a,b,c){}c.whiteList=d;c.onAttr=e;c.onIgnoreAttr=f},{}],8:[function(a,b,c){var d=a("./default");var e=a("./css");function f(a,b){var c=new e(b);return c.process(a)}c=b.exports=f;c.FilterCSS=e;for(var g in d)c[g]=d[g];if(typeof define==="function"&&define.amd){}if(typeof window!=="undefined"){window.filterCSS=b.exports}},{"./css":6,"./default":7}],9:[function(a,b,c){var d=a("./util");function e(a,b){a=d.trimRight(a);if(a[a.length-1]!==";")a+=";";var c=a.length;var e=false;var f=0;var g=0;var h="";function i(){if(!e){var c=d.trim(a.slice(f,g));var i=c.indexOf(":");if(i!==-1){var j=d.trim(c.slice(0,i));var k=d.trim(c.slice(i+1));if(j){var l=b(f,h.length,j,k,c);if(l)h+=l+"; "}}}f=g+1}for(;g<c;g++){var j=a[g];if(j==="/"&&a[g+1]==="*"){var k=a.indexOf("*/",g+2);if(k===-1)break;g=k+1;f=g+1;e=false}else if(j==="("){e=true}else if(j===")"){e=false}else if(j===";"){if(e){}else{i()}}else if(j==="\n"){i()}}return d.trim(h)}b.exports=e},{"./util":10}],10:[function(a,b,c){b.exports={indexOf:function(a,b){var c,d;if(Array.prototype.indexOf){return a.indexOf(b)}for(c=0,d=a.length;c<d;c++){if(a[c]===b){return c}}return-1},forEach:function(a,b,c){var d,e;if(Array.prototype.forEach){return a.forEach(b,c)}for(d=0,e=a.length;d<e;d++){b.call(c,a[d],d,a)}},trim:function(a){if(String.prototype.trim){return a.trim()}return a.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(a){if(String.prototype.trimRight){return a.trimRight()}return a.replace(/(\s*$)/g,"")}}},{}]},{},[2]);define("ur-xss",["require","underscore","xss"],function(a){var b=a("underscore");var c=a("xss");var d={};d["align-content"]=false;d["align-items"]=false;d["align-self"]=false;d["alignment-adjust"]=false;d["alignment-baseline"]=false;d["all"]=false;d["anchor-point"]=false;d["animation"]=false;d["animation-delay"]=false;d["animation-direction"]=false;d["animation-duration"]=false;d["animation-fill-mode"]=false;d["animation-iteration-count"]=false;d["animation-name"]=false;d["animation-play-state"]=false;d["animation-timing-function"]=false;d["azimuth"]=false;d["backface-visibility"]=false;d["background"]=true;d["background-attachment"]=true;d["background-clip"]=true;d["background-color"]=true;d["background-image"]=true;d["background-origin"]=true;d["background-position"]=true;d["background-repeat"]=true;d["background-size"]=true;d["baseline-shift"]=false;d["binding"]=false;d["bleed"]=false;d["bookmark-label"]=false;d["bookmark-level"]=false;d["bookmark-state"]=false;d["border"]=true;d["border-bottom"]=true;d["border-bottom-color"]=true;d["border-bottom-left-radius"]=true;d["border-bottom-right-radius"]=true;d["border-bottom-style"]=true;d["border-bottom-width"]=true;d["border-collapse"]=true;d["border-color"]=true;d["border-image"]=true;d["border-image-outset"]=true;d["border-image-repeat"]=true;d["border-image-slice"]=true;d["border-image-source"]=true;d["border-image-width"]=true;d["border-left"]=true;d["border-left-color"]=true;d["border-left-style"]=true;d["border-left-width"]=true;d["border-radius"]=true;d["border-right"]=true;d["border-right-color"]=true;d["border-right-style"]=true;d["border-right-width"]=true;d["border-spacing"]=true;d["border-style"]=true;d["border-top"]=true;d["border-top-color"]=true;d["border-top-left-radius"]=true;d["border-top-right-radius"]=true;d["border-top-style"]=true;d["border-top-width"]=true;d["border-width"]=true;d["bottom"]=false;d["box-decoration-break"]=true;d["box-shadow"]=true;d["box-sizing"]=true;d["box-snap"]=true;d["box-suppress"]=true;d["break-after"]=true;d["break-before"]=true;d["break-inside"]=true;d["caption-side"]=false;d["chains"]=false;d["clear"]=true;d["clip"]=false;d["clip-path"]=false;d["clip-rule"]=false;d["color"]=true;d["color-interpolation-filters"]=true;d["column-count"]=false;d["column-fill"]=false;d["column-gap"]=false;d["column-rule"]=false;d["column-rule-color"]=false;d["column-rule-style"]=false;d["column-rule-width"]=false;d["column-span"]=false;d["column-width"]=false;d["columns"]=false;d["contain"]=false;d["content"]=false;d["counter-increment"]=false;d["counter-reset"]=false;d["counter-set"]=false;d["crop"]=false;d["cue"]=false;d["cue-after"]=false;d["cue-before"]=false;d["cursor"]=false;d["direction"]=false;d["display"]=true;d["display-inside"]=true;d["display-list"]=true;d["display-outside"]=true;d["dominant-baseline"]=false;d["elevation"]=false;d["empty-cells"]=false;d["filter"]=false;d["flex"]=false;d["flex-basis"]=false;d["flex-direction"]=false;d["flex-flow"]=false;d["flex-grow"]=false;d["flex-shrink"]=false;d["flex-wrap"]=false;d["float"]=false;d["float-offset"]=false;d["flood-color"]=false;d["flood-opacity"]=false;d["flow-from"]=false;d["flow-into"]=false;d["font"]=true;d["font-family"]=true;d["font-feature-settings"]=true;d["font-kerning"]=true;d["font-language-override"]=true;d["font-size"]=true;d["font-size-adjust"]=true;d["font-stretch"]=true;d["font-style"]=true;d["font-synthesis"]=true;d["font-variant"]=true;d["font-variant-alternates"]=true;d["font-variant-caps"]=true;d["font-variant-east-asian"]=true;d["font-variant-ligatures"]=true;d["font-variant-numeric"]=true;d["font-variant-position"]=true;d["font-weight"]=true;d["grid"]=false;d["grid-area"]=false;d["grid-auto-columns"]=false;d["grid-auto-flow"]=false;d["grid-auto-rows"]=false;d["grid-column"]=false;d["grid-column-end"]=false;d["grid-column-start"]=false;d["grid-row"]=false;d["grid-row-end"]=false;d["grid-row-start"]=false;d["grid-template"]=false;d["grid-template-areas"]=false;d["grid-template-columns"]=false;d["grid-template-rows"]=false;d["hanging-punctuation"]=false;d["height"]=true;d["hyphens"]=false;d["icon"]=false;d["image-orientation"]=false;d["image-resolution"]=false;d["ime-mode"]=false;d["initial-letters"]=false;d["inline-box-align"]=false;d["justify-content"]=false;d["justify-items"]=false;d["justify-self"]=false;d["left"]=false;d["letter-spacing"]=true;d["lighting-color"]=true;d["line-box-contain"]=false;d["line-break"]=false;d["line-grid"]=false;d["line-height"]=false;d["line-snap"]=false;d["line-stacking"]=false;d["line-stacking-ruby"]=false;d["line-stacking-shift"]=false;d["line-stacking-strategy"]=false;d["list-style"]=true;d["list-style-image"]=true;d["list-style-position"]=true;d["list-style-type"]=true;d["margin"]=true;d["margin-bottom"]=true;d["margin-left"]=true;d["margin-right"]=true;d["margin-top"]=true;d["marker-offset"]=false;d["marker-side"]=false;d["marks"]=false;d["mask"]=false;d["mask-box"]=false;d["mask-box-outset"]=false;d["mask-box-repeat"]=false;d["mask-box-slice"]=false;d["mask-box-source"]=false;d["mask-box-width"]=false;d["mask-clip"]=false;d["mask-image"]=false;d["mask-origin"]=false;d["mask-position"]=false;d["mask-repeat"]=false;d["mask-size"]=false;d["mask-source-type"]=false;d["mask-type"]=false;d["max-height"]=true;d["max-lines"]=false;d["max-width"]=true;d["min-height"]=true;d["min-width"]=true;d["move-to"]=false;d["nav-down"]=false;d["nav-index"]=false;d["nav-left"]=false;d["nav-right"]=false;d["nav-up"]=false;d["object-fit"]=false;d["object-position"]=false;d["opacity"]=false;d["order"]=false;d["orphans"]=false;d["outline"]=false;d["outline-color"]=false;d["outline-offset"]=false;d["outline-style"]=false;d["outline-width"]=false;d["overflow"]=false;d["overflow-wrap"]=false;d["overflow-x"]=false;d["overflow-y"]=false;d["padding"]=true;d["padding-bottom"]=true;d["padding-left"]=true;d["padding-right"]=true;d["padding-top"]=true;d["page"]=false;d["page-break-after"]=false;d["page-break-before"]=false;d["page-break-inside"]=false;d["page-policy"]=false;d["pause"]=false;d["pause-after"]=false;d["pause-before"]=false;d["perspective"]=false;d["perspective-origin"]=false;d["pitch"]=false;d["pitch-range"]=false;d["play-during"]=false;d["position"]=false;d["presentation-level"]=false;d["quotes"]=false;d["region-fragment"]=false;d["resize"]=false;d["rest"]=false;d["rest-after"]=false;d["rest-before"]=false;d["richness"]=false;d["right"]=false;d["rotation"]=false;d["rotation-point"]=false;d["ruby-align"]=false;d["ruby-merge"]=false;d["ruby-position"]=false;d["shape-image-threshold"]=false;d["shape-outside"]=false;d["shape-margin"]=false;d["size"]=false;d["speak"]=false;d["speak-as"]=false;d["speak-header"]=false;d["speak-numeral"]=false;d["speak-punctuation"]=false;d["speech-rate"]=false;d["stress"]=false;d["string-set"]=false;d["tab-size"]=false;d["table-layout"]=false;d["text-align"]=true;d["text-align-last"]=true;d["text-combine-upright"]=true;d["text-decoration"]=true;d["text-decoration-color"]=true;d["text-decoration-line"]=true;d["text-decoration-skip"]=true;d["text-decoration-style"]=true;d["text-emphasis"]=true;d["text-emphasis-color"]=true;d["text-emphasis-position"]=true;d["text-emphasis-style"]=true;d["text-height"]=true;d["text-indent"]=true;d["text-justify"]=true;d["text-orientation"]=true;d["text-overflow"]=true;d["text-shadow"]=true;d["text-space-collapse"]=true;d["text-transform"]=true;d["text-underline-position"]=true;d["text-wrap"]=true;d["top"]=false;d["transform"]=false;d["transform-origin"]=false;d["transform-style"]=false;d["transition"]=false;d["transition-delay"]=false;d["transition-duration"]=false;d["transition-property"]=false;d["transition-timing-function"]=false;d["unicode-bidi"]=false;d["vertical-align"]=true;d["visibility"]=false;d["voice-balance"]=false;d["voice-duration"]=false;d["voice-family"]=false;d["voice-pitch"]=false;d["voice-range"]=false;d["voice-rate"]=false;d["voice-stress"]=false;d["voice-volume"]=false;d["volume"]=false;d["white-space"]=false;d["widows"]=false;d["width"]=true;d["will-change"]=false;d["word-break"]=true;d["word-spacing"]=true;d["word-wrap"]=true;d["wrap-flow"]=false;d["wrap-through"]=false;d["writing-mode"]=false;d["z-index"]=false;var e=new c.FilterXSS({whiteList:{a:["target","href","title"],abbr:["title"],address:["style"],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:["style"],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:["style"],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:["style"],dl:["style"],dt:["style"],em:["style"],font:["color","size","face"],footer:[],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],header:[],hr:[],i:["style"],iframe:[],img:["id","src","alt","title","width","height","style"],ins:["datetime"],li:["style"],mark:[],nav:[],ol:["style"],p:["style","class"],pre:[],s:[],section:[],small:[],span:["style","data-id","class"],sub:[],sup:[],strong:["style"],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","colspan","align","valign"],tfoot:["align","valign"],th:["width","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:["style"],video:["autoplay","controls","loop","preload","src","height","width"]},css:{whiteList:d}});var f={"&lt;":"<","&gt;":">","&amp;":"&","&#39;":"'","&quot;":'"',"&#96;":"`"};var g="(?:"+b.keys(f).join("|")+")";var h=new RegExp(g,"g");function i(a){return f[a]}function j(a){return a.replace(h,i)}return function(a){a=a||"";a=j(a);return e.process(a)}});define("app/common/api/questionLib",["require","exports","module","app/common/ur_ajax","jquery","../dataBac","underscore","ur-xss"],function(a,b,c){"use strict";var d=a("app/common/ur_ajax");var e=a("jquery");var f=a("../dataBac");var g=a("underscore");var h=a("ur-xss");function i(a){if(!a){a={}}if(a.title){a.title=h(a.title)}if(a.description){a.description=h(a.description)}if(a.options){a.options.forEach(function(a){a.text=h(a.text)})}if(a.subTitles){a.subTitles.forEach(function(a){a.text=h(a.text)})}if(a.groups){b(a.groups)}function b(a){e.each(a,function(a,c){c[1]=h(c[1]);if(c[2]){b(c[2])}})}return a}function j(a){if(a.indexOf("video_showframe")>0){if(a.indexOf("iframe")>0){return a.replace(/iframe/g,"_wjFrame_")}else{return a}}else{return a}}c.exports={getUserQues:function(){return d({type:"GET",url:"/survey/question_user_list_get",cache:false}).done(function(a){g.map(a.data.list.question_list,function(a){a.content=i(a.content);return a})})},addUserQues:function(a,b,c){a=j(a);return d({type:"POST",url:"/survey/question_user_add",data:{content:a,group:b,label:c}})},deleteUserQues:function(a){return d({type:"POST",url:"/survey/question_user_delete",data:{question_id:a}})},getSysQues:function(){var a=e.Deferred();var b={group_list:{},question_list:[]};var c={info:"success",status:1,data:{p_params:{p_limit:100,p_num:1},list:{}}};Number.prototype.padLeft=function(a,b){var c=String(a||10).length-String(this).length+1;return c>0?new Array(c).join(b||"0")+this:this};return d({type:"GET",url:"/survey/question_system_list_get"}).done(function(a){g.map(a.data.list.question_list,function(a){a.content=i(a.content);return a})})}}});define("app/edit/common/models/question_lib",["require","exports","module","backbone","app/common/api/questionLib","underscore","jquery"],function(a,b,c){"use strict";var d=a("backbone");var e=a("app/common/api/questionLib");var f=a("underscore");var g=a("jquery");var h=d.Collection.extend({typeGroups:{"":[],"":[],"":[],"":[],"":[],"":[],"":[],"":[]},groupsClassName:{"":"favQuestion","":"populationProperties","":"userContact","":"onlineBahaviours","":"usageBackground","":"satisfyLevel","":"mobileUsage","":"friendConnection"},deferUserData:{},deferSysData:{},getData:function(){var a=g.when(this.deferUserData,this.deferSysData);var b=this;return a.done(function(a,c){b.add(b.handleData(a));b.add(b.handleData(c))})},initialize:function(){this.deferUserData=this.getUserData();this.deferSysData=this.getSysData()},handleData:function(a){var b=this;var c=f.map(a.question_list,function(c,d){var e=c.content;e["category"]=b._searchKey(a,c.question_id);e["fid"]=c.question_id;e["label"]=c.label;return e});return c},_searchKey:function(a,b){var c;f.each(a.group_list,function(a,d){if(a.indexOf(b)!==-1){c=d}});return c},getQuestionLibByFid:function(a){var b=this;var c=b.findWhere({fid:a}).toJSON();delete c.fid;delete c.category;delete c.label;return c},getSysData:function(){var a=g.Deferred();e.getSysQues().done(function(b){a.resolve(b.data.list)});return a},getUserData:function(){var a=g.Deferred();e.getUserQues().done(function(b){a.resolve(b.data.list)});return a},addUserQues:function(a,b){var c=this;var d=g.extend(true,{},a);var f=g("<div>"+d["title"]+"</div>");f.find("img").replaceWith("[]");f.find("iframe").replaceWith("[]");d=c._cleanLogic(d);d["category"]="";d["label"]=d["label"]||f.text();e.addUserQues(JSON.stringify(d),"",f.text()).done(function(a){LOG.info(null,"add success");d["fid"]=a.data;b.trigger("addUserQuesTrigger",d)}).fail(function(a){LOG.info(null,"add fail")}).always(function(){})},_cleanLogic:function(a){var b=a;delete b.goto;delete b.refer;delete b.display;delete b.real_index;if(b.options){f.forEach(b.options,function(a,b){delete a.goto;delete a.display})}return b},delUserQues:function(a,b){e.deleteUserQues(a).done(function(){LOG.info(null,"delete success")}).fail(function(a){LOG.info(null,"delete fail")}).always(function(){b.trigger("delUserQuesTrigger",a)})}});var i=new h;i.on("add",function(a){var b=a.get("category");this.typeGroups[b].push(a.cid)});c.exports=i});define("support",["require","exports","module"],function(a,b,c){c.exports={css:function(a){var b=document.createElement("div");var c="webkit ms".split(" ");var d=c.length;if(a in b.style){return true}a=a.replace(/^[a-z]/,function(a){return a.toUpperCase()});while(d--){if(c[d]+a in b.style){return true}}return false}}});define("app/common/views/survey_style",["require","exports","module","jquery","underscore","support"],function(a,b,c){"use strict";var d=a("jquery");var e=a("underscore");var f=a("support");c.exports=function(a){var b=a==="mobile"?true:false;var c=function(a){var b=a.theme;var c=d("#theme_css");if(b==="default"){c.remove();return}var e="/themes/"+b+"/theme.css";if(c.length!==0){c.attr("href",e)}else{c=d('<link id="theme_css" rel="stylesheet" type="text/css" href="'+e+'"/>');d("head").append(c)}};var g=e.throttle(function(a){var c=d(".survey_background_wrap");if(c.length===0){c=d('<div class="survey_background_wrap"></div>');d(".g_container").prepend(c)}var e=d(".survey_wrap");var g=d(".g_footer");var i=false;var j=function(a){var c;if(a&&a.theme&&a.theme!=="default"){c=b?"/themes/"+a.theme+"/assets/background_mobile.jpg":"/themes/"+a.theme+"/assets/background.jpg"}if(a&&a.custom&&a.custom.backgroundImage){i=true;c="/"+a.custom.backgroundImage;c=location.protocol+"//"+"cdn.ur.qq.com/"+c}return c};var k=j(a);if(!k){c.css({backgroundImage:"",backgroundSize:"",backgroundAttachment:""});c.children().remove();e.css({backgroundColor:""});g.css({backgroundColor:""});g.removeClass("has_background");return}if(f.css("backgroundSize")){c.css({backgroundImage:'url("'+k+'")',backgroundSize:"cover",backgroundPosition:"center center"})}else{var l=d('<img src="'+k+'"/>');c.html(l);l.on("load",h)}c.css({height:d(window).height()});if(i){e.css({backgroundColor:"rgba(255, 255, 255, 0.9)"})}g.css({backgroundColor:"transparent"});g.addClass("has_background")},200);var h=function(){var a=d(this);var b=d(window).width()/d(window).height();var c=a.width()/a.height();if(b<c){a.css({height:"100%",width:"auto"})}else{a.css({width:"100%",height:"auto"})}};if(!b){d(window).on("resize",function(){var a=d(".survey_background_wrap");a.css({height:d(window).height()})})}return{setStyle:function(a){c(a);g(a)},render:function(a){if(!a){var b=d(".survey_content").css("margin-top");var c=d(window).height();if(parseInt(b)>c){d(".survey_content").css("margin-top","20%")}d(".survey_prevpage, .survey_nextpage").click(function(){setTimeout(function(){if(d(".survey_title").is(":visible")){d(".survey_content").css("margin-top",b)}else{d(".survey_content").css("margin-top",0)}},20)});d(".survey_submit").click(function(){d(".survey_content").css("margin-top",0)})}else{this.setStyle(a)}}}}});define("app/common/views/dialog_verify",["require","exports","module","jquery","art-dialog/dialog"],function(a,b,c){var d=a("jquery");var e=a("art-dialog/dialog");var f="550011611";var g=Math.random();var h="";var i="2052";var j=1;var k=2;var l;var m=false;var n=false;var o;var p=function(a){if(a.ret===0){if(n===false){var b=capGetTicket();console.log("",a);o.close();o.onSuccess(b.ticket,b.randstr)}n=true}else{alert("")}};var q=function(a,b){if(o){return o}o=this;o.isMobile=k===1;o._def=o.getScript(a,b);if(!o.isMobile){o._dialog=e({title:"",content:'<div id="dialog_verify_container"></div>',skin:"dialog_verify",cancel:function(){return false},cancelDisplay:false,onshow:function(){if(!m){capInit(document.getElementById("dialog_verify_container"),{type:"embed",callback:p});m=true}else{capRefresh()}}})}return o};q.prototype.showModal=function(){var a=this;a._def.then(function(){if(!a.isMobile){a._dialog.showModal()}else{capInit(document.getElementById("dialog_verify_container"),{showHeader:false,callback:p})}})};q.prototype.close=function(){if(this.isMobile){return}this._dialog.close()};q.prototype.onSuccess=function(a,b){console.log(a,b)};q.prototype.getScript=function(a,b){var c="https://ssl.captcha.qq.com/template/TCapIframeApi.js?aid="+f+"&rand="+g+"&clientype="+k+"&uin="+h+"&lang="+i+"&apptype="+j;if(a&&b){c+="&captype="+a+"&disturblevel="+b}return d.getScript(c)};c.exports=function(a){k=a?1:2;return q}});define("app/edit/pc/views/visualizer",["require","exports","module","jquery","lodash","backbone","bowser"],function(a,b,c){var d=a("jquery");var e=a("lodash");var f=a("backbone");var g=a("bowser");function h(a){var a=a.replace(/(\_[a-z])/g,function(a){return a.toUpperCase().replace("_","")});return a.charAt(0).toUpperCase()+a.slice(1)}var i={x:50,y:100};var j=function(){};if(!g.msie){a(["/js/lib/jointjs/rappid.min.js"],function(a){j=f.View.extend({el:"#ur_demo",initialize:function(a,b,c,d){this.surveyQuestions=b;this.surveyRules=c;this.questionPositions=d;this.initShapes();this.initializePaper();var e=this;setTimeout(function(){e.draw();e.initializeNavigator()},200)},initShapes:function(){a.shapes.ur={};a.shapes.ur.Meta=a.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><rect class="body"/></g><text/></g>',defaults:a.util.deepSupplement({type:"ur.Meta",size:{width:80,height:40},attrs:{rect:{fill:"#ffffff",stroke:"#ececec",width:80,height:40},text:{"font-size":14,text:"",lineHeight:20,"ref-x":.5,"ref-y":.5,ref:"rect","y-alignment":"middle","x-alignment":"middle",fill:"#333333"}}},a.shapes.basic.Generic.prototype.defaults),initialize:function(){a.shapes.basic.Generic.prototype.initialize.apply(this,arguments);this.attr("text/text",this.get("text"))}});a.shapes.ur.MetaView=a.dia.ElementView.extend({initialize:function(){a.dia.ElementView.prototype.initialize.apply(this,arguments);this.autoresize()},autoresize:function(){var b=a.util.measureText(this.model.get("text"),{fontSize:this.model.attr("text/font-size")});this.model.resize(b.width+100,b.height+50)}});a.shapes.ur.Start=a.shapes.ur.Meta.extend({defaults:a.util.deepSupplement({type:"ur.Start",attrs:{".body":{magnet:false}}},a.shapes.ur.Meta.prototype.defaults)});a.shapes.ur.StartView=a.shapes.ur.MetaView.extend();a.shapes.ur.End=a.shapes.ur.Meta.extend();a.shapes.ur.EndView=a.shapes.ur.MetaView.extend();a.shapes.ur.Question=a.shapes.basic.Generic.extend(e.extend({},a.shapes.basic.PortsModelInterface,{markup:'<g class="rotatable"><g class="scalable"><rect class="body"/></g><text class="question-text"/><g class="options"></g><g class="outPorts"/></g>',portMarkup:'<g class="port port-<%= port.id %>"><circle class="port-body"/><text class="port-label"/></g>',optionMarkup:'<g class="option"><rect class="option-rect"/><text class="option-text"/><g class="option-port"><circle class="port-body"/><text class="port-label"/></g></g>',defaults:a.util.deepSupplement({type:"ur.Question",size:{width:1,height:1},optionHeight:30,questionHeight:45,paddingBottom:25,minWidth:200,attrs:{".":{magnet:false},".body":{width:200,height:1e3,stroke:"#ececec",fill:"#ffffff",magnet:"passive"},".port-body":{magnet:true},".port-label":{"pointer-events":"none"},".option-port":{ref:".body","ref-dx":0,"y-alignment":35},".option-port .port-body":{type:"output"},text:{"font-family":"Arial"},".option-text":{"font-size":12,fill:"#333333","y-alignment":31,x:10},".option-text tspan":{x:10},".question-text":{"font-size":12,fill:"#333333","ref-x":.5,"ref-y":10,"x-alignment":"middle",ref:".body"},".outPorts .port-label":{"font-size":12,fill:"#999999",y:4,"x-alignment":125},".option .port-body":{stroke:"#c7c7c7",r:5,fill:"#ffffff"},".inPorts .port-body":{stroke:"none",fill:"#C0C0C0",r:5,magnet:"passive"},".outPorts .port-body":{stroke:"none",fill:"#C0C0C0",r:5,type:"output"},".option-rect":{}}},a.shapes.basic.Generic.prototype.defaults),initialize:function(){this.attr(".options/ref-y",this.get("questionHeight"),{silent:true});this.attr(".question-text/text",this.get("question"),{silent:true});this.attr(".option-port .port-body/index",this.get("index"),{silent:true});this.attr(".option-port .port-body/page",this.get("page"),{silent:true});this.attr(".body/index",this.get("index"),{silent:true});this.attr(".body/page",this.get("page"),{silent:true});this.onChangeOptions();a.shapes.basic.PortsModelInterface.initialize.apply(this,arguments)},onChangeOptions:function(){var a=this.get("options");var b=this.get("size");var c=this.get("optionHeight");var d=this.get("attrs");e.each(d,function(a,b){if(a.dynamic){this.removeAttr(b,{silent:true})}},this);var f=0;var g={};e.each(a,function(a){var b=".option-"+a.id;g[b]={transform:"translate(0, "+f+")",dynamic:true};g[b+" .option-rect"]={height:c,dynamic:true};g[b+" .option-port .port-body"]={port:a.id,dynamic:true};g[b+" .option-text"]={text:a.text,dynamic:true};f+=c},this);this.attr(g);this.autoresize()},autoresize:function(){var b=this.get("options")||[];var c=this.get("paddingBottom")||20;var d=b.length*this.get("optionHeight")+this.get("questionHeight")+c;var e=a.util.measureText(this.get("question"),{fontSize:this.attr(".question-text/font-size")}).width;this.resize(200,d)},getPortAttrs:function(a,b,c,d,e){var f={};var g="port-"+a.id;var h=d+">."+g;var i=h+">.port-label";var j=h+">.port-body";f[i]={text:a.label};f[j]={port:{id:a.id,type:e,label:a.label}};f[h]={ref:".body","ref-x":0,"ref-y":45};if(d===".outPorts"){f[h+">.port-body"]["ref-x"]=.999;f[h+">.port-body"]["page"]=this.get("page");f[h+">.port-body"]["index"]=this.get("index")}return f}}));a.shapes.ur.QuestionView=a.dia.ElementView.extend(e.extend({},a.shapes.basic.PortsViewInterface,{initialize:function(){a.shapes.basic.PortsViewInterface.initialize.apply(this,arguments)},renderMarkup:function(){a.dia.ElementView.prototype.renderMarkup.apply(this,arguments);this.$options=this.$("[class~=options]");this.elOption=a.V(this.model.optionMarkup);this.renderOptions()},renderOptions:function(){this.$options.empty();e.each(this.model.get("options"),function(a,b){var c="option-"+a.id;var d=this.elOption.clone().addClass(c);d.attr("option-id",a.id);this.$options.append(d.node)},this);this.update()}}));a.shapes.ur.Radio=a.shapes.ur.Question.extend();a.shapes.ur.RadioView=a.shapes.ur.QuestionView.extend();a.shapes.ur.Select=a.shapes.ur.Question.extend();a.shapes.ur.SelectView=a.shapes.ur.QuestionView.extend();a.shapes.ur.Checkbox=a.shapes.ur.Question.extend(e.extend({},{defaults:a.util.deepSupplement({type:"ur.Checkbox"},a.shapes.ur.Question.prototype.defaults)}));a.shapes.ur.CheckboxView=a.shapes.ur.QuestionView.extend();a.shapes.ur.Text=a.shapes.ur.Question.extend();a.shapes.ur.TextView=a.shapes.ur.QuestionView.extend();a.shapes.ur.Textarea=a.shapes.ur.Question.extend();a.shapes.ur.TextareaView=a.shapes.ur.QuestionView.extend();a.shapes.ur.MatrixRadio=a.shapes.ur.Question.extend();a.shapes.ur.MatrixRadioView=a.shapes.ur.QuestionView.extend();a.shapes.ur.MatrixCheckbox=a.shapes.ur.Question.extend();a.shapes.ur.MatrixCheckboxView=a.shapes.ur.QuestionView.extend();a.shapes.ur.MatrixStar=a.shapes.ur.Question.extend();a.shapes.ur.MatrixStarView=a.shapes.ur.QuestionView.extend();a.shapes.ur.TextMultiple=a.shapes.ur.Question.extend();a.shapes.ur.TextMultipleView=a.shapes.ur.QuestionView.extend();a.shapes.ur.Star=a.shapes.ur.Question.extend();a.shapes.ur.StarView=a.shapes.ur.QuestionView.extend();a.shapes.ur.Sort=a.shapes.ur.Question.extend(e.extend({},{defaults:a.util.deepSupplement({type:"ur.Sort"},a.shapes.ur.Question.prototype.defaults)}));a.shapes.ur.SortView=a.shapes.ur.QuestionView.extend();a.shapes.ur.ChainedSelects=a.shapes.ur.Question.extend();a.shapes.ur.ChainedSelectsView=a.shapes.ur.QuestionView.extend();a.shapes.ur.Upload=a.shapes.ur.Question.extend();a.shapes.ur.UploadView=a.shapes.ur.QuestionView.extend();a.shapes.ur.Description=a.shapes.ur.Question.extend(e.extend({},{defaults:a.util.deepSupplement({type:"ur.Description"},a.shapes.ur.Question.prototype.defaults)}));a.shapes.ur.DescriptionView=a.shapes.ur.QuestionView.extend();a.util.measureText=function(b,c){var d=parseInt(c.fontSize,10)||10;var f=a.V("svg").node;var g=a.V("<text><tspan></tspan></text>").node;var h=g.firstChild;var i=document.createTextNode("");h.appendChild(i);f.appendChild(g);document.body.appendChild(f);var j=b.split("\n");var k=0;e.each(j,function(a){i.data=a;var b=h.getComputedTextLength();k=Math.max(k,b)});var l=j.length*(d*1.2);a.V(f).remove();return{width:k,height:l}}},initializePaper:function(){var b=this;this.graph=new a.dia.Graph;d("#export").on("click",function(){
b.exportJson(b.graph)});this.paper=new a.dia.Paper({model:this.graph,width:d("#paper").width(),height:d("#paper").height(),gridSize:1,perpendicularLinks:false,interactive:function(b){if(b.model instanceof a.dia.Link){return{vertexAdd:false}}return true},linkPinning:false,validateConnection:function(a,b,c,d,e,f){if(b&&(b.getAttribute("port")=="in"||b.getAttribute("type")=="input"))return false;if(d&&(d.getAttribute("port")=="out"||d.getAttribute("type")=="output"))return false;if(a===c)return false;if(b&&d&&parseInt(b.getAttribute("index"))>=parseInt(d.getAttribute("index")))return false;if(a&&c&&parseInt(a.model.attributes.index)>=parseInt(c.model.attributes.index))return false;if(c&&c.model.id==="start")return false;if(c&&c.model.attributes.type==="link")return false;return true},validateMagnet:function(a,c){var d=c.getAttribute("port");var f=b.graph.getConnectedLinks(a.model,{outbound:true});var g=e.filter(f,function(a){return a.get("source").port==d});if(g.length>0)return false;return c.getAttribute("magnet")!=="passive"},defaultLink:new a.dia.Link({connector:{name:"smooth"},attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z",fill:"#c7c7c7",stroke:"#c7c7c7"},".connection":{stroke:"#c7c7c7","stroke-width":1},".marker-arrowhead":{fill:"#479de6"}}})});this.paperScroller=new a.ui.PaperScroller({paper:this.paper,autoResizePaper:true,padding:0});this.paper.on("blank:pointerdown",this.paperScroller.startPanning);this.paperScroller.$el.css({width:"100%",height:"100%"}).appendTo("#paper");this.paperScroller.center();this.paper.on("cell:pointerdown",function(b,c,d,e){if(b.model instanceof a.dia.Link){var f=b.model;f.on("change:source",function(){f.attributes.defaultLink=false});f.on("change:target",function(){f.attributes.defaultLink=false});return true}a.V(c.target).addClass("dragging")});this.paper.on("cell:pointerup",function(b,c,d,e){if(b.model instanceof a.dia.Link){return true}a.V(c.target).removeClass("dragging")})},initializeNavigator:function(){this.nav=new a.ui.Navigator({paperScroller:this.paperScroller,width:300,height:100,padding:0,zoomOptions:{max:1,min:.6}});this.nav.$el.appendTo("#navigator");this.nav.render()},calculatePosition:function(a,b){var c=this;if(a.type==="ur.Start"){return i}if(a.type==="ur.End"){return{x:i.x+285*a.index,y:i.y}}return{x:i.x+285*(a.index+1),y:i.y}},getLayoutData:function(a){var b=this;var c={cells:[]};var f=e.object(e.map(this.questionPositions,function(a){return[a.id,a]}));a.nodes.forEach(function(a,d){var e;if(f[a.id]){e=f[a.id].position}else{e=b.calculatePosition(a,f)}switch(a.type){case"ur.Start":case"ur.End":case"ur.Meta":c.cells.push({type:a.type,position:e,text:a.text,id:a.id,z:d+1});break;case"ur.Radio":case"ur.Select":c.cells.push({type:a.type,outPorts:[{id:"out",label:"",type:"output"}],position:e,question:a.text,options:a.options,id:a.id,z:d+1,index:a.index,page:a.page});break;case"ur.Checkbox":case"ur.Text":case"ur.Textarea":case"ur.TextMultiple":case"ur.MatrixRadio":case"ur.MatrixCheckbox":case"ur.MatrixStar":case"ur.Star":case"ur.Sort":case"ur.ChainedSelects":case"ur.Upload":case"ur.Description":c.cells.push({type:a.type,outPorts:[{id:"out",label:"",type:"output"}],position:e,question:a.text,id:a.id,z:d+1,index:a.index,page:a.page});break;case"ur.Question":default:c.cells.push({type:"ur.Question",outPorts:[{id:"out",label:"",type:"output"}],position:e,question:a.text,id:a.id,z:d+1,index:a.index,page:a.page});break}});var g=e.object(e.map(c.cells,function(a){return[a.id,a]}));a.links.forEach(function(b,e){var f={};if(g[b.source.id]&&g[b.target.id]&&g[b.source.id].page&&g[b.target.id].page&&g[b.source.id].page!=g[b.target.id].page){f=[{position:.5,attrs:{text:{text:""+g[b.target.id].page+"",fill:"#333333"},rect:{stroke:"#ececec","stroke-width":1,rx:1,ry:1,width:20,height:8}}}]}var h={type:"link",source:b.source,target:b.target,connector:{name:"smooth"},id:b.id,z:a.nodes.length+e+1,attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z",fill:"#c7c7c7",stroke:"#c7c7c7"},".connection":{stroke:"#c7c7c7","stroke-width":1},".marker-arrowhead":{fill:"#479de6"},".link-tools .link-tool":{left:"50%"}},labels:f,defaultLink:false};if(b.defaultLink||b.source.port==="out"){d.extend(h.attrs,{".marker-arrowhead-group-source .marker-arrowhead":{display:"none"},".link-tools .link-tool .tool-remove":{display:"none"}});h.defaultLink=b.defaultLink?true:false}c.cells.push(h)});return c},_supportDisplayLogic:function(a){var b=["radio","checkbox","select"];return b.indexOf(a.type)!==-1},draw:function(){var b=this;var c={nodes:[{id:"start",type:"ur.Start",text:""}],links:[]};var f=0;var g=null;var i=[];this.surveyQuestions.forEach(function(d,e){d.questions.forEach(function(d,j){var j=f;var k="";if(d.type!="description"){j=++f;k="Q"+j+"."}var l=k+d.title.replace(/<(?:.|\n)*?>/gm,"").trim().substring(0,11);if(d.title.length>11){l+=""}var m={id:d.id.toString(),index:d.real_index,page:e+1,type:"ur."+h(d.type),text:l};if(b._supportDisplayLogic(d)&&d.options){m.options=[];d.options.forEach(function(a,b){var c=a.text.replace(/<(?:.|\n)*?>|\n|\r/gm,"").trim().substring(0,12);if(a.text>12){c+=""}m.options.push({id:a.id.toString(),text:c})})}if(d.required){m.required=d.required}c.nodes.push(m);if(g){var n={source:{id:g.id.toString(),port:"out"},target:{id:d.id.toString()},id:a.util.uuid(),defaultLink:true};i.push(n)}else{var n={source:{id:"start"},target:{id:d.id.toString()},id:a.util.uuid(),defaultLink:true};i.push(n)}g=d})});c.nodes.push({id:"end",type:"ur.End",text:"",index:c.nodes.length});i.push({source:{id:g.id.toString(),port:"out"},target:{id:"end"},id:a.util.uuid(),defaultLink:true});var j=[];var k=[];e.each(this.surveyRules,function(b){var c=b.rule["=="][0]["var"].split(".");var d;var e;if(c[2]=="answered"){d="out";e=c[1];j.push(e)}if(c[4]=="selected"){d=c[3];e=c[1]}k.push({source:{id:e,port:d},target:{id:b.action[0].q_target_id},id:a.util.uuid(),defaultLink:false})});i=e.filter(i,function(a){if(d.inArray(a.source.id,j)>-1){return false}return true});c.links=i;c.links.push.apply(c.links,k);console.log(this.getLayoutData(c));this.graph.fromJSON(this.getLayoutData(c))},exportJson:function(a){var b=this;var c=[];var d=[];var f={};var g=0;e.forEach(this.surveyQuestions,function(a){e.forEach(a.questions,function(a){f[a.id]=a;a.q_index=g;g++})});e.each(b.graph.get("cells").models,function(a){if(a.get("type")==="link"){var b=false;var e;var g=a.attributes.source.id;var h=a.attributes.target.id;if(a.get("defaultLink")){b=true}if(a.attributes.source.port==="out"&&f[g]&&f[h]&&f[g].real_index+1===f[h].real_index){b=true}if(a.attributes.source.port==="out"){e="q."+a.attributes.source.id+".answered"}else{e="q."+a.attributes.source.id+".options."+a.attributes.source.port+".selected"}var i={rule:{"==":[{"var":e},true]},action:[{type:"goto_q",q_target_id:a.attributes.target.id}]};if(!b){d.push(i)}}if(a.get("type")!="link"){var i={id:a.get("id"),position:a.get("position")};c.push(i)}});return JSON.stringify({list:d,positions:c},null,2)}})})}function k(a,b,c,d){return new j(a,b,c,d)}c.exports=k;var l="Created by Michael Zhang with love. Aug/11/2016"});define("amd-templates/edit/pc/dialog_switch_text_edit",["../../template"],function(a){return a("edit/pc/dialog_switch_text_edit",'<div class="dialog_content text"> <p><i class="ico ico_alert"></i><strong></strong><strong></strong></p> </div> <div class="dialog_content preview"> <a class="btn_preview_switch" href="javascript:;"></a> </div> <div class="compare"> <div class="compare_item compare_before"> <div class="compare_text"></div> <div class="compare_container"></div> </div> <div class="compare_item compare_after"> <div class="compare_text"></div> <div class="compare_container"></div> </div> </div> ')});define("amd-templates/common/pc/survey/title",["../../../template"],function(a){return a("common/pc/survey/title",function(a){"use strict";var b=this,c=(b.$helpers,b.$string),d=a.title,e=a.prefix,f="";return f+='<h1 class="survey_title"> <div class="inner"> <h1 class="title_content">',f+=c(d),f+='</h1> </div> </h1> <div class="survey_prefix"> <div class="inner prefix_content"> <h3 class="prefix_content">',f+=c(e),f+="</h3> </div> </div> ",new String(f)})});define("amd-templates/common/mobile/survey/questions/radio",["../../../../template","../../../pc/survey/questions/radio"],function(a){return a("common/mobile/survey/questions/radio",function(a,b){"use strict";var c=this,d=(c.$helpers,function(d,f){f=f||a;var g=c.$include(d,f,b);return e+=g}),e="";return d("../../../pc/survey/questions/radio"),e+=" ",new String(e)})});define("amd-templates/common/mobile/survey/questions/checkbox",["../../../../template","./radio"],function(a){return a("common/mobile/survey/questions/checkbox",function(a,b){"use strict";var c=this,d=(c.$helpers,function(d,f){f=f||a;var g=c.$include(d,f,b);return e+=g}),e="";return d("./radio"),e+=" ",new String(e)})});define("amd-templates/common/mobile/survey/questions/select",["../../../../template","../../../pc/survey/questions/select"],function(a){return a("common/mobile/survey/questions/select",function(a,b){"use strict";var c=this,d=(c.$helpers,function(d,f){f=f||a;var g=c.$include(d,f,b);return e+=g}),e="";return d("../../../pc/survey/questions/select"),e+=" ",new String(e)})});define("amd-templates/common/mobile/survey/questions/text",["../../../../template","../../../pc/survey/questions/text"],function(a){return a("common/mobile/survey/questions/text",function(a,b){"use strict";var c=this,d=(c.$helpers,function(d,f){f=f||a;var g=c.$include(d,f,b);return e+=g}),e="";return d("../../../pc/survey/questions/text"),e+=" ",new String(e)})});define("amd-templates/common/mobile/survey/questions/textarea",["../../../../template","../../../pc/survey/questions/textarea"],function(a){return a("common/mobile/survey/questions/textarea",function(a,b){"use strict";var c=this,d=(c.$helpers,function(d,f){f=f||a;var g=c.$include(d,f,b);return e+=g}),e="";return d("../../../pc/survey/questions/textarea"),e+=" ",new String(e)})});define("amd-templates/common/mobile/survey/questions/star",["../../../../template","../../../pc/survey/questions/star"],function(a){return a("common/mobile/survey/questions/star",function(a,b){"use strict";var c=this,d=(c.$helpers,function(d,f){f=f||a;var g=c.$include(d,f,b);return e+=g}),e="";return d("../../../pc/survey/questions/star"),e+=" ",new String(e)})});define("amd-templates/common/mobile/survey/questions/matrix_radio",["../../../../template","../../../pc/survey/questions/matrix_radio"],function(a){return a("common/mobile/survey/questions/matrix_radio",function(a,b){"use strict";var c=this,d=(c.$helpers,function(d,f){f=f||a;var g=c.$include(d,f,b);return e+=g}),e="";return d("../../../pc/survey/questions/matrix_radio"),e+=" ",new String(e)})});define("amd-templates/common/mobile/survey/questions/matrix_checkbox",["../../../../template","./matrix_radio"],function(a){return a("common/mobile/survey/questions/matrix_checkbox",function(a,b){"use strict";var c=this,d=(c.$helpers,function(d,f){f=f||a;var g=c.$include(d,f,b);return e+=g}),e="";return d("./matrix_radio"),e+=" ",new String(e)})});define("amd-templates/common/mobile/survey/questions/matrix_star",["../../../../template","../../../pc/survey/questions/matrix_star"],function(a){return a("common/mobile/survey/questions/matrix_star",function(a,b){"use strict";var c=this,d=(c.$helpers,function(d,f){f=f||a;var g=c.$include(d,f,b);return e+=g}),e="";return d("../../../pc/survey/questions/matrix_star"),e+=" ",new String(e)})});define("amd-templates/common/mobile/survey/questions/title",["../../../../template","../../../pc/survey/questions/title"],function(a){return a("common/mobile/survey/questions/title",function(a,b){"use strict";var c=this,d=(c.$helpers,function(d,f){f=f||a;var g=c.$include(d,f,b);return e+=g}),e="";return d("../../../pc/survey/questions/title"),e+=" ",new String(e)})});define("amd-templates/common/mobile/survey/questions/sort",["../../../../template","./title","../../../pc/survey/questions/question_refer"],function(a){return a("common/mobile/survey/questions/sort",function(a,b){"use strict";var c=this,d=(c.$helpers,c.$escape),e=a.type,f=a.id,g=function(d,e){e=e||a;var f=c.$include(d,e,b);return l+=f},h=a.refer,i=c.$each,j=a.options,k=(a.option,a.index,c.$string),l="";return l+='<div class="question question_',l+=d(e),l+='" id="question_',l+=d(f),l+='" data-type="',l+=d(e),l+='" data-id="',l+=d(f),l+='"> <div class="inner"> ',g("./title"),l+=" ",h&&(l+=" ",g("../../../pc/survey/questions/question_refer"),l+=" "),l+=' <div class="inputs" ',h&&(l+='style="display:none;"'),l+='> <div class="sort_tip lng_tip_draw"> Tips: </div> <div class="sort_container"> <div class="index_container"> ',i(j,function(a,b){l+=' <div class="index"> ',l+=d(b+1),l+=" </div> "}),l+=' </div> <div class="answer_container"> ',i(j,function(a){l+=' <div class="sort_option_item" data-oid="',l+=d(a.id),l+='" role="radio" tabindex="-1" aria-checked="false"> <div class="text">',l+=k(a.text),l+='</div> <div class="handle"> <i class="ico"></i> </div> </div> '}),l+=" </div> </div> </div> </div> </div> ",new String(l)})});define("amd-templates/common/mobile/survey/questions/chained_selects",["../../../../template","./title"],function(a){return a("common/mobile/survey/questions/chained_selects",function(a,b){"use strict";var c=this,d=(c.$helpers,c.$escape),e=a.type,f=a.id,g=function(d,e){e=e||a;var f=c.$include(d,e,b);return k+=f},h=a.refer,i=c.$each,j=a.levels,k=(a.level,a.index,"");return k+='<div class="question question_',k+=d(e),k+='" id="question_',k+=d(f),k+='" data-type="',k+=d(e),k+='" data-id="',k+=d(f),k+='"> <div class="inner"> ',g("./title"),k+=' <div class="inputs" style="',h&&(k+="display: none;"),k+='"> ',i(j,function(a,b){k+=' <div class="level" style="display: none;"> <b>',k+=d(a),k+='</b> <select class="chained_select" data-level="',k+=d(b+1),k+='" selected > <option disabled selected value class="lng_chooseline">----</option> </select> </div> '}),k+=" </div> </div> </div> ",new String(k)})});define("amd-templates/common/mobile/survey/questions/upload",["../../../../template","../../../pc/survey/questions/upload"],function(a){return a("common/mobile/survey/questions/upload",function(a,b){"use strict";var c=this,d=(c.$helpers,function(d,f){f=f||a;var g=c.$include(d,f,b);return e+=g}),e="";return d("../../../pc/survey/questions/upload"),e+=" ",new String(e)})});define("amd-templates/common/mobile/survey/questions/description",["../../../../template","../../../pc/survey/questions/description"],function(a){return a("common/mobile/survey/questions/description",function(a,b){"use strict";var c=this,d=(c.$helpers,function(d,f){f=f||a;var g=c.$include(d,f,b);return e+=g}),e="";return d("../../../pc/survey/questions/description"),e+=" ",new String(e)})});define("amd-templates/common/mobile/survey/questions/text_multiple",["../../../../template","./title"],function(a){return a("common/mobile/survey/questions/text_multiple",function(a,b){"use strict";var c=this,d=(c.$helpers,c.$escape),e=a.type,f=a.id,g=function(d,e){e=e||a;var f=c.$include(d,e,b);return h+=f},h="";return h+='<div class="question question_',h+=d(e),h+='" data-type="',h+=d(e),h+='" id="question_',h+=d(f),h+='" data-id="',h+=d(f),h+='"> <div class="inner"> ',g("./title"),h+=" </div> </div> ",new String(h)})});define("amd-templates/common/mobile/survey/question",["../../../template","./questions/radio","./questions/checkbox","./questions/select","./questions/text","./questions/textarea","./questions/star","./questions/matrix_radio","./questions/matrix_checkbox","./questions/matrix_star","./questions/sort","./questions/chained_selects","./questions/upload","./questions/description","./questions/text_multiple"],function(a){return a("common/mobile/survey/question",function(a,b){"use strict";var c=this,d=(c.$helpers,a.type),e=function(d,e){e=e||a;var g=c.$include(d,e,b);return f+=g},f="";return"radio"==d&&(f+=" ",e("./questions/radio"),f+=" "),f+=" ","checkbox"==d&&(f+=" ",e("./questions/checkbox"),f+=" "),f+=" ","select"==d&&(f+=" ",e("./questions/select"),f+=" "),f+=" ","text"==d&&(f+=" ",e("./questions/text"),f+=" "),f+=" ","textarea"==d&&(f+=" ",e("./questions/textarea"),f+=" "),f+=" ","star"==d&&(f+=" ",e("./questions/star"),f+=" "),f+=" ","matrix_radio"==d&&(f+=" ",e("./questions/matrix_radio"),f+=" "),f+=" ","matrix_checkbox"==d&&(f+=" ",e("./questions/matrix_checkbox"),f+=" "),f+=" ","matrix_star"==d&&(f+=" ",e("./questions/matrix_star"),f+=" "),f+=" ","sort"==d&&(f+=" ",e("./questions/sort"),f+=" "),f+=" ","chained_selects"==d&&(f+=" ",e("./questions/chained_selects"),f+=" "),f+=" ","upload"==d&&(f+=" ",e("./questions/upload"),f+=" "),f+=" ","description"==d&&(f+=" ",e("./questions/description"),f+=" "),f+=" ","text_multiple"===d&&(f+=" ",e("./questions/text_multiple"),f+=" "),f+=" ",new String(f)})});define("amd-templates/edit/pc/mini_survey",["../../template","../../common/pc/survey/title","../../common/mobile/survey/question"],function(a){return a("edit/pc/mini_survey",function(a,b){"use strict";var c=this,d=(c.$helpers,function(d,e){e=e||a;var f=c.$include(d,e,b);return h+=f}),e=c.$each,f=a.pages,g=(a.page,a.index,c.$escape),h=(a.question,"");return h+=' <div class="mini_survey"> ',d("../../common/pc/survey/title"),h+=" ",e(f,function(a,b){h+=" ",b>0&&(h+=' <div class="page_splitor"> <span>',h+=g(b),h+="</span> </div> "),h+=' <div class="page" id="page_',h+=g(a.id),h+='" data-id="',h+=g(a.id),h+='"> ',e(a.questions,function(a){h+=" ",d("../../common/mobile/survey/question",a),h+=" "}),h+=" </div> "}),h+=" </div> ",new String(h)})});define("app/edit/pc/views/dialog_switch",["require","exports","module","jquery","art-dialog/dialog","app/util/richtext","amd-templates/edit/pc/dialog_switch_text_edit","amd-templates/edit/pc/mini_survey","app/common/views/question"],function(a,b,c){var d=a("jquery");var e=a("art-dialog/dialog");var f=a("app/util/richtext");var g=a("amd-templates/edit/pc/dialog_switch_text_edit")();var h=a("amd-templates/edit/pc/mini_survey");var i=a("app/common/views/question");var j;var k;var l;var m;function n(a){k=a.okCb||function(){};l=a.cancelCb||function(){};m=a.surveyModel||"";j=e({skin:"dialog_switch_text",width:800,title:"",content:g,button:[{value:"",autofocus:true,callback:k},{value:"",callback:l}],onshow:o})}function o(){var a=d(this.node);a.on("click",".btn_preview_switch",function(b){d(this).css("display","none");a.find(".compare").css("display","block");var c=m.get("survey");var e=f.formatPlainTextSurvey(m.get("survey"));e=f.removeReferForTextSurvey(e);var g=h(c);var j=h(e);a.find(".compare_before .compare_container").html(g);a.find(".compare_after .compare_container").html(j);a.find(".compare_container .question_index").each(function(a,b){var c=d(b).data("for");if(!c){return}a=m.exec("getQuestionField",c,"index");d(b).text(a+1)});a.find(".compare_container .question_chained_selects").each(function(a,b){d(b).find(".level").first().css("display","block")});a.find(".compare_container .question_sort").each(function(a,b){var c=d(b);var e=c.find(".index_container .index");var f=c.find(".answer_container .sort_option_item");f.each(function(a,b){e.eq(a).height(d(b).outerHeight(true))})});a.find(".compare_container .question_matrix_star").each(function(a,b){var c=d(b);i.adjustMatrixStar(c)})})}function p(a){n(a);j.showModal()}c.exports={showModal:p}});define("amd-templates/edit/pc/logic_visualizer",["../../template"],function(a){return a("edit/pc/logic_visualizer",function(a){"use strict";var b=this,c=(b.$helpers,a.notCompatible),d="";return d+='<div class="tabs"> <div class="tab current"></div> <div id="switch_to_advanced_logic" class="tab switch_to_advanced_logic"></div> </div> ',d+=c?' <div class="browser-warnings"> <div class="warning"> <i class="ico ico_warning"></i> <p><span class="switch switch_to_advanced_logic"></span></p> </div> <div class="browsers clearfix">  <div class="browser chrome"> <img src="image/pc/browser_chrome.png" alt="Chrome" /> <a class="download" href="https://www.google.cn/intl/zh-CN/chrome/" target="_blank"></a> </div> <div class="browser safari"> <img src="image/pc/browser_safari.png" alt="Safari" /> <a class="download" href="https://support.apple.com/zh_CN/downloads/safari" target="_blank"></a> </div> </div> </div> ':' <section id="ur_demo"> <div id="paper"></div> <div id="navigator"></div> <button id="export"></button> </section> <script> SVGElement.prototype.getTransformToElement = SVGElement.prototype.getTransformToElement || function(toElement) { return toElement.getScreenCTM().inverse().multiply(this.getScreenCTM()); }; </script> ',d+=" ",new String(d)})});define("amd-templates/edit/pc/switch_to_advanced_logic",["../../template"],function(a){return a("edit/pc/switch_to_advanced_logic","<p></p> ")});define("amd-templates/edit/pc/switch_to_simple_logic",["../../template"],function(a){return a("edit/pc/switch_to_simple_logic","<p></p> ")});define("amd-templates/edit/pc/logic_setting",["../../template"],function(a){return a("edit/pc/logic_setting",function(a){"use strict";var b=this,c=(b.$helpers,a.displayLogic),d=b.$each,e=a.question,f=(a.option,a.index,b.$escape),g=b.$string,h=(a.i,a.survey),i=(a.page,a.q,a.currentPageIndex),j="";return j+='<div class="tabs"> <div id="switch_to_simple_logic" class="tab"></div> <div class="tab current"></div> </div> <div class="subtabs"> ',c&&(j+=' <div class="subtab current"></div> '),j+=' <div class="subtab ',c||(j+="current"),j+='"></div> </div> <div class="panels"> ',c&&(j+=' <div class="options_panel panel current"> <div class="left_panel"> <div class="tip">:</div> <ul> ',d(e.options,function(a,b){j+=' <li class="option ',0==b&&(j+="current"),j+='">',j+=f(b+1),j+=".",j+=g(a.text),j+="</li> "}),j+=" </ul> </div> ",d(e.options,function(a,b){j+=' <div class="option_panel right_panel ',0==b&&(j+="current"),j+='"> <div class="display_logic"> <div class="tip">:</div> ',d(h.pages,function(b,c){j+=' <div class="page"> <h3>',j+=f(c+1),j+="</h3> <ul> ",d(b.questions,function(b){j+=' <li data-id="',j+=f(b.id),j+='" class="question ',b.real_index<=e.real_index&&(j+="disabled"),j+=" ",a.display[b.id]&&(j+="selected"),j+=' "> ',"description"===b.type?(j+=" ",j+=g(b.title),j+=" "):(j+=" ",j+=f(b.index+1),j+=".",j+=g(b.title),j+=" "),j+=" </li> "}),j+=" </ul> </div> "}),j+=' </div> <div class="goto_logic"> : <select name="goto"> <option value></option> ',d(h.pages,function(b,c){j+=" ",c>i&&(j+=" <option ",a.goto==b.id&&(j+="selected"),j+=" value=",j+=f(b.id),j+=">",j+=f(c+1),j+="</option> "),j+=" "}),j+=" <option ",-1==a.goto&&(j+="selected"),j+=' value="-1"></option> </select> </div> </div> '}),j+=" </div> "),j+=' <div id="question_panel" class="questions_panel panel ',c||(j+="current"),j+='"> <div class="goto_logic"> : <select name="goto"> <option value></option> ',d(h.pages,function(a,b){j+=" ",b>i&&(j+=" <option ",e.goto==a.id&&(j+="selected"),j+=" value=",j+=f(a.id),j+=">",j+=f(b+1),j+="</option> "),j+=" "}),j+=" <option ",-1==e.goto&&(j+="selected"),j+=' value="-1"></option> </select> </div> </div> </div> ',new String(j)})});define("amd-templates/edit/pc/page",["../../template"],function(a){return a("edit/pc/page",function(a){"use strict";var b=this,c=(b.$helpers,a.currentPageIndex),d=a.page,e=b.$escape,f="";return c==d.index?(f+=' <div class="page" data-pid="',f+=e(d.id),f+='" style="display: block;"></div> '):(f+=' <div class="page" data-pid="',f+=e(d.id),f+='" style="display: none;"></div> '),f+=" ",new String(f)})});define("jqueryColor/jqueryColor",["require","exports","module","jquery"],function(a,b,c){var d=a("jquery");(function(a,b){var c="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",d=/^([\-+])=\s*(\d+\.?\d*)/,e=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1]*2.55,a[2]*2.55,a[3]*2.55,a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],f=a.Color=function(b,c,d,e){return new a.Color.fn.parse(b,c,d,e)},g={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},h={"byte":{floor:true,max:255},percent:{max:1},degrees:{mod:360,floor:true}},i=f.support={},j=a("<p>")[0],k,l=a.each;j.style.cssText="background-color:rgba(1,1,1,.5)";i.rgba=j.style.backgroundColor.indexOf("rgba")>-1;l(g,function(a,b){b.cache="_"+a;b.props.alpha={idx:3,type:"percent",def:1}});function m(a,b,c){var d=h[b.type]||{};if(a==null){return c||!b.def?null:b.def}a=d.floor?~~a:parseFloat(a);if(isNaN(a)){return b.def}if(d.mod){return(a+d.mod)%d.mod}return 0>a?0:d.max<a?d.max:a}function n(b){var c=f(),d=c._rgba=[];b=b.toLowerCase();l(e,function(a,e){var f,h=e.re.exec(b),i=h&&e.parse(h),j=e.space||"rgba";if(i){f=c[j](i);c[g[j].cache]=f[g[j].cache];d=c._rgba=f._rgba;return false}});if(d.length){if(d.join()==="0,0,0,0"){a.extend(d,k.transparent)}return c}return k[b]}f.fn=a.extend(f.prototype,{parse:function(c,d,e,h){if(c===b){this._rgba=[null,null,null,null];return this}if(c.jquery||c.nodeType){c=a(c).css(d);d=b}var i=this,j=a.type(c),o=this._rgba=[];if(d!==b){c=[c,d,e,h];j="array"}if(j==="string"){return this.parse(n(c)||k._default)}if(j==="array"){l(g.rgba.props,function(a,b){o[b.idx]=m(c[b.idx],b)});return this}if(j==="object"){if(c instanceof f){l(g,function(a,b){if(c[b.cache]){i[b.cache]=c[b.cache].slice()}})}else{l(g,function(b,d){var e=d.cache;l(d.props,function(a,b){if(!i[e]&&d.to){if(a==="alpha"||c[a]==null){return}i[e]=d.to(i._rgba)}i[e][b.idx]=m(c[a],b,true)});if(i[e]&&a.inArray(null,i[e].slice(0,3))<0){i[e][3]=1;if(d.from){i._rgba=d.from(i[e])}}})}return this}},is:function(a){var b=f(a),c=true,d=this;l(g,function(a,e){var f,g=b[e.cache];if(g){f=d[e.cache]||e.to&&e.to(d._rgba)||[];l(e.props,function(a,b){if(g[b.idx]!=null){c=g[b.idx]===f[b.idx];return c}})}return c});return c},_space:function(){var a=[],b=this;l(g,function(c,d){if(b[d.cache]){a.push(c)}});return a.pop()},transition:function(a,b){var c=f(a),d=c._space(),e=g[d],i=this.alpha()===0?f("transparent"):this,j=i[e.cache]||e.to(i._rgba),k=j.slice();c=c[e.cache];l(e.props,function(a,d){var e=d.idx,f=j[e],g=c[e],i=h[d.type]||{};if(g===null){return}if(f===null){k[e]=g}else{if(i.mod){if(g-f>i.mod/2){f+=i.mod}else if(f-g>i.mod/2){f-=i.mod}}k[e]=m((g-f)*b+f,d)}});return this[d](k)},blend:function(b){if(this._rgba[3]===1){return this}var c=this._rgba.slice(),d=c.pop(),e=f(b)._rgba;return f(a.map(c,function(a,b){return(1-d)*e[b]+d*a}))},toRgbaString:function(){var b="rgba(",c=a.map(this._rgba,function(a,b){return a==null?b>2?1:0:a});if(c[3]===1){c.pop();b="rgb("}return b+c.join()+")"},toHslaString:function(){var b="hsla(",c=a.map(this.hsla(),function(a,b){if(a==null){a=b>2?1:0}if(b&&b<3){a=Math.round(a*100)+"%"}return a});if(c[3]===1){c.pop();b="hsl("}return b+c.join()+")"},toHexString:function(b){var c=this._rgba.slice(),d=c.pop();if(b){c.push(~~(d*255))}return"#"+a.map(c,function(a){a=(a||0).toString(16);return a.length===1?"0"+a:a}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}});f.fn.parse.prototype=f.fn;function o(a,b,c){c=(c+1)%1;if(c*6<1){return a+(b-a)*c*6}if(c*2<1){return b}if(c*3<2){return a+(b-a)*(2/3-c)*6}return a}g.hsla.to=function(a){if(a[0]==null||a[1]==null||a[2]==null){return[null,null,null,a[3]]}var b=a[0]/255,c=a[1]/255,d=a[2]/255,e=a[3],f=Math.max(b,c,d),g=Math.min(b,c,d),h=f-g,i=f+g,j=i*.5,k,l;if(g===f){k=0}else if(b===f){k=60*(c-d)/h+360}else if(c===f){k=60*(d-b)/h+120}else{k=60*(b-c)/h+240}if(h===0){l=0}else if(j<=.5){l=h/i}else{l=h/(2-i)}return[Math.round(k)%360,l,j,e==null?1:e]};g.hsla.from=function(a){if(a[0]==null||a[1]==null||a[2]==null){return[null,null,null,a[3]]}var b=a[0]/360,c=a[1],d=a[2],e=a[3],f=d<=.5?d*(1+c):d+c-d*c,g=2*d-f;return[Math.round(o(g,f,b+1/3)*255),Math.round(o(g,f,b)*255),Math.round(o(g,f,b-1/3)*255),e]};l(g,function(c,e){var g=e.props,h=e.cache,i=e.to,j=e.from;f.fn[c]=function(c){if(i&&!this[h]){this[h]=i(this._rgba)}if(c===b){return this[h].slice()}var d,e=a.type(c),k=e==="array"||e==="object"?c:arguments,n=this[h].slice();l(g,function(a,b){var c=k[e==="object"?a:b.idx];if(c==null){c=n[b.idx]}n[b.idx]=m(c,b)});if(j){d=f(j(n));d[h]=n;return d}else{return f(n)}};l(g,function(b,e){if(f.fn[b]){return}f.fn[b]=function(f){var g=a.type(f),h=b==="alpha"?this._hsla?"hsla":"rgba":c,i=this[h](),j=i[e.idx],k;if(g==="undefined"){return j}if(g==="function"){f=f.call(this,j);g=a.type(f)}if(f==null&&e.empty){return this}if(g==="string"){k=d.exec(f);if(k){f=j+parseFloat(k[2])*(k[1]==="+"?1:-1)}}i[e.idx]=f;return this[h](i)}})});f.hook=function(b){var c=b.split(" ");l(c,function(b,c){a.cssHooks[c]={set:function(b,d){var e,g,h="";if(d!=="transparent"&&(a.type(d)!=="string"||(e=n(d)))){d=f(e||d);if(!i.rgba&&d._rgba[3]!==1){g=c==="backgroundColor"?b.parentNode:b;while((h===""||h==="transparent")&&g&&g.style){try{h=a.css(g,"backgroundColor");g=g.parentNode}catch(j){}}d=d.blend(h&&h!=="transparent"?h:"_default")}d=d.toRgbaString()}try{b.style[c]=d}catch(j){}}};a.fx.step[c]=function(b){if(!b.colorInit){b.start=f(b.elem,c);b.end=f(b.end);b.colorInit=true}a.cssHooks[c].set(b.elem,b.start.transition(b.end,b.pos))}})};f.hook(c);a.cssHooks.borderColor={expand:function(a){var b={};l(["Top","Right","Bottom","Left"],function(c,d){b["border"+d+"Color"]=a});return b}};k=a.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(d)});define("app/edit/pc/views/survey",["require","exports","module","jquery","lodash","bowser","bind_events","dragula","app/util/animate","art-dialog/dialog","ur-ckeditor","app/util/richtext","./question","backbone","./question_editor","app/edit/common/models/question_lib","app/common/views/survey_style","app/edit/common/views/share","app/common/views/dialog_verify","./visualizer","./dialog_switch","amd-templates/edit/pc/logic_visualizer","amd-templates/edit/pc/switch_to_advanced_logic","amd-templates/edit/pc/switch_to_simple_logic","amd-templates/edit/pc/logic_setting","amd-templates/edit/pc/page","jqueryColor/jqueryColor","scrollIntoViewIfNeeded"],function(a,b,c){var d=a("jquery");var e=a("lodash");var f=a("bowser");var g=a("bind_events");var h=a("dragula");var i=a("app/util/animate");var j=a("art-dialog/dialog");var k=a("ur-ckeditor");var l=a("app/util/richtext");var m=a("./question");var n=a("backbone");var o=a("./question_editor");var p=a("app/edit/common/models/question_lib");var q=a("app/common/views/survey_style")("pc");var r=a("app/edit/common/views/share");var s=a("app/common/views/dialog_verify")(false);var t=a("./visualizer");var u=a("./dialog_switch");var v=a("amd-templates/edit/pc/logic_visualizer");var w=a("amd-templates/edit/pc/switch_to_advanced_logic");var x=a("amd-templates/edit/pc/switch_to_simple_logic");var y=a("amd-templates/edit/pc/logic_setting");var z=a("amd-templates/edit/pc/page");
a("jqueryColor/jqueryColor");a("scrollIntoViewIfNeeded");var A=function(a,b){this.$el=d(".editor_main");this.model=a;this.settingView=b;this.updateStyle();this.bindModelEvents();this.bindUIEvents();this.render();this.savingTipDialog=null;this.shareView=new r({surveyModel:a})};e.extend(A.prototype,{bindModelEvents:function(){g.bindModelEvents(this,this.model,{edit_addQuestion_success:"addQuestionHandler",edit_copyQuestion_success:"copyQuestionHandler",edit_updateQuestion_success:"updateQuestionHandler",edit_removeQuestion_success:"removeQuestionHandler",edit_moveQuestion_success:"moveQuestionHandler",edit_addPage_success:"addPageHandler",edit_removePage_success:"removePageHandler",edit_movePage_success:"movePageHandler",edit_success:"editSuccessHandler",edit_error:"editErrorHandler",historyBack:"historyBackHandler",surveySaving:"surveySavingHandler",surveySaved:"surveySavedHandler",surveySaveFailed:"surveySaveFailedHanlder",surveySettingSaved:"render",currentPageIndexSet:"currentPageIndexSetHandler",surveyStyleSaved:"updateStyle",show_verify:"show_verify_dialog"});g.bindModelEvents(this,this.event,{addUserQuesTrigger:"addUserQuesHandler"})},bindUIEvents:function(){var a=this;g.bindUIEvents(this,this.$el,{"blur .survey_title .title_content":"updateTitle","blur .survey_prefix .prefix_content":"updatePrefix","blur .survey_suffix .suffix_content":"updateSuffix","click .edit":"editQuestion","click .question .control_mask":"editQuestion","click .copy":"copyQuestion","click .delete":"removeQuestion","click .logic":"showLogicSettingDialog","click .fav":"favQuestion"});g.bindUIEvents(this,d("#publish_survey"),{click:"clickPublishHandler"});g.bindUIEvents(this,d("#close_survey"),{click:"clickCloseHandler"});g.bindUIEvents(this,d("#switch_to_text_mode"),{click:"clickSwitchHandler"});window.onbeforeunload=function(){if(f.msie&&Number(f.version)<9){}else{if(a.model.exec("isUpToDate")){}else{return"..."}}}},event:e.extend({},n.Events),clickPublishHandler:function(a){var b=this;var c=d.Deferred();var e=function(){return b.model.exec("isQuestionEmpty")};var f=function(){if(b.model.get("survey.startTime")==="0"){b.settingView.showModal(null,function(){g()});return d.Deferred().reject()}};var g=function(){var a=function(){e.remove();f.show();var a=j({skin:"saving-tip",align:"bottom",zIndex:999999,content:"",autofocus:false});setTimeout(function(){a.remove()},5e3);d("#analyse_link").attr({href:"stat_overview.html?id="+b.model.get("id")}).show();a.show(d("#header")[0]);b.render()};var c=function(){e.remove();f.show()};var e=d("<div><img src='/image/loading-f0f0.gif'><p style='margin-top: 20px;'></p></div>").css({textAlign:"center",verticalAlign:"middle",display:"inline-block"});var f=d(".survey_wrap");f.hide();f.after(e);b.model.exec("publishSurvey").done(a).fail(c)};var h=function(a){if(typeof a==="string"){var b=j({skin:"tips edit_error_tips",content:a,align:"top"}).show();setTimeout(function(){b.close().remove()},2500)}};c.then(e).then(f).then(g).fail(h);c.resolve()},clickCloseHandler:function(a){var b=this;b.model.exec("closeSurvey").done(function(){var a=j({skin:"saving-tip",align:"bottom",zIndex:999999,content:"",autofocus:false});setTimeout(function(){a.remove()},5e3);a.show(d("#header")[0]);b.render()});window.onbeforeunload=function(){if(f.msie&&Number(f.version)<9){}else{if(b.model.exec("isUpToDate")){}else{return"..."}}}},clickSwitchHandler:function(a){var b=this;var c=this.model;u.showModal({surveyModel:c,okCb:function(){b.model.exec("switchEditMode","text").then(function(){window.location="text_editor.html?sid="+b.model.get("survey.id")})}})},addQuestionHandler:function(a){var b=a.question;var c=a.position.pid;var d=a.position.qindex;C(b);var e=this.$el.find(".page").filter("[data-pid="+c+"]");var f=new m(b,this.model);if(d===0){e.append(f)}else{e.children().eq(d-1).after(f)}f.hide();f.slideDown();if(m.onAppend[b.type]){m.onAppend[b.type](this.model,f)}this.updateIndex()},copyQuestionHandler:function(a){this.addQuestionHandler(a)},updateQuestionHandler:function(a){var b=this;var c=a.qid;if(f.msie&&f.version<=10){var d=function(){};var g=function(){d=function(a,b){if(a){a[b]=null}};window.setTimeout(g,10)};g()}var h=new m(a.question,this.model);this.$el.find("#question_"+c).replaceWith(h);if(m.onAppend[a.question.type]){m.onAppend[a.question.type](this.model,h)}if(a.questions){e.forEach(a.questions,function(a){b.reRenderQuestion(a)})}this.updateIndex()},removeQuestionHandler:function(a){var b=this;var c=a.qid;a.info.warning.forEach(function(a){if(a.type===""){b.reRenderQuestion(a.question.id)}});var e=this.$el.find("#question_"+c);e.slideUp(function(){e.remove();b.updateIndex()});this.goBackTipDialog&&this.goBackTipDialog.remove();var f=j({skin:"saving-tip go-back error",align:"bottom",zIndex:9999999,content:"<a href='javascript:;'></a>",onshow:function(){d(this.node).find("a").mousedown(function(){b.model.exec("historyBack");f.remove()});setTimeout(function(){f.remove()},15e3)}});f.show(d("#header")[0]);this.goBackTipDialog=f},moveQuestionHandler:function(a){var b=a.options;var c=b.positionPageID;var d=b.targetQuestionID;var e=b.positionIndex;this.$el.find("#question_"+d).remove();var f=this.model.exec("getQuestionByID",d);var g=new m(f,this.model);var h=this.$el.find(".page[data-pid="+c+"]");if(e===0){h.prepend(g)}else{g.insertAfter(h.children().eq(e-1))}if(m.onAppend[f.type]){m.onAppend[f.type](this.model,g)}this.updateIndex()},addPageHandler:function(a){var b=a.page;this.addPage(b);this.updateIndex()},removePageHandler:function(a){var b=this;var c=a.pid;a.info.warning.forEach(function(a){if(a.type===""){b.reRenderQuestion(a.question.id)}if(a.type===""){b.reRenderQuestion(a.question.id)}});var d=this.$el.find("[data-pid="+c+"]").remove();this.dragWrap.removeContainer(d[0]);this.updateIndex()},movePageHandler:function(a){this.renderPages();this.updateIndex()},editSuccessHandler:function(a){this.goBackTipDialog&&this.goBackTipDialog.remove()},editErrorHandler:function(a){var b=a.info.error[0];switch(b){case"":var c=j({skin:"tips edit_error_tips",content:b,align:"top"}).show(d(".survey_title")[0]);i.errorShake(".survey_title .title_content");d(".survey_title .title_content").focus();setTimeout(function(){c.close().remove()},2500);break;case"":var c=j({skin:"tips edit_error_tips",content:b,align:"top"}).show();setTimeout(function(){c.close().remove()},2500);break;case"":case"":case"":case"":case"":case"":case"":case"":case"":case"":break;default:j({title:"",width:300,height:100,skin:"ui-dialog-small",content:b.info||b,okValue:"",ok:function(){}}).showModal();break}},historyBackHandler:function(){this.render();this.goBackTipDialog&&this.goBackTipDialog.remove();var a=j({skin:"saving-tip go-back error",align:"bottom",zIndex:9999999,content:"",onshow:function(){setTimeout(function(){a.remove()},4e3)}});a.show(d("#header")[0]);this.goBackTipDialog=a},surveySavingHandler:function(){this.savingTipDialog&&this.savingTipDialog.remove();var a=j({skin:"saving-tip",align:"bottom",zIndex:999999,content:"..."});a.show(d("#header")[0]);this.savingTipDialog=a},surveySavedHandler:function(){this.savingTipDialog&&this.savingTipDialog.remove();var a=j({skin:"saving-tip",align:"bottom",zIndex:999999,content:"",autofocus:false});setTimeout(function(){a.remove()},3e3);a.show(d("#header")[0]);this.savingTipDialog=a},surveySaveFailedHanlder:function(){var a=this;this.savingTipDialog&&this.savingTipDialog.remove();var b=j({skin:"saving-tip error",align:"bottom",zIndex:999999,autofocus:false,content:"<a href='javascript:;'></a>",onshow:function(){d(this.node).find("a").click(function(){a.model.exec("syncToServer");b.remove()})}});b.show(d("#header")[0]);this.savingTipDialog=b},currentPageIndexSetHandler:function(a){this.renderTitle();this.renderPrefix();this.renderSuffix();this.renderPage(a)},scrollIntoViewQuestion:function(a){var b=this.$el.find("#question_"+a);b.scrollIntoViewIfNeeded(d(".editor_main"));b.css("backgroundColor","#e8f2fa").animate({backgroundColor:"#ffffff"},500,function(){d(this).css("backgroundColor","")})},updateTitle:function(){this.model.exec("edit","updateTitle",k.getData(".survey_title .title_content"))},updatePrefix:function(){this.model.exec("edit","updatePrefix",k.getData(".survey_prefix .prefix_content"))},updateSuffix:function(){this.model.exec("edit","updateSuffix",k.getData(".survey_suffix .suffix_content"))},editQuestion:function(a){var b=this;var c=this.model;var e=d(a.target).closest(".question");var f=e.data("id");var g=c.exec("getQuestionByID",f);C(g);var h=new o({$originQuestion:e,surveyModel:c,surveyView:b,question:g});if(h){b.dragWrap.disable();h.afterCancel=function(){b.dragWrap.enable()};h.afterConfirm=function(){b.dragWrap.enable()}}},copyQuestion:function(a){var b=d(a.target).closest(".question");var c=b.data("id");this.model.exec("edit","copyQuestion",c)},removeQuestion:function(a){var b=d(a.target).closest(".question");var c=b.data("id");var e=this;var f=e.model.get("survey.recycle");if(this.model.get("editMode")==="supplementary"&&f>0){j({title:"",width:300,height:100,skin:"ui-dialog-small",content:""+f+"",button:[{value:"",callback:function(){}},{value:"",callback:function(){e.model.exec("copySurvey").done(function(a){location.href="/edit.html?sid="+a.data.id+"&prev_oper=copy"})}},{value:"",autofocus:true,callback:function(){e.model.exec("edit","removeQuestion",c)}}]}).showModal()}else{this.model.exec("edit","removeQuestion",c)}},showLogicSettingDialog:function(a){var b=this;var c=false;var g=d(a.target).closest(".question");var h=g.data("id");var i=this.model;var k=this.model.exec("getQuestionByID",h);var m=this.model.exec("getQuestionByID",h);c=["radio","checkbox","select"].indexOf(k.type)>-1;if(k.refer){c=false}k=l.formatPlainTextQuestion(k);survey=l.formatPlainTextSurvey(this.model.get("survey"));var n=function(){var a;var b=this;var e=f.msie;var g=false;var h=j({title:"",skin:"logic_visualizer_dialog",content:v({displayLogic:c,question:k,survey:survey,currentPageIndex:this.model.get("currentPageIndex"),notCompatible:e}),width:e?"600":"1200",onshow:function(){var c=this;if(g)return;d(this.node).find(".switch_to_advanced_logic").on("click",function(){c.close();g=true;j({title:"",content:w(),width:500,height:55,button:[{value:"",callback:function(){c.show();g=false}},{value:"",autofocus:true,callback:function(){c.remove();g=false;o();b.model.exec("edit","updateConditionVersion","2.0")}}],skin:"switch_to_advanced_logic"}).showModal()});if(e){d(d(c.node).find(".ui-dialog-grid tr")[2]).hide();return}a=new t("#ur_demo",survey.pages,survey.survey_rules.list,survey.survey_rules.positions);d(this.node).find(".ui-dialog-header").prepend('<i id="switch_to_fullscreen" class="ico ico_fullscreen"></i>');d("#switch_to_fullscreen").on("click",function(){d("body").css("overflow","hidden");d(c.node).css("left",0).css("top",0);d("#ur_demo").before('<nav class="fullscreen-toolbar"><i id="fullscreen_restore" class="ico ico_restore"></i></nav>');d(c.node).find(".ui-dialog").css("border",0).css("border-radius",0);var a=d(c.node).find(".ui-dialog-grid tr");d(a[0]).hide();d(a[1]).find(".tabs").hide();d(a[1]).find(".ui-dialog-body").css("padding",0).find(".ui-dialog-content").css("padding-top",0).css("width",d(window).width()).find("#ur_demo").css("margin-bottom",0).css("height",d(window).height()-65-53);d(window).resize(function(){d(c.node).css("left",0).css("top",0);d(".ui-dialog-content").css("width",d(window).width());d("#ur_demo").css("height",d(window).height()-65-53)});d("#fullscreen_restore").on("click",function(){d("body").css("overflow","initial");d(c.node).css("left",(d(window).width()-1200)/2+"px").css("top",(d(window).height()-704)/2+"px");d(c.node).find(".fullscreen-toolbar").remove();d(c.node).find(".ui-dialog").css("border","1px solid #999").css("border-radius","3px");d(a[0]).show();d(a[1]).find(".tabs").show();d(a[1]).find(".ui-dialog-body").css("padding","5px 25px").find(".ui-dialog-content").css("padding-top","10px").css("width","1200px").find("#ur_demo").css("margin-bottom","24px").css("height","502px");d(window).off("resize")})})},okValue:"",ok:function(){console.log(JSON.parse(a.exportJson()));b.model.exec("edit","updateSurveyRules",JSON.parse(a.exportJson()))},cancelValue:"",cancel:function(){},lock:true}).showModal()}.bind(b);var o=function(){var a=this;var b=false;j({title:"",skin:"logic_setting_dialog",content:y({displayLogic:c,question:k,survey:survey,currentPageIndex:this.model.get("currentPageIndex")}),width:600,onshow:function(){var c=this;if(b)return;d(this.node).find("#switch_to_simple_logic").on("click",function(){c.close();b=true;j({title:"",content:x(),width:500,height:55,button:[{value:"",callback:function(){c.show();b=false}},{value:"",autofocus:true,callback:function(){c.remove();b=false;n();a.model.exec("edit","updateConditionVersion","1.0");a.model.exec("updateSetting",{questions_random:[]})}}],skin:"switch_to_simple_logic"}).showModal()});d(this.node).find(".subtab").click(function(){d(this).addClass("current").siblings().removeClass("current");d(c.node).find(".panel").eq(d(this).index()).addClass("current").siblings().removeClass("current")});d(this.node).find(".option").click(function(){d(this).addClass("current").siblings().removeClass("current");d(c.node).find(".option_panel").eq(d(this).index()).addClass("current").siblings().removeClass("current")});d(this.node).find(".question").click(function(){if(d(this).hasClass("disabled")){return}d(this).toggleClass("selected")})},okValue:"",ok:function(){var a=this;var b={};var c=i.get("questions");d(this.node).find(".option").each(function(c){var e=d(a.node).find(".option_panel").eq(c);var f={};e.find(".question.selected").each(function(a,b){f[d(b).data("id")]=1});var g=e.find("[name=goto]").val();b[c]=f;m.options[c]["goto"]=g});var f=d(this.node).find("#question_panel").find("[name=goto]").val();m["goto"]=f;function g(a){var b=true;var c=[];var d=i.get("survey").questions_random||[];var f=i.get("questionMap");var g=d.map(function(a){return e.range(a[0],a[1]+1)});var h=e.keys(a);h.forEach(function(d){var h=a[d];var i=e.keys(h);var j=i.map(function(a){return f[a].real_index});g.forEach(function(a){var d=a.map(function(a){return j.indexOf(a)!==-1});var f=e.every(d,function(a){return a===d[0]});if(f===false){b=false;c.push([a[0],a[a.length-1]])}})});c=e.uniq(c,e.isEqual);return{isFit:b,conflictRandoms:c}}var h=g(b);var k=h.isFit,l=h.conflictRandoms;if(k){var n=e.keys(b);n.forEach(function(a){m.options[a].display=b[a]});i.exec("edit","updateQuestion",m)}else{var o="";l.forEach(function(a){o+="<li>"+(c[a[0]].index+1)+" - "+(c[a[1]].index+1)+"</li>"});o="<ul>"+o+"</ul>";j({title:"",width:300,height:100,skin:"ui-dialog-small",content:":"+o,button:[{value:"",callback:function(){}}]}).showModal();return false}},cancelValue:"",cancel:function(){},lock:true}).showModal()}.bind(b);if(survey.survey_rules&&survey.survey_rules.version==="1.0"){n()}if(survey.survey_rules&&survey.survey_rules.version==="2.0"){o()}},favQuestion:function(a){var b=d(".fav").first();var c=b.clone();var e=d(a.target).parents(".question").data("id");var f=this.model;var g=f.exec("getQuestionByID",e);C(g);c.css({left:a.clientX,top:a.clientY}).appendTo("body");setTimeout(function(){c.animate({left:d(document).width()-100,top:"200px",opacity:"0"},1e3,function(){d(this).remove();var a=d(".lib_content").find(".ico").find("i").first();a.removeClass("anim");setTimeout(function(){a.addClass("anim")},10)})},0);p.addUserQues(g,this.event)},addUserQuesHandler:function(a){delete a.id;p.add(a);d(this.genIconSnippet(a,true)).css("display","none").prependTo("dd.favQuestion dl").slideDown(400,function(){})},genIconSnippet:function(a,b){var c=b?"<i class='delete'></i>":"";return"<dt class='lib_item' data-fid='"+a.fid+"'><a href='javascript:;'>"+a.label+c+"<i class='preview'>i</i></a></dt><dd></dd>"},renderTitle:function(){var a=this.$el.find(".survey_title");var b=a.find(".title_content");var c=this.model.get("currentPageIndex");var d=this.model.get("survey.title");d=C(d);if(c!==0){a.hide();return}a.show();b.html(d);if(!b.data("_ckeditorInstanceLock")){k.init(".survey_title .title_content")}b.focus(function(){a.addClass("focus")});b.blur(function(){a.removeClass("focus")})},renderPrefix:function(){var a=this.$el.find(".survey_prefix");var b=a.find(".prefix_content");var c=this.model.get("survey.prefix");var d=this.model.get("currentPageIndex");c=C(c);if(d!==0){a.hide();return}a.show();b.html(c);if(!b.data("_ckeditorInstanceLock")){k.init(".survey_prefix .prefix_content")}b.focus(function(){a.addClass("focus")});b.blur(function(){a.removeClass("focus")})},renderSubheader:function(){d(".survey_options").show();var a=this.model.get("survey.state");if(a=="2"){d(".survey_options").removeClass("published").addClass("closed")}else{d(".survey_options").removeClass("closed").addClass("published")}},renderSuffix:function(){var a=this.$el.find(".survey_suffix");var b=a.find(".suffix_content");var c=this.model.get("survey.suffix");var d=this.model.get("currentPageIndex");var e=this.model.get("survey.pages.length");if(d!==e){a.hide();return}a.show();b.html(c);if(!b.data("_ckeditorInstanceLock")){k.init(".survey_suffix .suffix_content")}b.focus(function(){a.addClass("focus")});b.blur(function(){a.removeClass("focus")})},updateIndex:function(){this.updateQuestionIndex()},updateQuestionIndex:function(){var a=this;this.$el.find(".question_index").each(function(b,c){var e=d(c).data("for");if(!e){return}b=a.model.exec("getQuestionField",e,"index");d(c).text(b+1)})},updatePageIndex:function(){this.$el.find(".pages_item").each(function(a){var b=a+1;d(this).find(".pages_show").text(""+b+"")})},reRenderQuestion:function(a){var b=this.model.exec("getQuestionByID",a);var c=new m(b,this.model);this.$el.find("#question_"+a).replaceWith(c);if(m.onAppend[b.type]){m.onAppend[b.type](this.model,c)}},addPage:function(a){var b=this;var c=this.$el.find(".survey_container");var e=d(z({page:a,currentPageIndex:this.model.get("currentPageIndex")}));a.questions.forEach(function(a){var c=new m(a,b.model);e.append(c);setTimeout(function(){if(m.onAppend[a.type]){m.onAppend[a.type](b.model,c)}},10)});c.append(e);this.dragWrap.addContainer(e[0])},renderPage:function(a){var b=this;this.$el.find(".page").hide().eq(a).show();this.$el.find(".question").each(function(a,c){var e=d(c);var f=e.data("type");if(m.onAppend[f]){m.onAppend[f](b.model,e)}})},renderPages:function(){var a=this;var b=this.$el.find(".survey_container");b.empty();if(this.dragWrap){this.dragWrap.destroy()}this.dragWrap=new B(a);this.model.get("survey.pages").forEach(function(b,c){e.forEach(b.questions,function(a){C(a)});a.addPage(b)});this.updateIndex()},render:function(){this.renderTitle();this.renderPrefix();this.renderSuffix();this.renderPages();this.renderSubheader();this.$el.show();d(".editor_container").fadeIn(300);if(this.model.get("survey.titleIndex")){this.$el.find(".survey_wrap").removeClass("no_title_index")}else{this.$el.find(".survey_wrap").addClass("no_title_index")}},showAddQuestionView:function(a){var b=this;var c=new o({surveyView:b,surveyModel:a.surveyModel||undefined,question:a.question||undefined,type:a.type||undefined});if(c){b.dragWrap.disable();c.afterCancel=function(){b.dragWrap.enable()};c.afterConfirm=function(){b.dragWrap.enable()}}},updateStyle:function(){q.setStyle(this.model.get("survey.style"))},show_verify_dialog:function(a,b){var c=this;var d=new s(a,b);d.onSuccess=function(a,b){c.model.exec("createSurveyByVerify",a,b).done(function(){c.model.exec("syncToServer")})};d.showModal()}});var B=function(a){var b=false;var c;var f={moves:function(a,c,d){return!b},accepts:function(a,b,c,d){return true},direction:"vertical",copy:false,revertOnSpill:false,removeOnSpill:false};var g=this;this.disable=function(){b=true};this.enable=function(){b=false};this.init=function(){c=h([],f);c.on("drop",e.bind(i,a))};this.destroy=function(){c.destroy()};this.addContainer=function(a){c.containers.push(a)};this.removeContainer=function(a){};function i(b,c,e){var f=d(b).data("id");var g=d(c).data("pid");var h=d(b).index();var i=this.model.exec("edit","moveQuestion",{targetQuestionID:f,positionPageID:g,positionIndex:h});if(i.isError()){setTimeout(function(){a.render()},10)}}this.init();return this};function C(a){if(!a.title){a=b(a);return a}else{if(a.title.indexOf("video_showframe")>0){a.title=b(a.title)}if(a.description.indexOf("video_showframe")>0){a.description=b(a.description)}e.forEach(a.options,function(a){if(a.text.indexOf("video_showframe")>0){a.text=b(a.text)}})}function b(a){if(a.indexOf("_wjFrame_")>0){a=a.replace(/&lt;_wjFrame_ /g,"<iframe ");a=a.replace(/&gt;&lt;\/_wjFrame_&gt;/g,"></iframe>");a=a.replace(/_wjFrame_/g,"iframe");return a}else{return a}}}c.exports=A});define("amd-templates/edit/pc/tab_page",["../../template"],function(a){return a("edit/pc/tab_page",function(a){"use strict";var b=this,c=(b.$helpers,b.$escape),d=a.pageId,e=a.text,f="";return f+='<li class="pages_item" data-pid="',f+=c(d),f+='"> <span class="pages_show">',f+=c(e),f+='</span> <a class="pages_remove" href="javascript:;">&times</a> </li> ',new String(f)})});define("app/edit/pc/views/tab",["require","exports","module","jquery","underscore","bind_events","dragula","art-dialog/dialog","amd-templates/edit/pc/tab_page"],function(a,b,c){var d=a("jquery");var e=a("underscore");var f=a("bind_events");var g=a("dragula");var h=a("art-dialog/dialog");var i=a("amd-templates/edit/pc/tab_page");var j=function(a){this.$el=d(".survey_pages_tab");this.$pagesWrap=this.$el.find(".pages_wrap ul");this.$scrollWrap=this.$el.find(".pages_wrap");this.surveyModel=a;this.bindModelEvents();this.bindUIEvents();this.render();this._enableDrag()};e.extend(j.prototype,{bindUIEvents:function(){f.bindUIEvents(this,this.$el,{"click .pages_more":"addPage","click .pages_item":"showPage","click .pages_preview":"scrollPage","click .pages_next":"scrollPage","click .pages_remove":"removePage"})},bindModelEvents:function(){f.bindModelEvents(this,this.surveyModel,{edit_addPage_success:"refresh",edit_removePage_success:"refresh",edit_movePage_success:"refresh",edit_error:"refresh",currentPageIndexSet:"currentPageIndexSetHandler"})},currentPageIndexSetHandler:function(a){this.$el.find(".pages_item").removeClass("current").eq(a).addClass("current")},addPage:function(){this.surveyModel.exec("edit","addPage")},showPage:function(a){var b=d(a.target).closest(".pages_item");var c;if(!b.hasClass("pages_end")){c=b.index()}else{c=this.$pagesWrap.children().length}this.surveyModel.exec("setCurrentPageIndex",c)},removePage:function(a){var b=d(a.target).closest(".pages_item").data("pid");var c=this.surveyModel.exec("getPageField",b,"questions.length");var e=this.surveyModel.exec("getPageField",b,"index");var f=this;if(c){h({title:"",width:"350",height:"80",skin:"errors",content:""+(e+1)+"<b>"+c+"</b><br><br>",okValue:"",ok:function(){f.surveyModel.exec("edit","removePage",b)},cancelValue:"",cancel:function(){}}).showModal()}else{this.surveyModel.exec("edit","removePage",b)}},movePage:function(a,b){this.surveyModel.exec("edit","movePage",{pageID:a,positionIndex:b});this.surveyModel.exec("setCurrentPageIndex",b)},scrollPage:function(a){var b=98;var c=this.$scrollWrap.scrollLeft();var e=d(a.target).closest("a");if(e.hasClass("pages_preview")){this.$scrollWrap.animate({scrollLeft:c-b},"fast")}else{this.$scrollWrap.animate({scrollLeft:c+b},"fast")}},render:function(){this.refresh()},refresh:function(){var a=[];var b=this.surveyModel.get("survey.pages",{ref:true});var c=this.surveyModel.get("currentPageIndex");e.each(b,function(b,e){var f=""+(b.index+1)+"";var g=d(i({pageId:b.id,text:f}));if(e===c){g.addClass("current")}a.push(g)});this.$pagesWrap.html(a);this.autoSize()},autoSize:function(){var a=this.$el.find(".pages_item").length;var b=this.$el.width();var c=this.$el.find(".pages_preview, .pages_next");var d=c.width();if(b-a<a*98+d){this.$el.removeClass("hidden_nav")}else{this.$el.addClass("hidden_nav")}},_enableDrag:function(){var a=this;var b={moves:function(a,b,c){return true},accepts:function(a,b,c,d){return true},direction:"horizontal",copy:false,revertOnSpill:false,removeOnSpill:false};var c=this.$el.find("ul")[0];var e=g([c],b);e.on("drop",function(b,c,e){var f=d(b).data("pid");var g=d(b).index();a.movePage(f,g)})}});c.exports=j});define("app/edit/pc/models/report_question_type",["require","exports","module","app/util/mo_push"],function(a,b,c){"use strict";var d=a("app/util/mo_push");var e=4102;var f={radio:"",select:"",checkbox:"",input:"",textarea:"",matrix_radio:"",matrix_checkbox:"",star:"",sort:"",chained_selects:"",upload:""};c.exports=function(a){if(!f[a]){return false}var b=new d(e);b.reportData[a]=1;b.send()}});define("app/edit/pc/views/menu",["require","exports","module","jquery","backbone","../models/report_question_type"],function(a,b,c){var d=a("jquery");var e=a("backbone");var f=a("../models/report_question_type");var g=e.View.extend({el:"#menu",events:{"click .type_item":"_addQuestion"},initialize:function(a){this.surveyModel=a.surveyModel;this.surveyView=a.surveyView},_addQuestion:function(a){var b=this.surveyModel;var c=this.surveyView;var e=d(a.target).closest(".type_item").data("type");c.showAddQuestionView({type:e,surveyModel:b});f(e)}});c.exports=g});define("amd-templates/edit/pc/outline_page",["../../template"],function(a){return a("edit/pc/outline_page",function(a){"use strict";var b=this,c=(b.$helpers,b.$escape),d=a.page,e="";return e+='<dl class="outline_page" data-pid=',e+=c(d.id),e+='> <dt class="outline_page_title"><span>',e+=c(d.index+1),e+='</span></dt> <div class="question_container"></div> </dl> ',new String(e)})});define("amd-templates/edit/pc/outline_question",["../../template"],function(a){return a("edit/pc/outline_question",function(a){"use strict";var b=this,c=(b.$helpers,b.$escape),d=a.type,e=a.title,f=a.id,g=a.index,h="";return h+='<dd class="outline_question ',h+=c(d),h+='" title="',h+=c(e),h+='" data-qid="',h+=c(f),h+='"> ',"description"===d?(h+=' <span class="ico"><i></i></span>',h+=c(e),h+=" "):(h+=' <span class="ico"><i></i></span><span class="question_index">',h+=c(g+1),h+=".</span>",h+=c(e),h+=" "),h+=" </dd> ",new String(h)})});define("app/edit/pc/views/outline",["require","exports","module","jquery","underscore","dragula","bind_events","amd-templates/edit/pc/outline_page","amd-templates/edit/pc/outline_question","app/util/richtext"],function(a,b,c){var d=a("jquery");var e=a("underscore");var f=a("dragula");var g=a("bind_events");var h=a("amd-templates/edit/pc/outline_page");var i=a("amd-templates/edit/pc/outline_question");var j=a("app/util/richtext");var k=function(a,b){this.$el=d("#outline");this.model=a;this.surveyView=b;this.bindModelEvents();this.bindUIEvents();this.render()};e.extend(k.prototype,{dragWrap:{},bindModelEvents:function(){g.bindModelEvents(this,this.model,{edit_addQuestion_success:"addQuestionHandler",edit_copyQuestion_success:"copyQuestionHandler",edit_updateQuestion_success:"updateQuestionHandler",edit_removeQuestion_success:"removeQuestionHandler",edit_moveQuestion_success:"moveQuestionHandler",edit_addPage_success:"addPageHandler",edit_removePage_success:"removePageHandler",edit_movePage_success:"movePageHandler",edit_error:"editErrorHandler",historyBack:"historyBackHandler"})},addQuestionHandler:function(a){var b=a.question;var c=a.position.pid;var e=a.position.qindex;var f=this.$el.find(".outline_page").filter("[data-pid="+c+"]").find(".question_container");b=j.formatPlainTextQuestion(b);var g=d(i(b));if(e===0){f.append(g)}else{f.children().eq(e-1).after(g)}this.updateIndex()},copyQuestionHandler:function(a){this.addQuestionHandler(a)},updateQuestionHandler:function(a){var b=a.qid;var c=j.formatPlainTextQuestion(a.question);var e=d(i(c));this.$el.find("[data-qid="+b+"]").replaceWith(e);this.updateIndex()},removeQuestionHandler:function(a){var b=a.qid;this.$el.find("[data-qid="+b+"]").remove();this.updateIndex()},moveQuestionHandler:function(a){var b=a.options;var c=b.positionPageID;var e=b.targetQuestionID;var f=b.positionIndex;this.$el.find("[data-qid="+e+"]").remove();var g=this.model.exec("getQuestionByID",e);g=j.formatPlainTextQuestion(g);var h=d(i(g));var k=this.$el.find(".outline_page").filter("[data-pid="+c+"]").find(".question_container");if(f===0){k.prepend(h)}else{h.insertAfter(k.children().eq(f-1))}this.updateIndex()},addPageHandler:function(a){var b=a.page;this._addPage(b);this.updateIndex()},removePageHandler:function(a){var b=a.pid;var c=this.$el.find("[data-pid="+b+"]");c.remove();this.updateIndex()},movePageHandler:function(a){this.renderPages()},historyBackHandler:function(){this.render()},editErrorHandler:function(){this.render()},bindUIEvents:function(){g.bindUIEvents(this,this.$el,{"click .add_page":"addPage","click .outline_question":"scrollIntoViewQuestion"})},addPage:function(){this.model.exec("edit","addPage")},scrollIntoViewQuestion:function(a){var b=d(a.target).closest(".outline_question").data("qid");var c=d(a.target).closest(".outline_page").index();this.model.exec("setCurrentPageIndex",c);this.surveyView.scrollIntoViewQuestion(b)},updateIndex:function(){this.updateQuestionIndex();this.updatePageIndex()},updateQuestionIndex:function(){this.$el.find(".question_index").each(function(a){d(this).text(a+1+".")})},updatePageIndex:function(){this.$el.find(".outline_page").each(function(a){d(this).find(".outline_page_title span").text(a+1)})},_addPage:function(a){var b=this.$el.find(".page_container");var c=d(h({page:a}));a.questions.forEach(function(a){a=j.formatPlainTextQuestion(a);var b=d(i(a));c.find(".question_container").append(b)});b.append(c);if(d.isEmptyObject(this.dragWrap)){this.dragWrap=f([c.find(".question_container")[0]]);this.dragWrap.on("drop",e.bind(this._dropHandler,this))}else{this.dragWrap.containers.push(c.find(".question_container")[0])}},renderPages:function(){var a=this;var b=this.$el.find(".page_container");b.empty();this.model.get("survey").pages.forEach(function(b,c){a._addPage(b)})},render:function(){this.renderPages()},_dropHandler:function(a,b,c){var e=d(a).data("qid");var f=d(b).parents(".outline_page").data("pid");var g=d(a).index();this.model.exec("edit","moveQuestion",{targetQuestionID:e,positionPageID:f,positionIndex:g})}});c.exports=k});define("amd-templates/edit/pc/sidebar_normal",["../../template"],function(a){return a("edit/pc/sidebar_normal",'<div class="tab"> <a class="tab_item current" href="javascript:;" data-tab="question_type"></a> <a class="tab_item" href="javascript:;" data-tab="survey_outline"></a> </div> <div id="menu" class="tab_content question_type" style="display: block;"> <ul> <li class="type_item radio" data-type="radio"> <a href="javascript:;"><span class="ico"><i></i></span></a> </li> <li class="type_item select" data-type="select"> <a href="javascript:;"><span class="ico"><i></i></span></a> </li> <li class="type_item checkbox" data-type="checkbox"> <a href="javascript:;"><span class="ico"><i></i></span></a> </li> <li class="type_item text" data-type="text"> <a href="javascript:;"><span class="ico"><i></i></span></a> </li> <li class="type_item textarea" data-type="textarea"> <a href="javascript:;"><span class="ico"><i></i></span></a> </li> <li class="type_item star" data-type="star"> <a href="javascript:;"><span class="ico"><i></i></span></a> </li> <li class="type_item matrix_radio" data-type="matrix_radio"> <a href="javascript:;"><span class="ico"><i></i></span></a> </li> <li class="type_item matrix_checkbox" data-type="matrix_checkbox"> <a href="javascript:;"><span class="ico"><i></i></span></a> </li> <li class="type_item matrix_star" data-type="matrix_star"> <a href="javascript:;"><span class="ico"><i></i></span></a> </li> <li class="type_item sort" data-type="sort"> <a href="javascript:;"><span class="ico"><i></i></span></a> </li> <li class="type_item chained_selects" data-type="chained_selects"> <a href="javascript:;"><span class="ico"><i></i></span></a> </li> <li class="type_item upload" data-type="upload"> <a href="javascript:;"><span class="ico"><i></i></span></a> </li> <li class="type_item description" data-type="description" > <a href="javascript:;"><span class="ico"><i></i></span></a> </li> <li class="type_item text_multiple" data-type="text_multiple" > <a href="javascript:;"><span class="ico"><i></i></span></a> </li> </ul> </div> <div id="outline" class="tab_content survey_outline" style="display: none;"> <div class="page_container"></div> <a href="javascript:;" class="add_page">+ </a> </div> <div id="sidebar_adjust_btn"></div> ');
});define("app/edit/pc/views/sidebar_normal",["require","exports","module","underscore","jquery","bind_events","./menu","./outline","amd-templates/edit/pc/sidebar_normal"],function(a,b,c){"use strict";var d=a("underscore");var e=a("jquery");var f=a("bind_events");var g=a("./menu");var h=a("./outline");var i=a("amd-templates/edit/pc/sidebar_normal");var j=function(a){this.surveyModel=a.surveyModel;this.surveyView=a.surveyView;this.$el=e(".editor_sidebar");this.init()};d.extend(j.prototype,{bindUIEvent:function(){f.bindUIEvents(this,e("#sidebar_normal"),{click:"changeSidebar"})},init:function(){this.render();this.bindUIEvent()},changeSidebar:function(a){e(".nav_item").removeClass("current");e(a.target).addClass("current");this.render()},render:function(){var a=this.surveyView;var b=this.surveyModel;var c=i();this.$el.html(c);new g({surveyView:a,surveyModel:b});new h(b,a)}});c.exports=j});define("amd-templates/edit/pc/sidebar_theme",["../../template"],function(a){return a("edit/pc/sidebar_theme",'<div class="tab"> <a class="tab_item current" href="javascript:;" data-tab="themes_list"></a> <a class="tab_item" href="javascript:;" data-tab="themes_custom"></a> </div> <div class="tab_content themes_list"> <ul> <li> <a href="javascript:;" class="item" data-theme="default"> <img src="/themes/default/thumb.jpg" alt=""/> <span></span> </a> </li> <li> <a href="javascript:;" class="item" data-theme="enterprise"> <img src="/themes/enterprise/thumb.jpg" alt=""/> <span></span> </a> </li>       <li> <a href="javascript:;" class="item" data-theme="common"> <img src="/themes/common/thumb.jpg" alt=""/> <span></span> </a> </li> <li> <a href="javascript:;" class="item" data-theme="happy_new_year"> <img src="/themes/happy_new_year/thumb.jpg" alt=""/> <span></span> </a> </li> </ul> </div> <div class="tab_content themes_custom" style="display: none;"> <div class="row">  </div> <div class="row">  <a id="upload_survey_background-a" href="javascript:;" class="btn"> <input type="file" name="src" id="upload_survey_background-file" /> </a>  <a id="clear_survey_background" href="javascript:;" class="btn" style="display: none;"></a> </div> <div class="row tips"> 1MPNG,JPG,GIF </div> </div> <div id="sidebar_adjust_btn"></div> ')});define("upload",["require","jquery"],function(a){var b=a("jquery");(function(){var a=function(){};var b=window.console=window.console||{};if(!b.log){b.log=a}})();if(b.fn.upload){return}b.extend(b.fn,{upload:function(a){var c=this;var d=c.prop("id");var e=a.uploader;var f=a.formData||{};var g=a.success||function(){};var h=a.progress||function(){};var i=a.error||function(){};var j=a.abort||function(){};var k="jQUploadForm-"+d;var l="jQUpladFrame-"+d;var m=function(){return window.FileReader&&window.File&&window.FileList&&window.Blob};var n=function(a,c,d,e){var g='<form  action="'+e+'" method="POST" id="'+c+'" enctype="multipart/form-data" target="'+d+'"></form>';var h=b('<iframe id="'+d+'" name="'+d+'" style="display: none;"></iframe>');a.wrap(g);var i=b("#"+c);h.insertAfter(i);b.each(f,function(a,c){b('<input type="hidden" name="'+c.name+'" value="'+c.value+'">').appendTo(i)});b('<input type="hidden" name="submit_flag" value="iframe">').appendTo(i)};var o=function(a,c,d){b("#"+d).on("load",function(){console.log("iframe loaded");var e=b(this).contents().find("body").text();p(a,c,d);if(typeof g=="function"){g.call(this,e)}});b("#"+c).submit()};var p=function(a,c,d){var e=b("#"+c);var f=b("#"+d);a.insertBefore(e);e.remove();f.remove()};if(m()){return b.uploadFilesByXHR(b.extend(true,{},a,{name:c.attr("name"),files:c.prop("files")}))}else{n(c,k,l,e);o(c,k,l);return{abort:function(){a.abort&&a.abort()}}}}});b.extend({uploadFilesByXHR:function(a){if(!window.XMLHttpRequest){alert("XMLHttpRequest not support");return}var b=a.name;var d=a.files;var e=a.uploader;var f=a.fileSizeLimit;var g=a.fileTypeExts;var h=a.formData||{};var i=a.success||function(){};var j=a.progress||function(){};var k=a.error||function(){};var l=a.abort||function(){};var m=a.typeError||function(){};var n=a.sizeError||function(){};var o=a.emptyError||function(){};var p=function(){return window.FileReader&&window.File&&window.FileList&&window.Blob};var q=function(a,e){var f=new RegExp(a,"i");var g=[];for(var h=0,i=d.length;h<i;h++){var j=d[h].name;if(!f.test(c(j))){m(d[h],a);return false}if(d[h].size>e){n(d[h],e);return false}g.push({name:b,value:d[h]})}if(!g.length){o()}return g};var r=function(a){var b=new FormData;a=a.concat(h);for(var c=0,d=a.length;c<d;c++){b.append(a[c].name,a[c].value)}return b};var s=function(a,b){var c=new XMLHttpRequest;c.open("POST",b,true);c.upload.addEventListener("progress",j,false);c.addEventListener("load",function(){var a=c.responseText;if(typeof i=="function"){i.call(this,a)}},false);c.addEventListener("error",k,false);c.addEventListener("abort",l,false);c.send(a);return c};if(p()){var t=q(g,f);if(t){var u=r(t);return s(u,e)}}}});function c(a){var b=/.*\.(\w+)$/.exec(a);return b?b[1]:null}});define("app/edit/pc/views/sidebar_theme",["require","exports","module","underscore","jquery","bind_events","amd-templates/edit/pc/sidebar_theme","upload"],function(a,b,c){"use strict";var d=a("underscore");var e=a("jquery");var f=a("bind_events");var g=a("amd-templates/edit/pc/sidebar_theme");a("upload");var h;var i=function(a){h=a.surveyModel;this.$el=e(".editor_sidebar");this.init();if(window.location.hash==="#themeView"){e("#sidebar_theme").trigger("click")}};d.extend(i.prototype,{bindUIEvent:function(){f.bindUIEvents(this,e("#sidebar_theme"),{click:"changeSidebar"});f.bindUIEvents(this,this.$el,{"click #clear_survey_background":"clearSurveyBackground","click .themes_list .item":"setSurveyTheme","change #upload_survey_background-file":"uploadBackgroundFile"})},init:function(){this.bindUIEvent()},changeSidebar:function(a){e(".nav_item").removeClass("current");e(a.target).addClass("current");this.render()},render:function(){var a=g();this.$el.html(a);this._renderUploadButton();this._renderTheme()},_renderTheme:function(){var a=h.get("survey.style");var b=a?a.theme:"default";this.$el.find(".themes_list .item[data-theme="+b+"]").addClass("current")},setSurveyTheme:function(a){var b=e(a.currentTarget);b.parents("ul").find(".item").removeClass("current");b.addClass("current");var c=b.data("theme");var d={theme:c};h.exec("updateStyle",d)},_renderUploadButton:function(){var a=h.get("survey.style");if(a.custom&&a.custom.backgroundImage&&a.custom.backgroundImage!==""){e("#clear_survey_background").show()}},clearSurveyBackground:function(a){var b={custom:{backgroundImage:""}};h.exec("updateStyle",b);e("#clear_survey_background").hide()},uploadBackgroundFile:function(){var a=location.search;var b=a.match(/sid=([\d]+)/);var c=b&&b[1];e("#upload_survey_background-file").upload({uploader:"/sfile/survey/upfile?survey_id="+c,fileSizeLimit:1024*1024,fileTypeExts:"jpg|gif|jpeg|png",success:j,typeError:k,sizeError:l})}});var j=function(a){a=JSON.parse(a);if(a.status==1){var b=a.data.filename;var c={custom:{backgroundImage:b}};h.exec("updateStyle",c);e("#clear_survey_background").show()}else{alert(a.info)}};var k=function(a,b){alert("jpg|gif|jpeg|png")};var l=function(a,b){alert("")};c.exports=i});define("app/edit/pc/views/sidebar",["require","exports","module","underscore","jquery","bind_events","./sidebar_normal","./sidebar_theme"],function(a,b,c){"use strict";var d=a("underscore");var e=a("jquery");var f=a("bind_events");var g=a("./sidebar_normal");var h=a("./sidebar_theme");var i;var j;var k=function(a){i=a.surveyView;j=a.surveyModel;this.$el=e(".editor_sidebar");this.init()};d.extend(k.prototype,{init:function(){this.render();new g({surveyView:i,surveyModel:j});new h({surveyView:i,surveyModel:j});this.bindUIEvents()},bindUIEvents:function(){f.bindUIEvents(this,this.$el,{"click .tab_item":"changeTabContent","mousedown #sidebar_adjust_btn":"adjustSidebarWidth"})},changeTabContent:function(a){var b=e(a.target);b.siblings().removeClass("current");b.addClass("current");var c=b.data("tab");this.$el.find(".tab_content").hide();this.$el.find("."+c).show()},adjustSidebarWidth:function(a){var b=200;var c=a.pageX;var d=e(".editor_sidebar").width();e(document.body).addClass("gu-unselectable");e(document).on("mousemove",f);e(document).on("mouseup",function(){e(document.body).removeClass("gu-unselectable");e(document).off("mousemove",f)});function f(a){var f=a.pageX;var g=f-c;var h=d+g;if(h<b){h=b}e(".editor_sidebar").width(h)}},render:function(){}});c.exports=k});define("app/util/report_question_lib",["require","exports","module","app/util/mo_push"],function(a,b,c){"use strict";var d=a("app/util/mo_push");var e=new d(4104);c.exports=function(a,b){e.reportData["q"+a]=1;e.reportData["platform"]=b;e.send()}});define("app/edit/pc/views/question_lib",["require","exports","module","jquery","underscore","support","bind_events","app/common/survey_parser/wjx2json","app/util/richtext","art-dialog/dialog","app/edit/common/models/question_lib","backbone","app/util/report_question_lib"],function(a,b,c){"use strict";var d=a("jquery");var e=a("underscore");var f=a("support");var g=a("bind_events");var h=a("app/common/survey_parser/wjx2json");var i=a("app/util/richtext");var j=a("art-dialog/dialog");var k=a("app/edit/common/models/question_lib");var l=a("backbone");var m=a("app/util/report_question_lib");var n=function(a){this.$el=d(".editor_lib");this.initialize(a);this.bindModelEvents();this.bindUIEvents()};e.extend(n.prototype,{bindModelEvents:function(){g.bindModelEvents(this,this.event,{delUserQuesTrigger:"delUserQuesHandler"})},bindUIEvents:function(){g.bindUIEvents(this,this.$el,{"click .lib_category":"_toggleFold","click .lib_close":"close","click .lib_open":"open","click .lib_item":"createQuestionByLib","click .delete":"deleteUserQues","mouseover .preview":"showPreview","mouseout .preview":"hidePreview"})},event:e.extend({},l.Events),surveyModel:{},parentView:{},initialize:function(a){var b=this;this.surveyModel=a.surveyModel;this.parentView=a.parentView;k.getData().done(function(){b.render()});this.previewDialog=j({skin:"g_tips question_lib_preview",width:250,align:"bottom right",content:null})},render:function(){var a=this;var b=k;var c=b.typeGroups;var f=b.groupsClassName;e.each(c,function(c,g){var h=d('<dt class="lib_category '+f[g]+'Dt"><span class="ico"><i></i></span><span class="txt"></span></dt>');h.find(".txt").text(g);var i=b.where({category:g});var j=d("<dd><dl></dl></dd>");j.addClass(f[g]);e.each(i,function(b){var c=b.toJSON();if(c["category"]===""){j.find("dl").append(a.genIconSnippet(c,true))}else{j.find("dl").append(a.genIconSnippet(c,false))}});a.$el.find(".lib_content").append(h,j)});if(d(window).width()>1450){this.open()}},genIconSnippet:function(a,b){var c=b?"<i class='delete'></i>":"";return"<dt class='lib_item' data-fid='"+a.fid+"'><a href='javascript:;'>"+a.label+c+"<i class='preview'>i</i></a></dt><dd></dd>"},_toggleFold:function(a){var b=d(a.currentTarget);var c=b.next();this.$el.find(".lib_category + dd").not(c).slideUp("fast");c.slideToggle("fast")},close:function(){this.$el.removeClass("opened");if(!f.css("transform")){this.$el.css({right:""})}var a=this.$el.find(".lib_toggle_button");var b=this.parentView;a.addClass("lib_open").removeClass("lib_close");a.find("span").text("");b.$el.css({right:"0"})},open:function(){this.$el.addClass("opened");if(!f.css("transform")){this.$el.css({right:"0"})}var a=this.parentView;var b=this.$el.find(".lib_toggle_button");b.addClass("lib_close").removeClass("lib_open");b.find("span").text("");a.$el.css({right:this.$el.css("width")})},showPreview:function(a){var b=d(a.target).closest(".lib_item");var c=k;var f=b.data("fid");var g=d.extend(true,{},c.findWhere({fid:f}).toJSON());var j="<br>";var l,m;o(g);var n=d("<div>"+g["title"].replace(/^\s+|\s+$/g,"")+"</div>");n.find("img").replaceWith("[]");n.find("iframe").replaceWith("[]");g["title"]=n.text();if(g.options){e.map(g.options,function(a,b){a.text=i.plainTextFilter(a.text)})}if(g.subTitles){e.map(g.subTitles,function(a,b){a.text=i.plainTextFilter(a.text)})}if(g.description){g.description=i.plainTextFilter(g.description)}l=h.QuestionStringify(g,j);m=l.split(j);if(m.length>8){m=m.slice(0,8);m.push("...");l=m.join(j)}else{l=m.join(j)}l=l.replace(/(<br>)+$/,"");this.previewDialog.content(l);this.previewDialog.show(b[0])},hidePreview:function(a){this.previewDialog.close()},createQuestionByLib:function(a){var b=a.target.className==="lib_item"?d(a.target):d(a.target).parent();var c=this.surveyModel;var e=this.parentView;var f=k;var g=b.data("fid");var h=f.getQuestionLibByFid(g);o(h);e.showAddQuestionView({question:h,surveyModel:c});if(!b.parents("dd").hasClass("favQuestion")){m(g,"pc")}},deleteUserQues:function(a){var b=this;var c=d(a.target).parents(".lib_item").data("fid");j({title:"",width:300,height:100,skin:"ui-dialog-small",content:"",button:[{value:"",callback:function(){}},{value:"",callback:function(){k.delUserQues(c,b.event)}}]}).showModal();a.stopPropagation()},delUserQuesHandler:function(a){var b=k;var c=d("dt[data-fid="+a+"]");var e=b.findWhere({fid:a});b.remove(e);c.slideUp(400,function(){})}});function o(a){if(!a.title){a=b(a);return a}else{if(a.title.indexOf("video_showframe")>0){a.title=b(a.title)}if(a.description.indexOf("video_showframe")>0){a.description=b(a.description)}e.forEach(a.options,function(a){if(a.text.indexOf("video_showframe")>0){a.text=b(a.text)}})}function b(a){if(a.indexOf("_wjFrame_")>0){a=a.replace(/&lt;_wjFrame_ /g,"<iframe ");a=a.replace(/&gt;&lt;\/_wjFrame_&gt;/g,"></iframe>");a=a.replace(/_wjFrame_/g,"iframe");return a}else{return a}}}c.exports=n});define("app/common/api/template",["require","exports","module","app/common/ur_ajax","jquery"],function(a,b,c){var d=a("app/common/ur_ajax");var e=a("jquery");return{getUsageTpye:function(a){var b=a?"/ctsu":"/survey";b=b+"/get_usage_type";return d({url:b,type:"GET"})},getTradeType:function(a){var b=a?"/ctsu":"/survey";b=b+"/get_trade_type";return d({url:b,type:"GET"})},getTemplateList:function(a,b){var c={trade_type_id:undefined,usage_type_id:undefined,template_name:undefined,limit:10,hot:0,page:undefined};e.extend(c,a);var f=b?"/ctsu":"/survey";f=f+"/get_std_template_list";return d({url:f,type:"GET",data:c})},getTemplateContentById:function(a,b){var c=b?"/ctsu":"/survey";c=c+"/get_std_template_json";return d({url:c,type:"GET",data:{template_id:a}})},createTemplate:function(a){var b={trade_type_id:"",usage_type_id:"",template_id:"",template_json:"",template_name:"",replace_rule:""};e.extend(true,b,a);return d({url:"/ctsu/add_std_template",type:"POST",data:b})},deleteTemplate:function(a){return d({url:"/ctsu/delete_std_template",type:"POST",data:{template_id:a}})}}});define("app/common/api/survey",["require","jquery","underscore","app/common/api/template","app/common/ur_ajax","ur-xss"],function(a){var b=a("jquery");var c=a("underscore");var d=a("app/common/api/template");var e=a("app/common/ur_ajax");var f=a("ur-xss");var g=30;function h(a){if(a.pages){a.pages.forEach(function(a){a.questions.forEach(function(a){if(a.options){a.options.forEach(function(a){if(a.attachment&&a.attachment.length){a.text+='<img alt="" src="'+a.attachment+'" />';delete a.attachment}})}})})}return a}function i(a){if(a.title){a.title=f(a.title)}if(a.prefix){a.prefix=f(a.prefix)}if(a.suffix){a.suffix=f(a.suffix)}if(a.pages){a.pages.forEach(function(a){a.questions.forEach(function(a){k(a)})})}return a}function j(a){var c=function(a){a=a.replace(/<img.*?src="(.*?)".*?>/g,function(a,b){var c=true;var d=new RegExp("^(?:http:|https:)?//");if(d.test(b)){var e=new RegExp("^(?:http:|https:)?//[\\w\\d.]*.qq.com/");if(e.test(b)){c=false}}else{c=false}if(c){return"[]"}else{return a}});return a};var d=function(a){if(a.title){a.title=c(a.title)}if(a.description){a.description=c(a.description)}if(a.options){a.options.forEach(function(a){a.text=c(a.text)})}if(a.subTitles){a.subTitles.forEach(function(a){a.text=c(a.text)})}if(a.groups){d(a.groups)}function d(a){b.each(a,function(a,b){b[1]=c(b[1]);if(b[2]){d(b[2])}})}return a};if(a.title){a.title=c(a.title)}if(a.prefix){a.prefix=c(a.prefix)}if(a.suffix){a.suffix=c(a.suffix)}if(a.pages){a.pages.forEach(function(a){a.questions.forEach(function(a){d(a)})})}return a}function k(a){if(a.title){a.title=f(a.title)}if(a.description){a.description=f(a.description)}if(a.options){a.options.forEach(function(a){a.text=f(a.text)})}if(a.subTitles){a.subTitles.forEach(function(a){a.text=f(a.text)})}if(a.levels){b.each(a.levels,function(b,c){a.levels[b]=f(c)})}if(a.groups){c(a.groups)}function c(a){b.each(a,function(a,b){b[1]=f(b[1]);if(b[2]){c(b[2])}})}return a}function l(a){a.title=b(a.title);if(a.prefix){a.prefix=b(a.prefix)}if(a.suffix){a.suffix=b(a.suffix)}c.forEach(a.pages,function(a){c.forEach(a.questions,function(a){a.title=b(a.title)})});function b(a){if(!/^<p>|<\/p>$/.test(a)){return"<p>"+f(a)+"</p>"}else{return f(a)}}}function m(a){c.forEach(a.pages,function(a){c.forEach(a.questions,function(a){if(a.title){a.title=b(a.title);a.title=c.unescape(a.title)}if(a.description){a.description=b(a.description);a.description=c.unescape(a.description)}c.forEach(a.options,function(a){if(a.text){a.text=b(a.text);a.text=c.unescape(a.text)}})})});function b(a){if(a.indexOf("video_showframe")>0){if(a.indexOf("iframe")>0){return a.replace(/iframe/g,"_wjFrame_")}else{return a}}else{return a}}}(function(){var a="onprogress"in b.ajaxSettings.xhr();if(!a){return}var c=b.ajaxSettings.xhr;b.ajaxSettings.xhr=function(){var a=c();if(a instanceof window.XMLHttpRequest){a.addEventListener("progress",this.progress,false)}if(a.upload){a.upload.addEventListener("progress",this.progressUpload,false)}return a}})();return{getList:function(a,b){return e({type:"POST",url:"/survey/list",data:{p_num:a,limit:b}}).done(function(a){a.data.list.forEach(function(a){h(a);i(a)})})},_getAllList:function(a,b,c){var d=this;d.getList(a,g).done(function(e){b.list=b.list.concat(e.data.list);if(e.data.page.p_num>=e.data.page.p_count){b.page=e.data.page;c.resolve(b)}else{d._getAllList(a+1,b,c)}})},getAllList:function(){var a=this;var c=b.Deferred();var d=1;var e={list:[],page:{p_num:1,p_count:0}};this._getAllList(d,e,c);return c},exportSurvey:function(a,b){return e({url:"/survey/export_template_in",type:"POST",data:{survey_id:a,content:b}})},getSurveyRecycle:function(a){return e({type:"GET",url:"/survey/get_raw_detail_count",data:{survey_id:a}}).done(function(a){a.data=h(a.data);a.data=i(a.data)})},getSurveyRecycleEveryDay:function(a){return e({type:"GET",url:"/survey/stat_every_day_count",data:{survey_id:a}}).done(function(a){a.data=h(a.data);a.data=i(a.data)})},getSurvey:function(a,b){return e({type:"GET",url:"/survey/get_survey",data:{id:a}},{preventDefaultCallbacks:b}).done(function(a){a.data=h(a.data);a.data=i(a.data)}).fail(function(a){window.location.href="https://wj.qq.com"})},getSurveyPublic:function(a,b,c,d){return e({type:"GET",url:"/sur/get_survey",data:{id:a,hash:b,logger:c?1:0}},{preventDefaultCallbacks:d}).done(function(a){a.data=h(a.data);a.data=i(a.data);a.data=j(a.data)})},getReportStat:function(a,b){return e({type:"GET",url:"/sur/report_stat",data:{id:a,hash:b}}).done(function(a){a.data=h(a.data);a.data=i(a.data);a.data=j(a.data)})},getSurveyForThumbnail:function(a){return e({type:"GET",url:"/sur/get_thumb",data:{id:a,s:"28bc699656ce8109022787b8bf886415"}}).done(function(a){a.data=h(a.data);a.data=i(a.data)})},createSurvey:function(a,b){return e({type:"POST",url:"/survey/create_ajax",data:{type:1,ticket:a,randstr:b}})},createSurveyByTemplate:function(a){var c=b.Deferred();var e=this;d.getTemplateContentById(a).done(function(a){var b=JSON.parse(a.data.template_json);e.createSurvey().done(function(a){var d=a.data;b.id=d.survey_id;b.title=b.title+"_";e.saveSurvey(b).done(function(){c.resolve(b.id)})})});return c},saveSurvey:function(a,d){var f=b.extend(true,{},a);m(f);l(f);f=c.omit(f,"admin_ids","whitelist");return e({type:"POST",url:"/survey/save_survey",data:{id:f.id,survey_json:JSON.stringify(f)},progressUpload:d})},saveSurveySetting:function(a,c){var d=b.extend({},c);if(c.answer_count!==undefined){d.answer_count=c.answer_count===true?1:0}if(c.reward!==undefined){d.reward=c.reward===null?"no":c.reward}if(c.whitelist!==undefined){if(c.whitelist){if(c.whitelist_dirty){d.whitelist=c.whitelist}else{delete d.whitelist}}else{d.whitelist="no"}}return e({type:"POST",url:"/survey/save_setting",data:{id:a,survey_json:JSON.stringify(d)}})},getWhiteList:function(a){return e({type:"POST",url:"/survey/rtx_map_userid",data:{rtx_name:a}})},getVerifyCode:function(a,b,c){return e({type:"POST",url:"/survey/answer_notice_verify_send",data:{survey_id:a,type:1,contact:b}},c)},answerNoticeVerify:function(a,b,c,d){return e({type:"POST",url:"/survey/answer_notice_verify",data:{survey_id:a,type:1,contact:b,verify_code:c}},d)},reEditSurvey:function(a){return e({type:"POST",url:"/survey/survey_status",data:{survey_id:a,status:0}})},getSurveyLock:function(a){return e({type:"GET",url:"/survey/get_lock",data:{survey_id:a}})},setSurveyLock:function(a){return e({type:"POST",url:"/survey/set_lock",data:{survey_id:a}})},clearSurvey:function(a){return e({type:"POST",url:"/survey/clear_survey",data:{survey_id:a}})},publishSurvey:function(a){return e({type:"POST",url:"/survey/survey_status",data:{survey_id:a,status:2}})},closeSurvey:function(a){return e({type:"POST",url:"/survey/survey_status",data:{survey_id:a,status:3}})},deleteSurvey:function(a){return e({type:"POST",url:"/survey/delete",data:{survey_id:a}})},copySurvey:function(a){return e({type:"POST",url:"/survey/copy_survey",data:{survey_id:a}}).done(function(a){a.data=h(a.data);a.data=i(a.data)})},collectAnswer:function(a,b){var c=a;m(a);c.referrer=document.referrer||"";return e({type:"POST",url:"/sur/collect_answer",data:{survey_id:a.id,answer_survey:JSON.stringify(c)}},{preventDefaultCallbacks:b})},report_survey:function(a,b){return e({type:"POST",url:"/sur/report",data:{survey_id:a,hash:b}})},getOverview:function(a,b){var d="?survey_id="+a;if(b.date.start&&b.date.end){d+="&startdate="+b.date.start;d+="&enddate="+b.date.end}var f={};if(b.filters){c.forEach(b.filters,function(a,b){f["rule-"+b+"-question"]=a.question;f["rule-"+b+"-logic"]=a.logic;f["rule-"+b+"-option"]=a.option;f["rule-"+b+"-type"]=a.type;f["rule-"+b+"-cn"]=a.cn;f["rule-"+b+"-page"]=a.page})}return e({type:"POST",url:"/survey/report_stat"+d,data:f}).done(function(a){a.data=h(a.data);a.data=i(a.data)})},getCA:function(a){function b(a){var b=k(a.dp_question);var d=k(a.indp_question);var e=c.forEach(a.series,function(a){a.name=f(a.name)});return a}return e({type:"GET",url:"/survey/survey_cross_analysis",data:a}).done(function(a){c.forEach(a.data,function(a){b(a)})})},getVvInc:function(a){return e({type:"GET",url:"/survey/report_overview?id="+a})},listDel:function(a,b){return e({type:"POST",url:"survey/report_detail_list_del",data:{id:a,answer_ids:"["+b.toString()+"]"}})},getDetailList:function(a,b){var c="?id="+a;if(b.date.start&&b.date.end){c+="&date_start="+b.date.start;c+="&date_end="+b.date.end}if(b.page_num){c+="&p_num="+b.page_num;c+="&p_limit="+b.page_limit}if(b.ip_unique){c+="&ip_unique="+b.ip_unique}if(b.device_unique){c+="&device_unique="+b.device_unique}if(b.order){c+="&order="+b.order}return e({type:"GET",url:"/survey/report_detail_list"+c}).done(function(a){a.data=h(a.data);a.data=i(a.data)})},listUpdate:function(a,b,c){return e({type:"POST",url:"survey/report_detail_one_update",data:{id:a,answer_id:b,answer:JSON.stringify(c)}})},getAnswerQuestionList:function(a,d,f,g,h,i,j){var k={survey_id:a,question_id:d,page_num:f,page_limit:g,file_name_dst:h};var l={};if(j&&j.length){c.forEach(j,function(a,b){l["rule-"+b+"-question"]=a.question;l["rule-"+b+"-logic"]=a.logic;l["rule-"+b+"-option"]=a.option;l["rule-"+b+"-type"]=a.type;l["rule-"+b+"-cn"]=a.cn;l["rule-"+b+"-page"]=a.page})}if(i&&i.start&&i.end){k.startdate=i.start;k.enddate=i.end}return e({type:"POST",url:"/sfile/survey/answer_question_list?"+b.param(k),data:l})},deleteUploadFiles:function(a,b,c){var d={survey_id:a,question_id:b};if(c&&c.length){d.file_name=c.join(",")}return e({type:"POST",url:"/sfile/survey/answer_file_delete",data:d})},feedback:function(){return e({type:"GET",url:"/survey/tucao_openid_api"})},checkDownloadFile:function(a){var c={survey_id:undefined,question_id:undefined,type:"excel",date_start:undefined,date_end:undefined,keyword:undefined,ip_unique:undefined,device_unique:undefined,download_old:0,file_limit_count:5e4,file_timestamp:undefined};c=b.extend({},c,a);return e({type:"GET",url:"/survey/report_detail_list_export_check",data:c})},packageDownloadFile:function(a){var c={survey_id:undefined,question_id:undefined,type:"excel",date_start:undefined,date_end:undefined,keyword:undefined,ip_unique:undefined,device_unique:undefined,download_old:0,file_limit_count:5e4,file_timestamp:undefined};c=b.extend({},c,a);return e({type:"GET",url:"/survey/report_detail_list_export_zip",data:c})},_download:function(a,b,c,d,e,f,g,h,i,j){console.log("!")},execDownloadForZip:function(a,b,c,d,e,f,g,h,i,j){console.log("!")},accessibilityReport:function(a,b,c,d,f,g){return e({type:"GET",url:"/api/accessibility_report",data:{type:a,sid:b,reason:c,json_load_time:d,finish_rate:f,uid:g}})},remarkNameEdit:function(a,b){return e({type:"POST",url:"/survey/remark_name_edit",data:{id:a,remark_name:b}})}}});define("app/util/recording",["require","exports","module","underscore"],function(a,b,c){var d=a("underscore");function e(){this.index=-1;this.history=[]}d.extend(e.prototype,{push:function(a){if(this.history[this.index+1]===a){this.index+=1;return}if(this.index!==this.history.length-1){this.history.length=this.index+1}this.history.push(a);this.index=this.history.length-1},go:function(a){var b=this.history.length-1;var c=this.index+a;if(c<0)c=0;if(c>b)c=b;this.index=c;return this.history[this.index]},back:function(){return this.go(-1)},forward:function(){return this.go(1)},stack:function(){return this.history.slice(0,this.index+1)}});c.exports=e});define("app/common/models/edit_survey",["require","exports","module","jquery","underscore","model","app/common/api/survey","app/common/api/reward","app/common/api/template","app/common/models/user","app/common/models/create_question","app/util/standard_result","app/util/uuid","app/util/recording","app/util/richtext","app/util/ur_log"],function(a,b,c){var d=a("jquery");var e=a("underscore");var f=a("model");var g=a("app/common/api/survey");var h=a("app/common/api/reward");var i=a("app/common/api/template");var j=a("app/common/models/user");var k=a("app/common/models/create_question");var l=a("app/util/standard_result");var m=a("app/util/uuid");var n=a("app/util/recording");var o=a("app/util/richtext");var p=a("app/util/ur_log");var q={dataLoaded:"dataLoaded",hasLocalSurvey:"hasLocalSurvey",readOnly:"readOnly",surveyPublished:"surveyPublished",surveyClosed:"surveyClosed",surveySaving:"surveySaving",surveySaved:"surveySaved",surveySaveFailed:"surveySaveFailed",surveyCreated:"surveyCreated",surveySettingSaved:"surveySettingSaved",surveyStyleSaved:"surveyStyleSaved",currentPageIndexSet:"currentPageIndexSet",historyBack:"historyBack",show_verify:"show_verify",update:"update"};var r=f.extend({defaults:{survey:{id:null,title:"",prefix:"<p></p>\n",pages:[{id:1,questions:[]}],suffix:"<p><img aria-label='100%' alt='100%' src=\"//wj.qq.com/image/end.png\" /></p>\n\n<p>&nbsp;</p>\n\n<p></p>\n",prev:false,titleIndex:true,ip:false,pc:false,login:false,startTime:"0",endTime:"0",lang:"zh",state:"0",reward:{},default_reward:false,style:{theme:"default",custom:{}},survey_rules:{version:"1.0",list:[],positions:[]}},editMode:"normal",currentPageIndex:0,questionMap:{},question2page:{},pageMap:{},upid:null,uqid:null,history:null,syncing:false,creating:false,lastSnapshot:null,autoSavingTimer:null,autoSyncing:true},initialize:function(a,b,c,f){var g=this;this.id=a||null;this.tid=b||null;this.autoSyncing=c===undefined?true:false;this.history=new n;if(!a&&f){this.survey=e.assign(this.survey,f);this.surveyPattern=f}var h=function(a){var b=d.Deferred();g._getSurveyLock().done(function(c){b.resolve(a)}).fail(function(c){b.reject(a);g.trigger(q.readOnly,c)});return b};var i=function(a){g.normalize();var b=g.loadLocalSurvey();var c=function(){var c=!!b&&b.updateTime&&b.updateTime>a.data.updateTime;return c};if(c()){g.trigger(q.hasLocalSurvey)}else{g.beforeDataLoaded()}};this.loadData().then(h).then(i)},normalize:function(){if(!this.survey.style){this.survey.style={theme:"default",custom:{}}}this.survey.pages.forEach(function(a){a.questions.map(k.patch_star)})},loadData:function(){var a=this;var b=this.id;var c=this.tid;p.info("start","load survey",this.id);if(b===null){var a=this;var f=d.Deferred();if(c===null){setTimeout(function(){f.resolve();p.info(null,"load survey from empty");p.info("end","load survey")},100);return f}else{return this.loadTempSurvey(c).done(function(b){a._autoCreate();var c=JSON.parse(b.data.template_json);c=e.omit(c,"prefix");c=a._conventIdForTemplate(c);e.extend(a.survey,c);p.info(null,"load survey from template, tid:"+a.tid);p.info("end","load survey")})}}else{return this.loadRemoteSurvey().done(function(b){e.extend(a.survey,b.data);p.info("end","load survey")})}},_conventIdForTemplate:function(a){var b=function(a,b){if(isNaN(a)){return a}switch(b){case"page":a="p-"+a+"-"+m(4);break;case"question":a="q-"+a+"-"+m(4);break;case"option":a="o-"+a+"-"+m(4);break;default:break}return a};a.pages.forEach(function(a){a.id=b(a.id,"page");a.questions.forEach(function(a){a.id=b(a.id,"question");a.options&&a.options.forEach(function(a){a.id=b(a.id,"option")})})});return a},loadLocalSurvey:function(){return JSON.parse(window.localStorage.getItem("edit/"+this.id))},loadRemoteSurvey:function(){var a=this;var b=d.Deferred();p.info("start","get survey lock");g.getSurvey(a.id,true).done(function(a){b.resolve(a)}).fail(function(){p.error("load survey error","request survey id:"+a.id);b.reject()});return b},loadTempSurvey:function(a){var b=d.Deferred();i.getTemplateContentById(a).done(function(a){b.resolve(a)}).fail(function(){b.reject()});return b},hasLocalSurvey:function(){return!!window.localStorage.getItem("edit/"+this.id)},updateLocalSurvey:function(a){if(this.id===null||this.survey.id===null){return}try{window.localStorage.setItem("edit/"+this.id,a)}catch(b){}},removeLocalSurvey:function(){if(this.id===null){return}window.localStorage.removeItem("edit/"+this.id)},useLocalSurvey:function(){var a=this;var b=a.loadLocalSurvey();e.extend(a.survey,b);a.beforeDataLoaded()},useRemoteSurvey:function(){this.beforeDataLoaded()},useTemplateSurvey:function(){},beforeDataLoaded:function(){var a=this;a.updatePages();a.updateQuestions();a.initUID();var b=new l;a.autoValidation(b);a.lastSnapshot=JSON.stringify(a.survey);a.history.push({method:"",args:"",survey:a.lastSnapshot});if(a.survey.state!=="0"){a.editMode="supplementary"}a.startHeartBeat();a.trigger(q.dataLoaded)},copySurvey:function(){return g.copySurvey(this.id)},clearSurvey:function(){return g.clearSurvey(this.id)},_getSurveyLock:function(){var a=d.Deferred();if(this.id===null){a.resolve();return a}g.getSurveyLock(this.id).done(function(b){p.info("end","get survey lock");if(!b.data.user_id||b.data.user_id===j.id){p.info(null,"survey is editable");a.resolve()}else{p.info(null,"survey is not editable");a.reject(b)}});return a},updatePages:function(){var a=this;this.pageMap={};e.forEach(this.survey.pages,function(b,c){a.pageMap[b.id]=b;b.index=c})},_getPageByID:function(a){return this.pageMap[a]},getPageByID:function(a){return d.extend(true,{},this._getPageByID(a))},getPageField:function(a,b){var c=b.split(".");var f=this._getPageByID(a);e.forEach(c,function(a){f=f[a]});if(e.isArray(f)){return d.extend(true,[],f)}else if(e.isObject(f)){return d.extend(true,{},f);
}else{return f}},updateQuestions:function(){var a=this;this.questionMap={};this.question2page={};this.questions=[];this.questionsIncomingDegree={};this.questionsBeingReferred=[];var b=0;var c=0;e.forEach(this.survey.pages,function(d){e.forEach(d.questions,function(f){a.questionMap[f.id]=f;a.question2page[f.id]=d;a.questions.push(f);f.real_index=c++;if(f.type==="description"){f.index=null}else{f.index=b++}if(f.refer){a.questionsBeingReferred.push(f.refer)}e.forEach(f.options,function(b){var c=e.keys(b.display||{});if(c.length){e.forEach(c,function(c){if(a.questionsIncomingDegree[c]===undefined){a.questionsIncomingDegree[c]=[]}a.questionsIncomingDegree[c].push(f.id+"."+b.id)})}})})})},_getQuestionByID:function(a){return this.questionMap[a]},_getPageByQuestionID:function(a){return this.question2page[a]},getQuestionByID:function(a){var b=this._getQuestionByID(a);if(b){return d.extend(true,{},b)}else{return b}},getQuestionField:function(a,b){var c=b.split(".");var f=this._getQuestionByID(a);e.forEach(c,function(a){f=f[a]});if(e.isArray(f)){return d.extend(true,[],f)}else if(e.isObject(f)){return d.extend(true,{},f)}else{return f}},getQuestionsByQuery:function(a){var b=a.before?this._getQuestionByID(a.before).real_index:this.questions.length;var c=a.after?this._getQuestionByID(a.after).real_index:-1;var f=this.questions.slice(c+1,b);return d.extend(true,[],e.filter(f,{type:a.type}))},getPageByQuestionID:function(a){return d.extend(true,{},this._getPageByQuestionID(a))},initUID:function(){var a=e.map(this.survey.pages,function(a){if(Number(a.id)){return Number(a.id)}else{var b=/p-(\d+)-\w+|(\d+)-\w+/;var c=a.id.match(b);return Number(c[1]||c[2]||9999)}});a.push(0);this.upid=e.max(a);var b=[0];var c=this.survey.pages;for(var d=0;d<c.length;d++){var f=c[d];var g=f.questions;for(var h=0;h<g.length;h++){var i=g[h].id;if(Number(i)){b.push(Number(i))}else{var j=/q-(\d+)-\w+|(\d+)-\w+/;var k=i.match(j);b.push(Number(k[1]||k[2]||9999))}}}this.uqid=e.max(b)},getUqid:function(){var a=m(4);var b=++this.uqid;return"q"+"-"+b+"-"+a},getUpid:function(){var a=m(4);var b=++this.upid;return"p"+"-"+b+"-"+a},publishSurvey:function(){var a=this;var b=d.Deferred();var c=function(){p.info("start","publish survey");g.publishSurvey(a.id).done(function(c){p.info("end","publish survey");a.survey.state="2";a.survey.startTime=c.data.startTime;a.survey.endTime=c.data.endTime;a.editMode="supplementary";a.trigger(q.surveyPublished);b.resolve(arguments)}).fail(function(){b.reject(arguments);p.error("publish survey",arguments)})};this._autoCreate().then(c).fail(function(){p.error("publish survey fail",arguments);b.reject()});return b},closeSurvey:function(){var a=this;p.info("start","close survey");return g.closeSurvey(a.id).done(function(b){a.survey.state="0";a.survey.startTime=b.data.startTime;a.survey.endTime=b.data.endTime;p.info("end","close survey");a.trigger(q.surveyClosed)})},updateSetting:function(a){var b=this;return this._autoCreate().then(function(){return b._updateSetting(a)})},updateGiftSetting:function(a){return h.updateGiftSetting(this.id,a).done(function(){p.info("end","update gift setting")}).fail(function(){p.error("update setting",arguments)})},_updateSetting:function(a){p.info("start","update setting",a);var b=this;var c=d.Deferred();g.saveSurveySetting(this.id,a).done(function(){p.info("end","update setting");console.log(b.survey.settings,a);e.extend(b.survey,a);console.log(a);b.trigger(q.surveySettingSaved);b.saveSurvey("updateSetting",null);c.resolve()}).fail(function(){p.error("update setting",arguments)});return c},clearDisplayLogic:function(){this.questionsIncomingDegree={}},getVerifyCode:function(a,b){return g.getVerifyCode(this.id,a,b)},answerNoticeVerify:function(a,b,c){return g.answerNoticeVerify(this.id,a,b,c)},updateStyle:function(a){var b=this;return this._autoCreate().then(function(){return b._updateStyle(a)})},_updateStyle:function(a){var b={theme:"default",custom:{}};if(!this.survey.style){this.survey.style={}}var c=e.defaults(this.survey.style,b);e.extend(c,a);p.info("start","update style",c);var d=this;return g.saveSurveySetting(this.id,{style:c}).done(function(){p.info("end","update style");d.survey.style=c;d.trigger(q.surveyStyleSaved,c)}).fail(function(){p.error("update style",arguments)})},setCurrentPageIndex:function(a,b){if(this.currentPageIndex===a&&!b){return}if(a===-1){a=this.survey.pages.length-1}this.currentPageIndex=a;this.trigger(q.currentPageIndexSet,a)},edit:function(a){var b=new l;var c=e.rest(arguments);var d=this;c.unshift(b);this.surveyBeforeEdit={questions:{}};e.forEach(this.questions,function(a,b){d.surveyBeforeEdit.questions[b]={id:a.id,index:a.index}});p.info("start","edit survey "+a,c);this["_"+a].apply(this,c);this.autoValidation(b);this.autoValidateRandomQuestion(b,a,c[2]);if(!b.isError()){this.saveSurvey(a,c);this.trigger("edit_"+"success",b);this.trigger("edit_"+a+"_success",b)}else{this.trigger("edit_"+"error",b)}p.info("end","edit survey "+a,b);return b},_updateTitle:function(a,b){if(d.trim(b).length===0){a.error("")}if(!a.isError()){this.survey.title=b}},_updatePrefix:function(a,b){if(b.length===0){b=" "}if(!a.isError()){this.survey.prefix=b}},_updateSurveyRules:function(a,b){var c=this.survey.survey_rules;if(b.version){c.version=b.version}if(b.list){c.list=b.list}if(b.positions){c.positions=b.positions}},_updateSurveyRulesList:function(a,b){this._updateSurveyRules(a,{list:b})},_updateConditionVersion:function(a,b){this._updateSurveyRules(a,{version:b})},_updateQuestionPosition:function(a,b){this._updateSurveyRules(a,{positions:b})},_updateTitlePrefixForMobile:function(a,b,c){this._updateTitle(a,b);this._updatePrefix(a,c)},_updateSuffix:function(a,b){if(b.length===0){b=" "}if(!a.isError()){this.survey.suffix=b}},_addQuestion:function(a,b,c){var d={pageID:null,index:null};c=e.extend(d,c);var f;if(c.pageID){f=this._getPageByID(c.pageID)}else{f=this.survey.pages[this.currentPageIndex]}var g=c.index===null?f.questions.length:c.index;b.id=this.getUqid();k(b,a);if(!a.isError()){var h=a.question.toJSON();f.questions.splice(g,0,h);this.updateQuestions();a.question=this.getQuestionByID(b.id);a.question=k.patch_star(a.question);a.position={pid:f.id,qindex:g}}},_copyQuestion:function(a,b){var c=this._getPageByQuestionID(b);var d=e.findIndex(c.questions,{id:b});var f=this.getQuestionByID(b);this._addQuestion(a,f,{pageID:c.id,index:d+1})},_updateQuestion:function(a,b,c){var d=this._getPageByQuestionID(b.id);var f=e.findIndex(d.questions,{id:b.id});if(!d||f===-1){a.error(":"+b.qid);return}var g=b.id;if(c){b.id=this.getUqid()}k(b,a);if(!a.isError()){var h=a.question.toJSON();d.questions.splice(f,1,a.question.toJSON());this.updateQuestions();a.qid=g;a.question=this.getQuestionByID(h.id);a.question=k.patch_star(a.question)}},_removeQuestion:function(a,b){var c=this._getPageByQuestionID(b);var d=e.findIndex(c.questions,{id:b});if(!c||d===-1){a.error(":"+b);return}c.questions.splice(d,1);this.updateQuestions();a.qid=b},_moveQuestion:function(a,b){var c={targetQuestionID:null,positionPageID:null,positionIndex:null};b=e.extend(c,b);var d=this._getPageByQuestionID(b.targetQuestionID);var f=e.findIndex(d.questions,{id:b.targetQuestionID});var g=this._getPageByID(b.positionPageID);var h=b.positionIndex;if(!d||!g||f===-1||h===-1){a.error("");return}var i=d.questions.splice(f,1);s(i[0]);g.questions.splice(h,0,i[0]);if(!a.isError()){this.updateQuestions();a.options=b}},_addPage:function(a){var b={id:this.getUpid(),questions:[]};a.page=b;this.survey.pages.push(b);this.updatePages();var c=this;setTimeout(function(){c.setCurrentPageIndex(-1)},1)},_removePage:function(a,b){var c=this.survey.pages.length;var d=e.findIndex(this.survey.pages,{id:b});if(d===-1){a.error(""+b);return}if(this.survey.pages.length===1){a.error("");return}this.survey.pages.splice(d,1);this.updatePages();this.updateQuestions();a.pid=b;var f=this;setTimeout(function(){if(d<f.currentPageIndex){f.setCurrentPageIndex(f.currentPageIndex-1,true)}else if(d===f.currentPageIndex&&d===c-1){f.setCurrentPageIndex(-1,true)}else{f.setCurrentPageIndex(f.currentPageIndex,true)}},1)},_movePage:function(a,b){var c={pageID:null,positionIndex:null};b=e.extend(c,b);var d=this._getPageByID(b.pageID);var f=e.findIndex(this.survey.pages,{id:b.pageID});if(!d||b.positionIndex===null||f===-1){a.error("positionIndex");return}if(f===b.positionIndex){return}this.survey.pages.splice(f,1);this.survey.pages.splice(b.positionIndex,0,d);if(!a.isError()){this.updatePages();this.updateQuestions();a.options=b}},autoValidation:function(a){this.autoValidateAndFixUID(a);if(!a.isSuccess()){this.updatePages();this.updateQuestions()}this.autoValidateAndFixLOGic(a);if(!a.isSuccess()){this.updatePages();this.updateQuestions()}return a},autoValidateAndFixUID:function(a){var b=this;this.initUID();var c=[];e.forEach(this.survey.pages,function(d){if(c.indexOf(d.id)!==-1){a.warning({page:d,info:"pid"});d.id=b.getUpid()}else{c.push(d.id)}});var d=[];e.forEach(this.survey.pages,function(c){e.forEach(c.questions,function(c){if(d.indexOf(c.id)!==-1){a.warning({question:c,info:"qid"});p.info("qid","qid is duplicated",c);c.id=++b.uqid}else if(!c.id){a.warning({question:c,info:"qid"});p.info("qid","qid is null",c);c.id=b.getUqid()}else{d.push(c.id)}})})},autoValidateAndFixLOGic:function(a){var b=this;var c=["radio","checkbox","select"];var d=["radio","checkbox","select","sort","matrix_radio","matrix_checkbox","matrix_star"];e.forEach(this.survey.pages,function(f){var g=f.index;e.forEach(f.questions,function(f){var h=f.real_index;var i=f.type;if(c.indexOf(i)!==-1){e.forEach(f.options,function(c){var d=e.keys(c.display||{});var i=[];e.forEach(d,function(d){var e=b._getQuestionByID(d);if(!e){a.warning({question:f,option:c,qid:d,type:"",info:"id:"+d+""});i.push(d)}else if(e.real_index<=h){a.warning({question:f,option:c,qid:d,type:"",info:":"+d});i.push(d)}});d=e.difference(d,i);d=e.uniq(d);d=e.sortBy(d,function(a){var c=b._getQuestionByID(a);return c.index});c.display={};e.forEach(d,function(a){c.display[a]=1});var j=c["goto"]||"";if(j.length>0&&j!=="-1"){var k=b._getPageByID(j);if(!k){a.warning({question:f,option:c,pid:j,type:"",info:"id:"+j+""});c["goto"]=""}else if(k.index<=g){a.warning({question:f,option:c,pid:j,type:"",info:":"+j});c["goto"]=""}}})}var j=f["goto"]||"";if(j.length>0&&j!=="-1"){var k=b._getPageByID(j);if(!k){a.warning({question:f,pid:j,type:"",info:"id:"+j+""});f["goto"]=""}else if(k.index<=g){a.warning({question:f,pid:j,type:"",info:":"+j});f["goto"]=""}}if(d.indexOf(i)!==-1){var l=f.refer;delete f.referred;if(l){var m=b.getQuestionByID(l);if(!m){a.error({type:"",info:""});b.rollBack({silent:true});return}if(m.index>f.index){a.error({type:"",info:""});b.rollBack({silent:true});return}var n=f.required;f.required=m.required;b._getQuestionByID(l).referred=true;if(f.required!==n){if(!a.questions){a.questions=[f.id]}else{a.questions.push(f.id)}}if(["radio","checkbox","select","sort"].indexOf(f.type)>-1){f.options=m.options.map(function(a){return{display:{},"goto":"",id:a.id,exclusive:a.exclusive||false,text:f.type==="select"?o.plainTextFilter(a.text):a.text}})}if(["matrix_radio","matrix_checkbox","matrix_star"].indexOf(f.type)>-1){f.subTitles=m.options.map(function(a){return{id:a.id.replace("o","g"),text:a.text}})}}}})});if(this.survey.survey_rules&&this.survey.survey_rules.version==="1.0"){this.survey.survey_rules.list=e.filter(this.survey.survey_rules.list,function(c){var d=c.rule["=="][0]["var"].split(".");var f=b._getQuestionByID(d[1]);var g=d[2]==="options"?d[3]:null;var h=c.action[0].q_target_id;if(!f){a.warning({type:"",info:" id: "+d[1]+""});return false}if(g&&f&&!e.contains(e.pluck(f.options,"id"),g)){a.warning({type:"",info:" id: "+g+""});return false}if(h!="end"&&!b._getQuestionByID(h)){a.warning({type:"",info:" id: "+h+""});return false}if(b._getQuestionByID(h)&&f&&b._getQuestionByID(h).real_index<=f.real_index){a.warning({type:"",info:""});return false}return true})}},autoValidateRandomQuestion:function(a,b,c){if(b==="updateQuestion"&&c){return true}var d=true;var f=[];var g=this;if(!this.surveyBeforeEdit)return;var h=this.survey.questions_random||[];var i=this.surveyBeforeEdit.questions;var j=this.questionMap;var k=[];var l=h.map(function(a){return e.range(a[0],a[1]+1).map(function(a){return i[a].id})});var m=l.map(function(a){return e.sortBy(a.map(function(a){return j[a]?Number(j[a].real_index):-2}))});var n=m.map(function(a,b){return p(a)&&o(l[b])});function o(a){var b=g.question2page[a[0]];return e.every(a,function(a){return g.question2page[a]===b})}function p(a){var b=-2;return e.every(a,function(a,c){if(c===0){b=a;return true}return a===++b})}n.forEach(function(a,b){if(a){var c=m[b][0];var e=m[b][m[b].length-1];var g=h[b][2];k.push([c,e,g])}else{d=false;f.push(h[b])}});if(d){k=e.sortBy(k,function(a){return a[0]});var q=e.isEqual(h,k);if(!q){this.updateSetting({questions_random:k});this.survey.questions_random=k}}else{var r="";f.forEach(function(a){r+="<li>"+(i[a[0]].index+1)+" - "+(i[a[1]].index+1)+"</li>"});r="<ul>"+r+"</ul>";a.error({type:"",info:":"+r});this.rollBack({silent:true})}},_gotoHistory:function(a,b){a=a||{};p.debug(this.history);var c=this.history.go(b);if(c){var d=c.survey;d=JSON.parse(d);if(d.id===null&&this.survey.id!==null){d.id=this.survey.id}e.extend(this.survey,d);this.updateQuestions();this.updatePages();this.initUID();var f=new l;this.autoValidation(f);if(!a.silent){this.trigger(q.historyBack)}this.saveSurvey(null,null,true)}},rollBack:function(a){this._gotoHistory(a,0)},historyBack:function(a){this._gotoHistory(a,-1)},_createSurvey:function(){var a=this;p.info("start","_createSurvey");a._lastAction=arguments;var b=d.Deferred();if(a.creating){p.error("");return b.reject("")}a.creating=g.createSurvey().done(function(c){a.creating=false;var d=c.data.survey_id;a._updateSurveyAfterCreate(c.data);a.trigger(q.surveyCreated,d);p.info("end","_createSurvey");b.resolve()}).fail(function(){a.creating=false;p.error("_createSurvey Fail",arguments);b.reject(arguments)}).on("verify",function(c){a.creating=false;var d=c.cap?c.cap.captype:undefined;var e=c.cap?c.cap.disturblevel:undefined;p.info(null,"need verify code");b.reject();a.trigger(q.show_verify,d,e)});return b},_updateSurveyAfterCreate:function(a){var b=this;b.id=b.survey.id=a.survey_id;b.survey.hash=a.hash||null;b.survey.url=a.hash?"https://wj.qq.com/s/"+a.survey_id+"/"+a.hash+"/":null;b.survey.admin_ids=a.admin_ids||undefined;b.startHeartBeat()},createSurveyByVerify:function(a,b){var c=this;p.info("start","_createSurvey");var e=d.Deferred();g.createSurvey(a,b).done(function(a){var b=a.data.survey_id;c._updateSurveyAfterCreate(a.data);c.trigger(q.surveyCreated,b);p.info("end","_createSurvey");e.resolve()}).fail(function(){p.error("_createSurvey Fail",arguments);e.reject(arguments)});return e},saveSurvey:function(a,b,c){var d=String((new Date).getTime()).slice(0,10);var e=JSON.stringify(this.survey);if(this.lastSnapshot===e){return}this.survey.updateTime=d;e=JSON.stringify(this.survey);this.lastSnapshot=e;if(!c){this.history.push({method:a,args:b,survey:e})}this.updateLocalSurvey(e);if(this.id===null||this.autoSyncing){this.syncToServer()}},syncToServer:function(a){var b=this;var c=d.Deferred();var e=function(){var d=function(){b.syncing=null;b.removeLocalSurvey();b.trigger(q.surveySaved);c.resolve();p.info("end","sync to server")};var e=function(){if(arguments[0].statusText==="abort"){return}if(arguments[0].status===501){b.removeLocalSurvey();b.trigger(q.surveySaveFailed);return}b.trigger(q.surveySaveFailed);c.reject(arguments);p.error("sync to server",arguments)};p.info("start","sync to server",b.survey);if(b.syncing){try{b.syncing.abort()}catch(f){}}b.syncing=g.saveSurvey(b.survey,a).done(d).fail(e).always(function(){b.syncing=null});b.trigger(q.surveySaving)};if(b.id===null){b._createSurvey().then(e).then(function(){if(b.surveyPattern&&b.surveyPattern.pc){b.updateSetting({pc:b.surveyPattern.pc});b.surveyPattern.pc=undefined}})}else{e()}return c},isQuestionEmpty:function(){var a=this;var b=d.Deferred();if(e.isEmpty(a.questionMap)){return b.reject("")}else{return b.resolve()}},_autoCreate:function(){var a=d.Deferred();var b=this;if(b.id===null){p.info("start","auto create");b._createSurvey().then(function(){p.info("end","auto create");return b.syncToServer()}).then(function(){a.resolve()}).fail(function(){a.reject()});return a}setTimeout(function(){a.resolve()},100);return a},isSyncing:function(){return this.syncing},isUpToDate:function(){return!this.hasLocalSurvey()},startHeartBeat:function(){var a=this;var b=a.id;if(b===null){return}var c=function(){return a._getSurveyLock()};var e=function(){g.setSurveyLock(b);setInterval(function(){g.setSurveyLock(b).fail(function(){})},15*1e3)};var f=d.Deferred();f.then(c).then(e);f.resolve()},switchEditMode:function(a){var b=this;var c={advanced:false,text:true};var d=function(){if(a==="text"){b.survey=o.formatPlainTextSurvey(b.survey)}};var e=function(){return b.updateSetting({pc:c[a],questions_random:[]}).then(function(){b.pc=c[a]})};var f=function(){return b._updateSurveyRules(null,{version:"1.0",list:[]})};var g=function(){return b.syncToServer()};var h=b._autoCreate().then(d).then(e).then(f).then(g);return h},update:function(a,b){if(!a.isError()){if(!a.survey.prefix){a.survey.prefix="<p></p>"}e.extend(this.survey,a.survey);if(!b){this.saveSurvey(null,null,true)}else{this.updateQuestions();this.updatePages()}this.trigger(q.update,a)}},updateForTextEditor:function(a,b){var c=this.id;if(!c){e.extend(this.survey,a.survey);this.updateQuestions();this.updatePages()}this.trigger(q.update,a)},_lastAction:undefined,lastActionByVerifyCode:function(a){var b=this;var c=b._lastAction.callee.caller;var d=[].slice.call(b._lastAction);return e.bind(c,d,this)}},{notDeepCopy:true});function s(a){if(!a.title){a=b(a);return a}else{if(a.title.indexOf("video_showframe")>0){a.title=b(a.title)}if(a.description.indexOf("video_showframe")>0){a.description=b(a.description)}e.forEach(a.options,function(a){if(a.text.indexOf("video_showframe")>0){a.text=b(a.text)}})}function b(a){if(a.indexOf("_wjFrame_")>0){a=a.replace(/&lt;_wjFrame_ /g,"<iframe ");a=a.replace(/&gt;&lt;\/_wjFrame_&gt;/g,"></iframe>");a=a.replace(/_wjFrame_/g,"iframe");return a}else{return a}}}c.exports=r});define("amd-templates/common/pc/survey/subheader",["../../../template"],function(a){return a("common/pc/survey/subheader",function(a){"use strict";var b=this,c=(b.$helpers,a.current),d=b.$escape,e=a.id,f=a.state,g="";return g+='<div class="g_content"> <div class="g_content"> <div class="sub_nav"> <a class="nav_item ',"edit"===c&&(g+="current"),g+='" href="',"edit"!==c?(g+="edit.html?sid=",g+=d(e)):g+="javascript:;",g+='" id="sidebar_normal"></a> ',"edit"===c?(g+=' <a class="nav_item ',"theme"==c&&(g+="current"),g+='" href="javascript:;" id="sidebar_theme"></a> <a class="nav_item " href="javascript:;" id="survey_setting"></a> '):(g+=' <a class="nav_item ',"theme"==c&&(g+="current"),g+='" href="/edit.html?sid=',g+=d(e),g+='#themeView" id="sidebar_theme"></a> <a class="nav_item " href="/edit.html?sid=',g+=d(e),g+='#settingView" id="survey_setting"></a> '),g+=' <a class="nav_item ',"analyse"==c&&(g+="current"),g+='" href="',"analyse"!==c?(g+="stat_overview.html?id=",g+=d(e)):g+="javascript:;",g+='" ',e||(g+=' style="display:none" '),g+=' id="analyse_link"></a> </div> ',"edit"===c&&(g+=' <div class="survey_options',g+="2"===f?" closed":" published",g+='"> <a href="author_print.html?id=',g+=d(e),g+='" id="print_survey" target="_blank" ',e||(g+='style="display:none;" '),g+='> <i class="ico ico_print"></i> </a> <a href="javascript:;" id="switch_to_text_mode" class=""> <i class="ico ico_advanced_mode"></i> </a> <a href="javascript:;" id="preview_survey" class=""> <i class="ico ico_preview"></i></a> <a href="javascript:;" class="btn_share_box"> <i class="ico ico_share"></i></a> <a href="javascript:;" id="publish_survey" class="btn btn_middle btn_blue btn_start"><i></i></a> <a href="javascript:;" id="close_survey" class="btn btn_middle btn_blue btn_close"><i></i></a> </div> '),g+=" </div> </div>",new String(g)})});define("app/common/views/subheader",["require","exports","module","jquery","underscore","amd-templates/common/pc/survey/subheader"],function(a,b,c){"use strict";var d=a("jquery");var e=a("underscore");var f=a("amd-templates/common/pc/survey/subheader");var g=function(a){this.$el=d(".g_subheader");this.current=a.current;this.id=a.id;this.model=a.model;this.init()};e.extend(g.prototype,{bindUIEvents:function(){},bindModelEvents:function(){this.model.on("surveyCreated",function(a){d("#print_survey").attr("href","author_print.html?id="+a).show()})},init:function(){this.render();this.bindUIEvents();this.bindModelEvents()},render:function(){var a=this.model.get("survey.state");var b=this.model.get("survey.survey_rules");var c=f({current:this.current||"edit",id:this.id,survey_rules_version:b&&b.version?b.version:null,state:a});this.$el.html(c);this.$el.find(".survey_options").show()}});c.exports=g});define("app/util/report_survey_template",["require","exports","module","app/util/mo_push"],function(a,b,c){"use strict";var d=a("app/util/mo_push");var e=new d(4105);c.exports=function(a,b){e.reportData["t"+a]=1;e.reportData["platform"]=b;e.send()}});define("app/util/report_create_platform",["require","exports","module","app/util/mo_push"],function(a,b,c){"use strict";var d=a("app/util/mo_push");var e=new d(4103);c.exports=function(a){if(["pc","mobile"].indexOf(a)<0){return}e.reportData[a]=1;e.send()}});var cssua=function(a,b,c){"use strict";var d=" ua-";var e=/\s*([\-\w ]+)[\s\/\:]([\d_]+\b(?:[\-\._\/]\w+)*)/;var f=/([\w\-\.]+[\s\/][v]?[\d_]+\b(?:[\-\._\/]\w+)*)/g;var g=/\b(?:(blackberry\w*|bb10)|(rim tablet os))(?:\/(\d+\.\d+(?:\.\w+)*))?/;var h=/\bsilk-accelerated=true\b/;var i=/\bfluidapp\b/;var j=/(\bwindows\b|\bmacintosh\b|\blinux\b|\bunix\b)/;var k=/(\bandroid\b|\bipad\b|\bipod\b|\bwindows phone\b|\bwpdesktop\b|\bxblwp7\b|\bzunewp7\b|\bwindows ce\b|\bblackberry\w*|\bbb10\b|\brim tablet os\b|\bmeego|\bwebos\b|\bpalm|\bsymbian|\bj2me\b|\bdocomo\b|\bpda\b|\bchtml\b|\bmidp\b|\bcldc\b|\w*?mobile\w*?|\w*?phone\w*?)/;var l=/(\bxbox\b|\bplaystation\b|\bnintendo\s+\w+)/;var m={parse:function(a,b){var c={};if(b){c.standalone=b}a=(""+a).toLowerCase();if(!a){return c}var d,m,n=a.split(/[()]/);for(var o=0,p=n.length;o<p;o++){if(o%2){var q=n[o].split(";");for(d=0,m=q.length;d<m;d++){if(e.exec(q[d])){var r=RegExp.$1.split(" ").join("_"),s=RegExp.$2;if(!c[r]||parseFloat(c[r])<parseFloat(s)){c[r]=s}}}}else{var t=n[o].match(f);if(t){for(d=0,m=t.length;d<m;d++){var u=t[d].split(/[\/\s]+/);if(u.length&&u[0]!=="mozilla"){c[u[0].split(" ").join("_")]=u.slice(1).join("-")}}}}}if(k.exec(a)){c.mobile=RegExp.$1;if(g.exec(a)){delete c[c.mobile];c.blackberry=c.version||RegExp.$3||RegExp.$2||RegExp.$1;if(RegExp.$1){c.mobile="blackberry"}else if(c.version==="0.0.1"){c.blackberry="7.1.0.0"}}}else if(l.exec(a)){c.game=RegExp.$1;var v=c.game.split(" ").join("_");if(c.version&&!c[v]){c[v]=c.version}}else if(j.exec(a)){c.desktop=RegExp.$1}if(c.intel_mac_os_x){c.mac_os_x=c.intel_mac_os_x.split("_").join(".");delete c.intel_mac_os_x}else if(c.cpu_iphone_os){c.ios=c.cpu_iphone_os.split("_").join(".");delete c.cpu_iphone_os}else if(c.cpu_os){c.ios=c.cpu_os.split("_").join(".");delete c.cpu_os}else if(c.mobile==="iphone"&&!c.ios){c.ios="1"}if(c.opera&&c.version){c.opera=c.version;delete c.blackberry}else if(h.exec(a)){c.silk_accelerated=true}else if(i.exec(a)){c.fluidapp=c.version}if(c.edge){delete c.applewebkit;delete c.safari;delete c.chrome;delete c.android}if(c.applewebkit){c.webkit=c.applewebkit;delete c.applewebkit;if(c.opr){c.opera=c.opr;delete c.opr;delete c.chrome}if(c.safari){if(c.chrome||c.crios||c.fxios||c.opera||c.silk||c.fluidapp||c.phantomjs||c.mobile&&!c.ios){delete c.safari;if(c.vivaldi){delete c.chrome}}else if(c.version&&!c.rim_tablet_os){c.safari=c.version}else{c.safari={419:"2.0.4",417:"2.0.3",416:"2.0.2",412:"2.0",312:"1.3",125:"1.2",85:"1.0"}[parseInt(c.safari,10)]||c.safari}}}else if(c.msie||c.trident){if(!c.opera){c.ie=c.msie||c.rv}delete c.msie;delete c.android;if(c.windows_phone_os){c.windows_phone=c.windows_phone_os;delete c.windows_phone_os}else if(c.mobile==="wpdesktop"||c.mobile==="xblwp7"||c.mobile==="zunewp7"){c.mobile="windows desktop";c.windows_phone=+c.ie<9?"7.0":+c.ie<10?"7.5":"8.0";delete c.windows_nt}}else if(c.gecko||c.firefox){c.gecko=c.rv}if(c.rv){delete c.rv}if(c.version){delete c.version}return c},format:function(a){function b(a,b){a=a.split(".").join("-");var c=d+a;if(typeof b==="string"){b=b.split(" ").join("_").split(".").join("-");var e=b.indexOf("-");while(e>0){c+=d+a+"-"+b.substring(0,e);e=b.indexOf("-",e+1)}c+=d+a+"-"+b}return c}var c="";for(var e in a){if(e&&a.hasOwnProperty(e)){c+=b(e,a[e])}}return c},encode:function(a){var b="";for(var c in a){if(c&&a.hasOwnProperty(c)){if(b){b+="&"}b+=encodeURIComponent(c)+"="+encodeURIComponent(a[c])}}return b}};m.userAgent=m.ua=m.parse(b,c);var n=m.format(m.ua)+" js";if(a.className){a.className=a.className.replace(/\bno-js\b/g,"")+n}else{a.className=n.substr(1)}return m}(document.documentElement,navigator.userAgent,navigator.standalone);define("cssua",function(){});define("app/edit/pc/main",["require","jquery","app/common/ur_app","app/common/models/user","queryString","app/util/ur_log","art-dialog/dialog","bowser","app/common/views/header","app/common/views/footer","../common/views/setting","../common/views/preview","../common/views/share","./views/survey","./views/tab","./views/sidebar","./views/question_lib","app/common/models/edit_survey","app/common/views/subheader","app/util/report_survey_template","app/util/report_create_platform","cssua"],function(a){"use strict";var b=a("jquery");var c=a("app/common/ur_app");var d=a("app/common/models/user");var e=a("queryString");a("app/util/ur_log");var f=a("art-dialog/dialog");var g=a("bowser");var h=a("app/common/views/header");var i=a("app/common/views/footer");var j=a("../common/views/setting");var k=a("../common/views/preview");var l=a("../common/views/share");var m=a("./views/survey");var n=a("./views/tab");var o=a("./views/sidebar");var p=a("./views/question_lib");var q=a("app/common/models/edit_survey");var r=a("app/common/views/subheader");var s=a("app/util/report_survey_template");var t=a("app/util/report_create_platform");a("cssua");var u=new c({needLogin:true});var v=e.parse(location.search);var w=v.sid;var x=v.tid;var y=v.prev_oper;var z=function(){h.render(d.name,d.avatar);i.render();var a=new q(w,x);window.MODEL=a;a.on("dataLoaded",function(){if(a.get("survey.pc")===true){window.location.replace("text_editor.html?sid="+a.get("survey.id"))}var c;var d;new n(a);new r({id:a.get("survey.id"),current:"edit",model:a});c=new j(a);d=new m(a,c);new p({surveyModel:a,parentView:d});new o({surveyModel:a,surveyView:d});new k(a);if(y&&y=="copy"){var e=f({skin:"saving-tip error",align:"bottom",zIndex:999999,content:"",autofocus:false});setTimeout(function(){e.remove()},1e4);e.show(b("#header")[0])}});a.on("readOnly",function(b){var c=new k(a);new l({surveyModel:a});c.readOnly({user_id:b.data.user_id})});a.on("hasLocalSurvey",function(){a.exec("useLocalSurvey")});a.on("surveyCreated",function(a){if(window.history&&history.replaceState){history.replaceState(null,null,"?sid="+a)}t("pc")});if(x){s(x,"pc")}A()};var A=function(){b(".g_survey").on("click",".question .inputs",false)};u.on("start",z)});require(["app/edit/pc/main"]);